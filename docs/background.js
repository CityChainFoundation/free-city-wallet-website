/*! For license information please see background.js.LICENSE.txt */
(()=>{var __webpack_modules__={7235:(e,t,r)=>{"use strict";var n=r(8764).Buffer,i=r(9656),o=r(9569),s=r(3061);function a(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var u=a(i);const h="Expected Private",f="Expected Point",c="Expected Tweak",l="Expected Signature",d="Expected Extra Data (32 bytes)",p="Expected Scalar";u.utils.hmacSha256Sync=(e,...t)=>o.hmac(s.sha256,e,u.utils.concatBytes(...t)),u.utils.sha256Sync=(...e)=>s.sha256(u.utils.concatBytes(...e));const y=u.utils._normalizePrivateKey,m=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65]),g=new Uint8Array(32),b=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,69,81,35,25,80,183,95,196,64,45,161,114,47,201,186,238]);function w(e,t){for(let r=0;r<32;++r)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function v(e){return 0===w(e,g)}function _(e){return e instanceof Uint8Array&&32===e.length&&!(w(e,m)>=0)}function E(e){return e instanceof Uint8Array&&64===e.length&&w(e.subarray(0,32),m)<0&&w(e.subarray(32,64),m)<0}function S(e){return e instanceof Uint8Array&&32===e.length}function M(e){return void 0===e||e instanceof Uint8Array&&32===e.length}function A(e){if("string"!=typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function k(e){let t;if("bigint"==typeof e)t=e;else if("number"==typeof e&&Number.isSafeInteger(e)&&e>=0)t=BigInt(e);else if("string"==typeof e){if(64!==e.length)throw new Error("Expected 32 bytes of private scalar");t=A(e)}else{if(!(e instanceof Uint8Array))throw new TypeError("Expected valid private scalar");if(32!==e.length)throw new Error("Expected 32 bytes of private scalar");r=e,t=A(u.utils.bytesToHex(r))}var r;if(t<0)throw new Error("Expected private scalar >= 0");return t}const x=(e,t,r)=>{const n=u.Point.fromHex(e),i=k(t),o=u.Point.BASE.multiplyAndAddUnsafe(n,i,BigInt(1));if(!o)throw new Error("Tweaked point at infinity");return o.toRawBytes(r)};function T(e,t){return void 0===e?void 0===t||O(t):!!e}function P(e){try{return e()}catch(e){return null}}function I(e,t){if(32===e.length!==t)return!1;try{return!!u.Point.fromHex(e)}catch(e){return!1}}function R(e){return I(e,!1)}function O(e){return I(e,!1)&&33===e.length}function B(e){return u.utils.isValidPrivateKey(e)}function C(e){return I(e,!0)}function L(e){if(!R(e))throw new Error(f);return e.slice(1,33)}function j(e,t){if(!B(e))throw new Error(h);return P((()=>u.getPublicKey(e,T(t))))}t.isPoint=R,t.isPointCompressed=O,t.isPrivate=B,t.isXOnlyPoint=C,t.pointAdd=function(e,t,r){if(!R(e)||!R(t))throw new Error(f);return P((()=>{const n=u.Point.fromHex(e),i=u.Point.fromHex(t);return n.equals(i.negate())?null:n.add(i).toRawBytes(T(r,e))}))},t.pointAddScalar=function(e,t,r){if(!R(e))throw new Error(f);if(!_(t))throw new Error(c);return P((()=>x(e,t,T(r,e))))},t.pointCompress=function(e,t){if(!R(e))throw new Error(f);return u.Point.fromHex(e).toRawBytes(T(t,e))},t.pointFromScalar=j,t.pointMultiply=function(e,t,r){if(!R(e))throw new Error(f);if(!_(t))throw new Error(c);return P((()=>((e,t,r)=>{const n=u.Point.fromHex(e),i="string"==typeof t?t:u.utils.bytesToHex(t),o=BigInt(`0x${i}`);return n.multiply(o).toRawBytes(r)})(e,t,T(r,e))))},t.privateAdd=function(e,t){if(!1===B(e))throw new Error(h);if(!1===_(t))throw new Error(c);return P((()=>((e,t)=>{const r=y(e),n=k(t),i=u.utils._bigintTo32Bytes(u.utils.mod(r+n,u.CURVE.n));return u.utils.isValidPrivateKey(i)?i:null})(e,t)))},t.privateNegate=function(e){if(!1===B(e))throw new Error(h);return(e=>{const t=y(e),r=u.utils._bigintTo32Bytes(u.CURVE.n-t);return u.utils.isValidPrivateKey(r)?r:null})(e)},t.privateSub=function(e,t){if(!1===B(e))throw new Error(h);if(!1===_(t))throw new Error(c);return P((()=>((e,t)=>{const r=y(e),n=k(t),i=u.utils._bigintTo32Bytes(u.utils.mod(r-n,u.CURVE.n));return u.utils.isValidPrivateKey(i)?i:null})(e,t)))},t.recover=function(e,t,r,n){if(!S(e))throw new Error("Expected Hash");if(!E(t)||!function(e){return!(v(e.subarray(0,32))||v(e.subarray(32,64)))}(t))throw new Error(l);if(2&r&&!function(e){return e instanceof Uint8Array&&64===e.length&&w(e.subarray(0,32),b)<0}(t))throw new Error("Bad Recovery Id");if(!C(t.subarray(0,32)))throw new Error(l);return u.recoverPublicKey(e,t,r,T(n))},t.sign=function(e,t,r){if(!B(t))throw new Error(h);if(!S(e))throw new Error(p);if(!M(r))throw new Error(d);return u.signSync(e,t,{der:!1,extraEntropy:r})},t.signRecoverable=function(e,t,r){if(!B(t))throw new Error(h);if(!S(e))throw new Error(p);if(!M(r))throw new Error(d);const[n,i]=u.signSync(e,t,{der:!1,extraEntropy:r,recovered:!0});return{signature:n,recoveryId:i}},t.signSchnorr=function(e,t,r=n.alloc(32,0)){if(!B(t))throw new Error(h);if(!S(e))throw new Error(p);if(!M(r))throw new Error(d);return u.schnorr.signSync(e,t,r)},t.verify=function(e,t,r,n){if(!R(t))throw new Error(f);if(!E(r))throw new Error(l);if(!S(e))throw new Error(p);return u.verify(r,e,t,{strict:n})},t.verifySchnorr=function(e,t,r){if(!C(t))throw new Error(f);if(!E(r))throw new Error(l);if(!S(e))throw new Error(p);return u.schnorr.verifySync(r,e,t)},t.xOnlyPointAddTweak=function(e,t){if(!C(e))throw new Error(f);if(!_(t))throw new Error(c);return P((()=>{const r=x(e,t,!0);return{parity:r[0]%2==1?1:0,xOnlyPubkey:r.slice(1)}}))},t.xOnlyPointFromPoint=L,t.xOnlyPointFromScalar=function(e){if(!B(e))throw new Error(h);return L(j(e))}},784:(e,t,r)=>{"use strict";var n=r(7191);e.exports=function(e){function t(t){var r=t.slice(0,-4),n=t.slice(-4),i=e(r);if(!(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3]))return r}return{encode:function(t){var r=Uint8Array.from(t),i=e(r),o=r.length+4,s=new Uint8Array(o);return s.set(r,0),s.set(i.subarray(0,4),r.length),n.encode(s,o)},decode:function(e){var r=t(n.decode(e));if(!r)throw new Error("Invalid checksum");return r},decodeUnsafe:function(e){var r=n.decodeUnsafe(e);if(r)return t(r)}}}},1330:(e,t,r)=>{"use strict";var{sha256:n}=r(3061),i=r(784);e.exports=i((function(e){return n(n(e))}))},9428:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.toOutputScript=t.fromOutputScript=t.toBech32=t.toBase58Check=t.fromBech32=t.fromBase58Check=void 0;const i=r(5127),o=r(8060),s=r(7755),a=r(6391),u=r(7715),h=r(1330),f="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function c(e){const t=n.from(h.decode(e));if(t.length<21)throw new TypeError(e+" is too short");if(t.length>21)throw new TypeError(e+" is too long");return{version:t.readUint8(0),hash:t.slice(1)}}function l(e){let t,r;try{t=u.bech32.decode(e)}catch(e){}if(t){if(r=t.words[0],0!==r)throw new TypeError(e+" uses wrong encoding")}else if(t=u.bech32m.decode(e),r=t.words[0],0===r)throw new TypeError(e+" uses wrong encoding");const i=u.bech32.fromWords(t.words.slice(1));return{version:r,prefix:t.prefix,data:n.from(i)}}function d(e,t,r){const n=u.bech32.toWords(e);return n.unshift(t),0===t?u.bech32.encode(r,n):u.bech32m.encode(r,n)}t.fromBase58Check=c,t.fromBech32=l,t.toBase58Check=function(e,t){(0,a.typeforce)((0,a.tuple)(a.Hash160bit,a.UInt8),arguments);const r=n.allocUnsafe(21);return r.writeUInt8(t,0),e.copy(r,1),h.encode(r)},t.toBech32=d,t.fromOutputScript=function(e,t){t=t||i.bitcoin;try{return o.p2pkh({output:e,network:t}).address}catch(e){}try{return o.p2sh({output:e,network:t}).address}catch(e){}try{return o.p2wpkh({output:e,network:t}).address}catch(e){}try{return o.p2wsh({output:e,network:t}).address}catch(e){}try{return o.p2tr({output:e,network:t}).address}catch(e){}try{return function(e,t){const r=e.slice(2);if(r.length<2||r.length>40)throw new TypeError("Invalid program length for segwit address");const n=e[0]-80;if(n<2||n>16)throw new TypeError("Invalid version for segwit address");if(e[1]!==r.length)throw new TypeError("Invalid script for segwit address");return console.warn(f),d(r,n,t.bech32)}(e,t)}catch(e){}throw new Error(s.toASM(e)+" has no matching Address")},t.toOutputScript=function(e,t){let r,n;t=t||i.bitcoin;try{r=c(e)}catch(e){}if(r){if(r.version===t.pubKeyHash)return o.p2pkh({hash:r.hash}).output;if(r.version===t.scriptHash)return o.p2sh({hash:r.hash}).output}else{try{n=l(e)}catch(e){}if(n){if(n.prefix!==t.bech32)throw new Error(e+" has an invalid prefix");if(0===n.version){if(20===n.data.length)return o.p2wpkh({hash:n.data}).output;if(32===n.data.length)return o.p2wsh({hash:n.data}).output}else if(1===n.version){if(32===n.data.length)return o.p2tr({pubkey:n.data}).output}else if(n.version>=2&&n.version<=16&&n.data.length>=2&&n.data.length<=40)return console.warn(f),s.compile([n.version+80,n.data])}}throw new Error(e+" has no matching Script")}},9392:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=t.check=void 0,t.check=function(e){if(e.length<8)return!1;if(e.length>72)return!1;if(48!==e[0])return!1;if(e[1]!==e.length-2)return!1;if(2!==e[2])return!1;const t=e[3];if(0===t)return!1;if(5+t>=e.length)return!1;if(2!==e[4+t])return!1;const r=e[5+t];return!(0===r||6+t+r!==e.length||128&e[4]||t>1&&0===e[4]&&!(128&e[5])||128&e[t+6]||r>1&&0===e[t+6]&&!(128&e[t+7]))},t.decode=function(e){if(e.length<8)throw new Error("DER sequence length is too short");if(e.length>72)throw new Error("DER sequence length is too long");if(48!==e[0])throw new Error("Expected DER sequence");if(e[1]!==e.length-2)throw new Error("DER sequence length is invalid");if(2!==e[2])throw new Error("Expected DER integer");const t=e[3];if(0===t)throw new Error("R length is zero");if(5+t>=e.length)throw new Error("R length is too long");if(2!==e[4+t])throw new Error("Expected DER integer (2)");const r=e[5+t];if(0===r)throw new Error("S length is zero");if(6+t+r!==e.length)throw new Error("S length is invalid");if(128&e[4])throw new Error("R value is negative");if(t>1&&0===e[4]&&!(128&e[5]))throw new Error("R value excessively padded");if(128&e[t+6])throw new Error("S value is negative");if(r>1&&0===e[t+6]&&!(128&e[t+7]))throw new Error("S value excessively padded");return{r:e.slice(4,4+t),s:e.slice(6+t)}},t.encode=function(e,t){const r=e.length,i=t.length;if(0===r)throw new Error("R length is zero");if(0===i)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(i>33)throw new Error("S length is too long");if(128&e[0])throw new Error("R value is negative");if(128&t[0])throw new Error("S value is negative");if(r>1&&0===e[0]&&!(128&e[1]))throw new Error("R value excessively padded");if(i>1&&0===t[0]&&!(128&t[1]))throw new Error("S value excessively padded");const o=n.allocUnsafe(6+r+i);return o[0]=48,o[1]=o.length-2,o[2]=2,o[3]=e.length,e.copy(o,4),o[4+r]=2,o[5+r]=t.length,t.copy(o,6+r),o}},2393:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Block=void 0;const i=r(939),o=r(4289),s=r(3140),a=r(5622),u=r(42),h=r(6391),{typeforce:f}=h,c=new TypeError("Cannot compute merkle root for zero transactions"),l=new TypeError("Cannot compute witness commit for non-segwit block");class d{constructor(){this.blockSig=void 0,this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(e,t=i.networks.bitcoin){if(e.length<80)throw new Error("Buffer too small (< 80 bytes)");const r=new o.BufferReader(e),n=new d;if(n.version=r.readInt32(),n.prevHash=r.readSlice(32),n.merkleRoot=r.readSlice(32),n.timestamp=r.readUInt32(),n.bits=r.readUInt32(),n.nonce=r.readUInt32(),80===e.length)return n;const s=()=>{const e=u.Transaction.fromBuffer(r.buffer.slice(r.offset),!0,t);return r.offset+=e.byteLength(),e},a=r.readVarInt();n.transactions=[];for(let e=0;e<a;++e){const e=s();n.transactions.push(e)}const h=n.getWitnessCommit();if(h&&(n.witnessCommit=h),n.blockSig=void 0,r.offset<e.length){const e=r.readVarInt();n.blockSig=r.readSlice(e)}return n}static fromHex(e,t=i.networks.bitcoin){return d.fromBuffer(n.from(e,"hex"),t)}static calculateTarget(e){const t=((4278190080&e)>>24)-3,r=8388607&e,i=n.alloc(32,0);return i.writeUIntBE(r,29-t,3),i}static calculateMerkleRoot(e,t){if(f([{getHash:h.Function}],e),0===e.length)throw c;if(t&&!p(e))throw l;const r=e.map((e=>e.getHash(t))),i=(0,a.fastMerkleRoot)(r,s.hash256);return t?s.hash256(n.concat([i,e[0].ins[0].witness[0]])):i}getWitnessCommit(){if(!p(this.transactions))return null;const e=this.transactions[0].outs.filter((e=>e.script.slice(0,6).equals(n.from("6a24aa21a9ed","hex")))).map((e=>e.script.slice(6,38)));if(0===e.length)return null;const t=e[e.length-1];return t instanceof n&&32===t.length?t:null}hasWitnessCommit(){return this.witnessCommit instanceof n&&32===this.witnessCommit.length||null!==this.getWitnessCommit()}hasWitness(){return(e=this.transactions)instanceof Array&&e.some((e=>"object"==typeof e&&e.ins instanceof Array&&e.ins.some((e=>"object"==typeof e&&e.witness instanceof Array&&e.witness.length>0))));var e}weight(){return 3*this.byteLength(!1,!1)+this.byteLength(!1,!0)}byteLength(e,t=!0){return e||!this.transactions?80:80+(null!=this.blockSig?this.blockSig.length+1:0)+o.varuint.encodingLength(this.transactions.length)+this.transactions.reduce(((e,r)=>e+r.byteLength(t)),0)}getHash(){return s.hash256(this.toBuffer(!0))}getId(){return(0,o.reverseBuffer)(this.getHash()).toString("hex")}getUTCDate(){const e=new Date(0);return e.setUTCSeconds(this.timestamp),e}toBuffer(e){const t=n.allocUnsafe(this.byteLength(e)),r=new o.BufferWriter(t);return r.writeInt32(this.version),r.writeSlice(this.prevHash),r.writeSlice(this.merkleRoot),r.writeUInt32(this.timestamp),r.writeUInt32(this.bits),r.writeUInt32(this.nonce),e||!this.transactions||(o.varuint.encode(this.transactions.length,t,r.offset),r.offset+=o.varuint.encode.bytes,this.transactions.forEach((e=>{const n=e.byteLength();e.toBuffer(t,r.offset),r.offset+=n})),this.blockSig&&(r.writeVarInt(this.blockSig.length),r.writeSlice(this.blockSig))),t}toHex(e){return this.toBuffer(e).toString("hex")}checkTxRoots(){const e=this.hasWitnessCommit();return!(!e&&this.hasWitness())&&this.__checkMerkleRoot()&&(!e||this.__checkWitnessCommit())}checkProofOfWork(){const e=(0,o.reverseBuffer)(this.getHash()),t=d.calculateTarget(this.bits);return e.compare(t)<=0}__checkMerkleRoot(){if(!this.transactions)throw c;const e=d.calculateMerkleRoot(this.transactions);return 0===this.merkleRoot.compare(e)}__checkWitnessCommit(){if(!this.transactions)throw c;if(!this.hasWitnessCommit())throw l;const e=d.calculateMerkleRoot(this.transactions,!0);return 0===this.witnessCommit.compare(e)}}function p(e){return e instanceof Array&&e[0]&&e[0].ins&&e[0].ins instanceof Array&&e[0].ins[0]&&e[0].ins[0].witness&&e[0].ins[0].witness instanceof Array&&e[0].ins[0].witness.length>0}t.Block=d},4289:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.BufferReader=t.BufferWriter=t.cloneBuffer=t.reverseBuffer=t.writeUInt64LE=t.readUInt64LE=t.varuint=void 0;const i=r(6391),{typeforce:o}=i,s=r(7795);function a(e,t){if("number"!=typeof e)throw new Error("cannot write a non-number as a number");if(e<0)throw new Error("specified a negative value for writing an unsigned value");if(e>t)throw new Error("RangeError: value out of range");if(Math.floor(e)!==e)throw new Error("value has a fractional component")}function u(e,t){const r=e.readUInt32LE(t);let n=e.readUInt32LE(t+4);return n*=4294967296,a(n+r,9007199254740991),n+r}function h(e,t,r){return a(t,9007199254740991),e.writeInt32LE(-1&t,r),e.writeUInt32LE(Math.floor(t/4294967296),r+4),r+8}t.varuint=s,t.readUInt64LE=u,t.writeUInt64LE=h,t.reverseBuffer=function(e){if(e.length<1)return e;let t=e.length-1,r=0;for(let n=0;n<e.length/2;n++)r=e[n],e[n]=e[t],e[t]=r,t--;return e},t.cloneBuffer=function(e){const t=n.allocUnsafe(e.length);return e.copy(t),t};class f{static withCapacity(e){return new f(n.alloc(e))}constructor(e,t=0){this.buffer=e,this.offset=t,o(i.tuple(i.Buffer,i.UInt32),[e,t])}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=h(this.buffer,e,this.offset)}writeVarInt(e){s.encode(e,this.buffer,this.offset),this.offset+=s.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach((e=>this.writeVarSlice(e)))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}}t.BufferWriter=f,t.BufferReader=class{constructor(e,t=0){this.buffer=e,this.offset=t,o(i.tuple(i.Buffer,i.UInt32),[e,t])}readUInt8(){const e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){const e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){const e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){const e=u(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){const e=s.decode(this.buffer,this.offset);return this.offset+=s.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");const t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){const e=this.readVarInt(),t=[];for(let r=0;r<e;r++)t.push(this.readVarSlice());return t}}},3140:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.taggedHash=t.TAGGED_HASH_PREFIXES=t.TAGS=t.hash256=t.hash160=t.sha256=t.sha1=t.ripemd160=void 0;const i=r(830),o=r(3963),s=r(3061);function a(e){return n.from((0,s.sha256)(Uint8Array.from(e)))}t.ripemd160=function(e){return n.from((0,i.ripemd160)(Uint8Array.from(e)))},t.sha1=function(e){return n.from((0,o.sha1)(Uint8Array.from(e)))},t.sha256=a,t.hash160=function(e){return n.from((0,i.ripemd160)((0,s.sha256)(Uint8Array.from(e))))},t.hash256=function(e){return n.from((0,s.sha256)((0,s.sha256)(Uint8Array.from(e))))},t.TAGS=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"],t.TAGGED_HASH_PREFIXES={"BIP0340/challenge":n.from([123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124,123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124]),"BIP0340/aux":n.from([241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144,241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144]),"BIP0340/nonce":n.from([7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47,7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47]),TapLeaf:n.from([174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238,174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238]),TapBranch:n.from([25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21,25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21]),TapSighash:n.from([244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49,244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49]),TapTweak:n.from([232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233,232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233]),"KeyAgg list":n.from([72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240,72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240]),"KeyAgg coefficient":n.from([191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129,191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129])},t.taggedHash=function(e,r){return a(n.concat([t.TAGGED_HASH_PREFIXES[e],r]))}},5811:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.getEccLib=t.initEccLib=void 0;const i={};t.initEccLib=function(e){var t;e?e!==i.eccLib&&(s("function"==typeof(t=e).isXOnlyPoint),s(t.isXOnlyPoint(o("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),s(t.isXOnlyPoint(o("fffffffffffffffffffffffffffffffffffffffffffffffffffffffeeffffc2e"))),s(t.isXOnlyPoint(o("f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9"))),s(t.isXOnlyPoint(o("0000000000000000000000000000000000000000000000000000000000000001"))),s(!t.isXOnlyPoint(o("0000000000000000000000000000000000000000000000000000000000000000"))),s(!t.isXOnlyPoint(o("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"))),s("function"==typeof t.xOnlyPointAddTweak),a.forEach((e=>{const r=t.xOnlyPointAddTweak(o(e.pubkey),o(e.tweak));null===e.result?s(null===r):(s(null!==r),s(r.parity===e.parity),s(n.from(r.xOnlyPubkey).equals(o(e.result))))})),i.eccLib=e):i.eccLib=e},t.getEccLib=function(){if(!i.eccLib)throw new Error("No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance");return i.eccLib};const o=e=>n.from(e,"hex");function s(e){if(!e)throw new Error("ecc library invalid")}const a=[{pubkey:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",tweak:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",parity:-1,result:null},{pubkey:"1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b",tweak:"a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac",parity:1,result:"e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"},{pubkey:"2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991",tweak:"823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47",parity:0,result:"9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"}]},939:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initEccLib=t.Transaction=t.opcodes=t.Psbt=t.Block=t.script=t.payments=t.networks=t.crypto=t.address=void 0;const n=r(9428);t.address=n;const i=r(3140);t.crypto=i;const o=r(5127);t.networks=o;const s=r(8060);t.payments=s;const a=r(7755);t.script=a;var u=r(2393);Object.defineProperty(t,"Block",{enumerable:!0,get:function(){return u.Block}});var h=r(1524);Object.defineProperty(t,"Psbt",{enumerable:!0,get:function(){return h.Psbt}});var f=r(1987);Object.defineProperty(t,"opcodes",{enumerable:!0,get:function(){return f.OPS}});var c=r(42);Object.defineProperty(t,"Transaction",{enumerable:!0,get:function(){return c.Transaction}});var l=r(5811);Object.defineProperty(t,"initEccLib",{enumerable:!0,get:function(){return l.initEccLib}})},5622:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.fastMerkleRoot=void 0,t.fastMerkleRoot=function(e,t){if(!Array.isArray(e))throw TypeError("Expected values Array");if("function"!=typeof t)throw TypeError("Expected digest Function");let r=e.length;const i=e.concat();for(;r>1;){let e=0;for(let o=0;o<r;o+=2,++e){const s=i[o],a=o+1===r?s:i[o+1],u=n.concat([s,a]);i[e]=t(u)}r=e}return i[0]}},5127:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.testnet=t.regtest=t.bitcoin=void 0,t.bitcoin={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},t.regtest={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239},t.testnet={messagePrefix:"Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}},1987:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REVERSE_OPS=t.OPS=void 0;const r={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};t.OPS=r;const n={};t.REVERSE_OPS=n;for(const e of Object.keys(r))n[r[e]]=e},6338:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tweakKey=t.tapTweakHash=t.tapleafHash=t.findScriptPath=t.toHashTree=t.rootHashFromPath=t.MAX_TAPTREE_DEPTH=t.LEAF_VERSION_TAPSCRIPT=void 0;const n=r(8764),i=r(5811),o=r(3140),s=r(4289),a=r(6391);function u(e){const r=e.version||t.LEAF_VERSION_TAPSCRIPT;return o.taggedHash("TapLeaf",n.Buffer.concat([n.Buffer.from([r]),c(e.output)]))}function h(e,t){return o.taggedHash("TapTweak",n.Buffer.concat(t?[e,t]:[e]))}function f(e,t){return o.taggedHash("TapBranch",n.Buffer.concat([e,t]))}function c(e){const t=s.varuint.encodingLength(e.length),r=n.Buffer.allocUnsafe(t);return s.varuint.encode(e.length,r),n.Buffer.concat([r,e])}t.LEAF_VERSION_TAPSCRIPT=192,t.MAX_TAPTREE_DEPTH=128,t.rootHashFromPath=function(e,t){if(e.length<33)throw new TypeError(`The control-block length is too small. Got ${e.length}, expected min 33.`);const r=(e.length-33)/32;let n=t;for(let t=0;t<r;t++){const r=e.slice(33+32*t,65+32*t);n=n.compare(r)<0?f(n,r):f(r,n)}return n},t.toHashTree=function e(t){if((0,a.isTapleaf)(t))return{hash:u(t)};const r=[e(t[0]),e(t[1])];r.sort(((e,t)=>e.hash.compare(t.hash)));const[n,i]=r;return{hash:f(n.hash,i.hash),left:n,right:i}},t.findScriptPath=function e(t,r){if("left"in(n=t)&&"right"in n){const n=e(t.left,r);if(void 0!==n)return[...n,t.right.hash];const i=e(t.right,r);if(void 0!==i)return[...i,t.left.hash]}else if(t.hash.equals(r))return[];var n},t.tapleafHash=u,t.tapTweakHash=h,t.tweakKey=function(e,t){if(!n.Buffer.isBuffer(e))return null;if(32!==e.length)return null;if(t&&32!==t.length)return null;const r=h(e,t),o=(0,i.getEccLib)().xOnlyPointAddTweak(e,r);return o&&null!==o.xOnlyPubkey?{parity:o.parity,x:n.Buffer.from(o.xOnlyPubkey)}:null}},4491:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2data=void 0;const n=r(5127),i=r(7755),o=r(6391),s=r(1514),a=i.OPS;t.p2data=function(e,t){if(!e.data&&!e.output)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),output:o.typeforce.maybe(o.typeforce.Buffer),data:o.typeforce.maybe(o.typeforce.arrayOf(o.typeforce.Buffer))},e);const r={name:"embed",network:e.network||n.bitcoin};if(s.prop(r,"output",(()=>{if(e.data)return i.compile([a.OP_RETURN].concat(e.data))})),s.prop(r,"data",(()=>{if(e.output)return i.decompile(e.output).slice(1)})),t.validate&&e.output){const t=i.decompile(e.output);if(t[0]!==a.OP_RETURN)throw new TypeError("Output is invalid");if(!t.slice(1).every(o.typeforce.Buffer))throw new TypeError("Output is invalid");if(e.data&&!function(e,t){return e.length===t.length&&e.every(((e,r)=>e.equals(t[r])))}(e.data,r.data))throw new TypeError("Data mismatch")}return Object.assign(r,e)}},8060:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2tr=t.p2wsh=t.p2wpkh=t.p2sh=t.p2pkh=t.p2pk=t.p2ms=t.embed=void 0;const n=r(4491);Object.defineProperty(t,"embed",{enumerable:!0,get:function(){return n.p2data}});const i=r(5279);Object.defineProperty(t,"p2ms",{enumerable:!0,get:function(){return i.p2ms}});const o=r(3372);Object.defineProperty(t,"p2pk",{enumerable:!0,get:function(){return o.p2pk}});const s=r(4542);Object.defineProperty(t,"p2pkh",{enumerable:!0,get:function(){return s.p2pkh}});const a=r(1633);Object.defineProperty(t,"p2sh",{enumerable:!0,get:function(){return a.p2sh}});const u=r(7292);Object.defineProperty(t,"p2wpkh",{enumerable:!0,get:function(){return u.p2wpkh}});const h=r(3047);Object.defineProperty(t,"p2wsh",{enumerable:!0,get:function(){return h.p2wsh}});const f=r(579);Object.defineProperty(t,"p2tr",{enumerable:!0,get:function(){return f.p2tr}})},1514:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.value=t.prop=void 0,t.prop=function(e,t,r){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){const e=r.call(this);return this[t]=e,e},set(e){Object.defineProperty(this,t,{configurable:!0,enumerable:!0,value:e,writable:!0})}})},t.value=function(e){let t;return()=>(void 0!==t||(t=e()),t)}},5279:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2ms=void 0;const n=r(5127),i=r(7755),o=r(6391),s=r(1514),a=i.OPS,u=a.OP_RESERVED;function h(e,t){return e.length===t.length&&e.every(((e,r)=>e.equals(t[r])))}t.p2ms=function(e,t){if(!(e.input||e.output||e.pubkeys&&void 0!==e.m||e.signatures))throw new TypeError("Not enough data");function r(e){return i.isCanonicalScriptSignature(e)||void 0!==(t.allowIncomplete&&e===a.OP_0)}t=Object.assign({validate:!0},t||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),m:o.typeforce.maybe(o.typeforce.Number),n:o.typeforce.maybe(o.typeforce.Number),output:o.typeforce.maybe(o.typeforce.Buffer),pubkeys:o.typeforce.maybe(o.typeforce.arrayOf(o.isPoint)),signatures:o.typeforce.maybe(o.typeforce.arrayOf(r)),input:o.typeforce.maybe(o.typeforce.Buffer)},e);const f={network:e.network||n.bitcoin};let c=[],l=!1;function d(e){l||(l=!0,c=i.decompile(e),f.m=c[0]-u,f.n=c[c.length-2]-u,f.pubkeys=c.slice(1,-2))}if(s.prop(f,"output",(()=>{if(e.m&&f.n&&e.pubkeys)return i.compile([].concat(u+e.m,e.pubkeys,u+f.n,a.OP_CHECKMULTISIG))})),s.prop(f,"m",(()=>{if(f.output)return d(f.output),f.m})),s.prop(f,"n",(()=>{if(f.pubkeys)return f.pubkeys.length})),s.prop(f,"pubkeys",(()=>{if(e.output)return d(e.output),f.pubkeys})),s.prop(f,"signatures",(()=>{if(e.input)return i.decompile(e.input).slice(1)})),s.prop(f,"input",(()=>{if(e.signatures)return i.compile([a.OP_0].concat(e.signatures))})),s.prop(f,"witness",(()=>{if(f.input)return[]})),s.prop(f,"name",(()=>{if(f.m&&f.n)return`p2ms(${f.m} of ${f.n})`})),t.validate){if(e.output){if(d(e.output),!o.typeforce.Number(c[0]))throw new TypeError("Output is invalid");if(!o.typeforce.Number(c[c.length-2]))throw new TypeError("Output is invalid");if(c[c.length-1]!==a.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(f.m<=0||f.n>16||f.m>f.n||f.n!==c.length-3)throw new TypeError("Output is invalid");if(!f.pubkeys.every((e=>(0,o.isPoint)(e))))throw new TypeError("Output is invalid");if(void 0!==e.m&&e.m!==f.m)throw new TypeError("m mismatch");if(void 0!==e.n&&e.n!==f.n)throw new TypeError("n mismatch");if(e.pubkeys&&!h(e.pubkeys,f.pubkeys))throw new TypeError("Pubkeys mismatch")}if(e.pubkeys){if(void 0!==e.n&&e.n!==e.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(f.n=e.pubkeys.length,f.n<f.m)throw new TypeError("Pubkey count cannot be less than m")}if(e.signatures){if(e.signatures.length<f.m)throw new TypeError("Not enough signatures provided");if(e.signatures.length>f.m)throw new TypeError("Too many signatures provided")}if(e.input){if(e.input[0]!==a.OP_0)throw new TypeError("Input is invalid");if(0===f.signatures.length||!f.signatures.every(r))throw new TypeError("Input has invalid signature(s)");if(e.signatures&&!h(e.signatures,f.signatures))throw new TypeError("Signature mismatch");if(void 0!==e.m&&e.m!==e.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(f,e)}},3372:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2pk=void 0;const n=r(5127),i=r(7755),o=r(6391),s=r(1514),a=i.OPS;t.p2pk=function(e,t){if(!(e.input||e.output||e.pubkey||e.input||e.signature))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),output:o.typeforce.maybe(o.typeforce.Buffer),pubkey:o.typeforce.maybe(o.isPoint),signature:o.typeforce.maybe(i.isCanonicalScriptSignature),input:o.typeforce.maybe(o.typeforce.Buffer)},e);const r=s.value((()=>i.decompile(e.input))),u={name:"p2pk",network:e.network||n.bitcoin};if(s.prop(u,"output",(()=>{if(e.pubkey)return i.compile([e.pubkey,a.OP_CHECKSIG])})),s.prop(u,"pubkey",(()=>{if(e.output)return e.output.slice(1,-1)})),s.prop(u,"signature",(()=>{if(e.input)return r()[0]})),s.prop(u,"input",(()=>{if(e.signature)return i.compile([e.signature])})),s.prop(u,"witness",(()=>{if(u.input)return[]})),t.validate){if(e.output){if(e.output[e.output.length-1]!==a.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,o.isPoint)(u.pubkey))throw new TypeError("Output pubkey is invalid");if(e.pubkey&&!e.pubkey.equals(u.pubkey))throw new TypeError("Pubkey mismatch")}if(e.signature&&e.input&&!e.input.equals(u.input))throw new TypeError("Signature mismatch");if(e.input){if(1!==r().length)throw new TypeError("Input is invalid");if(!i.isCanonicalScriptSignature(u.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(u,e)}},4542:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2pkh=void 0;const i=r(3140),o=r(5127),s=r(7755),a=r(6391),u=r(1514),h=r(1330),f=s.OPS;t.p2pkh=function(e,t){if(!(e.address||e.hash||e.output||e.pubkey||e.input))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,a.typeforce)({network:a.typeforce.maybe(a.typeforce.Object),address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(20)),output:a.typeforce.maybe(a.typeforce.BufferN(25)),pubkey:a.typeforce.maybe(a.isPoint),signature:a.typeforce.maybe(s.isCanonicalScriptSignature),input:a.typeforce.maybe(a.typeforce.Buffer)},e);const r=u.value((()=>{const t=n.from(h.decode(e.address));return{version:t.readUInt8(0),hash:t.slice(1)}})),c=u.value((()=>s.decompile(e.input))),l=e.network||o.bitcoin,d={name:"p2pkh",network:l};if(u.prop(d,"address",(()=>{if(!d.hash)return;const e=n.allocUnsafe(21);return e.writeUInt8(l.pubKeyHash,0),d.hash.copy(e,1),h.encode(e)})),u.prop(d,"hash",(()=>e.output?e.output.slice(3,23):e.address?r().hash:e.pubkey||d.pubkey?i.hash160(e.pubkey||d.pubkey):void 0)),u.prop(d,"output",(()=>{if(d.hash)return s.compile([f.OP_DUP,f.OP_HASH160,d.hash,f.OP_EQUALVERIFY,f.OP_CHECKSIG])})),u.prop(d,"pubkey",(()=>{if(e.input)return c()[1]})),u.prop(d,"signature",(()=>{if(e.input)return c()[0]})),u.prop(d,"input",(()=>{if(e.pubkey&&e.signature)return s.compile([e.signature,e.pubkey])})),u.prop(d,"witness",(()=>{if(d.input)return[]})),t.validate){let t=n.from([]);if(e.address){if(r().version!==l.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(20!==r().hash.length)throw new TypeError("Invalid address");t=r().hash}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(25!==e.output.length||e.output[0]!==f.OP_DUP||e.output[1]!==f.OP_HASH160||20!==e.output[2]||e.output[23]!==f.OP_EQUALVERIFY||e.output[24]!==f.OP_CHECKSIG)throw new TypeError("Output is invalid");const r=e.output.slice(3,23);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");t=r}if(e.pubkey){const r=i.hash160(e.pubkey);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");t=r}if(e.input){const r=c();if(2!==r.length)throw new TypeError("Input is invalid");if(!s.isCanonicalScriptSignature(r[0]))throw new TypeError("Input has invalid signature");if(!(0,a.isPoint)(r[1]))throw new TypeError("Input has invalid pubkey");if(e.signature&&!e.signature.equals(r[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(r[1]))throw new TypeError("Pubkey mismatch");const n=i.hash160(r[1]);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch")}}return Object.assign(d,e)}},1633:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2sh=void 0;const i=r(3140),o=r(5127),s=r(7755),a=r(6391),u=r(1514),h=r(1330),f=s.OPS;t.p2sh=function(e,t){if(!(e.address||e.hash||e.output||e.redeem||e.input))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,a.typeforce)({network:a.typeforce.maybe(a.typeforce.Object),address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(20)),output:a.typeforce.maybe(a.typeforce.BufferN(23)),redeem:a.typeforce.maybe({network:a.typeforce.maybe(a.typeforce.Object),output:a.typeforce.maybe(a.typeforce.Buffer),input:a.typeforce.maybe(a.typeforce.Buffer),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))}),input:a.typeforce.maybe(a.typeforce.Buffer),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))},e);let r=e.network;r||(r=e.redeem&&e.redeem.network||o.bitcoin);const c={network:r},l=u.value((()=>{const t=n.from(h.decode(e.address));return{version:t.readUInt8(0),hash:t.slice(1)}})),d=u.value((()=>s.decompile(e.input))),p=u.value((()=>{const t=d(),i=t[t.length-1];return{network:r,output:i===f.OP_FALSE?n.from([]):i,input:s.compile(t.slice(0,-1)),witness:e.witness||[]}}));if(u.prop(c,"address",(()=>{if(!c.hash)return;const e=n.allocUnsafe(21);return e.writeUInt8(c.network.scriptHash,0),c.hash.copy(e,1),h.encode(e)})),u.prop(c,"hash",(()=>e.output?e.output.slice(2,22):e.address?l().hash:c.redeem&&c.redeem.output?i.hash160(c.redeem.output):void 0)),u.prop(c,"output",(()=>{if(c.hash)return s.compile([f.OP_HASH160,c.hash,f.OP_EQUAL])})),u.prop(c,"redeem",(()=>{if(e.input)return p()})),u.prop(c,"input",(()=>{if(e.redeem&&e.redeem.input&&e.redeem.output)return s.compile([].concat(s.decompile(e.redeem.input),e.redeem.output))})),u.prop(c,"witness",(()=>c.redeem&&c.redeem.witness?c.redeem.witness:c.input?[]:void 0)),u.prop(c,"name",(()=>{const e=["p2sh"];return void 0!==c.redeem&&void 0!==c.redeem.name&&e.push(c.redeem.name),e.join("-")})),t.validate){let t=n.from([]);if(e.address){if(l().version!==r.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(20!==l().hash.length)throw new TypeError("Invalid address");t=l().hash}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(23!==e.output.length||e.output[0]!==f.OP_HASH160||20!==e.output[1]||e.output[22]!==f.OP_EQUAL)throw new TypeError("Output is invalid");const r=e.output.slice(2,22);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");t=r}const o=e=>{if(e.output){const r=s.decompile(e.output);if(!r||r.length<1)throw new TypeError("Redeem.output too short");if(e.output.byteLength>520)throw new TypeError("Redeem.output unspendable if larger than 520 bytes");if(s.countNonPushOnlyOPs(r)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");const n=i.hash160(e.output);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}if(e.input){const t=e.input.length>0,r=e.witness&&e.witness.length>0;if(!t&&!r)throw new TypeError("Empty input");if(t&&r)throw new TypeError("Input and witness provided");if(t){const t=s.decompile(e.input);if(!s.isPushOnly(t))throw new TypeError("Non push-only scriptSig")}}};if(e.input){const e=d();if(!e||e.length<1)throw new TypeError("Input too short");if(!n.isBuffer(p().output))throw new TypeError("Input is invalid");o(p())}if(e.redeem){if(e.redeem.network&&e.redeem.network!==r)throw new TypeError("Network mismatch");if(e.input){const t=p();if(e.redeem.output&&!e.redeem.output.equals(t.output))throw new TypeError("Redeem.output mismatch");if(e.redeem.input&&!e.redeem.input.equals(t.input))throw new TypeError("Redeem.input mismatch")}o(e.redeem)}if(e.witness&&e.redeem&&e.redeem.witness&&!function(e,t){return e.length===t.length&&e.every(((e,r)=>e.equals(t[r])))}(e.redeem.witness,e.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(c,e)}},579:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2tr=void 0;const n=r(8764),i=r(5127),o=r(7755),s=r(6391),a=r(5811),u=r(6338),h=r(1514),f=r(7715),c=o.OPS;t.p2tr=function(e,t){if(!(e.address||e.output||e.pubkey||e.internalPubkey||e.witness&&e.witness.length>1))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,s.typeforce)({address:s.typeforce.maybe(s.typeforce.String),input:s.typeforce.maybe(s.typeforce.BufferN(0)),network:s.typeforce.maybe(s.typeforce.Object),output:s.typeforce.maybe(s.typeforce.BufferN(34)),internalPubkey:s.typeforce.maybe(s.typeforce.BufferN(32)),hash:s.typeforce.maybe(s.typeforce.BufferN(32)),pubkey:s.typeforce.maybe(s.typeforce.BufferN(32)),signature:s.typeforce.maybe(s.typeforce.BufferN(64)),witness:s.typeforce.maybe(s.typeforce.arrayOf(s.typeforce.Buffer)),scriptTree:s.typeforce.maybe(s.isTaptree),redeem:s.typeforce.maybe({output:s.typeforce.maybe(s.typeforce.Buffer),redeemVersion:s.typeforce.maybe(s.typeforce.Number),witness:s.typeforce.maybe(s.typeforce.arrayOf(s.typeforce.Buffer))}),redeemVersion:s.typeforce.maybe(s.typeforce.Number)},e);const r=h.value((()=>{const t=f.bech32m.decode(e.address),r=t.words.shift(),i=f.bech32m.fromWords(t.words);return{version:r,prefix:t.prefix,data:n.Buffer.from(i)}})),l=h.value((()=>{if(e.witness&&e.witness.length)return e.witness.length>=2&&80===e.witness[e.witness.length-1][0]?e.witness.slice(0,-1):e.witness.slice()})),d=h.value((()=>e.scriptTree?(0,u.toHashTree)(e.scriptTree):e.hash?{hash:e.hash}:void 0)),p=e.network||i.bitcoin,y={name:"p2tr",network:p};if(h.prop(y,"address",(()=>{if(!y.pubkey)return;const e=f.bech32m.toWords(y.pubkey);return e.unshift(1),f.bech32m.encode(p.bech32,e)})),h.prop(y,"hash",(()=>{const e=d();if(e)return e.hash;const t=l();if(t&&t.length>1){const e=t[t.length-1],r=e[0]&s.TAPLEAF_VERSION_MASK,n=t[t.length-2],i=(0,u.tapleafHash)({output:n,version:r});return(0,u.rootHashFromPath)(e,i)}return null})),h.prop(y,"output",(()=>{if(y.pubkey)return o.compile([c.OP_1,y.pubkey])})),h.prop(y,"redeemVersion",(()=>e.redeemVersion?e.redeemVersion:e.redeem&&void 0!==e.redeem.redeemVersion&&null!==e.redeem.redeemVersion?e.redeem.redeemVersion:u.LEAF_VERSION_TAPSCRIPT)),h.prop(y,"redeem",(()=>{const e=l();if(e&&!(e.length<2))return{output:e[e.length-2],witness:e.slice(0,-2),redeemVersion:e[e.length-1][0]&s.TAPLEAF_VERSION_MASK}})),h.prop(y,"pubkey",(()=>{if(e.pubkey)return e.pubkey;if(e.output)return e.output.slice(2);if(e.address)return r().data;if(y.internalPubkey){const e=(0,u.tweakKey)(y.internalPubkey,y.hash);if(e)return e.x}})),h.prop(y,"internalPubkey",(()=>{if(e.internalPubkey)return e.internalPubkey;const t=l();return t&&t.length>1?t[t.length-1].slice(1,33):void 0})),h.prop(y,"signature",(()=>{if(e.signature)return e.signature;const t=l();return t&&1===t.length?t[0]:void 0})),h.prop(y,"witness",(()=>{if(e.witness)return e.witness;const t=d();if(t&&e.redeem&&e.redeem.output&&e.internalPubkey){const r=(0,u.tapleafHash)({output:e.redeem.output,version:y.redeemVersion}),i=(0,u.findScriptPath)(t,r);if(!i)return;const o=(0,u.tweakKey)(e.internalPubkey,t.hash);if(!o)return;const s=n.Buffer.concat([n.Buffer.from([y.redeemVersion|o.parity]),e.internalPubkey].concat(i));return[e.redeem.output,s]}return e.signature?[e.signature]:void 0})),t.validate){let t=n.Buffer.from([]);if(e.address){if(p&&p.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(1!==r().version)throw new TypeError("Invalid address version");if(32!==r().data.length)throw new TypeError("Invalid address data");t=r().data}if(e.pubkey){if(t.length>0&&!t.equals(e.pubkey))throw new TypeError("Pubkey mismatch");t=e.pubkey}if(e.output){if(34!==e.output.length||e.output[0]!==c.OP_1||32!==e.output[1])throw new TypeError("Output is invalid");if(t.length>0&&!t.equals(e.output.slice(2)))throw new TypeError("Pubkey mismatch");t=e.output.slice(2)}if(e.internalPubkey){const r=(0,u.tweakKey)(e.internalPubkey,y.hash);if(t.length>0&&!t.equals(r.x))throw new TypeError("Pubkey mismatch");t=r.x}if(t&&t.length&&!(0,a.getEccLib)().isXOnlyPoint(t))throw new TypeError("Invalid pubkey for p2tr");const i=d();if(e.hash&&i&&!e.hash.equals(i.hash))throw new TypeError("Hash mismatch");if(e.redeem&&e.redeem.output&&i){const t=(0,u.tapleafHash)({output:e.redeem.output,version:y.redeemVersion});if(!(0,u.findScriptPath)(i,t))throw new TypeError("Redeem script not in tree")}const h=l();if(e.redeem&&y.redeem){if(e.redeem.redeemVersion&&e.redeem.redeemVersion!==y.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(e.redeem.output){if(0===o.decompile(e.redeem.output).length)throw new TypeError("Redeem.output is invalid");if(y.redeem.output&&!e.redeem.output.equals(y.redeem.output))throw new TypeError("Redeem.output and witness mismatch")}if(e.redeem.witness&&y.redeem.witness&&!function(e,t){return e.length===t.length&&e.every(((e,r)=>e.equals(t[r])))}(e.redeem.witness,y.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(h&&h.length)if(1===h.length){if(e.signature&&!e.signature.equals(h[0]))throw new TypeError("Signature mismatch")}else{const r=h[h.length-1];if(r.length<33)throw new TypeError(`The control-block length is too small. Got ${r.length}, expected min 33.`);if((r.length-33)%32!=0)throw new TypeError(`The control-block length of ${r.length} is incorrect!`);const n=(r.length-33)/32;if(n>128)throw new TypeError(`The script path is too long. Got ${n}, expected max 128.`);const i=r.slice(1,33);if(e.internalPubkey&&!e.internalPubkey.equals(i))throw new TypeError("Internal pubkey mismatch");if(!(0,a.getEccLib)().isXOnlyPoint(i))throw new TypeError("Invalid internalPubkey for p2tr witness");const o=r[0]&s.TAPLEAF_VERSION_MASK,f=h[h.length-2],c=(0,u.tapleafHash)({output:f,version:o}),l=(0,u.rootHashFromPath)(r,c),d=(0,u.tweakKey)(i,l);if(!d)throw new TypeError("Invalid outputKey for p2tr witness");if(t.length&&!t.equals(d.x))throw new TypeError("Pubkey mismatch for p2tr witness");if(d.parity!==(1&r[0]))throw new Error("Incorrect parity")}}return Object.assign(y,e)}},7292:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2wpkh=void 0;const i=r(3140),o=r(5127),s=r(7755),a=r(6391),u=r(1514),h=r(7715),f=s.OPS,c=n.alloc(0);t.p2wpkh=function(e,t){if(!(e.address||e.hash||e.output||e.pubkey||e.witness))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,a.typeforce)({address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(20)),input:a.typeforce.maybe(a.typeforce.BufferN(0)),network:a.typeforce.maybe(a.typeforce.Object),output:a.typeforce.maybe(a.typeforce.BufferN(22)),pubkey:a.typeforce.maybe(a.isPoint),signature:a.typeforce.maybe(s.isCanonicalScriptSignature),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))},e);const r=u.value((()=>{const t=h.bech32.decode(e.address),r=t.words.shift(),i=h.bech32.fromWords(t.words);return{version:r,prefix:t.prefix,data:n.from(i)}})),l=e.network||o.bitcoin,d={name:"p2wpkh",network:l};if(u.prop(d,"address",(()=>{if(!d.hash)return;const e=h.bech32.toWords(d.hash);return e.unshift(0),h.bech32.encode(l.bech32,e)})),u.prop(d,"hash",(()=>e.output?e.output.slice(2,22):e.address?r().data:e.pubkey||d.pubkey?i.hash160(e.pubkey||d.pubkey):void 0)),u.prop(d,"output",(()=>{if(d.hash)return s.compile([f.OP_0,d.hash])})),u.prop(d,"pubkey",(()=>e.pubkey?e.pubkey:e.witness?e.witness[1]:void 0)),u.prop(d,"signature",(()=>{if(e.witness)return e.witness[0]})),u.prop(d,"input",(()=>{if(d.witness)return c})),u.prop(d,"witness",(()=>{if(e.pubkey&&e.signature)return[e.signature,e.pubkey]})),t.validate){let t=n.from([]);if(e.address){if(l&&l.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(0!==r().version)throw new TypeError("Invalid address version");if(20!==r().data.length)throw new TypeError("Invalid address data");t=r().data}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(22!==e.output.length||e.output[0]!==f.OP_0||20!==e.output[1])throw new TypeError("Output is invalid");if(t.length>0&&!t.equals(e.output.slice(2)))throw new TypeError("Hash mismatch");t=e.output.slice(2)}if(e.pubkey){const r=i.hash160(e.pubkey);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");if(t=r,!(0,a.isPoint)(e.pubkey)||33!==e.pubkey.length)throw new TypeError("Invalid pubkey for p2wpkh")}if(e.witness){if(2!==e.witness.length)throw new TypeError("Witness is invalid");if(!s.isCanonicalScriptSignature(e.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,a.isPoint)(e.witness[1])||33!==e.witness[1].length)throw new TypeError("Witness has invalid pubkey");if(e.signature&&!e.signature.equals(e.witness[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(e.witness[1]))throw new TypeError("Pubkey mismatch");const r=i.hash160(e.witness[1]);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch")}}return Object.assign(d,e)}},3047:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2wsh=void 0;const i=r(3140),o=r(5127),s=r(7755),a=r(6391),u=r(1514),h=r(7715),f=s.OPS,c=n.alloc(0);function l(e){return!(!n.isBuffer(e)||65!==e.length||4!==e[0]||!(0,a.isPoint)(e))}t.p2wsh=function(e,t){if(!(e.address||e.hash||e.output||e.redeem||e.witness))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,a.typeforce)({network:a.typeforce.maybe(a.typeforce.Object),address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(32)),output:a.typeforce.maybe(a.typeforce.BufferN(34)),redeem:a.typeforce.maybe({input:a.typeforce.maybe(a.typeforce.Buffer),network:a.typeforce.maybe(a.typeforce.Object),output:a.typeforce.maybe(a.typeforce.Buffer),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))}),input:a.typeforce.maybe(a.typeforce.BufferN(0)),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))},e);const r=u.value((()=>{const t=h.bech32.decode(e.address),r=t.words.shift(),i=h.bech32.fromWords(t.words);return{version:r,prefix:t.prefix,data:n.from(i)}})),d=u.value((()=>s.decompile(e.redeem.input)));let p=e.network;p||(p=e.redeem&&e.redeem.network||o.bitcoin);const y={network:p};if(u.prop(y,"address",(()=>{if(!y.hash)return;const e=h.bech32.toWords(y.hash);return e.unshift(0),h.bech32.encode(p.bech32,e)})),u.prop(y,"hash",(()=>e.output?e.output.slice(2):e.address?r().data:y.redeem&&y.redeem.output?i.sha256(y.redeem.output):void 0)),u.prop(y,"output",(()=>{if(y.hash)return s.compile([f.OP_0,y.hash])})),u.prop(y,"redeem",(()=>{if(e.witness)return{output:e.witness[e.witness.length-1],input:c,witness:e.witness.slice(0,-1)}})),u.prop(y,"input",(()=>{if(y.witness)return c})),u.prop(y,"witness",(()=>{if(e.redeem&&e.redeem.input&&e.redeem.input.length>0&&e.redeem.output&&e.redeem.output.length>0){const t=s.toStack(d());return y.redeem=Object.assign({witness:t},e.redeem),y.redeem.input=c,[].concat(t,e.redeem.output)}if(e.redeem&&e.redeem.output&&e.redeem.witness)return[].concat(e.redeem.witness,e.redeem.output)})),u.prop(y,"name",(()=>{const e=["p2wsh"];return void 0!==y.redeem&&void 0!==y.redeem.name&&e.push(y.redeem.name),e.join("-")})),t.validate){let t=n.from([]);if(e.address){if(r().prefix!==p.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(0!==r().version)throw new TypeError("Invalid address version");if(32!==r().data.length)throw new TypeError("Invalid address data");t=r().data}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(34!==e.output.length||e.output[0]!==f.OP_0||32!==e.output[1])throw new TypeError("Output is invalid");const r=e.output.slice(2);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");t=r}if(e.redeem){if(e.redeem.network&&e.redeem.network!==p)throw new TypeError("Network mismatch");if(e.redeem.input&&e.redeem.input.length>0&&e.redeem.witness&&e.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(e.redeem.output){const r=s.decompile(e.redeem.output);if(!r||r.length<1)throw new TypeError("Redeem.output is invalid");if(e.redeem.output.byteLength>3600)throw new TypeError("Redeem.output unspendable if larger than 3600 bytes");if(s.countNonPushOnlyOPs(r)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");const n=i.sha256(e.redeem.output);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}if(e.redeem.input&&!s.isPushOnly(d()))throw new TypeError("Non push-only scriptSig");if(e.witness&&e.redeem.witness&&!function(e,t){return e.length===t.length&&e.every(((e,r)=>e.equals(t[r])))}(e.witness,e.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(e.redeem.input&&d().some(l)||e.redeem.output&&(s.decompile(e.redeem.output)||[]).some(l))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(e.witness&&e.witness.length>0){const t=e.witness[e.witness.length-1];if(e.redeem&&e.redeem.output&&!e.redeem.output.equals(t))throw new TypeError("Witness and redeem.output mismatch");if(e.witness.some(l)||(s.decompile(t)||[]).some(l))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(y,e)}},1524:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Psbt=void 0;const i=r(939),o=r(5011),s=r(3493),a=r(1532),u=r(9428),h=r(4289),f=r(5127),c=r(8060),l=r(6338),d=r(7755),p=r(42),y=r(7543),m=r(3923),g={network:f.bitcoin,maximumFeeRate:5e3};class b{static fromBase64(e,t={}){const r=n.from(e,"base64");return this.fromBuffer(r,t)}static fromHex(e,t={}){const r=n.from(e,"hex");return this.fromBuffer(r,t)}static fromBuffer(e,t={}){const r=o.Psbt.fromBuffer(e,w),n=new b(t,r);var i,s;return i=n.__CACHE.__TX,s=n.__CACHE,i.ins.forEach((e=>{T(s,e)})),n}constructor(e={},t=new o.Psbt(new v)){this.data=t,this.opts=Object.assign({},g,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__NETWORK:e.network,__UNSAFE_SIGN_NONSEGWIT:!1},0===this.data.inputs.length&&this.setVersion(2),null!=e.network&&e.network.isProofOfStake&&this.setTime(Math.floor((new Date).getTime()/1e3));const r=(e,t,r,n)=>Object.defineProperty(e,t,{enumerable:r,writable:n});r(this,"__CACHE",!1,!0),r(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get time(){return this.__CACHE.__TX.time}set time(e){this.setTime(e)}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map((e=>({hash:(0,h.cloneBuffer)(e.hash),index:e.index,sequence:e.sequence})))}get txOutputs(){return this.__CACHE.__TX.outs.map((e=>{let t;try{t=(0,u.fromOutputScript)(e.script,this.opts.network)}catch(e){}return{script:(0,h.cloneBuffer)(e.script),value:e.value,address:t}}))}combine(...e){return this.data.combine(...e.map((e=>e.data))),this}clone(){const e=b.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){A(e),this.opts.maximumFeeRate=e}setTime(e){A(e),k(this.data.inputs,"setTime");const t=this.__CACHE;return t.__TX.time=e,t.__EXTRACTED_TX=void 0,this}setVersion(e){A(e),k(this.data.inputs,"setVersion");const t=this.__CACHE;return t.__TX.version=e,t.__EXTRACTED_TX=void 0,this}setLocktime(e){A(e),k(this.data.inputs,"setLocktime");const t=this.__CACHE;return t.__TX.locktime=e,t.__EXTRACTED_TX=void 0,this}setInputSequence(e,t){A(t),k(this.data.inputs,"setInputSequence");const r=this.__CACHE;if(r.__TX.ins.length<=e)throw new Error("Input index too high");return r.__TX.ins[e].sequence=t,r.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach((e=>this.addInput(e))),this}addInput(e){if(arguments.length>1||!e||void 0===e.hash||void 0===e.index)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,y.checkTaprootInputFields)(e,e,"addInput"),k(this.data.inputs,"addInput"),e.witnessScript&&W(e.witnessScript);const t=this.__CACHE;this.data.addInput(e),T(t,t.__TX.ins[t.__TX.ins.length-1]);const r=this.data.inputs.length-1,n=this.data.inputs[r];return n.nonWitnessUtxo&&H(this.__CACHE,n,r),t.__FEE=void 0,t.__FEE_RATE=void 0,t.__EXTRACTED_TX=void 0,this}addOutputs(e){return e.forEach((e=>this.addOutput(e))),this}addOutput(e){if(arguments.length>1||!e||void 0===e.value||void 0===e.address&&void 0===e.script)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");k(this.data.inputs,"addOutput");const{address:t}=e;if("string"==typeof t){const{network:r}=this.opts,n=(0,u.toOutputScript)(t,r);e=Object.assign(e,{script:n})}(0,y.checkTaprootOutputFields)(e,e,"addOutput");const r=this.__CACHE;return this.data.addOutput(e),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(S))throw new Error("Not finalized");const t=this.__CACHE;if(e||function(e,t,r){const n=t.__FEE_RATE||e.getFeeRate(),i=t.__EXTRACTED_TX.virtualSize(),o=n*i;if(n>=r.maximumFeeRate)throw new Error(`Warning: You are paying around ${(o/1e8).toFixed(8)} in fees, which is ${n} satoshi per byte for a transaction with a VSize of ${i} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}(this,t,this.opts),t.__EXTRACTED_TX)return t.__EXTRACTED_TX;const r=t.__TX.clone();return z(this.data.inputs,r,t,!0),r}getFeeRate(){return O("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return O("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,a.checkForInput)(this.data.inputs,0),Y(this.data.inputs.length).forEach((e=>this.finalizeInput(e))),this}finalizeInput(e,t){const r=(0,a.checkForInput)(this.data.inputs,e);return(0,y.isTaprootInput)(r)?this._finalizeTaprootInput(e,r,void 0,t):this._finalizeInput(e,r,t)}finalizeTaprootInput(e,t,r=y.tapScriptFinalizer){const n=(0,a.checkForInput)(this.data.inputs,e);if((0,y.isTaprootInput)(n))return this._finalizeTaprootInput(e,n,t,r);throw new Error(`Cannot finalize input #${e}. Not Taproot.`)}_finalizeInput(e,t,r=B){const{script:n,isP2SH:i,isP2WSH:o,isSegwit:s}=function(e,t,r){const n=r.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!t.redeemScript,i.isP2WSH=!!t.witnessScript,t.witnessScript)i.script=t.witnessScript;else if(t.redeemScript)i.script=t.redeemScript;else if(t.nonWitnessUtxo){const o=F(r,t,e),s=n.ins[e].index;i.script=o.outs[s].script}else t.witnessUtxo&&(i.script=t.witnessUtxo.script);return(t.witnessScript||(0,m.isP2WPKH)(i.script))&&(i.isSegwit=!0),i}(e,t,this.__CACHE);if(!n)throw new Error(`No script found for input #${e}`);!function(e){if(!e.sighashType||!e.partialSig)return;const{partialSig:t,sighashType:r}=e;t.forEach((e=>{const{hashType:t}=d.signature.decode(e.signature);if(r!==t)throw new Error("Signature sighash does not match input sighash type")}))}(t);const{finalScriptSig:a,finalScriptWitness:u}=r(e,t,n,s,i,o,this.__CACHE.__NETWORK);if(a&&this.data.updateInput(e,{finalScriptSig:a}),u&&this.data.updateInput(e,{finalScriptWitness:u}),!a&&!u)throw new Error(`Unknown error finalizing input #${e}`);return this.data.clearFinalizedInput(e),this}_finalizeTaprootInput(e,t,r,n=y.tapScriptFinalizer){if(!t.witnessUtxo)throw new Error(`Cannot finalize input #${e}. Missing withness utxo.`);if(t.tapKeySig){const r=c.p2tr({output:t.witnessUtxo.script,signature:t.tapKeySig}),n=(0,m.witnessStackToScriptWitness)(r.witness);this.data.updateInput(e,{finalScriptWitness:n})}else{const{finalScriptWitness:i}=n(e,t,r);this.data.updateInput(e,{finalScriptWitness:i})}return this.data.clearFinalizedInput(e),this}getInputType(e){const t=(0,a.checkForInput)(this.data.inputs,e),r=V(q(e,t,this.__CACHE),e,"input",t.redeemScript||function(e){if(!e)return;const t=d.decompile(e);if(!t)return;const r=t[t.length-1];var i;if(n.isBuffer(r)&&!K(r)&&(i=r,!d.isCanonicalScriptSignature(i))&&d.decompile(r))return r}(t.finalScriptSig),t.witnessScript||function(e){if(!e)return;const t=U(e),r=t[t.length-1];return!K(r)&&d.decompile(r)?r:void 0}(t.finalScriptWitness));return("raw"===r.type?"":r.type+"-")+G(r.meaningfulScript)}inputHasPubkey(e,t){return function(e,t,r,n){const i=q(r,t,n),{meaningfulScript:o}=V(i,r,"input",t.redeemScript,t.witnessScript);return(0,m.pubkeyInScript)(e,o)}(t,(0,a.checkForInput)(this.data.inputs,e),e,this.__CACHE)}inputHasHDKey(e,t){const r=(0,a.checkForInput)(this.data.inputs,e),n=M(t);return!!r.bip32Derivation&&r.bip32Derivation.some(n)}outputHasPubkey(e,t){return function(e,t,r,n){const i=n.__TX.outs[r].script,{meaningfulScript:o}=V(i,r,"output",t.redeemScript,t.witnessScript);return(0,m.pubkeyInScript)(e,o)}(t,(0,a.checkForOutput)(this.data.outputs,e),e,this.__CACHE)}outputHasHDKey(e,t){const r=(0,a.checkForOutput)(this.data.outputs,e),n=M(t);return!!r.bip32Derivation&&r.bip32Derivation.some(n)}validateSignaturesOfAllInputs(e){return(0,a.checkForInput)(this.data.inputs,0),Y(this.data.inputs.length).map((t=>this.validateSignaturesOfInput(t,e))).reduce(((e,t)=>!0===t&&e),!0)}validateSignaturesOfInput(e,t,r){const n=this.data.inputs[e];return(0,y.isTaprootInput)(n)?this.validateSignaturesOfTaprootInput(e,t,r):this._validateSignaturesOfInput(e,t,r)}_validateSignaturesOfInput(e,t,r){const n=this.data.inputs[e],i=(n||{}).partialSig;if(!n||!i||i.length<1)throw new Error("No signatures to validate");if("function"!=typeof t)throw new Error("Need validator function to validate signatures");const o=r?i.filter((e=>e.pubkey.equals(r))):i;if(o.length<1)throw new Error("No signatures for this pubkey");const s=[];let a,u,h;for(const r of o){const i=d.signature.decode(r.signature),{hash:o,script:f}=h!==i.hashType?L(e,Object.assign({},n,{sighashType:i.hashType}),this.__CACHE,!0):{hash:a,script:u};h=i.hashType,a=o,u=f,x(r.pubkey,f,"verify"),s.push(t(r.pubkey,o,i.signature))}return s.every((e=>!0===e))}validateSignaturesOfTaprootInput(e,t,r){const n=this.data.inputs[e],i=(n||{}).tapKeySig,o=(n||{}).tapScriptSig;if(!n&&!i&&(!o||o.length))throw new Error("No signatures to validate");if("function"!=typeof t)throw new Error("Need validator function to validate signatures");const s=(r=r&&(0,y.toXOnly)(r))?j(e,n,this.data.inputs,r,this.__CACHE):function(e,t,r,n){const i=[];if(t.tapInternalKey){const r=(0,y.tweakInternalPubKey)(e,t);i.push(r)}if(t.tapScriptSig){const e=t.tapScriptSig.map((e=>e.pubkey));i.push(...e)}return i.map((i=>j(e,t,r,i,n))).flat()}(e,n,this.data.inputs,this.__CACHE);if(!s.length)throw new Error("No signatures for this pubkey");const a=s.find((e=>!!e.leafHash));if(i&&a&&!t(a.pubkey,a.hash,i))return!1;if(o)for(const e of o){const r=s.find((t=>e.pubkey.equals(t.pubkey)));if(r&&!t(e.pubkey,r.hash,e.signature))return!1}return!0}signAllInputsHD(e,t=[p.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");const r=[];for(const n of Y(this.data.inputs.length))try{this.signInputHD(n,e,t),r.push(!0)}catch(e){r.push(!1)}if(r.every((e=>!1===e)))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(e,t=[p.Transaction.SIGHASH_ALL]){return new Promise(((r,n)=>{if(!e||!e.publicKey||!e.fingerprint)return n(new Error("Need HDSigner to sign input"));const i=[],o=[];for(const r of Y(this.data.inputs.length))o.push(this.signInputHDAsync(r,e,t).then((()=>{i.push(!0)}),(()=>{i.push(!1)})));return Promise.all(o).then((()=>{if(i.every((e=>!1===e)))return n(new Error("No inputs were signed"));r()}))}))}signInputHD(e,t,r=[p.Transaction.SIGHASH_ALL]){if(!t||!t.publicKey||!t.fingerprint)throw new Error("Need HDSigner to sign input");return N(e,this.data.inputs,t).forEach((t=>this.signInput(e,t,r))),this}signInputHDAsync(e,t,r=[p.Transaction.SIGHASH_ALL]){return new Promise(((n,i)=>{if(!t||!t.publicKey||!t.fingerprint)return i(new Error("Need HDSigner to sign input"));const o=N(e,this.data.inputs,t).map((t=>this.signInputAsync(e,t,r)));return Promise.all(o).then((()=>{n()})).catch(i)}))}signAllInputs(e,t){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");const r=[];for(const n of Y(this.data.inputs.length))try{this.signInput(n,e,t),r.push(!0)}catch(e){r.push(!1)}if(r.every((e=>!1===e)))throw new Error("No inputs were signed");return this}signAllInputsAsync(e,t){return new Promise(((r,n)=>{if(!e||!e.publicKey)return n(new Error("Need Signer to sign input"));const i=[],o=[];for(const[r]of this.data.inputs.entries())o.push(this.signInputAsync(r,e,t).then((()=>{i.push(!0)}),(()=>{i.push(!1)})));return Promise.all(o).then((()=>{if(i.every((e=>!1===e)))return n(new Error("No inputs were signed"));r()}))}))}signInput(e,t,r){if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const n=(0,a.checkForInput)(this.data.inputs,e);return(0,y.isTaprootInput)(n)?this._signTaprootInput(e,n,t,void 0,r):this._signInput(e,t,r)}signTaprootInput(e,t,r,n){if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const i=(0,a.checkForInput)(this.data.inputs,e);if((0,y.isTaprootInput)(i))return this._signTaprootInput(e,i,t,r,n);throw new Error(`Input #${e} is not of type Taproot.`)}_signInput(e,t,r=[p.Transaction.SIGHASH_ALL]){const{hash:n,sighashType:i}=C(this.data.inputs,e,t.publicKey,this.__CACHE,r),o=[{pubkey:t.publicKey,signature:d.signature.encode(t.sign(n),i)}];return this.data.updateInput(e,{partialSig:o}),this}_signTaprootInput(e,t,r,n,i=[p.Transaction.SIGHASH_DEFAULT]){const o=this.checkTaprootHashesForSig(e,t,r,n,i),s=o.filter((e=>!e.leafHash)).map((e=>(0,y.serializeTaprootSignature)(r.signSchnorr(e.hash),t.sighashType)))[0],a=o.filter((e=>!!e.leafHash)).map((e=>({pubkey:(0,y.toXOnly)(r.publicKey),signature:(0,y.serializeTaprootSignature)(r.signSchnorr(e.hash),t.sighashType),leafHash:e.leafHash})));return s&&this.data.updateInput(e,{tapKeySig:s}),a.length&&this.data.updateInput(e,{tapScriptSig:a}),this}signInputAsync(e,t,r){return Promise.resolve().then((()=>{if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const n=(0,a.checkForInput)(this.data.inputs,e);return(0,y.isTaprootInput)(n)?this._signTaprootInputAsync(e,n,t,void 0,r):this._signInputAsync(e,t,r)}))}signTaprootInputAsync(e,t,r,n){return Promise.resolve().then((()=>{if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const i=(0,a.checkForInput)(this.data.inputs,e);if((0,y.isTaprootInput)(i))return this._signTaprootInputAsync(e,i,t,r,n);throw new Error(`Input #${e} is not of type Taproot.`)}))}_signInputAsync(e,t,r=[p.Transaction.SIGHASH_ALL]){const{hash:n,sighashType:i}=C(this.data.inputs,e,t.publicKey,this.__CACHE,r);return Promise.resolve(t.sign(n)).then((r=>{const n=[{pubkey:t.publicKey,signature:d.signature.encode(r,i)}];this.data.updateInput(e,{partialSig:n})}))}async _signTaprootInputAsync(e,t,r,n,i=[p.Transaction.SIGHASH_DEFAULT]){const o=this.checkTaprootHashesForSig(e,t,r,n,i),s=[],a=o.filter((e=>!e.leafHash))[0];if(a){const e=Promise.resolve(r.signSchnorr(a.hash)).then((e=>({tapKeySig:(0,y.serializeTaprootSignature)(e,t.sighashType)})));s.push(e)}const u=o.filter((e=>!!e.leafHash));if(u.length){const e=u.map((e=>Promise.resolve(r.signSchnorr(e.hash)).then((n=>({tapScriptSig:[{pubkey:(0,y.toXOnly)(r.publicKey),signature:(0,y.serializeTaprootSignature)(n,t.sighashType),leafHash:e.leafHash}]})))));s.push(...e)}return Promise.all(s).then((t=>{t.forEach((t=>this.data.updateInput(e,t)))}))}checkTaprootHashesForSig(e,t,r,n,i){if("function"!=typeof r.signSchnorr)throw new Error(`Need Schnorr Signer to sign taproot input #${e}.`);const o=j(e,t,this.data.inputs,r.publicKey,this.__CACHE,n,i);if(!o||!o.length)throw new Error(`Can not sign for input #${e} with the key ${r.publicKey.toString("hex")}`);return o}toBuffer(){return _(this.__CACHE),this.data.toBuffer()}toHex(){return _(this.__CACHE),this.data.toHex()}toBase64(){return _(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,t){return t.witnessScript&&W(t.witnessScript),(0,y.checkTaprootInputFields)(this.data.inputs[e],t,"updateInput"),this.data.updateInput(e,t),t.nonWitnessUtxo&&H(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,t){const r=this.data.outputs[e];return(0,y.checkTaprootOutputFields)(r,t,"updateOutput"),this.data.updateOutput(e,t),this}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,t){return this.data.addUnknownKeyValToInput(e,t),this}addUnknownKeyValToOutput(e,t){return this.data.addUnknownKeyValToOutput(e,t),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}}t.Psbt=b;const w=e=>new v(e);class v{constructor(e=n.from([2,0,0,0,0,0,0,0,0,0]),t=i.networks.bitcoin){this.tx=p.Transaction.fromBuffer(e,void 0,t),function(e){if(!e.ins.every((e=>e.script&&0===e.script.length&&e.witness&&0===e.witness.length)))throw new Error("Format Error: Transaction ScriptSigs are not empty")}(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(void 0===e.hash||void 0===e.index||!n.isBuffer(e.hash)&&"string"!=typeof e.hash||"number"!=typeof e.index)throw new Error("Error adding input.");const t="string"==typeof e.hash?(0,h.reverseBuffer)(n.from(e.hash,"hex")):e.hash;this.tx.addInput(t,e.index,e.sequence)}addOutput(e){if(void 0===e.script||void 0===e.value||!n.isBuffer(e.script)||"number"!=typeof e.value)throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}toBuffer(){return this.tx.toBuffer()}}function _(e){if(!1!==e.__UNSAFE_SIGN_NONSEGWIT)throw new Error("Not BIP174 compliant, can not export")}function E(e,t,r){if(!t)return!1;let n;if(n=r?r.map((e=>{const r=function(e){if(65===e.length){const t=1&e[64],r=e.slice(0,33);return r[0]=2|t,r}return e.slice()}(e);return t.find((e=>e.pubkey.equals(r)))})).filter((e=>!!e)):t,n.length>e)throw new Error("Too many signatures");return n.length===e}function S(e){return!!e.finalScriptSig||!!e.finalScriptWitness}function M(e){return t=>!!t.masterFingerprint.equals(e.fingerprint)&&!!e.derivePath(t.path).publicKey.equals(t.pubkey)}function A(e){if("number"!=typeof e||e!==Math.floor(e)||e>4294967295||e<0)throw new Error("Invalid 32 bit integer")}function k(e,t){e.forEach((e=>{if((0,y.isTaprootInput)(e)?(0,y.checkTaprootInputForSigs)(e,t):(0,m.checkInputForSig)(e,t))throw new Error("Can not modify transaction, signatures exist.")}))}function x(e,t,r){if(!(0,m.pubkeyInScript)(e,t))throw new Error(`Can not ${r} for this input with the key ${e.toString("hex")}`)}function T(e,t){const r=(0,h.reverseBuffer)(n.from(t.hash)).toString("hex")+":"+t.index;if(e.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");e.__TX_IN_CACHE[r]=1}function P(e,t){return(r,n,i,o)=>{const s=e({redeem:{output:i}}).output;if(!n.equals(s))throw new Error(`${t} for ${o} #${r} doesn't match the scriptPubKey in the prevout`)}}const I=P(c.p2sh,"Redeem script"),R=P(c.p2wsh,"Witness script");function O(e,t,r,n){if(!r.every(S))throw new Error(`PSBT must be finalized to calculate ${t}`);if("__FEE_RATE"===e&&n.__FEE_RATE)return n.__FEE_RATE;if("__FEE"===e&&n.__FEE)return n.__FEE;let i,o=!0;return n.__EXTRACTED_TX?(i=n.__EXTRACTED_TX,o=!1):i=n.__TX.clone(),z(r,i,n,o),"__FEE_RATE"===e?n.__FEE_RATE:"__FEE"===e?n.__FEE:void 0}function B(e,t,r,n,i,o,s){const a=G(r);if(!function(e,t,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return E(1,e.partialSig);case"multisig":const r=c.p2ms({output:t});return E(r.m,e.partialSig,r.pubkeys);default:return!1}}(t,r,a))throw new Error(`Can not finalize input #${e}`);return function(e,t,r,n,i,o,s){let a,u;const h=function(e,t,r){let n;switch(t){case"multisig":const t=function(e,t){return c.p2ms({output:e}).pubkeys.map((e=>(t.filter((t=>t.pubkey.equals(e)))[0]||{}).signature)).filter((e=>!!e))}(e,r);n=c.p2ms({output:e,signatures:t});break;case"pubkey":n=c.p2pk({output:e,signature:r[0].signature});break;case"pubkeyhash":n=c.p2pkh({output:e,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":n=c.p2wpkh({output:e,pubkey:r[0].pubkey,signature:r[0].signature})}return n}(e,t,r);s&&(h.network=s);const f=o?c.p2wsh({redeem:h}):null,l=i?c.p2sh({redeem:f||h}):null;return n?(u=f?(0,m.witnessStackToScriptWitness)(f.witness):(0,m.witnessStackToScriptWitness)(h.witness),l&&(a=l.input)):a=l?l.input:h.input,{finalScriptSig:a,finalScriptWitness:u}}(r,a,t.partialSig,n,i,o,s)}function C(e,t,r,n,i){const o=(0,a.checkForInput)(e,t),{hash:s,sighashType:u,script:h}=L(t,o,n,!1,i);return x(r,h,"sign"),{hash:s,sighashType:u}}function L(e,t,r,n,i){const o=r.__TX,s=t.sighashType||p.Transaction.SIGHASH_ALL;let a,u;if(D(s,i),t.nonWitnessUtxo){const n=F(r,t,e),i=o.ins[e].hash,s=n.getHash();if(!i.equals(s))throw new Error(`Non-witness UTXO hash for input #${e} doesn't match the hash specified in the prevout`);const a=o.ins[e].index;u=n.outs[a]}else{if(!t.witnessUtxo)throw new Error("Need a Utxo input item for signing");u=t.witnessUtxo}const{meaningfulScript:h,type:f}=V(u.script,e,"input",t.redeemScript,t.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(f)>=0)a=o.hashForWitnessV0(e,h,u.value,s);else if((0,m.isP2WPKH)(h)){const t=c.p2pkh({hash:h.slice(2)}).output;a=o.hashForWitnessV0(e,t,u.value,s)}else{if(void 0===t.nonWitnessUtxo&&!1===r.__UNSAFE_SIGN_NONSEGWIT)throw new Error(`Input #${e} has witnessUtxo but non-segwit script: ${h.toString("hex")}`);n||!1===r.__UNSAFE_SIGN_NONSEGWIT||console.warn("Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecesor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.\n*********************\nPROCEED WITH CAUTION!\n*********************"),a=o.hashForSignature(e,h,s)}return{script:h,sighashType:s,hash:a}}function j(e,t,r,n,i,o,s){const a=i.__TX,u=t.sighashType||p.Transaction.SIGHASH_DEFAULT;D(u,s);const h=r.map(((e,t)=>$(t,e,i))),f=h.map((e=>e.script)),c=h.map((e=>e.value)),d=[];if(t.tapInternalKey&&!o){const r=(0,y.tweakInternalPubKey)(e,t);if((0,y.toXOnly)(n).equals(r)){const t=a.hashForWitnessV1(e,f,c,u);d.push({pubkey:n,hash:t})}}const g=(t.tapLeafScript||[]).filter((e=>(0,m.pubkeyInScript)(n,e.script))).map((e=>{const t=(0,l.tapleafHash)({output:e.script,version:e.leafVersion});return Object.assign({hash:t},e)})).filter((e=>!o||o.equals(e.hash))).map((t=>{const r=a.hashForWitnessV1(e,f,c,p.Transaction.SIGHASH_DEFAULT,t.hash);return{pubkey:n,hash:r,leafHash:t.hash}}));return d.concat(g)}function D(e,t){if(t&&t.indexOf(e)<0){const t=function(e){let t=e&p.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(31&e){case p.Transaction.SIGHASH_ALL:t+="SIGHASH_ALL";break;case p.Transaction.SIGHASH_SINGLE:t+="SIGHASH_SINGLE";break;case p.Transaction.SIGHASH_NONE:t+="SIGHASH_NONE"}return t}(e);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${t}`)}}function N(e,t,r){const n=(0,a.checkForInput)(t,e);if(!n.bip32Derivation||0===n.bip32Derivation.length)throw new Error("Need bip32Derivation to sign with HD");const i=n.bip32Derivation.map((e=>e.masterFingerprint.equals(r.fingerprint)?e:void 0)).filter((e=>!!e));if(0===i.length)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return i.map((e=>{const t=r.derivePath(e.path);if(!e.pubkey.equals(t.publicKey))throw new Error("pubkey did not match bip32Derivation");return t}))}function U(e){let t=0;function r(){const r=s.decode(e,t);return t+=s.decode.bytes,r}return function(){const n=r(),i=[];for(let s=0;s<n;s++)i.push((o=void 0,o=r(),t+=o,e.slice(t-o,t)));var o;return i}()}function H(e,t,r){e.__NON_WITNESS_UTXO_BUF_CACHE[r]=t.nonWitnessUtxo;const n=p.Transaction.fromBuffer(t.nonWitnessUtxo,void 0,e.__NETWORK);e.__NON_WITNESS_UTXO_TX_CACHE[r]=n;const i=e,o=r;delete t.nonWitnessUtxo,Object.defineProperty(t,"nonWitnessUtxo",{enumerable:!0,get(){const e=i.__NON_WITNESS_UTXO_BUF_CACHE[o],t=i.__NON_WITNESS_UTXO_TX_CACHE[o];if(void 0!==e)return e;{const e=t.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[o]=e,e}},set(e){i.__NON_WITNESS_UTXO_BUF_CACHE[o]=e}})}function z(e,t,r,n){let i=0;e.forEach(((e,o)=>{if(n&&e.finalScriptSig&&(t.ins[o].script=e.finalScriptSig),n&&e.finalScriptWitness&&(t.ins[o].witness=U(e.finalScriptWitness)),e.witnessUtxo)i+=e.witnessUtxo.value;else if(e.nonWitnessUtxo){const n=F(r,e,o),s=t.ins[o].index,a=n.outs[s];i+=a.value}}));const o=t.outs.reduce(((e,t)=>e+t.value),0),s=i-o;if(s<0)throw new Error("Outputs are spending more than Inputs");const a=t.virtualSize();r.__FEE=s,r.__EXTRACTED_TX=t,r.__FEE_RATE=Math.floor(s/a)}function F(e,t,r){const n=e.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||H(e,t,r),n[r]}function q(e,t,r){const{script:n}=$(e,t,r);return n}function $(e,t,r){if(void 0!==t.witnessUtxo)return{script:t.witnessUtxo.script,value:t.witnessUtxo.value};if(void 0!==t.nonWitnessUtxo){const n=F(r,t,e).outs[r.__TX.ins[e].index];return{script:n.script,value:n.value}}throw new Error("Can't find pubkey in input without Utxo data")}function K(e){return 33===e.length&&d.isCanonicalPubKey(e)}function V(e,t,r,n,i){const o=(0,m.isP2SHScript)(e),s=o&&n&&(0,m.isP2WSHScript)(n),a=(0,m.isP2WSHScript)(e);if(o&&void 0===n)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((a||s)&&void 0===i)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let u;return s?(u=i,I(t,e,n,r),R(t,n,i,r),W(u)):a?(u=i,R(t,e,i,r),W(u)):o?(u=n,I(t,e,n,r)):u=e,{meaningfulScript:u,type:s?"p2sh-p2wsh":o?"p2sh":a?"p2wsh":"raw"}}function W(e){if((0,m.isP2WPKH)(e)||(0,m.isP2SHScript)(e))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function G(e){return(0,m.isP2WPKH)(e)?"witnesspubkeyhash":(0,m.isP2PKH)(e)?"pubkeyhash":(0,m.isP2MS)(e)?"multisig":(0,m.isP2PK)(e)?"pubkey":"nonstandard"}function Y(e){return[...Array(e).keys()]}},7543:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.checkTaprootInputForSigs=t.tapTreeFromList=t.tapTreeToList=t.tweakInternalPubKey=t.checkTaprootOutputFields=t.checkTaprootInputFields=t.isTaprootOutput=t.isTaprootInput=t.serializeTaprootSignature=t.tapScriptFinalizer=t.toXOnly=void 0;const i=r(6391),o=r(42),s=r(3923),a=r(6338),u=r(8060),h=r(3923);function f(e){return e&&!!(e.tapInternalKey||e.tapMerkleRoot||e.tapLeafScript&&e.tapLeafScript.length||e.tapBip32Derivation&&e.tapBip32Derivation.length||e.witnessUtxo&&(0,s.isP2TR)(e.witnessUtxo.script))}function c(e,t){return e&&!!(e.tapInternalKey||e.tapTree||e.tapBip32Derivation&&e.tapBip32Derivation.length||t&&(0,s.isP2TR)(t))}function l(e=[]){return 1===e.length&&0===e[0].depth?{output:e[0].script,version:e[0].leafVersion}:function(e){let t;for(const r of e)if(t=y(r,t),!t)throw new Error("No room left to insert tapleaf in tree");return t}(e)}function d(e){return{signature:e.slice(0,64),hashType:e.slice(64)[0]||o.Transaction.SIGHASH_DEFAULT}}function p(e,t=[],r=0){if(r>a.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");return e?(0,i.isTapleaf)(e)?(t.push({depth:r,leafVersion:e.version||a.LEAF_VERSION_TAPSCRIPT,script:e.output}),t):(e[0]&&p(e[0],t,r+1),e[1]&&p(e[1],t,r+1),t):[]}function y(e,t,r=0){if(r>a.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");if(e.depth===r)return t?void 0:{output:e.script,version:e.leafVersion};if((0,i.isTapleaf)(t))return;const n=y(e,t&&t[0],r+1);if(n)return[n,t&&t[1]];const o=y(e,t&&t[1],r+1);return o?[t&&t[0],o]:void 0}function m(e,t){if(!t)return!0;const r=(0,a.tapleafHash)({output:e.script,version:e.leafVersion});return(0,a.rootHashFromPath)(e.controlBlock,r).equals(t)}function g(e){return e&&!!(e.redeemScript||e.witnessScript||e.bip32Derivation&&e.bip32Derivation.length)}t.toXOnly=e=>32===e.length?e:e.slice(1,33),t.tapScriptFinalizer=function(e,t,r){const n=function(e,t,r){if(!e.tapScriptSig||!e.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${t}. No tapleaf script signature provided.`);const n=(e.tapLeafScript||[]).sort(((e,t)=>e.controlBlock.length-t.controlBlock.length)).find((t=>function(e,t,r){const n=(0,a.tapleafHash)({output:e.script,version:e.leafVersion});return(!r||r.equals(n))&&void 0!==t.find((e=>e.leafHash.equals(n)))}(t,e.tapScriptSig,r)));if(!n)throw new Error(`Can not finalize taproot input #${t}. Signature for tapleaf script not found.`);return n}(t,e,r);try{const e=function(e,t){const r=(0,a.tapleafHash)({output:t.script,version:t.leafVersion});return(e.tapScriptSig||[]).filter((e=>e.leafHash.equals(r))).map((e=>function(e,t){return Object.assign({positionInScript:(0,s.pubkeyPositionInScript)(t.pubkey,e)},t)}(t.script,e))).sort(((e,t)=>t.positionInScript-e.positionInScript)).map((e=>e.signature))}(t,n),r=e.concat(n.script).concat(n.controlBlock);return{finalScriptWitness:(0,s.witnessStackToScriptWitness)(r)}}catch(t){throw new Error(`Can not finalize taproot input #${e}: ${t}`)}},t.serializeTaprootSignature=function(e,t){const r=t?n.from([t]):n.from([]);return n.concat([e,r])},t.isTaprootInput=f,t.isTaprootOutput=c,t.checkTaprootInputFields=function(e,t,r){!function(e,t,r){const n=f(e)&&g(t),i=g(e)&&f(t),o=e===t&&f(t)&&g(t);if(n||i||o)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}(e,t,r),function(e,t,r){if(t.tapMerkleRoot){const n=(t.tapLeafScript||[]).every((e=>m(e,t.tapMerkleRoot))),i=(e.tapLeafScript||[]).every((e=>m(e,t.tapMerkleRoot)));if(!n||!i)throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}else if(e.tapMerkleRoot&&!(t.tapLeafScript||[]).every((t=>m(t,e.tapMerkleRoot))))throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}(e,t,r)},t.checkTaprootOutputFields=function(e,t,r){!function(e,t,r){const n=c(e)&&g(t),i=g(e)&&c(t),o=e===t&&c(t)&&g(t);if(n||i||o)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}(e,t,r),function(e,t){if(!t.tapTree&&!t.tapInternalKey)return;const r=t.tapInternalKey||e.tapInternalKey,n=t.tapTree||e.tapTree;if(r){const{script:t}=e,i=function(e,t){const r=t&&l(t.leaves),{output:n}=(0,u.p2tr)({internalPubkey:e,scriptTree:r});return n}(r,n);if(t&&!t.equals(i))throw new Error("Error adding output. Script or address missmatch.")}}(e,t)},t.tweakInternalPubKey=function(e,t){const r=t.tapInternalKey,n=r&&(0,a.tweakKey)(r,t.tapMerkleRoot);if(!n)throw new Error(`Cannot tweak tap internal key for input #${e}. Public key: ${r&&r.toString("hex")}`);return n.x},t.tapTreeToList=function(e){if(!(0,i.isTaptree)(e))throw new Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return p(e)},t.tapTreeFromList=l,t.checkTaprootInputForSigs=function(e,t){const r=function(e){const t=[];if(e.tapKeySig&&t.push(e.tapKeySig),e.tapScriptSig&&t.push(...e.tapScriptSig.map((e=>e.signature))),!t.length){const r=function(e){if(!e)return;const t=e.slice(2);return 64===t.length||65===t.length?t:void 0}(e.finalScriptWitness);r&&t.push(r)}return t}(e);return r.some((e=>(0,h.signatureBlocksAction)(e,d,t)))}},3923:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.signatureBlocksAction=t.checkInputForSig=t.pubkeyInScript=t.pubkeyPositionInScript=t.witnessStackToScriptWitness=t.isP2TR=t.isP2SHScript=t.isP2WSHScript=t.isP2WPKH=t.isP2PKH=t.isP2PK=t.isP2MS=void 0;const i=r(3493),o=r(7755),s=r(42),a=r(3140),u=r(8060);function h(e){return t=>{try{return e({output:t}),!0}catch(e){return!1}}}function f(e,t){const r=(0,a.hash160)(e),n=e.slice(1,33),i=o.decompile(t);if(null===i)throw new Error("Unknown script error");return i.findIndex((t=>"number"!=typeof t&&(t.equals(e)||t.equals(r)||t.equals(n))))}function c(e,t,r){const{hashType:n}=t(e),i=[];switch(n&s.Transaction.SIGHASH_ANYONECANPAY&&i.push("addInput"),31&n){case s.Transaction.SIGHASH_ALL:break;case s.Transaction.SIGHASH_SINGLE:case s.Transaction.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence")}return-1===i.indexOf(r)}t.isP2MS=h(u.p2ms),t.isP2PK=h(u.p2pk),t.isP2PKH=h(u.p2pkh),t.isP2WPKH=h(u.p2wpkh),t.isP2WSHScript=h(u.p2wsh),t.isP2SHScript=h(u.p2sh),t.isP2TR=h(u.p2tr),t.witnessStackToScriptWitness=function(e){let t=n.allocUnsafe(0);function r(e){const r=t.length,o=i.encodingLength(e);t=n.concat([t,n.allocUnsafe(o)]),i.encode(e,t,r)}var o;return r((o=e).length),o.forEach((function(e){r(e.length),function(e){t=n.concat([t,n.from(e)])}(e)})),t},t.pubkeyPositionInScript=f,t.pubkeyInScript=function(e,t){return-1!==f(e,t)},t.checkInputForSig=function(e,t){const r=function(e){let t=[];if(0===(e.partialSig||[]).length){if(!e.finalScriptSig&&!e.finalScriptWitness)return[];t=function(e){const t=e.finalScriptSig&&o.decompile(e.finalScriptSig)||[],r=e.finalScriptWitness&&o.decompile(e.finalScriptWitness)||[];return t.concat(r).filter((e=>n.isBuffer(e)&&o.isCanonicalScriptSignature(e))).map((e=>({signature:e})))}(e)}else t=e.partialSig;return t.map((e=>e.signature))}(e);return r.some((e=>c(e,o.signature.decode,t)))},t.signatureBlocksAction=c},4464:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=t.encodingLength=void 0;const n=r(1987);function i(e){return e<n.OPS.OP_PUSHDATA1?1:e<=255?2:e<=65535?3:5}t.encodingLength=i,t.encode=function(e,t,r){const o=i(t);return 1===o?e.writeUInt8(t,r):2===o?(e.writeUInt8(n.OPS.OP_PUSHDATA1,r),e.writeUInt8(t,r+1)):3===o?(e.writeUInt8(n.OPS.OP_PUSHDATA2,r),e.writeUInt16LE(t,r+1)):(e.writeUInt8(n.OPS.OP_PUSHDATA4,r),e.writeUInt32LE(t,r+1)),o},t.decode=function(e,t){const r=e.readUInt8(t);let i,o;if(r<n.OPS.OP_PUSHDATA1)i=r,o=1;else if(r===n.OPS.OP_PUSHDATA1){if(t+2>e.length)return null;i=e.readUInt8(t+1),o=2}else if(r===n.OPS.OP_PUSHDATA2){if(t+3>e.length)return null;i=e.readUInt16LE(t+1),o=3}else{if(t+5>e.length)return null;if(r!==n.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");i=e.readUInt32LE(t+1),o=5}return{opcode:r,number:i,size:o}}},7755:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.signature=t.number=t.isCanonicalScriptSignature=t.isDefinedHashType=t.isCanonicalPubKey=t.toStack=t.fromASM=t.toASM=t.decompile=t.compile=t.countNonPushOnlyOPs=t.isPushOnly=t.OPS=void 0;const i=r(9392),o=r(1987);Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return o.OPS}});const s=r(4464),a=r(370),u=r(7877),h=r(6391),{typeforce:f}=h,c=o.OPS.OP_RESERVED;function l(e){return h.Buffer(e)||function(e){return h.Number(e)&&(e===o.OPS.OP_0||e>=o.OPS.OP_1&&e<=o.OPS.OP_16||e===o.OPS.OP_1NEGATE)}(e)}function d(e){return h.Array(e)&&e.every(l)}function p(e){return 0===e.length?o.OPS.OP_0:1===e.length?e[0]>=1&&e[0]<=16?c+e[0]:129===e[0]?o.OPS.OP_1NEGATE:void 0:void 0}function y(e){return n.isBuffer(e)}function m(e){return n.isBuffer(e)}function g(e){if(y(e))return e;f(h.Array,e);const t=e.reduce(((e,t)=>m(t)?1===t.length&&void 0!==p(t)?e+1:e+s.encodingLength(t.length)+t.length:e+1),0),r=n.allocUnsafe(t);let i=0;if(e.forEach((e=>{if(m(e)){const t=p(e);if(void 0!==t)return r.writeUInt8(t,i),void(i+=1);i+=s.encode(r,e.length,i),e.copy(r,i),i+=e.length}else r.writeUInt8(e,i),i+=1})),i!==r.length)throw new Error("Could not decode chunks");return r}function b(e){if(t=e,h.Array(t))return e;var t;f(h.Buffer,e);const r=[];let n=0;for(;n<e.length;){const t=e[n];if(t>o.OPS.OP_0&&t<=o.OPS.OP_PUSHDATA4){const t=s.decode(e,n);if(null===t)return null;if(n+=t.size,n+t.number>e.length)return null;const i=e.slice(n,n+t.number);n+=t.number;const o=p(i);void 0!==o?r.push(o):r.push(i)}else r.push(t),n+=1}return r}function w(e){const t=-129&e;return t>0&&t<4}t.isPushOnly=d,t.countNonPushOnlyOPs=function(e){return e.length-e.filter(l).length},t.compile=g,t.decompile=b,t.toASM=function(e){return y(e)&&(e=b(e)),e.map((e=>{if(m(e)){const t=p(e);if(void 0===t)return e.toString("hex");e=t}return o.REVERSE_OPS[e]})).join(" ")},t.fromASM=function(e){return f(h.String,e),g(e.split(" ").map((e=>void 0!==o.OPS[e]?o.OPS[e]:(f(h.Hex,e),n.from(e,"hex")))))},t.toStack=function(e){return e=b(e),f(d,e),e.map((e=>m(e)?e:e===o.OPS.OP_0?n.allocUnsafe(0):a.encode(e-c)))},t.isCanonicalPubKey=function(e){return h.isPoint(e)},t.isDefinedHashType=w,t.isCanonicalScriptSignature=function(e){return!!n.isBuffer(e)&&!!w(e[e.length-1])&&i.check(e.slice(0,-1))},t.number=a,t.signature=u},370:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=void 0,t.decode=function(e,t,r){t=t||4,r=void 0===r||r;const n=e.length;if(0===n)return 0;if(n>t)throw new TypeError("Script number overflow");if(r&&0==(127&e[n-1])&&(n<=1||0==(128&e[n-2])))throw new Error("Non-minimally encoded script number");if(5===n){const t=e.readUInt32LE(0),r=e.readUInt8(4);return 128&r?-(4294967296*(-129&r)+t):4294967296*r+t}let i=0;for(let t=0;t<n;++t)i|=e[t]<<8*t;return 128&e[n-1]?-(i&~(128<<8*(n-1))):i},t.encode=function(e){let t=Math.abs(e);const r=(i=t)>2147483647?5:i>8388607?4:i>32767?3:i>127?2:i>0?1:0;var i;const o=n.allocUnsafe(r),s=e<0;for(let e=0;e<r;++e)o.writeUInt8(255&t,e),t>>=8;return 128&o[r-1]?o.writeUInt8(s?128:0,r-1):s&&(o[r-1]|=128),o}},7877:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=void 0;const i=r(9392),o=r(6391),{typeforce:s}=o,a=n.alloc(1,0);function u(e){let t=0;for(;0===e[t];)++t;return t===e.length?a:128&(e=e.slice(t))[0]?n.concat([a,e],1+e.length):e}function h(e){0===e[0]&&(e=e.slice(1));const t=n.alloc(32,0),r=Math.max(0,32-e.length);return e.copy(t,r),t}t.decode=function(e){const t=e.readUInt8(e.length-1),r=-129&t;if(r<=0||r>=4)throw new Error("Invalid hashType "+t);const o=i.decode(e.slice(0,-1)),s=h(o.r),a=h(o.s);return{signature:n.concat([s,a],64),hashType:t}},t.encode=function(e,t){s({signature:o.BufferN(64),hashType:o.UInt8},{signature:e,hashType:t});const r=-129&t;if(r<=0||r>=4)throw new Error("Invalid hashType "+t);const a=n.allocUnsafe(1);a.writeUInt8(t,0);const h=u(e.slice(0,32)),f=u(e.slice(32,64));return n.concat([i.encode(h,f),a])}},42:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Transaction=void 0;const i=r(939),o=r(4289),s=r(3140),a=r(7755),u=r(7755),h=r(6391),{typeforce:f}=h;function c(e){const t=e.length;return o.varuint.encodingLength(t)+t}const l=n.allocUnsafe(0),d=[],p=n.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),y=n.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),m=n.from("ffffffffffffffff","hex"),g={script:l,valueBuffer:m};class b{constructor(){this.time=void 0,this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(e,t,r=i.networks.bitcoin){const n=new o.BufferReader(e),s=new b;s.version=n.readInt32(),r.isProofOfStake&&e.length>10&&(s.time=n.readInt32());const a=n.readUInt8(),u=n.readUInt8();let h=!1;a===b.ADVANCED_TRANSACTION_MARKER&&u===b.ADVANCED_TRANSACTION_FLAG?h=!0:n.offset-=2;const f=n.readVarInt();for(let e=0;e<f;++e)s.ins.push({hash:n.readSlice(32),index:n.readUInt32(),script:n.readVarSlice(),sequence:n.readUInt32(),witness:d});const c=n.readVarInt();for(let e=0;e<c;++e)s.outs.push({value:n.readUInt64(),script:n.readVarSlice()});if(h){for(let e=0;e<f;++e)s.ins[e].witness=n.readVector();if(!s.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(s.locktime=n.readUInt32(),t)return s;if(n.offset!==e.length)throw new Error("Transaction has unexpected data");return s}static fromHex(e,t=i.networks.bitcoin){return b.fromBuffer(n.from(e,"hex"),!1,t)}static isCoinbaseHash(e){f(h.Hash256bit,e);for(let t=0;t<32;++t)if(0!==e[t])return!1;return!0}isCoinbase(){return 1===this.ins.length&&b.isCoinbaseHash(this.ins[0].hash)}addInput(e,t,r,n){return f(h.tuple(h.Hash256bit,h.UInt32,h.maybe(h.UInt32),h.maybe(h.Buffer)),arguments),h.Null(r)&&(r=b.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:t,script:n||l,sequence:r,witness:d})-1}addOutput(e,t){return f(h.tuple(h.Buffer,h.Satoshi),arguments),this.outs.push({script:e,value:t})-1}hasWitnesses(){return this.ins.some((e=>0!==e.witness.length))}weight(){return 3*this.byteLength(!1)+this.byteLength(!0)}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(e=!0){const t=e&&this.hasWitnesses();return(t?10:8)+(null!=this.time?4:0)+o.varuint.encodingLength(this.ins.length)+o.varuint.encodingLength(this.outs.length)+this.ins.reduce(((e,t)=>e+40+c(t.script)),0)+this.outs.reduce(((e,t)=>e+8+c(t.script)),0)+(t?this.ins.reduce(((e,t)=>e+function(e){const t=e.length;return o.varuint.encodingLength(t)+e.reduce(((e,t)=>e+c(t)),0)}(t.witness)),0):0)}clone(){const e=new b;return e.version=this.version,null!=this.time&&(e.time=this.time),e.locktime=this.locktime,e.ins=this.ins.map((e=>({hash:e.hash,index:e.index,script:e.script,sequence:e.sequence,witness:e.witness}))),e.outs=this.outs.map((e=>({script:e.script,value:e.value}))),e}hashForSignature(e,t,r){if(f(h.tuple(h.UInt32,h.Buffer,h.Number),arguments),e>=this.ins.length)return y;const i=a.compile(a.decompile(t).filter((e=>e!==u.OPS.OP_CODESEPARATOR))),o=this.clone();if((31&r)===b.SIGHASH_NONE)o.outs=[],o.ins.forEach(((t,r)=>{r!==e&&(t.sequence=0)}));else if((31&r)===b.SIGHASH_SINGLE){if(e>=this.outs.length)return y;o.outs.length=e+1;for(let t=0;t<e;t++)o.outs[t]=g;o.ins.forEach(((t,r)=>{r!==e&&(t.sequence=0)}))}r&b.SIGHASH_ANYONECANPAY?(o.ins=[o.ins[e]],o.ins[0].script=i):(o.ins.forEach((e=>{e.script=l})),o.ins[e].script=i);const c=n.allocUnsafe(o.byteLength(!1)+4);return c.writeInt32LE(r,c.length-4),o.__toBuffer(c,0,!1),s.hash256(c)}hashForWitnessV1(e,t,r,i,a,u){if(f(h.tuple(h.UInt32,f.arrayOf(h.Buffer),f.arrayOf(h.Satoshi),h.UInt32),arguments),r.length!==this.ins.length||t.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");const d=i===b.SIGHASH_DEFAULT?b.SIGHASH_ALL:i&b.SIGHASH_OUTPUT_MASK,p=(i&b.SIGHASH_INPUT_MASK)===b.SIGHASH_ANYONECANPAY,y=d===b.SIGHASH_NONE,m=d===b.SIGHASH_SINGLE;let g=l,w=l,v=l,_=l,E=l;if(!p){let e=o.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach((t=>{e.writeSlice(t.hash),e.writeUInt32(t.index)})),g=s.sha256(e.end()),e=o.BufferWriter.withCapacity(8*this.ins.length),r.forEach((t=>e.writeUInt64(t))),w=s.sha256(e.end()),e=o.BufferWriter.withCapacity(t.map(c).reduce(((e,t)=>e+t))),t.forEach((t=>e.writeVarSlice(t))),v=s.sha256(e.end()),e=o.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach((t=>e.writeUInt32(t.sequence))),_=s.sha256(e.end())}if(y||m){if(m&&e<this.outs.length){const t=this.outs[e],r=o.BufferWriter.withCapacity(8+c(t.script));r.writeUInt64(t.value),r.writeVarSlice(t.script),E=s.sha256(r.end())}}else{const e=this.outs.map((e=>8+c(e.script))).reduce(((e,t)=>e+t)),t=o.BufferWriter.withCapacity(e);this.outs.forEach((e=>{t.writeUInt64(e.value),t.writeVarSlice(e.script)})),E=s.sha256(t.end())}const S=(a?2:0)+(u?1:0),M=174-(p?49:0)-(y?32:0)+(u?32:0)+(a?37:0),A=o.BufferWriter.withCapacity(M);if(A.writeUInt8(i),A.writeInt32(this.version),A.writeUInt32(this.locktime),A.writeSlice(g),A.writeSlice(w),A.writeSlice(v),A.writeSlice(_),y||m||A.writeSlice(E),A.writeUInt8(S),p){const n=this.ins[e];A.writeSlice(n.hash),A.writeUInt32(n.index),A.writeUInt64(r[e]),A.writeVarSlice(t[e]),A.writeUInt32(n.sequence)}else A.writeUInt32(e);if(u){const e=o.BufferWriter.withCapacity(c(u));e.writeVarSlice(u),A.writeSlice(s.sha256(e.end()))}return m&&A.writeSlice(E),a&&(A.writeSlice(a),A.writeUInt8(0),A.writeUInt32(4294967295)),s.taggedHash("TapSighash",n.concat([n.from([0]),A.end()]))}hashForWitnessV0(e,t,r,i){f(h.tuple(h.UInt32,h.Buffer,h.Satoshi,h.UInt32),arguments);let a,u=n.from([]),l=p,d=p,y=p;if(i&b.SIGHASH_ANYONECANPAY||(u=n.allocUnsafe(36*this.ins.length),a=new o.BufferWriter(u,0),this.ins.forEach((e=>{a.writeSlice(e.hash),a.writeUInt32(e.index)})),d=s.hash256(u)),i&b.SIGHASH_ANYONECANPAY||(31&i)===b.SIGHASH_SINGLE||(31&i)===b.SIGHASH_NONE||(u=n.allocUnsafe(4*this.ins.length),a=new o.BufferWriter(u,0),this.ins.forEach((e=>{a.writeUInt32(e.sequence)})),y=s.hash256(u)),(31&i)!==b.SIGHASH_SINGLE&&(31&i)!==b.SIGHASH_NONE){const e=this.outs.reduce(((e,t)=>e+8+c(t.script)),0);u=n.allocUnsafe(e),a=new o.BufferWriter(u,0),this.outs.forEach((e=>{a.writeUInt64(e.value),a.writeVarSlice(e.script)})),l=s.hash256(u)}else if((31&i)===b.SIGHASH_SINGLE&&e<this.outs.length){const t=this.outs[e];u=n.allocUnsafe(8+c(t.script)),a=new o.BufferWriter(u,0),a.writeUInt64(t.value),a.writeVarSlice(t.script),l=s.hash256(u)}u=n.allocUnsafe(156+c(t)),a=new o.BufferWriter(u,0);const m=this.ins[e];return a.writeInt32(this.version),a.writeSlice(d),a.writeSlice(y),a.writeSlice(m.hash),a.writeUInt32(m.index),a.writeVarSlice(t),a.writeUInt64(r),a.writeUInt32(m.sequence),a.writeSlice(l),a.writeUInt32(this.locktime),a.writeUInt32(i),s.hash256(u)}getHash(e){return e&&this.isCoinbase()?n.alloc(32,0):s.hash256(this.__toBuffer(void 0,void 0,e))}getId(){return(0,o.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(e,t){return this.__toBuffer(e,t,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,t){f(h.tuple(h.Number,h.Buffer),arguments),this.ins[e].script=t}setWitness(e,t){f(h.tuple(h.Number,[h.Buffer]),arguments),this.ins[e].witness=t}__toBuffer(e,t,r=!1){e||(e=n.allocUnsafe(this.byteLength(r)));const i=new o.BufferWriter(e,t||0);i.writeInt32(this.version),null!=this.time&&i.writeInt32(this.time);const s=r&&this.hasWitnesses();return s&&(i.writeUInt8(b.ADVANCED_TRANSACTION_MARKER),i.writeUInt8(b.ADVANCED_TRANSACTION_FLAG)),i.writeVarInt(this.ins.length),this.ins.forEach((e=>{i.writeSlice(e.hash),i.writeUInt32(e.index),i.writeVarSlice(e.script),i.writeUInt32(e.sequence)})),i.writeVarInt(this.outs.length),this.outs.forEach((e=>{void 0!==e.value?i.writeUInt64(e.value):i.writeSlice(e.valueBuffer),i.writeVarSlice(e.script)})),s&&this.ins.forEach((e=>{i.writeVector(e.witness)})),i.writeUInt32(this.locktime),void 0!==t?e.slice(t,i.offset):e}}t.Transaction=b,b.DEFAULT_SEQUENCE=4294967295,b.SIGHASH_DEFAULT=0,b.SIGHASH_ALL=1,b.SIGHASH_NONE=2,b.SIGHASH_SINGLE=3,b.SIGHASH_ANYONECANPAY=128,b.SIGHASH_OUTPUT_MASK=3,b.SIGHASH_INPUT_MASK=128,b.ADVANCED_TRANSACTION_MARKER=0,b.ADVANCED_TRANSACTION_FLAG=1},6391:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oneOf=t.Null=t.BufferN=t.Function=t.UInt32=t.UInt8=t.tuple=t.maybe=t.Hex=t.Buffer=t.String=t.Boolean=t.Array=t.Number=t.Hash256bit=t.Hash160bit=t.Buffer256bit=t.isTaptree=t.isTapleaf=t.TAPLEAF_VERSION_MASK=t.Network=t.ECPoint=t.Satoshi=t.Signer=t.BIP32Path=t.UInt31=t.isPoint=t.typeforce=void 0;const n=r(8764);t.typeforce=r(2401);const i=n.Buffer.alloc(32,0),o=n.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");t.isPoint=function(e){if(!n.Buffer.isBuffer(e))return!1;if(e.length<33)return!1;const t=e[0],r=e.slice(1,33);if(0===r.compare(i))return!1;if(r.compare(o)>=0)return!1;if((2===t||3===t)&&33===e.length)return!0;const s=e.slice(33);return 0!==s.compare(i)&&!(s.compare(o)>=0)&&4===t&&65===e.length};const s=Math.pow(2,31)-1;function a(e){return t.typeforce.String(e)&&!!e.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}function u(e){return!(!e||!("output"in e)||!n.Buffer.isBuffer(e.output)||void 0!==e.version&&(e.version&t.TAPLEAF_VERSION_MASK)!==e.version)}t.UInt31=function(e){return t.typeforce.UInt32(e)&&e<=s},t.BIP32Path=a,a.toJSON=()=>"BIP32 derivation path",t.Signer=function(e){return(t.typeforce.Buffer(e.publicKey)||"function"==typeof e.getPublicKey)&&"function"==typeof e.sign},t.Satoshi=function(e){return t.typeforce.UInt53(e)&&e<=21e14},t.ECPoint=t.typeforce.quacksLike("Point"),t.Network=t.typeforce.compile({messagePrefix:t.typeforce.oneOf(t.typeforce.Buffer,t.typeforce.String),bip32:{public:t.typeforce.UInt32,private:t.typeforce.UInt32},pubKeyHash:t.typeforce.UInt8,scriptHash:t.typeforce.UInt8,wif:t.typeforce.UInt8}),t.TAPLEAF_VERSION_MASK=254,t.isTapleaf=u,t.isTaptree=function e(r){return(0,t.Array)(r)?2===r.length&&r.every((t=>e(t))):u(r)},t.Buffer256bit=t.typeforce.BufferN(32),t.Hash160bit=t.typeforce.BufferN(20),t.Hash256bit=t.typeforce.BufferN(32),t.Number=t.typeforce.Number,t.Array=t.typeforce.Array,t.Boolean=t.typeforce.Boolean,t.String=t.typeforce.String,t.Buffer=t.typeforce.Buffer,t.Hex=t.typeforce.Hex,t.maybe=t.typeforce.maybe,t.tuple=t.typeforce.tuple,t.UInt8=t.typeforce.UInt8,t.UInt32=t.typeforce.UInt32,t.Function=t.typeforce.Function,t.BufferN=t.typeforce.BufferN,t.Null=t.typeforce.Null,t.oneOf=t.typeforce.oneOf},4195:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.BlockcoreIdentity=void 0;var o=r(2164),s=r(8616),a=function(){function e(e){this.verificationMethod=e}return e.prototype.ordered=function(e,t){var r=0;return e.id>t.id?r=1:e.id<t.id&&(r=-1),r},Object.defineProperty(e.prototype,"did",{get:function(){return this.verificationMethod.controller},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"short",{get:function(){return this.shorten(this.did)},enumerable:!1,configurable:!0}),e.prototype.shorten=function(e){var t=e.substring(e.lastIndexOf(":")+1),r=e.substring(0,e.lastIndexOf(":"));return"".concat(r,":").concat(t.substring(0,5),"...").concat(t.substring(t.length-5))},e.prototype.document=function(e){void 0===e&&(e=null);var t={};return t.id=this.did,t.verificationMethod=[this.verificationMethod],(null==e?void 0:e.service)&&(t.service=e.service.sort(this.ordered)),t.authentication=[this.getFragment(this.verificationMethod.id)],t.assertionMethod=[this.getFragment(this.verificationMethod.id)],t},e.prototype.configurationVerifiableCredential=function(e,t,r){return n(this,void 0,void 0,(function(){return i(this,(function(n){return[2,this.verifiableCredential({id:this.did,origin:e},t,r,null,"DomainLinkageCredential","https://identity.foundation/.well-known/did-configuration/v1")]}))}))},e.prototype.verifiableCredential=function(e,t,r,o,a,u){return void 0===u&&(u=void 0),n(this,void 0,void 0,(function(){var n,h,f,c,l;return i(this,(function(i){switch(i.label){case 0:return n=new Date,h=new Date((new Date).setFullYear(n.getFullYear()+100)),(f=Math.floor(h.getTime()/1e3))>2147483647&&(f=2147483647),c=Math.floor(n.getTime()/1e3),l={exp:f,iat:c,nbf:c,sub:this.did,vc:{"@context":u?["https://www.w3.org/2018/credentials/v1",u]:["https://www.w3.org/2018/credentials/v1"],type:["VerifiableCredential",a],credentialSubject:e}},o&&(l.jti=o),[4,(0,s.createVerifiableCredentialJwt)(l,t,{header:{kid:r}})];case 1:return[2,i.sent()]}}))}))},e.prototype.configuration=function(e,t,r,o){return void 0===o&&(o=!1),n(this,void 0,void 0,(function(){var n,a,u;return i(this,(function(i){switch(i.label){case 0:return[4,this.configurationVerifiableCredential(e,t,r)];case 1:return n=i.sent(),(a={})["@context"]="https://identity.foundation/.well-known/did-configuration/v1",a.linked_dids=[n],o&&(u=(0,s.normalizeCredential)(n,!0),a.linked_dids.push(u)),[2,a]}}))}))},e.prototype.getFragment=function(e){var t=e.indexOf("#");return-1===t?e:e.substring(t)},e.prototype.sign=function(e,t,r){return n(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,(0,o.createJWS)(t,e,{kid:r})];case 1:return[2,n.sent()]}}))}))},e.PREFIX="did:is",e}();t.BlockcoreIdentity=a},7647:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.BlockcoreIdentityTools=t.BlockcoreIdentity=void 0;var o=r(4195);Object.defineProperty(t,"BlockcoreIdentity",{enumerable:!0,get:function(){return o.BlockcoreIdentity}});var s=r(9901);Object.defineProperty(t,"BlockcoreIdentityTools",{enumerable:!0,get:function(){return s.BlockcoreIdentityTools}}),i(r(6250),t)},6250:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9901:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.BlockcoreIdentityTools=void 0;var a=r(4195),u=r(2164),h=r(9187),f=r(9885),c=s(r(9656)),l=function(){function e(){}return e.prototype.getTimestampInSeconds=function(){return Math.floor(Date.now()/1e3)},e.prototype.getSigner=function(e){return(0,u.ES256KSigner)(e)},e.prototype.getIssuer=function(e,t){return{did:e,signer:(0,u.ES256KSigner)(t),alg:"ES256K"}},e.prototype.generatePrivateKey=function(){return c.utils.randomPrivateKey()},e.prototype.bytesToHex=function(e){return c.utils.bytesToHex(e)},e.prototype.getVerificationMethod=function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=a.BlockcoreIdentity.PREFIX);var n=this.convertPublicKeyToSchnorrPublicKeyHex(e),i="".concat(r,":").concat(n);return{id:"#key".concat(t),type:"JsonWebKey2020",controller:i,publicKeyJwk:this.convertPublicKeyToJsonWebKey(e)}},e.prototype.getIdentifierFromJsonWebKey=function(e){var t=this.convertJsonWebKeyToPublicKey(e);return this.convertPublicKeyToSchnorrPublicKeyHex(t)},e.prototype.getSchnorrPublicKeyFromPrivateKey=function(e){return c.schnorr.getPublicKey(e)},e.prototype.getPublicKeyFromPrivateKey=function(e,t){return void 0===t&&(t=!1),c.getPublicKey(e,t)},e.prototype.convertPublicKeyToSchnorrPublicKeyHex=function(e){return e.length>32&&(e=e.slice(1)),e.length>32&&(e=e.subarray(0,32)),this.bytesToHex(e)},e.prototype.convertPrivateKeyToJsonWebKeyPair=function(e){var t=c.getPublicKey(e),r=c.utils.bytesToHex(t),i=h.base64url.encode(e),o=this.convertPublicKeyHexToJsonWebKey(r);return{publicJwk:o,privateJwk:n(n({},o),{d:i})}},e.prototype.convertPrivateKeyToJsonWebKeyPairWithoutPadding=function(e){var t=c.getPublicKey(e),r=c.utils.bytesToHex(t),i=c.Point.fromHex(r).toRawBytes(!1),o=f.base64url.baseEncode(e),s={kty:"EC",crv:"secp256k1",x:f.base64url.baseEncode(i.subarray(1,33)),y:f.base64url.baseEncode(i.subarray(33,65))};return{publicJwk:s,privateJwk:n(n({},s),{d:o})}},e.prototype.convertPublicKeyHexToJsonWebKey=function(e){if(e.length<=64)throw new Error("The public key hex must be uncompressed.");var t=c.Point.fromHex(e),r=c.utils.hexToBytes(this.numTo32String(t.x)),n=c.utils.hexToBytes(this.numTo32String(t.y));return{kty:"EC",crv:"secp256k1",x:h.base64url.encode(r),y:h.base64url.encode(n)}},e.prototype.convertPublicKeyToJsonWebKey=function(e){return this.convertPublicKeyHexToJsonWebKey(this.bytesToHex(e))},e.prototype.convertJsonWebKeyToPublicKeyHex=function(e){return c.utils.bytesToHex(this.convertJsonWebKeyToPublicKey(e))},e.prototype.convertJsonWebKeyToPublicKey=function(e){if(!e.x)throw new Error("The key has undefined x.");if(!e.y)throw new Error("The key has undefined y.");var t=h.base64url.decode(e.x),r=h.base64url.decode(e.y),n=new c.Point(this.bytesToNumber(t),this.bytesToNumber(r));return n.assertValidity(),n.toRawBytes(!1)},e.prototype.bytesToNumber=function(e){return this.hexToNumber(this.bytesToHex(e))},e.prototype.hexToNumber=function(e){if("string"!=typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt("0x".concat(e))},e.prototype.numTo32String=function(e){return e.toString(16).padStart(64,"0")},e}();t.BlockcoreIdentityTools=l},7320:(e,t)=>{"use strict";function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function n(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function i(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function o(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function s(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function a(e,t){i(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.output=t.exists=t.hash=t.bytes=t.bool=t.number=void 0,t.number=r,t.bool=n,t.bytes=i,t.hash=o,t.exists=s,t.output=a;const u={number:r,bool:n,bytes:i,hash:o,exists:s,output:a};t.default=u},7505:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHA2=void 0;const n=r(7320),i=r(8089);class o extends i.Hash{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.createView)(this.buffer)}update(e){n.default.exists(this);const{view:t,buffer:r,blockLen:o}=this,s=(e=(0,i.toBytes)(e)).length;for(let n=0;n<s;){const a=Math.min(o-this.pos,s-n);if(a!==o)r.set(e.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===o&&(this.process(t,0),this.pos=0);else{const t=(0,i.createView)(e);for(;o<=s-n;n+=o)this.process(t,n)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){n.default.exists(this),n.default.output(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:o,isLE:s}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(r,0),a=0);for(let e=a;e<o;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),u=n?4:0,h=n?0:4;e.setUint32(t+u,s,n),e.setUint32(t+h,a,n)}(r,o-8,BigInt(8*this.length),s),this.process(r,0);const u=(0,i.createView)(e),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=h/4,c=this.get();if(f>c.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<f;e++)u.setUint32(4*e,c[e],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}t.SHA2=o},6873:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add=t.toBig=t.split=t.fromBig=void 0;const r=BigInt(2**32-1),n=BigInt(32);function i(e,t=!1){return t?{h:Number(e&r),l:Number(e>>n&r)}:{h:0|Number(e>>n&r),l:0|Number(e&r)}}function o(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let o=0;o<e.length;o++){const{h:s,l:a}=i(e[o],t);[r[o],n[o]]=[s,a]}return[r,n]}function s(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}}t.fromBig=i,t.split=o,t.toBig=(e,t)=>BigInt(e>>>0)<<n|BigInt(t>>>0),t.add=s;const a={fromBig:i,split:o,toBig:t.toBig,shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,r)=>e<<r|t>>>32-r,rotlSL:(e,t,r)=>t<<r|e>>>32-r,rotlBH:(e,t,r)=>t<<r-32|e>>>64-r,rotlBL:(e,t,r)=>e<<r-32|t>>>64-r,add:s,add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,add5H:(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)};t.default=a},4421:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto={node:void 0,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0}},9569:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=void 0;const n=r(7320),i=r(8089);class o extends i.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,n.default.hash(e);const r=(0,i.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?e.create().update(r).digest():r);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return n.default.exists(this),this.iHash.update(e),this}digestInto(e){n.default.exists(this),n.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.hmac=(e,t,r)=>new o(e,t).update(r).digest(),t.hmac.create=(e,t)=>new o(e,t)},9023:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pbkdf2Async=t.pbkdf2=void 0;const n=r(7320),i=r(9569),o=r(8089);function s(e,t,r,s){n.default.hash(e);const a=(0,o.checkOpts)({dkLen:32,asyncTick:10},s),{c:u,dkLen:h,asyncTick:f}=a;if(n.default.number(u),n.default.number(h),n.default.number(f),u<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=(0,o.toBytes)(t),l=(0,o.toBytes)(r),d=new Uint8Array(h),p=i.hmac.create(e,c),y=p._cloneInto().update(l);return{c:u,dkLen:h,asyncTick:f,DK:d,PRF:p,PRFSalt:y}}function a(e,t,r,n,i){return e.destroy(),t.destroy(),n&&n.destroy(),i.fill(0),r}t.pbkdf2=function(e,t,r,n){const{c:i,dkLen:u,DK:h,PRF:f,PRFSalt:c}=s(e,t,r,n);let l;const d=new Uint8Array(4),p=(0,o.createView)(d),y=new Uint8Array(f.outputLen);for(let e=1,t=0;t<u;e++,t+=f.outputLen){const r=h.subarray(t,t+f.outputLen);p.setInt32(0,e,!1),(l=c._cloneInto(l)).update(d).digestInto(y),r.set(y.subarray(0,r.length));for(let e=1;e<i;e++){f._cloneInto(l).update(y).digestInto(y);for(let e=0;e<r.length;e++)r[e]^=y[e]}}return a(f,c,h,l,y)},t.pbkdf2Async=async function(e,t,r,n){const{c:i,dkLen:u,asyncTick:h,DK:f,PRF:c,PRFSalt:l}=s(e,t,r,n);let d;const p=new Uint8Array(4),y=(0,o.createView)(p),m=new Uint8Array(c.outputLen);for(let e=1,t=0;t<u;e++,t+=c.outputLen){const r=f.subarray(t,t+c.outputLen);y.setInt32(0,e,!1),(d=l._cloneInto(d)).update(p).digestInto(m),r.set(m.subarray(0,r.length)),await(0,o.asyncLoop)(i-1,h,(e=>{c._cloneInto(d).update(m).digestInto(m);for(let e=0;e<r.length;e++)r[e]^=m[e]}))}return a(c,l,f,d,m)}},830:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ripemd160=t.RIPEMD160=void 0;const n=r(7505),i=r(8089),o=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),s=Uint8Array.from({length:16},((e,t)=>t)),a=s.map((e=>(9*e+5)%16));let u=[s],h=[a];for(let e=0;e<4;e++)for(let t of[u,h])t.push(t[e].map((e=>o[e])));const f=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),c=u.map(((e,t)=>e.map((e=>f[t][e])))),l=h.map(((e,t)=>e.map((e=>f[t][e])))),d=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),p=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),y=(e,t)=>e<<t|e>>>32-t;function m(e,t,r,n){return 0===e?t^r^n:1===e?t&r|~t&n:2===e?(t|~r)^n:3===e?t&n|r&~n:t^(r|~n)}const g=new Uint32Array(16);class b extends n.SHA2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:r,h3:n,h4:i}=this;return[e,t,r,n,i]}set(e,t,r,n,i){this.h0=0|e,this.h1=0|t,this.h2=0|r,this.h3=0|n,this.h4=0|i}process(e,t){for(let r=0;r<16;r++,t+=4)g[r]=e.getUint32(t,!0);let r=0|this.h0,n=r,i=0|this.h1,o=i,s=0|this.h2,a=s,f=0|this.h3,b=f,w=0|this.h4,v=w;for(let e=0;e<5;e++){const t=4-e,_=d[e],E=p[e],S=u[e],M=h[e],A=c[e],k=l[e];for(let t=0;t<16;t++){const n=y(r+m(e,i,s,f)+g[S[t]]+_,A[t])+w|0;r=w,w=f,f=0|y(s,10),s=i,i=n}for(let e=0;e<16;e++){const r=y(n+m(t,o,a,b)+g[M[e]]+E,k[e])+v|0;n=v,v=b,b=0|y(a,10),a=o,o=r}}this.set(this.h1+s+b|0,this.h2+f+v|0,this.h3+w+n|0,this.h4+r+o|0,this.h0+i+a|0)}roundClean(){g.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}t.RIPEMD160=b,t.ripemd160=(0,i.wrapConstructor)((()=>new b))},3963:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha1=void 0;const n=r(7505),i=r(8089),o=(e,t)=>e<<t|e>>>32-t>>>0,s=(e,t,r)=>e&t^e&r^t&r,a=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]),u=new Uint32Array(80);class h extends n.SHA2{constructor(){super(64,20,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4]}get(){const{A:e,B:t,C:r,D:n,E:i}=this;return[e,t,r,n,i]}set(e,t,r,n,i){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i}process(e,t){for(let r=0;r<16;r++,t+=4)u[r]=e.getUint32(t,!1);for(let e=16;e<80;e++)u[e]=o(u[e-3]^u[e-8]^u[e-14]^u[e-16],1);let{A:r,B:n,C:i,D:a,E:h}=this;for(let e=0;e<80;e++){let t,c;e<20?(t=(f=n)&i^~f&a,c=1518500249):e<40?(t=n^i^a,c=1859775393):e<60?(t=s(n,i,a),c=2400959708):(t=n^i^a,c=3395469782);const l=o(r,5)+t+h+c+u[e]|0;h=a,a=i,i=o(n,30),n=r,r=l}var f;r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,a=a+this.D|0,h=h+this.E|0,this.set(r,n,i,a,h)}roundClean(){u.fill(0)}destroy(){this.set(0,0,0,0,0),this.buffer.fill(0)}}t.sha1=(0,i.wrapConstructor)((()=>new h))},3061:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha224=t.sha256=void 0;const n=r(7505),i=r(8089),o=(e,t,r)=>e&t^e&r^t&r,s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),u=new Uint32Array(64);class h extends n.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)u[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=u[e-15],r=u[e-2],n=(0,i.rotr)(t,7)^(0,i.rotr)(t,18)^t>>>3,o=(0,i.rotr)(r,17)^(0,i.rotr)(r,19)^r>>>10;u[e]=o+u[e-7]+n+u[e-16]|0}let{A:r,B:n,C:a,D:h,E:f,F:c,G:l,H:d}=this;for(let e=0;e<64;e++){const t=d+((0,i.rotr)(f,6)^(0,i.rotr)(f,11)^(0,i.rotr)(f,25))+((p=f)&c^~p&l)+s[e]+u[e]|0,y=((0,i.rotr)(r,2)^(0,i.rotr)(r,13)^(0,i.rotr)(r,22))+o(r,n,a)|0;d=l,l=c,c=f,f=h+t|0,h=a,a=n,n=r,r=t+y|0}var p;r=r+this.A|0,n=n+this.B|0,a=a+this.C|0,h=h+this.D|0,f=f+this.E|0,c=c+this.F|0,l=l+this.G|0,d=d+this.H|0,this.set(r,n,a,h,f,c,l,d)}roundClean(){u.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class f extends h{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}t.sha256=(0,i.wrapConstructor)((()=>new h)),t.sha224=(0,i.wrapConstructor)((()=>new f))},6262:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha384=t.sha512_256=t.sha512_224=t.sha512=t.SHA512=void 0;const n=r(7505),i=r(6873),o=r(8089),[s,a]=i.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),u=new Uint32Array(80),h=new Uint32Array(80);class f extends n.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:o,Dh:s,Dl:a,Eh:u,El:h,Fh:f,Fl:c,Gh:l,Gl:d,Hh:p,Hl:y}=this;return[e,t,r,n,i,o,s,a,u,h,f,c,l,d,p,y]}set(e,t,r,n,i,o,s,a,u,h,f,c,l,d,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|u,this.El=0|h,this.Fh=0|f,this.Fl=0|c,this.Gh=0|l,this.Gl=0|d,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let r=0;r<16;r++,t+=4)u[r]=e.getUint32(t),h[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|u[e-15],r=0|h[e-15],n=i.default.rotrSH(t,r,1)^i.default.rotrSH(t,r,8)^i.default.shrSH(t,r,7),o=i.default.rotrSL(t,r,1)^i.default.rotrSL(t,r,8)^i.default.shrSL(t,r,7),s=0|u[e-2],a=0|h[e-2],f=i.default.rotrSH(s,a,19)^i.default.rotrBH(s,a,61)^i.default.shrSH(s,a,6),c=i.default.rotrSL(s,a,19)^i.default.rotrBL(s,a,61)^i.default.shrSL(s,a,6),l=i.default.add4L(o,c,h[e-7],h[e-16]),d=i.default.add4H(l,n,f,u[e-7],u[e-16]);u[e]=0|d,h[e]=0|l}let{Ah:r,Al:n,Bh:o,Bl:f,Ch:c,Cl:l,Dh:d,Dl:p,Eh:y,El:m,Fh:g,Fl:b,Gh:w,Gl:v,Hh:_,Hl:E}=this;for(let e=0;e<80;e++){const t=i.default.rotrSH(y,m,14)^i.default.rotrSH(y,m,18)^i.default.rotrBH(y,m,41),S=i.default.rotrSL(y,m,14)^i.default.rotrSL(y,m,18)^i.default.rotrBL(y,m,41),M=y&g^~y&w,A=m&b^~m&v,k=i.default.add5L(E,S,A,a[e],h[e]),x=i.default.add5H(k,_,t,M,s[e],u[e]),T=0|k,P=i.default.rotrSH(r,n,28)^i.default.rotrBH(r,n,34)^i.default.rotrBH(r,n,39),I=i.default.rotrSL(r,n,28)^i.default.rotrBL(r,n,34)^i.default.rotrBL(r,n,39),R=r&o^r&c^o&c,O=n&f^n&l^f&l;_=0|w,E=0|v,w=0|g,v=0|b,g=0|y,b=0|m,({h:y,l:m}=i.default.add(0|d,0|p,0|x,0|T)),d=0|c,p=0|l,c=0|o,l=0|f,o=0|r,f=0|n;const B=i.default.add3L(T,I,O);r=i.default.add3H(B,x,P,R),n=0|B}({h:r,l:n}=i.default.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:o,l:f}=i.default.add(0|this.Bh,0|this.Bl,0|o,0|f)),({h:c,l}=i.default.add(0|this.Ch,0|this.Cl,0|c,0|l)),({h:d,l:p}=i.default.add(0|this.Dh,0|this.Dl,0|d,0|p)),({h:y,l:m}=i.default.add(0|this.Eh,0|this.El,0|y,0|m)),({h:g,l:b}=i.default.add(0|this.Fh,0|this.Fl,0|g,0|b)),({h:w,l:v}=i.default.add(0|this.Gh,0|this.Gl,0|w,0|v)),({h:_,l:E}=i.default.add(0|this.Hh,0|this.Hl,0|_,0|E)),this.set(r,n,o,f,c,l,d,p,y,m,g,b,w,v,_,E)}roundClean(){u.fill(0),h.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}t.SHA512=f;class c extends f{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class l extends f{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class d extends f{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}t.sha512=(0,o.wrapConstructor)((()=>new f)),t.sha512_224=(0,o.wrapConstructor)((()=>new c)),t.sha512_256=(0,o.wrapConstructor)((()=>new l)),t.sha384=(0,o.wrapConstructor)((()=>new d))},8089:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const n=r(4421);if(t.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),t.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),t.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),t.rotr=(e,t)=>e<<32-t|e>>>t,t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!t.isLE)throw new Error("Non little-endian hardware is not supported");const i=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function o(e){if("string"!=typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}function s(e){if("string"==typeof e&&(e=o(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}t.bytesToHex=function(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=i[e[r]];return t},t.hexToBytes=function(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r,i=e.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t},t.nextTick=async()=>{},t.asyncLoop=async function(e,r,n){let i=Date.now();for(let o=0;o<e;o++){n(o);const e=Date.now()-i;e>=0&&e<r||(await(0,t.nextTick)(),i+=e)}},t.utf8ToBytes=o,t.toBytes=s,t.concatBytes=function(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r},t.Hash=class{clone(){return this._cloneInto()}},t.checkOpts=function(e,t){if(void 0!==t&&("object"!=typeof t||(r=t,"[object Object]"!==Object.prototype.toString.call(r)||r.constructor!==Object)))throw new TypeError("Options should be object or undefined");var r;return Object.assign(e,t)},t.wrapConstructor=function(e){const t=t=>e().update(s(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(s(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.randomBytes=function(e=32){if(n.crypto.web)return n.crypto.web.getRandomValues(new Uint8Array(e));if(n.crypto.node)return new Uint8Array(n.crypto.node.randomBytes(e).buffer);throw new Error("The environment doesn't have randomBytes function")}},9656:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.schnorr=t.verify=t.signSync=t.sign=t.getSharedSecret=t.recoverPublicKey=t.getPublicKey=t.Signature=t.Point=t.CURVE=void 0;const n=r(9159),i=BigInt(0),o=BigInt(1),s=BigInt(2),a=BigInt(3),u=BigInt(8),h=Object.freeze({a:i,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:o,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});t.CURVE=h;const f=(e,t)=>(e+t/s)/t,c={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(e){const{n:t}=h,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-o*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),u=f(s*e,t),c=f(-n*e,t);let l=L(e-u*r-c*i,t),d=L(-u*n-c*s,t);const p=l>a,y=d>a;if(p&&(l=t-l),y&&(d=t-d),l>a||d>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:p,k1:l,k2neg:y,k2:d}}};function l(e){const{a:t,b:r}=h,n=L(e*e),i=L(n*e);return L(i+t*e+r)}const d=h.a===i;class p extends Error{constructor(e){super(e)}}function y(e){if(!(e instanceof m))throw new TypeError("JacobianPoint expected")}class m{constructor(e,t,r){this.x=e,this.y=t,this.z=r}static fromAffine(e){if(!(e instanceof w))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(w.ZERO)?m.ZERO:new m(e.x,e.y,o)}static toAffineBatch(e){const t=function(e,t=h.P){const r=new Array(e.length),n=D(e.reduce(((e,n,o)=>n===i?e:(r[o]=e,L(e*n,t))),o),t);return e.reduceRight(((e,n,o)=>n===i?e:(r[o]=L(e*r[o],t),L(e*n,t))),n),r}(e.map((e=>e.z)));return e.map(((e,r)=>e.toAffine(t[r])))}static normalizeZ(e){return m.toAffineBatch(e).map(m.fromAffine)}equals(e){y(e);const{x:t,y:r,z:n}=this,{x:i,y:o,z:s}=e,a=L(n*n),u=L(s*s),h=L(t*u),f=L(i*a),c=L(L(r*s)*u),l=L(L(o*n)*a);return h===f&&c===l}negate(){return new m(this.x,L(-this.y),this.z)}double(){const{x:e,y:t,z:r}=this,n=L(e*e),i=L(t*t),o=L(i*i),h=e+i,f=L(s*(L(h*h)-n-o)),c=L(a*n),l=L(c*c),d=L(l-s*f),p=L(c*(f-d)-u*o),y=L(s*t*r);return new m(d,p,y)}add(e){y(e);const{x:t,y:r,z:n}=this,{x:o,y:a,z:u}=e;if(o===i||a===i)return this;if(t===i||r===i)return e;const h=L(n*n),f=L(u*u),c=L(t*f),l=L(o*h),d=L(L(r*u)*f),p=L(L(a*n)*h),g=L(l-c),b=L(p-d);if(g===i)return b===i?this.double():m.ZERO;const w=L(g*g),v=L(g*w),_=L(c*w),E=L(b*b-v-s*_),S=L(b*(_-E)-d*v),M=L(n*u*g);return new m(E,S,M)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const t=m.ZERO;if("bigint"==typeof e&&e===i)return t;let r=C(e);if(r===o)return this;if(!d){let e=t,n=this;for(;r>i;)r&o&&(e=e.add(n)),n=n.double(),r>>=o;return e}let{k1neg:n,k1:s,k2neg:a,k2:u}=c.splitScalar(r),h=t,f=t,l=this;for(;s>i||u>i;)s&o&&(h=h.add(l)),u&o&&(f=f.add(l)),l=l.double(),s>>=o,u>>=o;return n&&(h=h.negate()),a&&(f=f.negate()),f=new m(L(f.x*c.beta),f.y,f.z),h.add(f)}precomputeWindow(e){const t=d?128/e+1:256/e+1,r=[];let n=this,i=n;for(let o=0;o<t;o++){i=n,r.push(i);for(let t=1;t<2**(e-1);t++)i=i.add(n),r.push(i);n=i.double()}return r}wNAF(e,t){!t&&this.equals(m.BASE)&&(t=w.BASE);const r=t&&t._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=t&&b.get(t);n||(n=this.precomputeWindow(r),t&&1!==r&&(n=m.normalizeZ(n),b.set(t,n)));let i=m.ZERO,s=m.BASE;const a=1+(d?128/r:256/r),u=2**(r-1),h=BigInt(2**r-1),f=2**r,c=BigInt(r);for(let t=0;t<a;t++){const r=t*u;let a=Number(e&h);e>>=c,a>u&&(a-=f,e+=o);const l=r,d=r+Math.abs(a)-1,p=t%2!=0,y=a<0;0===a?s=s.add(g(p,n[l])):i=i.add(g(y,n[d]))}return{p:i,f:s}}multiply(e,t){let r,n,i=C(e);if(d){const{k1neg:e,k1:o,k2neg:s,k2:a}=c.splitScalar(i);let{p:u,f:h}=this.wNAF(o,t),{p:f,f:l}=this.wNAF(a,t);u=g(e,u),f=g(s,f),f=new m(L(f.x*c.beta),f.y,f.z),r=u.add(f),n=h.add(l)}else{const{p:e,f:o}=this.wNAF(i,t);r=e,n=o}return m.normalizeZ([r,n])[0]}toAffine(e){const{x:t,y:r,z:n}=this,i=this.equals(m.ZERO);null==e&&(e=i?u:D(n));const s=e,a=L(s*s),h=L(a*s),f=L(t*a),c=L(r*h),l=L(n*s);if(i)return w.ZERO;if(l!==o)throw new Error("invZ was invalid");return new w(f,c)}}function g(e,t){const r=t.negate();return e?r:t}m.BASE=new m(h.Gx,h.Gy,o),m.ZERO=new m(i,o,i);const b=new WeakMap;class w{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,b.delete(this)}hasEvenY(){return this.y%s===i}static fromCompressedHex(e){const t=32===e.length,r=O(t?e:e.subarray(1));if(!q(r))throw new Error("Point is not on curve");let n=function(e){const{P:t}=h,r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),u=BigInt(44),f=BigInt(88),c=e*e*e%t,l=c*c*e%t,d=j(l,a)*l%t,p=j(d,a)*l%t,y=j(p,s)*c%t,m=j(y,n)*y%t,g=j(m,i)*m%t,b=j(g,u)*g%t,w=j(b,f)*b%t,v=j(w,u)*g%t,_=j(v,a)*l%t,E=j(_,o)*m%t,S=j(E,r)*c%t,M=j(S,s);if(M*M%t!==e)throw new Error("Cannot find square root");return M}(l(r));const i=(n&o)===o;t?i&&(n=L(-n)):1==(1&e[0])!==i&&(n=L(-n));const u=new w(r,n);return u.assertValidity(),u}static fromUncompressedHex(e){const t=O(e.subarray(1,33)),r=O(e.subarray(33,65)),n=new w(t,r);return n.assertValidity(),n}static fromHex(e){const t=B(e),r=t.length,n=t[0];if(32===r)return this.fromCompressedHex(t);if(33===r&&(2===n||3===n))return this.fromCompressedHex(t);if(65===r&&4===n)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${r}`)}static fromPrivateKey(e){return w.BASE.multiply(K(e))}static fromSignature(e,t,r){const{r:n,s:i}=W(t);if(![0,1,2,3].includes(r))throw new Error("Cannot recover: invalid recovery bit");const o=N(B(e)),{n:s}=h,a=2===r||3===r?n+s:n,u=D(a,s),f=L(-o*u,s),c=L(i*u,s),l=1&r?"03":"02",d=w.fromHex(l+x(a)),p=w.BASE.multiplyAndAddUnsafe(d,f,c);if(!p)throw new Error("Cannot recover signature: point at infinify");return p.assertValidity(),p}toRawBytes(e=!1){return R(this.toHex(e))}toHex(e=!1){const t=x(this.x);return e?`${this.hasEvenY()?"02":"03"}${t}`:`04${t}${x(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:t,y:r}=this;if(!q(t)||!q(r))throw new Error(e);const n=L(r*r);if(L(n-l(t))!==i)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new w(this.x,L(-this.y))}double(){return m.fromAffine(this).double().toAffine()}add(e){return m.fromAffine(this).add(m.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return m.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,r){const n=m.fromAffine(this),s=t===i||t===o||this!==w.BASE?n.multiplyUnsafe(t):n.multiply(t),a=m.fromAffine(e).multiplyUnsafe(r),u=s.add(a);return u.equals(m.ZERO)?void 0:u.toAffine()}}function v(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function _(e){if(e.length<2||2!==e[0])throw new Error(`Invalid signature integer tag: ${A(e)}`);const t=e[1],r=e.subarray(2,t+2);if(!t||r.length!==t)throw new Error("Invalid signature integer: wrong length");if(0===r[0]&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:O(r),left:e.subarray(t+2)}}t.Point=w,w.BASE=new w(h.Gx,h.Gy),w.ZERO=new w(i,i);class E{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){const t=e instanceof Uint8Array,r="Signature.fromCompact";if("string"!=typeof e&&!t)throw new TypeError(`${r}: Expected string or Uint8Array`);const n=t?A(e):e;if(128!==n.length)throw new Error(`${r}: Expected 64-byte hex`);return new E(I(n.slice(0,64)),I(n.slice(64,128)))}static fromDER(e){const t=e instanceof Uint8Array;if("string"!=typeof e&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r,s:n}=function(e){if(e.length<2||48!=e[0])throw new Error(`Invalid signature tag: ${A(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:r}=_(e.subarray(2)),{data:n,left:i}=_(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${A(i)}`);return{r:t,s:n}}(t?e:R(e));return new E(r,n)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:t}=this;if(!F(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!F(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=h.n>>o;return this.s>e}normalizeS(){return this.hasHighS()?new E(this.r,L(-this.s,h.n)):this}toDERRawBytes(){return R(this.toDERHex())}toDERHex(){const e=v(P(this.s)),t=v(P(this.r)),r=e.length/2,n=t.length/2,i=P(r),o=P(n);return`30${P(n+r+4)}02${o}${t}02${i}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return R(this.toCompactHex())}toCompactHex(){return x(this.r)+x(this.s)}}function S(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}t.Signature=E;const M=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function A(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let r=0;r<e.length;r++)t+=M[e[r]];return t}const k=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function x(e){if("bigint"!=typeof e)throw new Error("Expected bigint");if(!(i<=e&&e<k))throw new Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function T(e){const t=R(x(e));if(32!==t.length)throw new Error("Error: expected 32 bytes");return t}function P(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function I(e){if("string"!=typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function R(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r,i=e.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}function O(e){return I(A(e))}function B(e){return e instanceof Uint8Array?Uint8Array.from(e):R(e)}function C(e){if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if("bigint"==typeof e&&F(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function L(e,t=h.P){const r=e%t;return r>=i?r:t+r}function j(e,t){const{P:r}=h;let n=e;for(;t-- >i;)n*=n,n%=r;return n}function D(e,t=h.P){if(e===i||t<=i)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=L(e,t),n=t,s=i,a=o,u=o,f=i;for(;r!==i;){const e=n/r,t=n%r,i=s-u*e,o=a-f*e;n=r,r=t,s=u,a=f,u=i,f=o}if(n!==o)throw new Error("invert: does not exist");return L(s,t)}function N(e,t=!1){const r=function(e){const t=8*e.length-256,r=O(e);return t>0?r>>BigInt(t):r}(e);if(t)return r;const{n}=h;return r>=n?r-n:r}let U,H;class z{constructor(e,t){if(this.hashLen=e,this.qByteLen=t,"number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return t.utils.hmacSha256(this.k,...e)}hmacSync(...e){return H(this.k,...e)}checkSync(){if("function"!=typeof H)throw new p("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),0!==e.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),0!==e.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);const r=this.v.slice();t.push(r),e+=this.v.length}return S(...t)}generateSync(){this.checkSync(),this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);const r=this.v.slice();t.push(r),e+=this.v.length}return S(...t)}}function F(e){return i<e&&e<h.n}function q(e){return i<e&&e<h.P}function $(e,t,r,n=!0){const{n:s}=h,a=N(e,!0);if(!F(a))return;const u=D(a,s),f=w.BASE.multiply(a),c=L(f.x,s);if(c===i)return;const l=L(u*L(t+r*c,s),s);if(l===i)return;let d=new E(c,l),p=(f.x===d.r?0:2)|Number(f.y&o);return n&&d.hasHighS()&&(d=d.normalizeS(),p^=1),{sig:d,recovery:p}}function K(e){let t;if("bigint"==typeof e)t=e;else if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if("string"==typeof e){if(64!==e.length)throw new Error("Expected 32 bytes of private key");t=I(e)}else{if(!(e instanceof Uint8Array))throw new TypeError("Expected valid private key");if(32!==e.length)throw new Error("Expected 32 bytes of private key");t=O(e)}if(!F(t))throw new Error("Expected private key: 0 < key < n");return t}function V(e){return e instanceof w?(e.assertValidity(),e):w.fromHex(e)}function W(e){if(e instanceof E)return e.assertValidity(),e;try{return E.fromDER(e)}catch(t){return E.fromCompact(e)}}function G(e){const t=e instanceof Uint8Array,r="string"==typeof e,n=(t||r)&&e.length;return t?33===n||65===n:r?66===n||130===n:e instanceof w}function Y(e){return O(e.length>32?e.slice(0,32):e)}function J(e){const t=Y(e),r=L(t,h.n);return Z(r<i?t:r)}function Z(e){return T(e)}function X(e,r,n){if(null==e)throw new Error(`sign: expected valid message hash, not "${e}"`);const i=B(e),o=K(r),s=[Z(o),J(i)];if(null!=n){!0===n&&(n=t.utils.randomBytes(32));const e=B(n);if(32!==e.length)throw new Error("sign: Expected 32 bytes of extra data");s.push(e)}return{seed:S(...s),m:Y(i),d:o}}function Q(e,t){const{sig:r,recovery:n}=e,{der:i,recovered:o}=Object.assign({canonical:!0,der:!0},t),s=i?r.toDERRawBytes():r.toCompactRawBytes();return o?[s,n]:s}t.getPublicKey=function(e,t=!1){return w.fromPrivateKey(e).toRawBytes(t)},t.recoverPublicKey=function(e,t,r,n=!1){return w.fromSignature(e,t,r).toRawBytes(n)},t.getSharedSecret=function(e,t,r=!1){if(G(e))throw new TypeError("getSharedSecret: first arg must be private key");if(!G(t))throw new TypeError("getSharedSecret: second arg must be public key");const n=V(t);return n.assertValidity(),n.multiply(K(e)).toRawBytes(r)},t.sign=async function(e,t,r={}){const{seed:n,m:i,d:o}=X(e,t,r.extraEntropy),s=new z(32,32);let a;for(await s.reseed(n);!(a=$(await s.generate(),i,o,r.canonical));)await s.reseed();return Q(a,r)},t.signSync=function(e,t,r={}){const{seed:n,m:i,d:o}=X(e,t,r.extraEntropy),s=new z(32,32);let a;for(s.reseedSync(n);!(a=$(s.generateSync(),i,o,r.canonical));)s.reseedSync();return Q(a,r)};const ee={strict:!0};function te(e){return L(O(e),h.n)}t.verify=function(e,t,r,n=ee){let i;try{i=W(e),t=B(t)}catch(e){return!1}const{r:o,s}=i;if(n.strict&&i.hasHighS())return!1;const a=N(t);let u;try{u=V(r)}catch(e){return!1}const{n:f}=h,c=D(s,f),l=L(a*c,f),d=L(o*c,f),p=w.BASE.multiplyAndAddUnsafe(u,l,d);return!!p&&L(p.x,f)===o};class re{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){const t=B(e);if(64!==t.length)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${t.length}`);const r=O(t.subarray(0,32)),n=O(t.subarray(32,64));return new re(r,n)}assertValidity(){const{r:e,s:t}=this;if(!q(e)||!F(t))throw new Error("Invalid signature")}toHex(){return x(this.r)+x(this.s)}toRawBytes(){return R(this.toHex())}}class ne{constructor(e,r,n=t.utils.randomBytes()){if(null==e)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=B(e);const{x:i,scalar:o}=this.getScalar(K(r));if(this.px=i,this.d=o,this.rand=B(n),32!==this.rand.length)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){const t=w.fromPrivateKey(e),r=t.hasEvenY()?e:h.n-e;return{point:t,scalar:r,x:t.toRawX()}}initNonce(e,t){return T(e^O(t))}finalizeNonce(e){const t=L(O(e),h.n);if(t===i)throw new Error("sign: Creation of signature failed. k is zero");const{point:r,x:n,scalar:o}=this.getScalar(t);return{R:r,rx:n,k:o}}finalizeSig(e,t,r,n){return new re(e.x,L(t+r*n,h.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){const{m:e,d:r,px:n,rand:i}=this,o=t.utils.taggedHash,s=this.initNonce(r,await o(he.aux,i)),{R:a,rx:u,k:h}=this.finalizeNonce(await o(he.nonce,s,n,e)),f=te(await o(he.challenge,u,n,e)),c=this.finalizeSig(a,h,f,r);return await se(c,e,n)||this.error(),c}calcSync(){const{m:e,d:r,px:n,rand:i}=this,o=t.utils.taggedHashSync,s=this.initNonce(r,o(he.aux,i)),{R:a,rx:u,k:h}=this.finalizeNonce(o(he.nonce,s,n,e)),f=te(o(he.challenge,u,n,e)),c=this.finalizeSig(a,h,f,r);return ae(c,e,n)||this.error(),c}}function ie(e,t,r){const n=e instanceof re,i=n?e:re.fromHex(e);return n&&i.assertValidity(),{...i,m:B(t),P:V(r)}}function oe(e,t,r,n){const i=w.BASE.multiplyAndAddUnsafe(t,K(r),L(-n,h.n));return!(!i||!i.hasEvenY()||i.x!==e)}async function se(e,r,n){try{const{r:i,s:o,m:s,P:a}=ie(e,r,n),u=te(await t.utils.taggedHash(he.challenge,T(i),a.toRawX(),s));return oe(i,a,o,u)}catch(e){return!1}}function ae(e,r,n){try{const{r:i,s:o,m:s,P:a}=ie(e,r,n),u=te(t.utils.taggedHashSync(he.challenge,T(i),a.toRawX(),s));return oe(i,a,o,u)}catch(e){if(e instanceof p)throw e;return!1}}t.schnorr={Signature:re,getPublicKey:function(e){return w.fromPrivateKey(e).toRawX()},sign:async function(e,t,r){return new ne(e,t,r).calc()},verify:se,signSync:function(e,t,r){return new ne(e,t,r).calcSync()},verifySync:ae},w.BASE._setWindowSize(8);const ue={node:n,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},he={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},fe={};t.utils={bytesToHex:A,hexToBytes:R,concatBytes:S,mod:L,invert:D,isValidPrivateKey(e){try{return K(e),!0}catch(e){return!1}},_bigintTo32Bytes:T,_normalizePrivateKey:K,hashToPrivateKey:e=>{if((e=B(e)).length<40||e.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");return T(L(O(e),h.n-o)+o)},randomBytes:(e=32)=>{if(ue.web)return ue.web.getRandomValues(new Uint8Array(e));if(ue.node){const{randomBytes:t}=ue.node;return Uint8Array.from(t(e))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>t.utils.hashToPrivateKey(t.utils.randomBytes(40)),precompute(e=8,t=w.BASE){const r=t===w.BASE?t:new w(t.x,t.y);return r._setWindowSize(e),r.multiply(a),r},sha256:async(...e)=>{if(ue.web){const t=await ue.web.subtle.digest("SHA-256",S(...e));return new Uint8Array(t)}if(ue.node){const{createHash:t}=ue.node,r=t("sha256");return e.forEach((e=>r.update(e))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(ue.web){const r=await ue.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=S(...t),i=await ue.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}if(ue.node){const{createHmac:r}=ue.node,n=r("sha256",e);return t.forEach((e=>n.update(e))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...r)=>{let n=fe[e];if(void 0===n){const r=await t.utils.sha256(Uint8Array.from(e,(e=>e.charCodeAt(0))));n=S(r,r),fe[e]=n}return t.utils.sha256(n,...r)},taggedHashSync:(e,...t)=>{if("function"!=typeof U)throw new p("sha256Sync is undefined, you need to set it");let r=fe[e];if(void 0===r){const t=U(Uint8Array.from(e,(e=>e.charCodeAt(0))));r=S(t,t),fe[e]=r}return U(r,...t)},_JacobianPoint:m},Object.defineProperties(t.utils,{sha256Sync:{configurable:!1,get:()=>U,set(e){U||(U=e)}},hmacSha256Sync:{configurable:!1,get:()=>H,set(e){H||(H=e)}}})},4537:e=>{"use strict";e.exports=function(e,t){for(var r=new Array(arguments.length-1),n=0,i=2,o=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise((function(i,s){r[n]=function(e){if(o)if(o=!1,e)s(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}};try{e.apply(t||null,r)}catch(e){o&&(o=!1,s(e))}}))}},7419:(e,t)=>{"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var n=new Array(64),i=new Array(123),o=0;o<64;)i[n[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;r.encode=function(e,t,r){for(var i,o=null,s=[],a=0,u=0;t<r;){var h=e[t++];switch(u){case 0:s[a++]=n[h>>2],i=(3&h)<<4,u=1;break;case 1:s[a++]=n[i|h>>4],i=(15&h)<<2,u=2;break;case 2:s[a++]=n[i|h>>6],s[a++]=n[63&h],u=0}a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0)}return u&&(s[a++]=n[i],s[a++]=61,1===u&&(s[a++]=61)),o?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))};var s="invalid encoding";r.decode=function(e,t,r){for(var n,o=r,a=0,u=0;u<e.length;){var h=e.charCodeAt(u++);if(61===h&&a>1)break;if(void 0===(h=i[h]))throw Error(s);switch(a){case 0:n=h,a=1;break;case 1:t[r++]=n<<2|(48&h)>>4,n=h,a=2;break;case 2:t[r++]=(15&n)<<4|(60&h)>>2,n=h,a=3;break;case 3:t[r++]=(3&n)<<6|h,a=0}}if(1===a)throw Error(s);return r-o},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},9211:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},945:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function o(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function a(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:o,e.writeFloatBE=n?o:i,e.readFloatLE=n?s:a,e.readFloatBE=n?a:s}():function(){function t(e,t,r,n){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,r,n)}}function s(e,t,r){var n=e(t,r),i=2*(n>>31)+1,o=n>>>23&255,s=8388607&n;return 255===o?s?NaN:i*(1/0):0===o?1401298464324817e-60*i*s:i*Math.pow(2,o-150)*(s+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,n),e.readFloatLE=s.bind(null,i),e.readFloatBE=s.bind(null,o)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function o(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function a(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:o,e.writeDoubleBE=n?o:i,e.readDoubleLE=n?s:a,e.readDoubleBE=n?a:s}():function(){function t(e,t,r,n,i,o){var s=n<0?1:0;if(s&&(n=-n),0===n)e(0,i,o+t),e(1/n>0?0:2147483648,i,o+r);else if(isNaN(n))e(0,i,o+t),e(2146959360,i,o+r);else if(n>17976931348623157e292)e(0,i,o+t),e((s<<31|2146435072)>>>0,i,o+r);else{var a;if(n<22250738585072014e-324)e((a=n/5e-324)>>>0,i,o+t),e((s<<31|a/4294967296)>>>0,i,o+r);else{var u=Math.floor(Math.log(n)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(a=n*Math.pow(2,-u))>>>0,i,o+t),e((s<<31|u+1023<<20|1048576*a&1048575)>>>0,i,o+r)}}}function s(e,t,r,n,i){var o=e(n,i+t),s=e(n,i+r),a=2*(s>>31)+1,u=s>>>20&2047,h=4294967296*(1048575&s)+o;return 2047===u?h?NaN:a*(1/0):0===u?5e-324*a*h:a*Math.pow(2,u-1075)*(h+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,n,4,0),e.readDoubleLE=s.bind(null,i,0,4),e.readDoubleBE=s.bind(null,o,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function n(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function o(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},7199:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},6662:e=>{"use strict";e.exports=function(e,t,r){var n=r||8192,i=n>>>1,o=null,s=n;return function(r){if(r<1||r>i)return e(r);s+r>n&&(o=e(n),s=0);var a=t.call(o,s,s+=r);return 7&s&&(s=1+(7|s)),a}}},4997:(e,t)=>{"use strict";var r=t;r.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var n,i=null,o=[],s=0;t<r;)(n=e[t++])<128?o[s++]=n:n>191&&n<224?o[s++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[s++]=55296+(n>>10),o[s++]=56320+(1023&n)):o[s++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),s=0);return i?(s&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s))},r.write=function(e,t,r){for(var n,i,o=r,s=0;s<e.length;++s)(n=e.charCodeAt(s))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(i=e.charCodeAt(s+1)))?(n=65536+((1023&n)<<10)+(1023&i),++s,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-o}},9187:(e,t)=>{"use strict";function r(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function n(...e){const t=(e,t)=>r=>e(t(r));return{encode:Array.from(e).reverse().reduce(((e,r)=>e?t(e,r.encode):r.encode),void 0),decode:e.reduce(((e,r)=>e?t(e,r.decode):r.decode),void 0)}}function i(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(r(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const r=e.indexOf(t);if(-1===r)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return r}))}}}function o(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function s(e,t="="){if(r(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;r.length*e%8;)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let n=r.length;if(n*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if(!((n-1)*e%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,n)}}}function a(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function u(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let i=0;const o=[],s=Array.from(e);for(s.forEach((e=>{if(r(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,r=!0;for(let o=i;o<s.length;o++){const a=s[o],u=t*e+a;if(!Number.isSafeInteger(u)||t*e/t!==e||u-a!=t*e)throw new Error("convertRadix: carry overflow");if(e=u%n,s[o]=Math.floor(u/n),!Number.isSafeInteger(s[o])||s[o]*n+e!==u)throw new Error("convertRadix: carry overflow");r&&(s[o]?r=!1:i=o)}if(o.push(e),r)break}for(let t=0;t<e.length-1&&0===e[t];t++)o.push(0);return o.reverse()}Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64url=t.base64=t.base32crockford=t.base32hex=t.base32=t.base16=t.utils=t.assertNumber=void 0,t.assertNumber=r;const h=(e,t)=>t?h(t,e%t):e,f=(e,t)=>e+(t-h(e,t));function c(e,t,n,i){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(f(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${f(t,n)}`);let o=0,s=0;const a=2**n-1,u=[];for(const i of e){if(r(i),i>=2**t)throw new Error(`convertRadix2: invalid data word=${i} from=${t}`);if(o=o<<t|i,s+t>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=n;s-=n)u.push((o>>s-n&a)>>>0);o&=2**s-1}if(o=o<<n-s&a,!i&&s>=t)throw new Error("Excess padding");if(!i&&o)throw new Error(`Non-zero padding: ${o}`);return i&&s>0&&u.push(o>>>0),u}function l(e){return r(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return u(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(u(t,e,256))}}}function d(e,t=!1){if(r(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(f(8,e)>32||f(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!(r instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return c(Array.from(r),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(c(r,e,8,t))}}}function p(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}function y(e,t){if(r(e),"function"!=typeof t)throw new Error("checksum fn should be function");return{encode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const n=t(r).slice(0,e),i=new Uint8Array(r.length+e);return i.set(r),i.set(n,r.length),i},decode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const n=r.slice(0,-e),i=t(n).slice(0,e),o=r.slice(-e);for(let t=0;t<e;t++)if(i[t]!==o[t])throw new Error("Invalid checksum");return n}}}t.utils={alphabet:i,chain:n,checksum:y,radix:l,radix2:d,join:o,padding:s},t.base16=n(d(4),i("0123456789ABCDEF"),o("")),t.base32=n(d(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),s(5),o("")),t.base32hex=n(d(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),s(5),o("")),t.base32crockford=n(d(5),i("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),o(""),a((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),t.base64=n(d(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),s(6),o("")),t.base64url=n(d(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),s(6),o(""));const m=e=>n(l(58),i(e),o(""));t.base58=m("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=m("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=m("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const g=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(e){let r="";for(let n=0;n<e.length;n+=8){const i=e.subarray(n,n+8);r+=t.base58.encode(i).padStart(g[i.length],"1")}return r},decode(e){let r=[];for(let n=0;n<e.length;n+=11){const i=e.slice(n,n+11),o=g.indexOf(i.length),s=t.base58.decode(i);for(let e=0;e<s.length-o;e++)if(0!==s[e])throw new Error("base58xmr: wrong padding");r=r.concat(Array.from(s.slice(s.length-o)))}return Uint8Array.from(r)}},t.base58check=e=>n(y(4,(t=>e(e(t)))),t.base58);const b=n(i("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),o("")),w=[996825010,642813549,513874426,1027748829,705979059];function v(e){const t=e>>25;let r=(33554431&e)<<5;for(let e=0;e<w.length;e++)1==(t>>e&1)&&(r^=w[e]);return r}function _(e,t,r=1){const n=e.length;let i=1;for(let t=0;t<n;t++){const r=e.charCodeAt(t);if(r<33||r>126)throw new Error(`Invalid prefix (${e})`);i=v(i)^r>>5}i=v(i);for(let t=0;t<n;t++)i=v(i)^31&e.charCodeAt(t);for(let e of t)i=v(i)^e;for(let e=0;e<6;e++)i=v(i);return i^=r,b.encode(c([i%2**30],30,5,!1))}function E(e){const t="bech32"===e?1:734539939,r=d(5),n=r.decode,i=r.encode,o=p(n);function s(e,r=90){if("string"!=typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==r&&e.length>r)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${r})`);const n=e.toLowerCase();if(e!==n&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const i=(e=n).lastIndexOf("1");if(0===i||-1===i)throw new Error('Letter "1" must be present between prefix and data only');const o=e.slice(0,i),s=e.slice(i+1);if(s.length<6)throw new Error("Data must be at least 6 characters long");const a=b.decode(s).slice(0,-6),u=_(o,a,t);if(!s.endsWith(u))throw new Error(`Invalid checksum in ${e}: expected "${u}"`);return{prefix:o,words:a}}return{encode:function(e,r,n=90){if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof r);const i=e.length+7+r.length;if(!1!==n&&i>n)throw new TypeError(`Length ${i} exceeds limit ${n}`);return`${e=e.toLowerCase()}1${b.encode(r)}${_(e,r,t)}`},decode:s,decodeToBytes:function(e){const{prefix:t,words:r}=s(e,!1);return{prefix:t,words:r,bytes:n(r)}},decodeUnsafe:p(s),fromWords:n,fromWordsUnsafe:o,toWords:i}}t.bech32=E("bech32"),t.bech32m=E("bech32m"),t.utf8={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)},t.hex=n(d(4),i("0123456789abcdef"),o(""),a((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})));const S={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},M=`Invalid encoding type. Available types: ${Object.keys(S).join(", ")}`;t.bytesToString=(e,t)=>{if("string"!=typeof e||!S.hasOwnProperty(e))throw new TypeError(M);if(!(t instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return S[e].encode(t)},t.str=t.bytesToString,t.stringToBytes=(e,t)=>{if(!S.hasOwnProperty(e))throw new TypeError(M);if("string"!=typeof t)throw new TypeError("stringToBytes() expects string");return S[e].decode(t)},t.bytes=t.stringToBytes},7286:(e,t,r)=>{"use strict";t.Z1=t._I=t.OF=void 0;const n=r(7320),i=r(9023),o=r(3061),s=r(6262),a=r(8089),u=r(9187);function h(e){if("string"!=typeof e)throw new TypeError("Invalid mnemonic type: "+typeof e);return e.normalize("NFKD")}function f(e){const t=h(e),r=t.split(" ");if(![12,15,18,21,24].includes(r.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:r}}function c(e){n.default.bytes(e,16,20,24,28,32)}t.OF=function(e,t=128){if(n.default.number(t),t%32!=0||t>256)throw new TypeError("Invalid entropy");return function(e,t){return c(e),d(t).encode(e).join((e=>""===e[0])(t)?"":" ")}((0,a.randomBytes)(t/8),e)};const l=e=>{const t=8-e.length/4;return new Uint8Array([(0,o.sha256)(e)[0]>>t<<t])};function d(e){if(!Array.isArray(e)||2048!==e.length||"string"!=typeof e[0])throw new Error("Worlist: expected array of 2048 strings");return e.forEach((e=>{if("string"!=typeof e)throw new Error(`Wordlist: non-string element: ${e}`)})),u.utils.chain(u.utils.checksum(1,l),u.utils.radix2(11,!0),u.utils.alphabet(e))}t._I=function(e,t){try{!function(e,t){const{words:r}=f(e),n=d(t).decode(r);c(n)}(e,t)}catch(e){return!1}return!0};t.Z1=function(e,t=""){return(0,i.pbkdf2)(s.sha512,f(e).nfkd,(e=>h(`mnemonic${e}`))(t),{c:2048,dkLen:64})}},1083:(e,t)=>{"use strict";t.U=void 0,t.U="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n")},8099:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7117);function i(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}function o(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}function s(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function a(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function u(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function h(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function f(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}function c(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}function l(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),f(e/4294967296>>>0,t,r),f(e>>>0,t,r+4),t}function d(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),c(e>>>0,t,r),c(e/4294967296>>>0,t,r+4),t}t.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},t.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},t.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},t.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},t.writeUint16BE=i,t.writeInt16BE=i,t.writeUint16LE=o,t.writeInt16LE=o,t.readInt32BE=s,t.readUint32BE=a,t.readInt32LE=u,t.readUint32LE=h,t.writeUint32BE=f,t.writeInt32BE=f,t.writeUint32LE=c,t.writeInt32LE=c,t.readInt64BE=function(e,t){void 0===t&&(t=0);var r=s(e,t),n=s(e,t+4);return 4294967296*r+n-4294967296*(n>>31)},t.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*a(e,t)+a(e,t+4)},t.readInt64LE=function(e,t){void 0===t&&(t=0);var r=u(e,t);return 4294967296*u(e,t+4)+r-4294967296*(r>>31)},t.readUint64LE=function(e,t){void 0===t&&(t=0);var r=h(e,t);return 4294967296*h(e,t+4)+r},t.writeUint64BE=l,t.writeInt64BE=l,t.writeUint64LE=d,t.writeInt64LE=d,t.readUintBE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,o=e/8+r-1;o>=r;o--)n+=t[o]*i,i*=256;return n},t.readUintLE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,o=r;o<r+e/8;o++)n+=t[o]*i,i*=256;return n},t.writeUintBE=function(e,t,r,i){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!n.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var o=1,s=e/8+i-1;s>=i;s--)r[s]=t/o&255,o*=256;return r},t.writeUintLE=function(e,t,r,i){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!n.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var o=1,s=i;s<i+e/8;s++)r[s]=t/o&255,o*=256;return r},t.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},t.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},t.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},t.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},t.writeFloat32BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e),t},t.writeFloat32LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e,!0),t},t.writeFloat64BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e),t},t.writeFloat64LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e,!0),t}},5439:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8099),i=r(7309);function o(e,t,r){for(var i=1634760805,o=857760878,s=2036477234,a=1797285236,u=r[3]<<24|r[2]<<16|r[1]<<8|r[0],h=r[7]<<24|r[6]<<16|r[5]<<8|r[4],f=r[11]<<24|r[10]<<16|r[9]<<8|r[8],c=r[15]<<24|r[14]<<16|r[13]<<8|r[12],l=r[19]<<24|r[18]<<16|r[17]<<8|r[16],d=r[23]<<24|r[22]<<16|r[21]<<8|r[20],p=r[27]<<24|r[26]<<16|r[25]<<8|r[24],y=r[31]<<24|r[30]<<16|r[29]<<8|r[28],m=t[3]<<24|t[2]<<16|t[1]<<8|t[0],g=t[7]<<24|t[6]<<16|t[5]<<8|t[4],b=t[11]<<24|t[10]<<16|t[9]<<8|t[8],w=t[15]<<24|t[14]<<16|t[13]<<8|t[12],v=i,_=o,E=s,S=a,M=u,A=h,k=f,x=c,T=l,P=d,I=p,R=y,O=m,B=g,C=b,L=w,j=0;j<20;j+=2)M=(M^=T=T+(O=(O^=v=v+M|0)>>>16|O<<16)|0)>>>20|M<<12,A=(A^=P=P+(B=(B^=_=_+A|0)>>>16|B<<16)|0)>>>20|A<<12,k=(k^=I=I+(C=(C^=E=E+k|0)>>>16|C<<16)|0)>>>20|k<<12,x=(x^=R=R+(L=(L^=S=S+x|0)>>>16|L<<16)|0)>>>20|x<<12,k=(k^=I=I+(C=(C^=E=E+k|0)>>>24|C<<8)|0)>>>25|k<<7,x=(x^=R=R+(L=(L^=S=S+x|0)>>>24|L<<8)|0)>>>25|x<<7,A=(A^=P=P+(B=(B^=_=_+A|0)>>>24|B<<8)|0)>>>25|A<<7,M=(M^=T=T+(O=(O^=v=v+M|0)>>>24|O<<8)|0)>>>25|M<<7,A=(A^=I=I+(L=(L^=v=v+A|0)>>>16|L<<16)|0)>>>20|A<<12,k=(k^=R=R+(O=(O^=_=_+k|0)>>>16|O<<16)|0)>>>20|k<<12,x=(x^=T=T+(B=(B^=E=E+x|0)>>>16|B<<16)|0)>>>20|x<<12,M=(M^=P=P+(C=(C^=S=S+M|0)>>>16|C<<16)|0)>>>20|M<<12,x=(x^=T=T+(B=(B^=E=E+x|0)>>>24|B<<8)|0)>>>25|x<<7,M=(M^=P=P+(C=(C^=S=S+M|0)>>>24|C<<8)|0)>>>25|M<<7,k=(k^=R=R+(O=(O^=_=_+k|0)>>>24|O<<8)|0)>>>25|k<<7,A=(A^=I=I+(L=(L^=v=v+A|0)>>>24|L<<8)|0)>>>25|A<<7;n.writeUint32LE(v+i|0,e,0),n.writeUint32LE(_+o|0,e,4),n.writeUint32LE(E+s|0,e,8),n.writeUint32LE(S+a|0,e,12),n.writeUint32LE(M+u|0,e,16),n.writeUint32LE(A+h|0,e,20),n.writeUint32LE(k+f|0,e,24),n.writeUint32LE(x+c|0,e,28),n.writeUint32LE(T+l|0,e,32),n.writeUint32LE(P+d|0,e,36),n.writeUint32LE(I+p|0,e,40),n.writeUint32LE(R+y|0,e,44),n.writeUint32LE(O+m|0,e,48),n.writeUint32LE(B+g|0,e,52),n.writeUint32LE(C+b|0,e,56),n.writeUint32LE(L+w|0,e,60)}function s(e,t,r,n,s){if(void 0===s&&(s=0),32!==e.length)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var u,h;if(0===s){if(8!==t.length&&12!==t.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");h=(u=new Uint8Array(16)).length-t.length,u.set(t,h)}else{if(16!==t.length)throw new Error("ChaCha nonce with counter must be 16 bytes");u=t,h=s}for(var f=new Uint8Array(64),c=0;c<r.length;c+=64){o(f,u,e);for(var l=c;l<c+64&&l<r.length;l++)n[l]=r[l]^f[l-c];a(u,0,h)}return i.wipe(f),0===s&&i.wipe(u),n}function a(e,t,r){for(var n=1;r--;)n=n+(255&e[t])|0,e[t]=255&n,n>>>=8,t++;if(n>0)throw new Error("ChaCha: counter overflow")}t.streamXOR=s,t.stream=function(e,t,r,n){return void 0===n&&(n=0),i.wipe(r),s(e,t,r,r,n)}},5501:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5439),i=r(3256),o=r(7309),s=r(8099),a=r(4153);t.KEY_LENGTH=32,t.NONCE_LENGTH=12,t.TAG_LENGTH=16;var u=new Uint8Array(16),h=function(){function e(e){if(this.nonceLength=t.NONCE_LENGTH,this.tagLength=t.TAG_LENGTH,e.length!==t.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return e.prototype.seal=function(e,t,r,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var s=new Uint8Array(16);s.set(e,s.length-e.length);var a=new Uint8Array(32);n.stream(this._key,s,a,4);var u,h=t.length+this.tagLength;if(i){if(i.length!==h)throw new Error("ChaCha20Poly1305: incorrect destination length");u=i}else u=new Uint8Array(h);return n.streamXOR(this._key,s,t,u,4),this._authenticate(u.subarray(u.length-this.tagLength,u.length),a,u.subarray(0,u.length-this.tagLength),r),o.wipe(s),u},e.prototype.open=function(e,t,r,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var s=new Uint8Array(16);s.set(e,s.length-e.length);var u=new Uint8Array(32);n.stream(this._key,s,u,4);var h=new Uint8Array(this.tagLength);if(this._authenticate(h,u,t.subarray(0,t.length-this.tagLength),r),!a.equal(h,t.subarray(t.length-this.tagLength,t.length)))return null;var f,c=t.length-this.tagLength;if(i){if(i.length!==c)throw new Error("ChaCha20Poly1305: incorrect destination length");f=i}else f=new Uint8Array(c);return n.streamXOR(this._key,s,t.subarray(0,t.length-this.tagLength),f,4),o.wipe(s),f},e.prototype.clean=function(){return o.wipe(this._key),this},e.prototype._authenticate=function(e,t,r,n){var a=new i.Poly1305(t);n&&(a.update(n),n.length%16>0&&a.update(u.subarray(n.length%16))),a.update(r),r.length%16>0&&a.update(u.subarray(r.length%16));var h=new Uint8Array(8);n&&s.writeUint64LE(n.length,h),a.update(h),s.writeUint64LE(r.length,h),a.update(h);for(var f=a.digest(),c=0;c<f.length;c++)e[c]=f[c];a.clean(),o.wipe(f),o.wipe(h)},e}();t.ChaCha20Poly1305=h},4153:(e,t)=>{"use strict";function r(e,t){if(e.length!==t.length)return 0;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return 1&r-1>>>8}Object.defineProperty(t,"__esModule",{value:!0}),t.select=function(e,t,r){return~(e-1)&t|e-1&r},t.lessOrEqual=function(e,t){return(0|e)-(0|t)-1>>>31&1},t.compare=r,t.equal=function(e,t){return 0!==e.length&&0!==t.length&&0!==r(e,t)}},1050:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1416),i=r(3350),o=r(7309);function s(e){var t=new Float64Array(16);if(e)for(var r=0;r<e.length;r++)t[r]=e[r];return t}t.SIGNATURE_LENGTH=64,t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=64,t.SEED_LENGTH=32,new Uint8Array(32)[0]=9;var a=s(),u=s([1]),h=s([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),f=s([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),c=s([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=s([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=s([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t){for(var r=0;r<16;r++)e[r]=0|t[r]}function y(e){for(var t=1,r=0;r<16;r++){var n=e[r]+t+65535;t=Math.floor(n/65536),e[r]=n-65536*t}e[0]+=t-1+37*(t-1)}function m(e,t,r){for(var n=~(r-1),i=0;i<16;i++){var o=n&(e[i]^t[i]);e[i]^=o,t[i]^=o}}function g(e,t){for(var r=s(),n=s(),i=0;i<16;i++)n[i]=t[i];y(n),y(n),y(n);for(var o=0;o<2;o++){for(r[0]=n[0]-65517,i=1;i<15;i++)r[i]=n[i]-65535-(r[i-1]>>16&1),r[i-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);var a=r[15]>>16&1;r[14]&=65535,m(n,r,1-a)}for(i=0;i<16;i++)e[2*i]=255&n[i],e[2*i+1]=n[i]>>8}function b(e,t){for(var r=0,n=0;n<32;n++)r|=e[n]^t[n];return(1&r-1>>>8)-1}function w(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return g(r,e),g(n,t),b(r,n)}function v(e){var t=new Uint8Array(32);return g(t,e),1&t[0]}function _(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function E(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function S(e,t,r){var n,i,o=0,s=0,a=0,u=0,h=0,f=0,c=0,l=0,d=0,p=0,y=0,m=0,g=0,b=0,w=0,v=0,_=0,E=0,S=0,M=0,A=0,k=0,x=0,T=0,P=0,I=0,R=0,O=0,B=0,C=0,L=0,j=r[0],D=r[1],N=r[2],U=r[3],H=r[4],z=r[5],F=r[6],q=r[7],$=r[8],K=r[9],V=r[10],W=r[11],G=r[12],Y=r[13],J=r[14],Z=r[15];o+=(n=t[0])*j,s+=n*D,a+=n*N,u+=n*U,h+=n*H,f+=n*z,c+=n*F,l+=n*q,d+=n*$,p+=n*K,y+=n*V,m+=n*W,g+=n*G,b+=n*Y,w+=n*J,v+=n*Z,s+=(n=t[1])*j,a+=n*D,u+=n*N,h+=n*U,f+=n*H,c+=n*z,l+=n*F,d+=n*q,p+=n*$,y+=n*K,m+=n*V,g+=n*W,b+=n*G,w+=n*Y,v+=n*J,_+=n*Z,a+=(n=t[2])*j,u+=n*D,h+=n*N,f+=n*U,c+=n*H,l+=n*z,d+=n*F,p+=n*q,y+=n*$,m+=n*K,g+=n*V,b+=n*W,w+=n*G,v+=n*Y,_+=n*J,E+=n*Z,u+=(n=t[3])*j,h+=n*D,f+=n*N,c+=n*U,l+=n*H,d+=n*z,p+=n*F,y+=n*q,m+=n*$,g+=n*K,b+=n*V,w+=n*W,v+=n*G,_+=n*Y,E+=n*J,S+=n*Z,h+=(n=t[4])*j,f+=n*D,c+=n*N,l+=n*U,d+=n*H,p+=n*z,y+=n*F,m+=n*q,g+=n*$,b+=n*K,w+=n*V,v+=n*W,_+=n*G,E+=n*Y,S+=n*J,M+=n*Z,f+=(n=t[5])*j,c+=n*D,l+=n*N,d+=n*U,p+=n*H,y+=n*z,m+=n*F,g+=n*q,b+=n*$,w+=n*K,v+=n*V,_+=n*W,E+=n*G,S+=n*Y,M+=n*J,A+=n*Z,c+=(n=t[6])*j,l+=n*D,d+=n*N,p+=n*U,y+=n*H,m+=n*z,g+=n*F,b+=n*q,w+=n*$,v+=n*K,_+=n*V,E+=n*W,S+=n*G,M+=n*Y,A+=n*J,k+=n*Z,l+=(n=t[7])*j,d+=n*D,p+=n*N,y+=n*U,m+=n*H,g+=n*z,b+=n*F,w+=n*q,v+=n*$,_+=n*K,E+=n*V,S+=n*W,M+=n*G,A+=n*Y,k+=n*J,x+=n*Z,d+=(n=t[8])*j,p+=n*D,y+=n*N,m+=n*U,g+=n*H,b+=n*z,w+=n*F,v+=n*q,_+=n*$,E+=n*K,S+=n*V,M+=n*W,A+=n*G,k+=n*Y,x+=n*J,T+=n*Z,p+=(n=t[9])*j,y+=n*D,m+=n*N,g+=n*U,b+=n*H,w+=n*z,v+=n*F,_+=n*q,E+=n*$,S+=n*K,M+=n*V,A+=n*W,k+=n*G,x+=n*Y,T+=n*J,P+=n*Z,y+=(n=t[10])*j,m+=n*D,g+=n*N,b+=n*U,w+=n*H,v+=n*z,_+=n*F,E+=n*q,S+=n*$,M+=n*K,A+=n*V,k+=n*W,x+=n*G,T+=n*Y,P+=n*J,I+=n*Z,m+=(n=t[11])*j,g+=n*D,b+=n*N,w+=n*U,v+=n*H,_+=n*z,E+=n*F,S+=n*q,M+=n*$,A+=n*K,k+=n*V,x+=n*W,T+=n*G,P+=n*Y,I+=n*J,R+=n*Z,g+=(n=t[12])*j,b+=n*D,w+=n*N,v+=n*U,_+=n*H,E+=n*z,S+=n*F,M+=n*q,A+=n*$,k+=n*K,x+=n*V,T+=n*W,P+=n*G,I+=n*Y,R+=n*J,O+=n*Z,b+=(n=t[13])*j,w+=n*D,v+=n*N,_+=n*U,E+=n*H,S+=n*z,M+=n*F,A+=n*q,k+=n*$,x+=n*K,T+=n*V,P+=n*W,I+=n*G,R+=n*Y,O+=n*J,B+=n*Z,w+=(n=t[14])*j,v+=n*D,_+=n*N,E+=n*U,S+=n*H,M+=n*z,A+=n*F,k+=n*q,x+=n*$,T+=n*K,P+=n*V,I+=n*W,R+=n*G,O+=n*Y,B+=n*J,C+=n*Z,v+=(n=t[15])*j,s+=38*(E+=n*N),a+=38*(S+=n*U),u+=38*(M+=n*H),h+=38*(A+=n*z),f+=38*(k+=n*F),c+=38*(x+=n*q),l+=38*(T+=n*$),d+=38*(P+=n*K),p+=38*(I+=n*V),y+=38*(R+=n*W),m+=38*(O+=n*G),g+=38*(B+=n*Y),b+=38*(C+=n*J),w+=38*(L+=n*Z),o=(n=(o+=38*(_+=n*D))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),o+=i-1+37*(i-1),e[0]=o,e[1]=s,e[2]=a,e[3]=u,e[4]=h,e[5]=f,e[6]=c,e[7]=l,e[8]=d,e[9]=p,e[10]=y,e[11]=m,e[12]=g,e[13]=b,e[14]=w,e[15]=v}function M(e,t){S(e,t,t)}function A(e,t){var r,n=s();for(r=0;r<16;r++)n[r]=t[r];for(r=253;r>=0;r--)M(n,n),2!==r&&4!==r&&S(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}function k(e,t){var r=s(),n=s(),i=s(),o=s(),a=s(),u=s(),h=s(),c=s(),l=s();E(r,e[1],e[0]),E(l,t[1],t[0]),S(r,r,l),_(n,e[0],e[1]),_(l,t[0],t[1]),S(n,n,l),S(i,e[3],t[3]),S(i,i,f),S(o,e[2],t[2]),_(o,o,o),E(a,n,r),E(u,o,i),_(h,o,i),_(c,n,r),S(e[0],a,u),S(e[1],c,h),S(e[2],h,u),S(e[3],a,c)}function x(e,t,r){for(var n=0;n<4;n++)m(e[n],t[n],r)}function T(e,t){var r=s(),n=s(),i=s();A(i,t[2]),S(r,t[0],i),S(n,t[1],i),g(e,n),e[31]^=v(r)<<7}function P(e,t,r){p(e[0],a),p(e[1],u),p(e[2],u),p(e[3],a);for(var n=255;n>=0;--n){var i=r[n/8|0]>>(7&n)&1;x(e,t,i),k(t,e),k(e,e),x(e,t,i)}}function I(e,t){var r=[s(),s(),s(),s()];p(r[0],c),p(r[1],l),p(r[2],u),S(r[3],c,l),P(e,r,t)}function R(e){if(e.length!==t.SEED_LENGTH)throw new Error("ed25519: seed must be "+t.SEED_LENGTH+" bytes");var r=i.hash(e);r[0]&=248,r[31]&=127,r[31]|=64;var n=new Uint8Array(32),o=[s(),s(),s(),s()];I(o,r),T(n,o);var a=new Uint8Array(64);return a.set(e),a.set(n,32),{publicKey:n,secretKey:a}}t.generateKeyPairFromSeed=R,t.generateKeyPair=function(e){var t=n.randomBytes(32,e),r=R(t);return o.wipe(t),r},t.extractPublicKeyFromSecretKey=function(e){if(e.length!==t.SECRET_KEY_LENGTH)throw new Error("ed25519: secret key must be "+t.SECRET_KEY_LENGTH+" bytes");return new Uint8Array(e.subarray(32))};var O=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function B(e,t){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)t[i]+=r-16*t[n]*O[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*O[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*O[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function C(e){for(var t=new Float64Array(64),r=0;r<64;r++)t[r]=e[r];for(r=0;r<64;r++)e[r]=0;B(e,t)}function L(e,t){var r=s(),n=s(),i=s(),o=s(),f=s(),c=s(),l=s();return p(e[2],u),function(e,t){for(var r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(e[1],t),M(i,e[1]),S(o,i,h),E(i,i,e[2]),_(o,e[2],o),M(f,o),M(c,f),S(l,c,f),S(r,l,i),S(r,r,o),function(e,t){var r,n=s();for(r=0;r<16;r++)n[r]=t[r];for(r=250;r>=0;r--)M(n,n),1!==r&&S(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}(r,r),S(r,r,i),S(r,r,o),S(r,r,o),S(e[0],r,o),M(n,e[0]),S(n,n,o),w(n,i)&&S(e[0],e[0],d),M(n,e[0]),S(n,n,o),w(n,i)?-1:(v(e[0])===t[31]>>7&&E(e[0],a,e[0]),S(e[3],e[0],e[1]),0)}t.sign=function(e,t){var r=new Float64Array(64),n=[s(),s(),s(),s()],o=i.hash(e.subarray(0,32));o[0]&=248,o[31]&=127,o[31]|=64;var a=new Uint8Array(64);a.set(o.subarray(32),32);var u=new i.SHA512;u.update(a.subarray(32)),u.update(t);var h=u.digest();u.clean(),C(h),I(n,h),T(a,n),u.reset(),u.update(a.subarray(0,32)),u.update(e.subarray(32)),u.update(t);var f=u.digest();C(f);for(var c=0;c<32;c++)r[c]=h[c];for(c=0;c<32;c++)for(var l=0;l<32;l++)r[c+l]+=f[c]*o[l];return B(a.subarray(32),r),a},t.verify=function(e,r,n){var o=new Uint8Array(32),a=[s(),s(),s(),s()],u=[s(),s(),s(),s()];if(n.length!==t.SIGNATURE_LENGTH)throw new Error("ed25519: signature must be "+t.SIGNATURE_LENGTH+" bytes");if(L(u,e))return!1;var h=new i.SHA512;h.update(n.subarray(0,32)),h.update(e),h.update(r);var f=h.digest();return C(f),P(a,u,f),I(u,n.subarray(32)),k(a,u),T(o,a),!b(n,o)},t.convertPublicKeyToX25519=function(e){var t=[s(),s(),s(),s()];if(L(t,e))throw new Error("Ed25519: invalid public key");var r=s(),n=s(),i=t[1];_(r,u,i),E(n,u,i),A(n,n),S(r,r,n);var o=new Uint8Array(32);return g(o,r),o},t.convertSecretKeyToX25519=function(e){var t=i.hash(e.subarray(0,32));t[0]&=248,t[31]&=127,t[31]|=64;var r=new Uint8Array(t.subarray(0,32));return o.wipe(t),r}},7117:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mul=Math.imul||function(e,t){var r=65535&e,n=65535&t;return r*n+((e>>>16&65535)*n+r*(t>>>16&65535)<<16>>>0)|0},t.add=function(e,t){return e+t|0},t.sub=function(e,t){return e-t|0},t.rotl=function(e,t){return e<<t|e>>>32-t},t.rotr=function(e,t){return e<<32-t|e>>>t},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(e){return t.isInteger(e)&&e>=-t.MAX_SAFE_INTEGER&&e<=t.MAX_SAFE_INTEGER}},3256:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4153),i=r(7309);t.DIGEST_LENGTH=16;var o=function(){function e(e){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var r=e[0]|e[1]<<8;this._r[0]=8191&r;var n=e[2]|e[3]<<8;this._r[1]=8191&(r>>>13|n<<3);var i=e[4]|e[5]<<8;this._r[2]=7939&(n>>>10|i<<6);var o=e[6]|e[7]<<8;this._r[3]=8191&(i>>>7|o<<9);var s=e[8]|e[9]<<8;this._r[4]=255&(o>>>4|s<<12),this._r[5]=s>>>1&8190;var a=e[10]|e[11]<<8;this._r[6]=8191&(s>>>14|a<<2);var u=e[12]|e[13]<<8;this._r[7]=8065&(a>>>11|u<<5);var h=e[14]|e[15]<<8;this._r[8]=8191&(u>>>8|h<<8),this._r[9]=h>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return e.prototype._blocks=function(e,t,r){for(var n=this._fin?0:2048,i=this._h[0],o=this._h[1],s=this._h[2],a=this._h[3],u=this._h[4],h=this._h[5],f=this._h[6],c=this._h[7],l=this._h[8],d=this._h[9],p=this._r[0],y=this._r[1],m=this._r[2],g=this._r[3],b=this._r[4],w=this._r[5],v=this._r[6],_=this._r[7],E=this._r[8],S=this._r[9];r>=16;){var M=e[t+0]|e[t+1]<<8;i+=8191&M;var A=e[t+2]|e[t+3]<<8;o+=8191&(M>>>13|A<<3);var k=e[t+4]|e[t+5]<<8;s+=8191&(A>>>10|k<<6);var x=e[t+6]|e[t+7]<<8;a+=8191&(k>>>7|x<<9);var T=e[t+8]|e[t+9]<<8;u+=8191&(x>>>4|T<<12),h+=T>>>1&8191;var P=e[t+10]|e[t+11]<<8;f+=8191&(T>>>14|P<<2);var I=e[t+12]|e[t+13]<<8;c+=8191&(P>>>11|I<<5);var R=e[t+14]|e[t+15]<<8,O=0,B=O;B+=i*p,B+=o*(5*S),B+=s*(5*E),B+=a*(5*_),O=(B+=u*(5*v))>>>13,B&=8191,B+=h*(5*w),B+=f*(5*b),B+=c*(5*g),B+=(l+=8191&(I>>>8|R<<8))*(5*m);var C=O+=(B+=(d+=R>>>5|n)*(5*y))>>>13;C+=i*y,C+=o*p,C+=s*(5*S),C+=a*(5*E),O=(C+=u*(5*_))>>>13,C&=8191,C+=h*(5*v),C+=f*(5*w),C+=c*(5*b),C+=l*(5*g),O+=(C+=d*(5*m))>>>13,C&=8191;var L=O;L+=i*m,L+=o*y,L+=s*p,L+=a*(5*S),O=(L+=u*(5*E))>>>13,L&=8191,L+=h*(5*_),L+=f*(5*v),L+=c*(5*w),L+=l*(5*b);var j=O+=(L+=d*(5*g))>>>13;j+=i*g,j+=o*m,j+=s*y,j+=a*p,O=(j+=u*(5*S))>>>13,j&=8191,j+=h*(5*E),j+=f*(5*_),j+=c*(5*v),j+=l*(5*w);var D=O+=(j+=d*(5*b))>>>13;D+=i*b,D+=o*g,D+=s*m,D+=a*y,O=(D+=u*p)>>>13,D&=8191,D+=h*(5*S),D+=f*(5*E),D+=c*(5*_),D+=l*(5*v);var N=O+=(D+=d*(5*w))>>>13;N+=i*w,N+=o*b,N+=s*g,N+=a*m,O=(N+=u*y)>>>13,N&=8191,N+=h*p,N+=f*(5*S),N+=c*(5*E),N+=l*(5*_);var U=O+=(N+=d*(5*v))>>>13;U+=i*v,U+=o*w,U+=s*b,U+=a*g,O=(U+=u*m)>>>13,U&=8191,U+=h*y,U+=f*p,U+=c*(5*S),U+=l*(5*E);var H=O+=(U+=d*(5*_))>>>13;H+=i*_,H+=o*v,H+=s*w,H+=a*b,O=(H+=u*g)>>>13,H&=8191,H+=h*m,H+=f*y,H+=c*p,H+=l*(5*S);var z=O+=(H+=d*(5*E))>>>13;z+=i*E,z+=o*_,z+=s*v,z+=a*w,O=(z+=u*b)>>>13,z&=8191,z+=h*g,z+=f*m,z+=c*y,z+=l*p;var F=O+=(z+=d*(5*S))>>>13;F+=i*S,F+=o*E,F+=s*_,F+=a*v,O=(F+=u*w)>>>13,F&=8191,F+=h*b,F+=f*g,F+=c*m,F+=l*y,i=B=8191&(O=(O=((O+=(F+=d*p)>>>13)<<2)+O|0)+(B&=8191)|0),o=C+=O>>>=13,s=L&=8191,a=j&=8191,u=D&=8191,h=N&=8191,f=U&=8191,c=H&=8191,l=z&=8191,d=F&=8191,t+=16,r-=16}this._h[0]=i,this._h[1]=o,this._h[2]=s,this._h[3]=a,this._h[4]=u,this._h[5]=h,this._h[6]=f,this._h[7]=c,this._h[8]=l,this._h[9]=d},e.prototype.finish=function(e,t){void 0===t&&(t=0);var r,n,i,o,s=new Uint16Array(10);if(this._leftover){for(o=this._leftover,this._buffer[o++]=1;o<16;o++)this._buffer[o]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(r=this._h[1]>>>13,this._h[1]&=8191,o=2;o<10;o++)this._h[o]+=r,r=this._h[o]>>>13,this._h[o]&=8191;for(this._h[0]+=5*r,r=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=r,r=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=r,s[0]=this._h[0]+5,r=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this._h[o]+r,r=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,n=(1^r)-1,o=0;o<10;o++)s[o]&=n;for(n=~n,o=0;o<10;o++)this._h[o]=this._h[o]&n|s[o];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),i=this._h[0]+this._pad[0],this._h[0]=65535&i,o=1;o<8;o++)i=(this._h[o]+this._pad[o]|0)+(i>>>16)|0,this._h[o]=65535&i;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},e.prototype.update=function(e){var t,r=0,n=e.length;if(this._leftover){(t=16-this._leftover)>n&&(t=n);for(var i=0;i<t;i++)this._buffer[this._leftover+i]=e[r+i];if(n-=t,r+=t,this._leftover+=t,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(n>=16&&(t=n-n%16,this._blocks(e,r,t),r+=t,n-=t),n){for(i=0;i<n;i++)this._buffer[this._leftover+i]=e[r+i];this._leftover+=n}return this},e.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},e.prototype.clean=function(){return i.wipe(this._buffer),i.wipe(this._r),i.wipe(this._h),i.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},e}();t.Poly1305=o,t.oneTimeAuth=function(e,t){var r=new o(e);r.update(t);var n=r.digest();return r.clean(),n},t.equal=function(e,r){return e.length===t.DIGEST_LENGTH&&r.length===t.DIGEST_LENGTH&&n.equal(e,r)}},1416:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6008),i=r(8099),o=r(7309);function s(e,r){return void 0===r&&(r=t.defaultRandomSource),r.randomBytes(e)}t.defaultRandomSource=new n.SystemRandomSource,t.randomBytes=s,t.randomUint32=function(e){void 0===e&&(e=t.defaultRandomSource);var r=s(4,e),n=i.readUint32LE(r);return o.wipe(r),n};var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function u(e,r,n){if(void 0===r&&(r=a),void 0===n&&(n=t.defaultRandomSource),r.length<2)throw new Error("randomString charset is too short");if(r.length>256)throw new Error("randomString charset is too long");for(var i="",u=r.length,h=256-256%u;e>0;){for(var f=s(Math.ceil(256*e/h),n),c=0;c<f.length&&e>0;c++){var l=f[c];l<h&&(i+=r.charAt(l%u),e--)}o.wipe(f)}return i}t.randomString=u,t.randomStringForEntropy=function(e,r,n){return void 0===r&&(r=a),void 0===n&&(n=t.defaultRandomSource),u(Math.ceil(e/(Math.log(r.length)/Math.LN2)),r,n)}},5455:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.isAvailable=!1,this.isInstantiated=!1;var e="undefined"!=typeof self?self.crypto||self.msCrypto:null;e&&e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}return e.prototype.randomBytes=function(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");for(var t=new Uint8Array(e),r=0;r<t.length;r+=65536)this._crypto.getRandomValues(t.subarray(r,r+Math.min(t.length-r,65536)));return t},e}();t.BrowserRandomSource=r},8871:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7309),i=function(){function e(){this.isAvailable=!1,this.isInstantiated=!1;var e=r(5883);e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}return e.prototype.randomBytes=function(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");var t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");for(var r=new Uint8Array(e),i=0;i<r.length;i++)r[i]=t[i];return n.wipe(t),r},e}();t.NodeRandomSource=i},6008:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5455),i=r(8871),o=function(){function e(){return this.isAvailable=!1,this.name="",this._source=new n.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new i.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}return e.prototype.randomBytes=function(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)},e}();t.SystemRandomSource=o},3294:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8099),i=r(7309);t.DIGEST_LENGTH=32,t.BLOCK_SIZE=64;var o=function(){function e(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._temp),this.reset()},e.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var r=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&t>0;)this._buffer[this._bufferLength++]=e[r++],t--;this._bufferLength===this.blockSize&&(a(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(r=a(this._temp,this._state,e,r,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[r++],t--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,r=this._bufferLength,i=t/536870912|0,o=t<<3,s=t%64<56?64:128;this._buffer[r]=128;for(var u=r+1;u<s-8;u++)this._buffer[u]=0;n.writeUint32BE(i,this._buffer,s-8),n.writeUint32BE(o,this._buffer,s-4),a(this._temp,this._state,this._buffer,0,s),this._finished=!0}for(u=0;u<this.digestLength/4;u++)n.writeUint32BE(this._state[u],e,4*u);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){i.wipe(e.state),e.buffer&&i.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.SHA256=o;var s=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function a(e,t,r,i,o){for(;o>=64;){for(var a=t[0],u=t[1],h=t[2],f=t[3],c=t[4],l=t[5],d=t[6],p=t[7],y=0;y<16;y++){var m=i+4*y;e[y]=n.readUint32BE(r,m)}for(y=16;y<64;y++){var g=e[y-2],b=(g>>>17|g<<15)^(g>>>19|g<<13)^g>>>10,w=((g=e[y-15])>>>7|g<<25)^(g>>>18|g<<14)^g>>>3;e[y]=(b+e[y-7]|0)+(w+e[y-16]|0)}for(y=0;y<64;y++)b=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&l^~c&d)|0)+(p+(s[y]+e[y]|0)|0)|0,w=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&u^a&h^u&h)|0,p=d,d=l,l=c,c=f+b|0,f=h,h=u,u=a,a=b+w|0;t[0]+=a,t[1]+=u,t[2]+=h,t[3]+=f,t[4]+=c,t[5]+=l,t[6]+=d,t[7]+=p,i+=64,o-=64}return i}t.hash=function(e){var t=new o;t.update(e);var r=t.digest();return t.clean(),r}},3350:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8099),i=r(7309);t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var o=function(){function e(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._tempHi),i.wipe(this._tempLo),this.reset()},e.prototype.update=function(e,r){if(void 0===r&&(r=e.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var n=0;if(this._bytesHashed+=r,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&r>0;)this._buffer[this._bufferLength++]=e[n++],r--;this._bufferLength===this.blockSize&&(a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(r>=this.blockSize&&(n=a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,n,r),r%=this.blockSize);r>0;)this._buffer[this._bufferLength++]=e[n++],r--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,r=this._bufferLength,i=t/536870912|0,o=t<<3,s=t%128<112?128:256;this._buffer[r]=128;for(var u=r+1;u<s-8;u++)this._buffer[u]=0;n.writeUint32BE(i,this._buffer,s-8),n.writeUint32BE(o,this._buffer,s-4),a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,s),this._finished=!0}for(u=0;u<this.digestLength/8;u++)n.writeUint32BE(this._stateHi[u],e,8*u),n.writeUint32BE(this._stateLo[u],e,8*u+4);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){i.wipe(e.stateHi),i.wipe(e.stateLo),e.buffer&&i.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.SHA512=o;var s=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function a(e,t,r,i,o,a,u){for(var h,f,c,l,d,p,y,m,g=r[0],b=r[1],w=r[2],v=r[3],_=r[4],E=r[5],S=r[6],M=r[7],A=i[0],k=i[1],x=i[2],T=i[3],P=i[4],I=i[5],R=i[6],O=i[7];u>=128;){for(var B=0;B<16;B++){var C=8*B+a;e[B]=n.readUint32BE(o,C),t[B]=n.readUint32BE(o,C+4)}for(B=0;B<80;B++){var L,j,D=g,N=b,U=w,H=v,z=_,F=E,q=S,$=A,K=k,V=x,W=T,G=P,Y=I,J=R;if(d=65535&(f=O),p=f>>>16,y=65535&(h=M),m=h>>>16,d+=65535&(f=(P>>>14|_<<18)^(P>>>18|_<<14)^(_>>>9|P<<23)),p+=f>>>16,y+=65535&(h=(_>>>14|P<<18)^(_>>>18|P<<14)^(P>>>9|_<<23)),m+=h>>>16,d+=65535&(f=P&I^~P&R),p+=f>>>16,y+=65535&(h=_&E^~_&S),m+=h>>>16,h=s[2*B],d+=65535&(f=s[2*B+1]),p+=f>>>16,y+=65535&h,m+=h>>>16,h=e[B%16],p+=(f=t[B%16])>>>16,y+=65535&h,m+=h>>>16,y+=(p+=(d+=65535&f)>>>16)>>>16,d=65535&(f=l=65535&d|p<<16),p=f>>>16,y=65535&(h=c=65535&y|(m+=y>>>16)<<16),m=h>>>16,d+=65535&(f=(A>>>28|g<<4)^(g>>>2|A<<30)^(g>>>7|A<<25)),p+=f>>>16,y+=65535&(h=(g>>>28|A<<4)^(A>>>2|g<<30)^(A>>>7|g<<25)),m+=h>>>16,p+=(f=A&k^A&x^k&x)>>>16,y+=65535&(h=g&b^g&w^b&w),m+=h>>>16,L=65535&(y+=(p+=(d+=65535&f)>>>16)>>>16)|(m+=y>>>16)<<16,j=65535&d|p<<16,d=65535&(f=W),p=f>>>16,y=65535&(h=H),m=h>>>16,p+=(f=l)>>>16,y+=65535&(h=c),m+=h>>>16,b=D,w=N,v=U,_=H=65535&(y+=(p+=(d+=65535&f)>>>16)>>>16)|(m+=y>>>16)<<16,E=z,S=F,M=q,g=L,k=$,x=K,T=V,P=W=65535&d|p<<16,I=G,R=Y,O=J,A=j,B%16==15)for(C=0;C<16;C++)h=e[C],d=65535&(f=t[C]),p=f>>>16,y=65535&h,m=h>>>16,h=e[(C+9)%16],d+=65535&(f=t[(C+9)%16]),p+=f>>>16,y+=65535&h,m+=h>>>16,c=e[(C+1)%16],d+=65535&(f=((l=t[(C+1)%16])>>>1|c<<31)^(l>>>8|c<<24)^(l>>>7|c<<25)),p+=f>>>16,y+=65535&(h=(c>>>1|l<<31)^(c>>>8|l<<24)^c>>>7),m+=h>>>16,c=e[(C+14)%16],p+=(f=((l=t[(C+14)%16])>>>19|c<<13)^(c>>>29|l<<3)^(l>>>6|c<<26))>>>16,y+=65535&(h=(c>>>19|l<<13)^(l>>>29|c<<3)^c>>>6),m+=h>>>16,m+=(y+=(p+=(d+=65535&f)>>>16)>>>16)>>>16,e[C]=65535&y|m<<16,t[C]=65535&d|p<<16}d=65535&(f=A),p=f>>>16,y=65535&(h=g),m=h>>>16,h=r[0],p+=(f=i[0])>>>16,y+=65535&h,m+=h>>>16,m+=(y+=(p+=(d+=65535&f)>>>16)>>>16)>>>16,r[0]=g=65535&y|m<<16,i[0]=A=65535&d|p<<16,d=65535&(f=k),p=f>>>16,y=65535&(h=b),m=h>>>16,h=r[1],p+=(f=i[1])>>>16,y+=65535&h,m+=h>>>16,m+=(y+=(p+=(d+=65535&f)>>>16)>>>16)>>>16,r[1]=b=65535&y|m<<16,i[1]=k=65535&d|p<<16,d=65535&(f=x),p=f>>>16,y=65535&(h=w),m=h>>>16,h=r[2],p+=(f=i[2])>>>16,y+=65535&h,m+=h>>>16,m+=(y+=(p+=(d+=65535&f)>>>16)>>>16)>>>16,r[2]=w=65535&y|m<<16,i[2]=x=65535&d|p<<16,d=65535&(f=T),p=f>>>16,y=65535&(h=v),m=h>>>16,h=r[3],p+=(f=i[3])>>>16,y+=65535&h,m+=h>>>16,m+=(y+=(p+=(d+=65535&f)>>>16)>>>16)>>>16,r[3]=v=65535&y|m<<16,i[3]=T=65535&d|p<<16,d=65535&(f=P),p=f>>>16,y=65535&(h=_),m=h>>>16,h=r[4],p+=(f=i[4])>>>16,y+=65535&h,m+=h>>>16,m+=(y+=(p+=(d+=65535&f)>>>16)>>>16)>>>16,r[4]=_=65535&y|m<<16,i[4]=P=65535&d|p<<16,d=65535&(f=I),p=f>>>16,y=65535&(h=E),m=h>>>16,h=r[5],p+=(f=i[5])>>>16,y+=65535&h,m+=h>>>16,m+=(y+=(p+=(d+=65535&f)>>>16)>>>16)>>>16,r[5]=E=65535&y|m<<16,i[5]=I=65535&d|p<<16,d=65535&(f=R),p=f>>>16,y=65535&(h=S),m=h>>>16,h=r[6],p+=(f=i[6])>>>16,y+=65535&h,m+=h>>>16,m+=(y+=(p+=(d+=65535&f)>>>16)>>>16)>>>16,r[6]=S=65535&y|m<<16,i[6]=R=65535&d|p<<16,d=65535&(f=O),p=f>>>16,y=65535&(h=M),m=h>>>16,h=r[7],p+=(f=i[7])>>>16,y+=65535&h,m+=h>>>16,m+=(y+=(p+=(d+=65535&f)>>>16)>>>16)>>>16,r[7]=M=65535&y|m<<16,i[7]=O=65535&d|p<<16,a+=128,u-=128}return a}t.hash=function(e){var t=new o;t.update(e);var r=t.digest();return t.clean(),r}},7309:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}},7664:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1416),i=r(7309);function o(e){var t=new Float64Array(16);if(e)for(var r=0;r<e.length;r++)t[r]=e[r];return t}t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=32,t.SHARED_KEY_LENGTH=32;var s=new Uint8Array(32);s[0]=9;var a=o([56129,1]);function u(e){for(var t=1,r=0;r<16;r++){var n=e[r]+t+65535;t=Math.floor(n/65536),e[r]=n-65536*t}e[0]+=t-1+37*(t-1)}function h(e,t,r){for(var n=~(r-1),i=0;i<16;i++){var o=n&(e[i]^t[i]);e[i]^=o,t[i]^=o}}function f(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function c(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function l(e,t,r){var n,i,o=0,s=0,a=0,u=0,h=0,f=0,c=0,l=0,d=0,p=0,y=0,m=0,g=0,b=0,w=0,v=0,_=0,E=0,S=0,M=0,A=0,k=0,x=0,T=0,P=0,I=0,R=0,O=0,B=0,C=0,L=0,j=r[0],D=r[1],N=r[2],U=r[3],H=r[4],z=r[5],F=r[6],q=r[7],$=r[8],K=r[9],V=r[10],W=r[11],G=r[12],Y=r[13],J=r[14],Z=r[15];o+=(n=t[0])*j,s+=n*D,a+=n*N,u+=n*U,h+=n*H,f+=n*z,c+=n*F,l+=n*q,d+=n*$,p+=n*K,y+=n*V,m+=n*W,g+=n*G,b+=n*Y,w+=n*J,v+=n*Z,s+=(n=t[1])*j,a+=n*D,u+=n*N,h+=n*U,f+=n*H,c+=n*z,l+=n*F,d+=n*q,p+=n*$,y+=n*K,m+=n*V,g+=n*W,b+=n*G,w+=n*Y,v+=n*J,_+=n*Z,a+=(n=t[2])*j,u+=n*D,h+=n*N,f+=n*U,c+=n*H,l+=n*z,d+=n*F,p+=n*q,y+=n*$,m+=n*K,g+=n*V,b+=n*W,w+=n*G,v+=n*Y,_+=n*J,E+=n*Z,u+=(n=t[3])*j,h+=n*D,f+=n*N,c+=n*U,l+=n*H,d+=n*z,p+=n*F,y+=n*q,m+=n*$,g+=n*K,b+=n*V,w+=n*W,v+=n*G,_+=n*Y,E+=n*J,S+=n*Z,h+=(n=t[4])*j,f+=n*D,c+=n*N,l+=n*U,d+=n*H,p+=n*z,y+=n*F,m+=n*q,g+=n*$,b+=n*K,w+=n*V,v+=n*W,_+=n*G,E+=n*Y,S+=n*J,M+=n*Z,f+=(n=t[5])*j,c+=n*D,l+=n*N,d+=n*U,p+=n*H,y+=n*z,m+=n*F,g+=n*q,b+=n*$,w+=n*K,v+=n*V,_+=n*W,E+=n*G,S+=n*Y,M+=n*J,A+=n*Z,c+=(n=t[6])*j,l+=n*D,d+=n*N,p+=n*U,y+=n*H,m+=n*z,g+=n*F,b+=n*q,w+=n*$,v+=n*K,_+=n*V,E+=n*W,S+=n*G,M+=n*Y,A+=n*J,k+=n*Z,l+=(n=t[7])*j,d+=n*D,p+=n*N,y+=n*U,m+=n*H,g+=n*z,b+=n*F,w+=n*q,v+=n*$,_+=n*K,E+=n*V,S+=n*W,M+=n*G,A+=n*Y,k+=n*J,x+=n*Z,d+=(n=t[8])*j,p+=n*D,y+=n*N,m+=n*U,g+=n*H,b+=n*z,w+=n*F,v+=n*q,_+=n*$,E+=n*K,S+=n*V,M+=n*W,A+=n*G,k+=n*Y,x+=n*J,T+=n*Z,p+=(n=t[9])*j,y+=n*D,m+=n*N,g+=n*U,b+=n*H,w+=n*z,v+=n*F,_+=n*q,E+=n*$,S+=n*K,M+=n*V,A+=n*W,k+=n*G,x+=n*Y,T+=n*J,P+=n*Z,y+=(n=t[10])*j,m+=n*D,g+=n*N,b+=n*U,w+=n*H,v+=n*z,_+=n*F,E+=n*q,S+=n*$,M+=n*K,A+=n*V,k+=n*W,x+=n*G,T+=n*Y,P+=n*J,I+=n*Z,m+=(n=t[11])*j,g+=n*D,b+=n*N,w+=n*U,v+=n*H,_+=n*z,E+=n*F,S+=n*q,M+=n*$,A+=n*K,k+=n*V,x+=n*W,T+=n*G,P+=n*Y,I+=n*J,R+=n*Z,g+=(n=t[12])*j,b+=n*D,w+=n*N,v+=n*U,_+=n*H,E+=n*z,S+=n*F,M+=n*q,A+=n*$,k+=n*K,x+=n*V,T+=n*W,P+=n*G,I+=n*Y,R+=n*J,O+=n*Z,b+=(n=t[13])*j,w+=n*D,v+=n*N,_+=n*U,E+=n*H,S+=n*z,M+=n*F,A+=n*q,k+=n*$,x+=n*K,T+=n*V,P+=n*W,I+=n*G,R+=n*Y,O+=n*J,B+=n*Z,w+=(n=t[14])*j,v+=n*D,_+=n*N,E+=n*U,S+=n*H,M+=n*z,A+=n*F,k+=n*q,x+=n*$,T+=n*K,P+=n*V,I+=n*W,R+=n*G,O+=n*Y,B+=n*J,C+=n*Z,v+=(n=t[15])*j,s+=38*(E+=n*N),a+=38*(S+=n*U),u+=38*(M+=n*H),h+=38*(A+=n*z),f+=38*(k+=n*F),c+=38*(x+=n*q),l+=38*(T+=n*$),d+=38*(P+=n*K),p+=38*(I+=n*V),y+=38*(R+=n*W),m+=38*(O+=n*G),g+=38*(B+=n*Y),b+=38*(C+=n*J),w+=38*(L+=n*Z),o=(n=(o+=38*(_+=n*D))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),o+=i-1+37*(i-1),e[0]=o,e[1]=s,e[2]=a,e[3]=u,e[4]=h,e[5]=f,e[6]=c,e[7]=l,e[8]=d,e[9]=p,e[10]=y,e[11]=m,e[12]=g,e[13]=b,e[14]=w,e[15]=v}function d(e,t){l(e,t,t)}function p(e,t){for(var r=new Uint8Array(32),n=new Float64Array(80),i=o(),s=o(),p=o(),y=o(),m=o(),g=o(),b=0;b<31;b++)r[b]=e[b];for(r[31]=127&e[31]|64,r[0]&=248,function(e,t){for(var r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(n,t),b=0;b<16;b++)s[b]=n[b];for(i[0]=y[0]=1,b=254;b>=0;--b){var w=r[b>>>3]>>>(7&b)&1;h(i,s,w),h(p,y,w),f(m,i,p),c(i,i,p),f(p,s,y),c(s,s,y),d(y,m),d(g,i),l(i,p,i),l(p,s,m),f(m,i,p),c(i,i,p),d(s,i),c(p,y,g),l(i,p,a),f(i,i,y),l(p,p,i),l(i,y,g),l(y,s,n),d(s,m),h(i,s,w),h(p,y,w)}for(b=0;b<16;b++)n[b+16]=i[b],n[b+32]=p[b],n[b+48]=s[b],n[b+64]=y[b];var v=n.subarray(32),_=n.subarray(16);!function(e,t){for(var r=o(),n=0;n<16;n++)r[n]=t[n];for(n=253;n>=0;n--)d(r,r),2!==n&&4!==n&&l(r,r,t);for(n=0;n<16;n++)e[n]=r[n]}(v,v),l(_,_,v);var E=new Uint8Array(32);return function(e,t){for(var r=o(),n=o(),i=0;i<16;i++)n[i]=t[i];u(n),u(n),u(n);for(var s=0;s<2;s++){for(r[0]=n[0]-65517,i=1;i<15;i++)r[i]=n[i]-65535-(r[i-1]>>16&1),r[i-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);var a=r[15]>>16&1;r[14]&=65535,h(n,r,1-a)}for(i=0;i<16;i++)e[2*i]=255&n[i],e[2*i+1]=n[i]>>8}(E,_),E}function y(e){return p(e,s)}function m(e){if(e.length!==t.SECRET_KEY_LENGTH)throw new Error("x25519: seed must be "+t.SECRET_KEY_LENGTH+" bytes");var r=new Uint8Array(e);return{publicKey:y(r),secretKey:r}}t.scalarMult=p,t.scalarMultBase=y,t.generateKeyPairFromSeed=m,t.generateKeyPair=function(e){var t=n.randomBytes(32,e),r=m(t);return i.wipe(t),r},t.sharedKey=function(e,r,n){if(void 0===n&&(n=!1),e.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(r.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");var i=p(e,r);if(n){for(var o=0,s=0;s<i.length;s++)o|=i[s];if(0===o)throw new Error("X25519: invalid shared key")}return i}},5753:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8099),i=r(7309),o=r(5439);function s(e,t,r,n){if(24!==t.length)throw new Error("XChaCha20 nonce must be 24 bytes");var s=a(e,t.subarray(0,16),new Uint8Array(32)),u=new Uint8Array(12);u.set(t.subarray(16),4);var h=o.streamXOR(s,u,r,n);return i.wipe(s),h}function a(e,t,r){for(var i=1634760805,o=857760878,s=2036477234,a=1797285236,u=e[3]<<24|e[2]<<16|e[1]<<8|e[0],h=e[7]<<24|e[6]<<16|e[5]<<8|e[4],f=e[11]<<24|e[10]<<16|e[9]<<8|e[8],c=e[15]<<24|e[14]<<16|e[13]<<8|e[12],l=e[19]<<24|e[18]<<16|e[17]<<8|e[16],d=e[23]<<24|e[22]<<16|e[21]<<8|e[20],p=e[27]<<24|e[26]<<16|e[25]<<8|e[24],y=e[31]<<24|e[30]<<16|e[29]<<8|e[28],m=t[3]<<24|t[2]<<16|t[1]<<8|t[0],g=t[7]<<24|t[6]<<16|t[5]<<8|t[4],b=t[11]<<24|t[10]<<16|t[9]<<8|t[8],w=t[15]<<24|t[14]<<16|t[13]<<8|t[12],v=0;v<20;v+=2)u=(u^=l=l+(m=(m^=i=i+u|0)>>>16|m<<16)|0)>>>20|u<<12,h=(h^=d=d+(g=(g^=o=o+h|0)>>>16|g<<16)|0)>>>20|h<<12,f=(f^=p=p+(b=(b^=s=s+f|0)>>>16|b<<16)|0)>>>20|f<<12,c=(c^=y=y+(w=(w^=a=a+c|0)>>>16|w<<16)|0)>>>20|c<<12,f=(f^=p=p+(b=(b^=s=s+f|0)>>>24|b<<8)|0)>>>25|f<<7,c=(c^=y=y+(w=(w^=a=a+c|0)>>>24|w<<8)|0)>>>25|c<<7,h=(h^=d=d+(g=(g^=o=o+h|0)>>>24|g<<8)|0)>>>25|h<<7,u=(u^=l=l+(m=(m^=i=i+u|0)>>>24|m<<8)|0)>>>25|u<<7,h=(h^=p=p+(w=(w^=i=i+h|0)>>>16|w<<16)|0)>>>20|h<<12,f=(f^=y=y+(m=(m^=o=o+f|0)>>>16|m<<16)|0)>>>20|f<<12,c=(c^=l=l+(g=(g^=s=s+c|0)>>>16|g<<16)|0)>>>20|c<<12,u=(u^=d=d+(b=(b^=a=a+u|0)>>>16|b<<16)|0)>>>20|u<<12,c=(c^=l=l+(g=(g^=s=s+c|0)>>>24|g<<8)|0)>>>25|c<<7,u=(u^=d=d+(b=(b^=a=a+u|0)>>>24|b<<8)|0)>>>25|u<<7,f=(f^=y=y+(m=(m^=o=o+f|0)>>>24|m<<8)|0)>>>25|f<<7,h=(h^=p=p+(w=(w^=i=i+h|0)>>>24|w<<8)|0)>>>25|h<<7;return n.writeUint32LE(i,r,0),n.writeUint32LE(o,r,4),n.writeUint32LE(s,r,8),n.writeUint32LE(a,r,12),n.writeUint32LE(m,r,16),n.writeUint32LE(g,r,20),n.writeUint32LE(b,r,24),n.writeUint32LE(w,r,28),r}t.streamXOR=s,t.stream=function(e,t,r){return i.wipe(r),s(e,t,r,r)},t.hchacha=a},9375:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5753),i=r(5501),o=r(7309);t.KEY_LENGTH=32,t.NONCE_LENGTH=24,t.TAG_LENGTH=16;var s=function(){function e(e){if(this.nonceLength=t.NONCE_LENGTH,this.tagLength=t.TAG_LENGTH,e.length!==t.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return e.prototype.seal=function(e,t,r,s){if(24!==e.length)throw new Error("XChaCha20Poly1305: incorrect nonce length");var a=n.hchacha(this._key,e.subarray(0,16),new Uint8Array(32)),u=new Uint8Array(12);u.set(e.subarray(16),4);var h=new i.ChaCha20Poly1305(a),f=h.seal(u,t,r,s);return o.wipe(a),o.wipe(u),h.clean(),f},e.prototype.open=function(e,t,r,s){if(24!==e.length)throw new Error("XChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var a=n.hchacha(this._key,e.subarray(0,16),new Uint8Array(32)),u=new Uint8Array(12);u.set(e.subarray(16),4);var h=new i.ChaCha20Poly1305(a),f=h.open(u,t,r,s);return o.wipe(a),o.wipe(u),h.clean(),f},e.prototype.clean=function(){return o.wipe(this._key),this},e}();t.XChaCha20Poly1305=s},9669:(e,t,r)=>{e.exports=r(1609)},5448:(e,t,r)=>{"use strict";var n=r(4867),i=r(6026),o=r(4372),s=r(5327),a=r(4097),u=r(4109),h=r(7985),f=r(7874),c=r(2648),l=r(644),d=r(205);e.exports=function(e){return new Promise((function(t,r){var p,y=e.data,m=e.headers,g=e.responseType;function b(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}n.isFormData(y)&&n.isStandardBrowserEnv()&&delete m["Content-Type"];var w=new XMLHttpRequest;if(e.auth){var v=e.auth.username||"",_=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(v+":"+_)}var E=a(e.baseURL,e.url);function S(){if(w){var n="getAllResponseHeaders"in w?u(w.getAllResponseHeaders()):null,o={data:g&&"text"!==g&&"json"!==g?w.response:w.responseText,status:w.status,statusText:w.statusText,headers:n,config:e,request:w};i((function(e){t(e),b()}),(function(e){r(e),b()}),o),w=null}}if(w.open(e.method.toUpperCase(),s(E,e.params,e.paramsSerializer),!0),w.timeout=e.timeout,"onloadend"in w?w.onloadend=S:w.onreadystatechange=function(){w&&4===w.readyState&&(0!==w.status||w.responseURL&&0===w.responseURL.indexOf("file:"))&&setTimeout(S)},w.onabort=function(){w&&(r(new c("Request aborted",c.ECONNABORTED,e,w)),w=null)},w.onerror=function(){r(new c("Network Error",c.ERR_NETWORK,e,w,w)),w=null},w.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||f;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new c(t,n.clarifyTimeoutError?c.ETIMEDOUT:c.ECONNABORTED,e,w)),w=null},n.isStandardBrowserEnv()){var M=(e.withCredentials||h(E))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;M&&(m[e.xsrfHeaderName]=M)}"setRequestHeader"in w&&n.forEach(m,(function(e,t){void 0===y&&"content-type"===t.toLowerCase()?delete m[t]:w.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(w.withCredentials=!!e.withCredentials),g&&"json"!==g&&(w.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&w.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&w.upload&&w.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){w&&(r(!e||e&&e.type?new l:e),w.abort(),w=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),y||(y=null);var A=d(E);A&&-1===["http","https","file"].indexOf(A)?r(new c("Unsupported protocol "+A+":",c.ERR_BAD_REQUEST,e)):w.send(y)}))}},1609:(e,t,r)=>{"use strict";var n=r(4867),i=r(1849),o=r(321),s=r(7185),a=function e(t){var r=new o(t),a=i(o.prototype.request,r);return n.extend(a,o.prototype,r),n.extend(a,r),a.create=function(r){return e(s(t,r))},a}(r(5546));a.Axios=o,a.CanceledError=r(644),a.CancelToken=r(4972),a.isCancel=r(6502),a.VERSION=r(7288).version,a.toFormData=r(7675),a.AxiosError=r(2648),a.Cancel=a.CanceledError,a.all=function(e){return Promise.all(e)},a.spread=r(8713),a.isAxiosError=r(6268),e.exports=a,e.exports.default=a},4972:(e,t,r)=>{"use strict";var n=r(644);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},644:(e,t,r)=>{"use strict";var n=r(2648);function i(e){n.call(this,null==e?"canceled":e,n.ERR_CANCELED),this.name="CanceledError"}r(4867).inherits(i,n,{__CANCEL__:!0}),e.exports=i},6502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,r)=>{"use strict";var n=r(4867),i=r(5327),o=r(782),s=r(3572),a=r(7185),u=r(4097),h=r(4875),f=h.validators;function c(e){this.defaults=e,this.interceptors={request:new o,response:new o}}c.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;void 0!==r&&h.assertOptions(r,{silentJSONParsing:f.transitional(f.boolean),forcedJSONParsing:f.transitional(f.boolean),clarifyTimeoutError:f.transitional(f.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var o,u=[];if(this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)})),!i){var c=[s,void 0];for(Array.prototype.unshift.apply(c,n),c=c.concat(u),o=Promise.resolve(t);c.length;)o=o.then(c.shift(),c.shift());return o}for(var l=t;n.length;){var d=n.shift(),p=n.shift();try{l=d(l)}catch(e){p(e);break}}try{o=s(l)}catch(e){return Promise.reject(e)}for(;u.length;)o=o.then(u.shift(),u.shift());return o},c.prototype.getUri=function(e){e=a(this.defaults,e);var t=u(e.baseURL,e.url);return i(t,e.params,e.paramsSerializer)},n.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,r){return this.request(a(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,i){return this.request(a(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}c.prototype[e]=t(),c.prototype[e+"Form"]=t(!0)})),e.exports=c},2648:(e,t,r)=>{"use strict";var n=r(4867);function i(e,t,r,n,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}n.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var o=i.prototype,s={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){s[e]={value:e}})),Object.defineProperties(i,s),Object.defineProperty(o,"isAxiosError",{value:!0}),i.from=function(e,t,r,s,a,u){var h=Object.create(o);return n.toFlatObject(e,h,(function(e){return e!==Error.prototype})),i.call(h,e.message,t,r,s,a),h.name=e.name,u&&Object.assign(h,u),h},e.exports=i},782:(e,t,r)=>{"use strict";var n=r(4867);function i(){this.handlers=[]}i.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},4097:(e,t,r)=>{"use strict";var n=r(1793),i=r(7303);e.exports=function(e,t){return e&&!n(t)?i(e,t):t}},3572:(e,t,r)=>{"use strict";var n=r(4867),i=r(8527),o=r(6502),s=r(5546),a=r(644);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},7185:(e,t,r)=>{"use strict";var n=r(4867);e.exports=function(e,t){t=t||{};var r={};function i(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function o(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:i(void 0,e[r]):i(e[r],t[r])}function s(e){if(!n.isUndefined(t[e]))return i(void 0,t[e])}function a(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:i(void 0,e[r]):i(void 0,t[r])}function u(r){return r in t?i(e[r],t[r]):r in e?i(void 0,e[r]):void 0}var h={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u};return n.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=h[e]||o,i=t(e);n.isUndefined(i)&&t!==u||(r[e]=i)})),r}},6026:(e,t,r)=>{"use strict";var n=r(2648);e.exports=function(e,t,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?t(new n("Request failed with status code "+r.status,[n.ERR_BAD_REQUEST,n.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}},8527:(e,t,r)=>{"use strict";var n=r(4867),i=r(5546);e.exports=function(e,t,r){var o=this||i;return n.forEach(r,(function(r){e=r.call(o,e,t)})),e}},5546:(e,t,r)=>{"use strict";var n=r(4867),i=r(6016),o=r(2648),s=r(7874),a=r(7675),u={"Content-Type":"application/x-www-form-urlencoded"};function h(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var f,c={transitional:s,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(f=r(5448)),f),transformRequest:[function(e,t){if(i(t,"Accept"),i(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e))return e;if(n.isArrayBufferView(e))return e.buffer;if(n.isURLSearchParams(e))return h(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var r,o=n.isObject(e),s=t&&t["Content-Type"];if((r=n.isFileList(e))||o&&"multipart/form-data"===s){var u=this.env&&this.env.FormData;return a(r?{"files[]":e}:e,u&&new u)}return o||"application/json"===s?(h(t,"application/json"),function(e,t,r){if(n.isString(e))try{return(0,JSON.parse)(e),n.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||c.transitional,r=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,s=!r&&"json"===this.responseType;if(s||i&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(s){if("SyntaxError"===e.name)throw o.from(e,o.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:r(1623)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){c.headers[e]=n.merge(u)})),e.exports=c},7874:e=>{"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},7288:e=>{e.exports={version:"0.27.2"}},1849:e=>{"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},5327:(e,t,r)=>{"use strict";var n=r(4867);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var o;if(r)o=r(t);else if(n.isURLSearchParams(t))o=t.toString();else{var s=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},7303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,r)=>{"use strict";var n=r(4867);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(i)&&a.push("path="+i),n.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},6268:(e,t,r)=>{"use strict";var n=r(4867);e.exports=function(e){return n.isObject(e)&&!0===e.isAxiosError}},7985:(e,t,r)=>{"use strict";var n=r(4867);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},6016:(e,t,r)=>{"use strict";var n=r(4867);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},1623:e=>{e.exports=null},4109:(e,t,r)=>{"use strict";var n=r(4867),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,o,s={};return e?(n.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),r=n.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([r]):s[t]?s[t]+", "+r:r}})),s):s}},205:e=>{"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7675:(e,t,r)=>{"use strict";var n=r(8764).Buffer,i=r(4867);e.exports=function(e,t){t=t||new FormData;var r=[];function o(e){return null===e?"":i.isDate(e)?e.toISOString():i.isArrayBuffer(e)||i.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):n.from(e):e}return function e(n,s){if(i.isPlainObject(n)||i.isArray(n)){if(-1!==r.indexOf(n))throw Error("Circular reference detected in "+s);r.push(n),i.forEach(n,(function(r,n){if(!i.isUndefined(r)){var a,u=s?s+"."+n:n;if(r&&!s&&"object"==typeof r)if(i.endsWith(n,"{}"))r=JSON.stringify(r);else if(i.endsWith(n,"[]")&&(a=i.toArray(r)))return void a.forEach((function(e){!i.isUndefined(e)&&t.append(u,o(e))}));e(r,u)}})),r.pop()}else t.append(s,o(n))}(e),t}},4875:(e,t,r)=>{"use strict";var n=r(7288).version,i=r(2648),o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var s={};o.transitional=function(e,t,r){function o(e,t){return"[Axios v"+n+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,a){if(!1===e)throw new i(o(n," has been removed"+(t?" in "+t:"")),i.ERR_DEPRECATED);return t&&!s[n]&&(s[n]=!0,console.warn(o(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,a)}},e.exports={assertOptions:function(e,t,r){if("object"!=typeof e)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),o=n.length;o-- >0;){var s=n[o],a=t[s];if(a){var u=e[s],h=void 0===u||a(u,s,e);if(!0!==h)throw new i("option "+s+" must be "+h,i.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new i("Unknown option "+s,i.ERR_BAD_OPTION)}},validators:o}},4867:(e,t,r)=>{"use strict";var n,i=r(1849),o=Object.prototype.toString,s=(n=Object.create(null),function(e){var t=o.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())});function a(e){return e=e.toLowerCase(),function(t){return s(t)===e}}function u(e){return Array.isArray(e)}function h(e){return void 0===e}var f=a("ArrayBuffer");function c(e){return null!==e&&"object"==typeof e}function l(e){if("object"!==s(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var d=a("Date"),p=a("File"),y=a("Blob"),m=a("FileList");function g(e){return"[object Function]"===o.call(e)}var b=a("URLSearchParams");function w(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),u(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var v,_=(v="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return v&&e instanceof v});e.exports={isArray:u,isArrayBuffer:f,isBuffer:function(e){return null!==e&&!h(e)&&null!==e.constructor&&!h(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||o.call(e)===t||g(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&f(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isPlainObject:l,isUndefined:h,isDate:d,isFile:p,isBlob:y,isFunction:g,isStream:function(e){return c(e)&&g(e.pipe)},isURLSearchParams:b,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:w,merge:function e(){var t={};function r(r,n){l(t[n])&&l(r)?t[n]=e(t[n],r):l(r)?t[n]=e({},r):u(r)?t[n]=r.slice():t[n]=r}for(var n=0,i=arguments.length;n<i;n++)w(arguments[n],r);return t},extend:function(e,t,r){return w(t,(function(t,n){e[n]=r&&"function"==typeof t?i(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,r,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,r&&Object.assign(e.prototype,r)},toFlatObject:function(e,t,r){var n,i,o,s={};t=t||{};do{for(i=(n=Object.getOwnPropertyNames(e)).length;i-- >0;)s[o=n[i]]||(t[o]=e[o],s[o]=!0);e=Object.getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:a,endsWith:function(e,t,r){e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;var n=e.indexOf(t,r);return-1!==n&&n===r},toArray:function(e){if(!e)return null;var t=e.length;if(h(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r},isTypedArray:_,isFileList:m}},8162:(e,t,r)=>{"use strict";var n=r(9509).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==t[s])throw new TypeError(o+" is ambiguous");t[s]=i}var a=e.length,u=e.charAt(0),h=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function c(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return n.alloc(0);for(var r=0,i=0,o=0;e[r]===u;)i++,r++;for(var s=(e.length-r)*h+1>>>0,f=new Uint8Array(s);e[r];){var c=t[e.charCodeAt(r)];if(255===c)return;for(var l=0,d=s-1;(0!==c||l<o)&&-1!==d;d--,l++)c+=a*f[d]>>>0,f[d]=c%256>>>0,c=c/256>>>0;if(0!==c)throw new Error("Non-zero carry");o=l,r++}for(var p=s-o;p!==s&&0===f[p];)p++;var y=n.allocUnsafe(i+(s-p));y.fill(0,0,i);for(var m=i;p!==s;)y[m++]=f[p++];return y}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=n.from(t)),!n.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,i=0,o=0,s=t.length;o!==s&&0===t[o];)o++,r++;for(var h=(s-o)*f+1>>>0,c=new Uint8Array(h);o!==s;){for(var l=t[o],d=0,p=h-1;(0!==l||d<i)&&-1!==p;p--,d++)l+=256*c[p]>>>0,c[p]=l%a>>>0,l=l/a>>>0;if(0!==l)throw new Error("Non-zero carry");i=d,o++}for(var y=h-i;y!==h&&0===c[y];)y++;for(var m=u.repeat(r);y<h;++y)m+=e.charAt(c[y]);return m},decodeUnsafe:c,decode:function(e){var t=c(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}},9742:(e,t)=>{"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=u(e),s=o[0],a=o[1],h=new i(function(e,t,r){return 3*(t+r)/4-r}(0,s,a)),f=0,c=a>0?s-4:s;for(r=0;r<c;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],h[f++]=t>>16&255,h[f++]=t>>8&255,h[f++]=255&t;return 2===a&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,h[f++]=255&t),1===a&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,h[f++]=t>>8&255,h[f++]=255&t),h},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=16383,a=0,u=n-i;a<u;a+=s)o.push(h(e,a,a+s>u?u:a+s));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function h(e,t,n){for(var i,o,s=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},7715:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bech32m=t.bech32=void 0;const r="qpzry9x8gf2tvdw0s3jn54khce6mua7l",n={};for(let e=0;e<r.length;e++){const t=r.charAt(e);n[t]=e}function i(e){const t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function o(e){let t=1;for(let r=0;r<e.length;++r){const n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=i(t)^n>>5}t=i(t);for(let r=0;r<e.length;++r){const n=e.charCodeAt(r);t=i(t)^31&n}return t}function s(e,t,r,n){let i=0,o=0;const s=(1<<r)-1,a=[];for(let n=0;n<e.length;++n)for(i=i<<t|e[n],o+=t;o>=r;)o-=r,a.push(i>>o&s);if(n)o>0&&a.push(i<<r-o&s);else{if(o>=t)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return a}function a(e){return s(e,8,5,!0)}function u(e){const t=s(e,5,8,!1);if(Array.isArray(t))return t}function h(e){const t=s(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function f(e){let t;function s(e,r){if(r=r||90,e.length<8)return e+" too short";if(e.length>r)return"Exceeds length limit";const s=e.toLowerCase(),a=e.toUpperCase();if(e!==s&&e!==a)return"Mixed-case string "+e;const u=(e=s).lastIndexOf("1");if(-1===u)return"No separator character for "+e;if(0===u)return"Missing prefix for "+e;const h=e.slice(0,u),f=e.slice(u+1);if(f.length<6)return"Data too short";let c=o(h);if("string"==typeof c)return c;const l=[];for(let e=0;e<f.length;++e){const t=f.charAt(e),r=n[t];if(void 0===r)return"Unknown character "+t;c=i(c)^r,e+6>=f.length||l.push(r)}return c!==t?"Invalid checksum for "+e:{prefix:h,words:l}}return t="bech32"===e?1:734539939,{decodeUnsafe:function(e,t){const r=s(e,t);if("object"==typeof r)return r},decode:function(e,t){const r=s(e,t);if("object"==typeof r)return r;throw new Error(r)},encode:function(e,n,s){if(s=s||90,e.length+7+n.length>s)throw new TypeError("Exceeds length limit");let a=o(e=e.toLowerCase());if("string"==typeof a)throw new Error(a);let u=e+"1";for(let e=0;e<n.length;++e){const t=n[e];if(t>>5!=0)throw new Error("Non 5-bit word");a=i(a)^t,u+=r.charAt(t)}for(let e=0;e<6;++e)a=i(a);a^=t;for(let e=0;e<6;++e)u+=r.charAt(a>>5*(5-e)&31);return u},toWords:a,fromWordsUnsafe:u,fromWords:h}}t.bech32=f("bech32"),t.bech32m=f("bech32m")},2190:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6574);function i(e,t,r){return n=>{if(e.has(n))return;const i=r.filter((e=>e.key.toString("hex")===n))[0];t.push(i),e.add(n)}}function o(e){return e.globalMap.unsignedTx}function s(e){const t=new Set;return e.forEach((e=>{const r=e.key.toString("hex");if(t.has(r))throw new Error("Combine: KeyValue Map keys should be unique");t.add(r)})),t}t.combine=function(e){const t=e[0],r=n.psbtToKeyVals(t),a=e.slice(1);if(0===a.length)throw new Error("Combine: Nothing to combine");const u=o(t);if(void 0===u)throw new Error("Combine: Self missing transaction");const h=s(r.globalKeyVals),f=r.inputKeyVals.map(s),c=r.outputKeyVals.map(s);for(const e of a){const t=o(e);if(void 0===t||!t.toBuffer().equals(u.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");const a=n.psbtToKeyVals(e);s(a.globalKeyVals).forEach(i(h,r.globalKeyVals,a.globalKeyVals)),a.inputKeyVals.map(s).forEach(((e,t)=>e.forEach(i(f[t],r.inputKeyVals[t],a.inputKeyVals[t])))),a.outputKeyVals.map(s).forEach(((e,t)=>e.forEach(i(c[t],r.outputKeyVals[t],a.outputKeyVals[t]))))}return n.psbtFromKeyVals(u,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})}},4041:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(1847);t.decode=function(e){if(e.key[0]!==i.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+e.key.toString("hex"));if(79!==e.key.length||![2,3].includes(e.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+e.key.toString("hex"));if(e.value.length/4%1!=0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");const t=e.key.slice(1),r={masterFingerprint:e.value.slice(0,4),extendedPubkey:t,path:"m"};for(const t of(n=e.value.length/4-1,[...Array(n).keys()])){const n=e.value.readUInt32LE(4*t+4),i=!!(2147483648&n),o=2147483647&n;r.path+="/"+o.toString(10)+(i?"'":"")}var n;return r},t.encode=function(e){const t=n.from([i.GlobalTypes.GLOBAL_XPUB]),r=n.concat([t,e.extendedPubkey]),o=e.path.split("/"),s=n.allocUnsafe(4*o.length);e.masterFingerprint.copy(s,0);let a=4;return o.slice(1).forEach((e=>{const t="'"===e.slice(-1);let r=2147483647&parseInt(t?e.slice(0,-1):e,10);t&&(r+=2147483648),s.writeUInt32LE(r,a),a+=4})),{key:r,value:s}},t.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }",t.check=function(e){const t=e.extendedPubkey,r=e.masterFingerprint,i=e.path;return n.isBuffer(t)&&78===t.length&&[2,3].indexOf(t[45])>-1&&n.isBuffer(r)&&4===r.length&&"string"==typeof i&&!!i.match(/^m(\/\d+'?)*$/)},t.canAddToArray=function(e,t,r){const n=t.extendedPubkey.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((e=>e.extendedPubkey.equals(t.extendedPubkey))).length)}},4480:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(1847);t.encode=function(e){return{key:n.from([i.GlobalTypes.UNSIGNED_TX]),value:e.toBuffer()}}},1528:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1847),i=r(4041),o=r(4480),s=r(859),a=r(8248),u=r(537),h=r(1511),f=r(5896),c=r(1243),l=r(3530),d=r(9265),p=r(3934),y=r(602),m=r(2954),g=r(6036),b=r(4799),w=r(9595),v=r(9705),_=r(7196),E=r(8229),S=r(6327),M={unsignedTx:o,globalXpub:i,checkPubkey:w.makeChecker([])};t.globals=M;const A={nonWitnessUtxo:u,partialSig:h,sighashType:c,finalScriptSig:s,finalScriptWitness:a,porCommitment:f,witnessUtxo:m,bip32Derivation:b.makeConverter(n.InputTypes.BIP32_DERIVATION),redeemScript:v.makeConverter(n.InputTypes.REDEEM_SCRIPT),witnessScript:S.makeConverter(n.InputTypes.WITNESS_SCRIPT),checkPubkey:w.makeChecker([n.InputTypes.PARTIAL_SIG,n.InputTypes.BIP32_DERIVATION]),tapKeySig:l,tapScriptSig:y,tapLeafScript:d,tapBip32Derivation:_.makeConverter(n.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:E.makeConverter(n.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:p};t.inputs=A;const k={bip32Derivation:b.makeConverter(n.OutputTypes.BIP32_DERIVATION),redeemScript:v.makeConverter(n.OutputTypes.REDEEM_SCRIPT),witnessScript:S.makeConverter(n.OutputTypes.WITNESS_SCRIPT),checkPubkey:w.makeChecker([n.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:_.makeConverter(n.OutputTypes.TAP_BIP32_DERIVATION),tapTree:g,tapInternalKey:E.makeConverter(n.OutputTypes.TAP_INTERNAL_KEY)};t.outputs=k},859:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(1847);t.decode=function(e){if(e.key[0]!==i.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+e.key.toString("hex"));return e.value},t.encode=function(e){return{key:n.from([i.InputTypes.FINAL_SCRIPTSIG]),value:e}},t.expected="Buffer",t.check=function(e){return n.isBuffer(e)},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.finalScriptSig}},8248:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(1847);t.decode=function(e){if(e.key[0]!==i.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+e.key.toString("hex"));return e.value},t.encode=function(e){return{key:n.from([i.InputTypes.FINAL_SCRIPTWITNESS]),value:e}},t.expected="Buffer",t.check=function(e){return n.isBuffer(e)},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.finalScriptWitness}},537:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(1847);t.decode=function(e){if(e.key[0]!==i.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+e.key.toString("hex"));return e.value},t.encode=function(e){return{key:n.from([i.InputTypes.NON_WITNESS_UTXO]),value:e}},t.expected="Buffer",t.check=function(e){return n.isBuffer(e)},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.nonWitnessUtxo}},1511:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(1847);t.decode=function(e){if(e.key[0]!==i.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+e.key.toString("hex"));if(34!==e.key.length&&66!==e.key.length||![2,3,4].includes(e.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+e.key.toString("hex"));return{pubkey:e.key.slice(1),signature:e.value}},t.encode=function(e){const t=n.from([i.InputTypes.PARTIAL_SIG]);return{key:n.concat([t,e.pubkey]),value:e.signature}},t.expected="{ pubkey: Buffer; signature: Buffer; }",t.check=function(e){return n.isBuffer(e.pubkey)&&n.isBuffer(e.signature)&&[33,65].includes(e.pubkey.length)&&[2,3,4].includes(e.pubkey[0])&&function(e){if(!n.isBuffer(e)||e.length<9)return!1;if(48!==e[0])return!1;if(e.length!==e[1]+3)return!1;if(2!==e[2])return!1;const t=e[3];if(t>33||t<1)return!1;if(2!==e[3+t+1])return!1;const r=e[3+t+2];return!(r>33||r<1)&&e.length===3+t+2+r+2}(e.signature)},t.canAddToArray=function(e,t,r){const n=t.pubkey.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((e=>e.pubkey.equals(t.pubkey))).length)}},5896:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(1847);t.decode=function(e){if(e.key[0]!==i.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+e.key.toString("hex"));return e.value.toString("utf8")},t.encode=function(e){return{key:n.from([i.InputTypes.POR_COMMITMENT]),value:n.from(e,"utf8")}},t.expected="string",t.check=function(e){return"string"==typeof e},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.porCommitment}},1243:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(1847);t.decode=function(e){if(e.key[0]!==i.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+e.key.toString("hex"));return e.value.readUInt32LE(0)},t.encode=function(e){const t=n.from([i.InputTypes.SIGHASH_TYPE]),r=n.allocUnsafe(4);return r.writeUInt32LE(e,0),{key:t,value:r}},t.expected="number",t.check=function(e){return"number"==typeof e},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.sighashType}},3530:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(1847);function o(e){return n.isBuffer(e)&&(64===e.length||65===e.length)}t.decode=function(e){if(e.key[0]!==i.InputTypes.TAP_KEY_SIG||1!==e.key.length)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+e.key.toString("hex"));if(!o(e.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return e.value},t.encode=function(e){return{key:n.from([i.InputTypes.TAP_KEY_SIG]),value:e}},t.expected="Buffer",t.check=o,t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.tapKeySig}},9265:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(1847);t.decode=function(e){if(e.key[0]!==i.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+e.key.toString("hex"));if((e.key.length-2)%32!=0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+e.key.toString("hex"));const t=e.value[e.value.length-1];if((254&e.key[1])!==t)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+e.key.toString("hex"));const r=e.value.slice(0,-1);return{controlBlock:e.key.slice(1),script:r,leafVersion:t}},t.encode=function(e){const t=n.from([i.InputTypes.TAP_LEAF_SCRIPT]),r=n.from([e.leafVersion]);return{key:n.concat([t,e.controlBlock]),value:n.concat([e.script,r])}},t.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }",t.check=function(e){return n.isBuffer(e.controlBlock)&&(e.controlBlock.length-1)%32==0&&(254&e.controlBlock[0])===e.leafVersion&&n.isBuffer(e.script)},t.canAddToArray=function(e,t,r){const n=t.controlBlock.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((e=>e.controlBlock.equals(t.controlBlock))).length)}},3934:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(1847);function o(e){return n.isBuffer(e)&&32===e.length}t.decode=function(e){if(e.key[0]!==i.InputTypes.TAP_MERKLE_ROOT||1!==e.key.length)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+e.key.toString("hex"));if(!o(e.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return e.value},t.encode=function(e){return{key:n.from([i.InputTypes.TAP_MERKLE_ROOT]),value:e}},t.expected="Buffer",t.check=o,t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.tapMerkleRoot}},602:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(1847);t.decode=function(e){if(e.key[0]!==i.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+e.key.toString("hex"));if(65!==e.key.length)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+e.key.toString("hex"));if(64!==e.value.length&&65!==e.value.length)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+e.key.toString("hex"));return{pubkey:e.key.slice(1,33),leafHash:e.key.slice(33),signature:e.value}},t.encode=function(e){const t=n.from([i.InputTypes.TAP_SCRIPT_SIG]);return{key:n.concat([t,e.pubkey,e.leafHash]),value:e.signature}},t.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }",t.check=function(e){return n.isBuffer(e.pubkey)&&n.isBuffer(e.leafHash)&&n.isBuffer(e.signature)&&32===e.pubkey.length&&32===e.leafHash.length&&(64===e.signature.length||65===e.signature.length)},t.canAddToArray=function(e,t,r){const n=t.pubkey.toString("hex")+t.leafHash.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((e=>e.pubkey.equals(t.pubkey)&&e.leafHash.equals(t.leafHash))).length)}},2954:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(1847),o=r(9254),s=r(3493);t.decode=function(e){if(e.key[0]!==i.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+e.key.toString("hex"));const t=o.readUInt64LE(e.value,0);let r=8;const n=s.decode(e.value,r);r+=s.encodingLength(n);const a=e.value.slice(r);if(a.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:a,value:t}},t.encode=function(e){const{script:t,value:r}=e,a=s.encodingLength(t.length),u=n.allocUnsafe(8+a+t.length);return o.writeUInt64LE(u,r,0),s.encode(t.length,u,8),t.copy(u,8+a),{key:n.from([i.InputTypes.WITNESS_UTXO]),value:u}},t.expected="{ script: Buffer; value: number; }",t.check=function(e){return n.isBuffer(e.script)&&"number"==typeof e.value},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.witnessUtxo}},6036:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(1847),o=r(3493);t.decode=function(e){if(e.key[0]!==i.OutputTypes.TAP_TREE||1!==e.key.length)throw new Error("Decode Error: could not decode tapTree with key 0x"+e.key.toString("hex"));let t=0;const r=[];for(;t<e.value.length;){const n=e.value[t++],i=e.value[t++],s=o.decode(e.value,t);t+=o.encodingLength(s),r.push({depth:n,leafVersion:i,script:e.value.slice(t,t+s)}),t+=s}return{leaves:r}},t.encode=function(e){const t=n.from([i.OutputTypes.TAP_TREE]),r=[].concat(...e.leaves.map((e=>[n.of(e.depth,e.leafVersion),o.encode(e.script.length),e.script])));return{key:t,value:n.concat(r)}},t.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }",t.check=function(e){return Array.isArray(e.leaves)&&e.leaves.every((e=>e.depth>=0&&e.depth<=128&&(254&e.leafVersion)===e.leafVersion&&n.isBuffer(e.script)))},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.tapTree}},4799:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=e=>33===e.length&&[2,3].includes(e[0])||65===e.length&&4===e[0];t.makeConverter=function(e,t=i){return{decode:function(r){if(r.key[0]!==e)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+r.key.toString("hex"));const n=r.key.slice(1);if(!t(n))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+r.key.toString("hex"));if(r.value.length/4%1!=0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");const i={masterFingerprint:r.value.slice(0,4),pubkey:n,path:"m"};for(const e of(o=r.value.length/4-1,[...Array(o).keys()])){const t=r.value.readUInt32LE(4*e+4),n=!!(2147483648&t),o=2147483647&t;i.path+="/"+o.toString(10)+(n?"'":"")}var o;return i},encode:function(t){const r=n.from([e]),i=n.concat([r,t.pubkey]),o=t.path.split("/"),s=n.allocUnsafe(4*o.length);t.masterFingerprint.copy(s,0);let a=4;return o.slice(1).forEach((e=>{const t="'"===e.slice(-1);let r=2147483647&parseInt(t?e.slice(0,-1):e,10);t&&(r+=2147483648),s.writeUInt32LE(r,a),a+=4})),{key:i,value:s}},check:function(e){return n.isBuffer(e.pubkey)&&n.isBuffer(e.masterFingerprint)&&"string"==typeof e.path&&t(e.pubkey)&&4===e.masterFingerprint.length},expected:"{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }",canAddToArray:function(e,t,r){const n=t.pubkey.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((e=>e.pubkey.equals(t.pubkey))).length)}}}},9595:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeChecker=function(e){return function(t){let r;if(e.includes(t.key[0])&&(r=t.key.slice(1),33!==r.length&&65!==r.length||![2,3,4].includes(r[0])))throw new Error("Format Error: invalid pubkey in key 0x"+t.key.toString("hex"));return r}}},9705:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e)throw new Error("Decode Error: could not decode redeemScript with key 0x"+t.key.toString("hex"));return t.value},encode:function(t){return{key:n.from([e]),value:t}},check:function(e){return n.isBuffer(e)},expected:"Buffer",canAdd:function(e,t){return!!e&&!!t&&void 0===e.redeemScript}}}},7196:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(3493),o=r(4799),s=e=>32===e.length;t.makeConverter=function(e){const t=o.makeConverter(e,s);return{decode:function(e){const r=i.decode(e.value),n=i.encodingLength(r),o=t.decode({key:e.key,value:e.value.slice(n+32*r)}),s=new Array(r);for(let t=0,i=n;t<r;t++,i+=32)s[t]=e.value.slice(i,i+32);return Object.assign({},o,{leafHashes:s})},encode:function(e){const r=t.encode(e),o=i.encodingLength(e.leafHashes.length),s=n.allocUnsafe(o);i.encode(e.leafHashes.length,s);const a=n.concat([s,...e.leafHashes,r.value]);return Object.assign({},r,{value:a})},check:function(e){return Array.isArray(e.leafHashes)&&e.leafHashes.every((e=>n.isBuffer(e)&&32===e.length))&&t.check(e)},expected:"{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }",canAddToArray:t.canAddToArray}}},8229:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e||1!==t.key.length)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+t.key.toString("hex"));if(32!==t.value.length)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return t.value},encode:function(t){return{key:n.from([e]),value:t}},check:function(e){return n.isBuffer(e)&&32===e.length},expected:"Buffer",canAdd:function(e,t){return!!e&&!!t&&void 0===e.tapInternalKey}}}},6327:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e)throw new Error("Decode Error: could not decode witnessScript with key 0x"+t.key.toString("hex"));return t.value},encode:function(t){return{key:n.from([e]),value:t}},check:function(e){return n.isBuffer(e)},expected:"Buffer",canAdd:function(e,t){return!!e&&!!t&&void 0===e.witnessScript}}}},9254:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(3493);function o(e){const t=e.key.length,r=e.value.length,o=i.encodingLength(t),s=i.encodingLength(r),a=n.allocUnsafe(o+t+s+r);return i.encode(t,a,0),e.key.copy(a,o),i.encode(r,a,o+t),e.value.copy(a,o+t+s),a}function s(e,t){if("number"!=typeof e)throw new Error("cannot write a non-number as a number");if(e<0)throw new Error("specified a negative value for writing an unsigned value");if(e>t)throw new Error("RangeError: value out of range");if(Math.floor(e)!==e)throw new Error("value has a fractional component")}t.range=e=>[...Array(e).keys()],t.reverseBuffer=function(e){if(e.length<1)return e;let t=e.length-1,r=0;for(let n=0;n<e.length/2;n++)r=e[n],e[n]=e[t],e[t]=r,t--;return e},t.keyValsToBuffer=function(e){const t=e.map(o);return t.push(n.from([0])),n.concat(t)},t.keyValToBuffer=o,t.readUInt64LE=function(e,t){const r=e.readUInt32LE(t);let n=e.readUInt32LE(t+4);return n*=4294967296,s(n+r,9007199254740991),n+r},t.writeUInt64LE=function(e,t,r){return s(t,9007199254740991),e.writeInt32LE(-1&t,r),e.writeUInt32LE(Math.floor(t/4294967296),r+4),r+8}},3493:(e,t,r)=>{"use strict";var n=r(8764).Buffer;function i(e){if(e<0||e>9007199254740991||e%1!=0)throw new RangeError("value out of range")}function o(e){return i(e),e<253?1:e<=65535?3:e<=4294967295?5:9}Object.defineProperty(t,"__esModule",{value:!0}),t.encode=function e(t,r,s){if(i(t),r||(r=n.allocUnsafe(o(t))),!n.isBuffer(r))throw new TypeError("buffer must be a Buffer instance");return s||(s=0),t<253?(r.writeUInt8(t,s),Object.assign(e,{bytes:1})):t<=65535?(r.writeUInt8(253,s),r.writeUInt16LE(t,s+1),Object.assign(e,{bytes:3})):t<=4294967295?(r.writeUInt8(254,s),r.writeUInt32LE(t,s+1),Object.assign(e,{bytes:5})):(r.writeUInt8(255,s),r.writeUInt32LE(t>>>0,s+1),r.writeUInt32LE(t/4294967296|0,s+5),Object.assign(e,{bytes:9})),r},t.decode=function e(t,r){if(!n.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");r||(r=0);const o=t.readUInt8(r);if(o<253)return Object.assign(e,{bytes:1}),o;if(253===o)return Object.assign(e,{bytes:3}),t.readUInt16LE(r+1);if(254===o)return Object.assign(e,{bytes:5}),t.readUInt32LE(r+1);{Object.assign(e,{bytes:9});const n=t.readUInt32LE(r+1),o=4294967296*t.readUInt32LE(r+5)+n;return i(o),o}},t.encodingLength=o},2974:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(1528),o=r(9254),s=r(3493),a=r(1847);function u(e,t,r){if(!t.equals(n.from([r])))throw new Error(`Format Error: Invalid ${e} key: ${t.toString("hex")}`)}function h(e,{globalMapKeyVals:t,inputKeyVals:r,outputKeyVals:n}){const s={unsignedTx:e};let h=0;for(const e of t)switch(e.key[0]){case a.GlobalTypes.UNSIGNED_TX:if(u("global",e.key,a.GlobalTypes.UNSIGNED_TX),h>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");h++;break;case a.GlobalTypes.GLOBAL_XPUB:void 0===s.globalXpub&&(s.globalXpub=[]),s.globalXpub.push(i.globals.globalXpub.decode(e));break;default:s.unknownKeyVals||(s.unknownKeyVals=[]),s.unknownKeyVals.push(e)}const f=r.length,c=n.length,l=[],d=[];for(const e of o.range(f)){const t={};for(const n of r[e])switch(i.inputs.checkPubkey(n),n.key[0]){case a.InputTypes.NON_WITNESS_UTXO:if(u("input",n.key,a.InputTypes.NON_WITNESS_UTXO),void 0!==t.nonWitnessUtxo)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");t.nonWitnessUtxo=i.inputs.nonWitnessUtxo.decode(n);break;case a.InputTypes.WITNESS_UTXO:if(u("input",n.key,a.InputTypes.WITNESS_UTXO),void 0!==t.witnessUtxo)throw new Error("Format Error: Input has multiple WITNESS_UTXO");t.witnessUtxo=i.inputs.witnessUtxo.decode(n);break;case a.InputTypes.PARTIAL_SIG:void 0===t.partialSig&&(t.partialSig=[]),t.partialSig.push(i.inputs.partialSig.decode(n));break;case a.InputTypes.SIGHASH_TYPE:if(u("input",n.key,a.InputTypes.SIGHASH_TYPE),void 0!==t.sighashType)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");t.sighashType=i.inputs.sighashType.decode(n);break;case a.InputTypes.REDEEM_SCRIPT:if(u("input",n.key,a.InputTypes.REDEEM_SCRIPT),void 0!==t.redeemScript)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");t.redeemScript=i.inputs.redeemScript.decode(n);break;case a.InputTypes.WITNESS_SCRIPT:if(u("input",n.key,a.InputTypes.WITNESS_SCRIPT),void 0!==t.witnessScript)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");t.witnessScript=i.inputs.witnessScript.decode(n);break;case a.InputTypes.BIP32_DERIVATION:void 0===t.bip32Derivation&&(t.bip32Derivation=[]),t.bip32Derivation.push(i.inputs.bip32Derivation.decode(n));break;case a.InputTypes.FINAL_SCRIPTSIG:u("input",n.key,a.InputTypes.FINAL_SCRIPTSIG),t.finalScriptSig=i.inputs.finalScriptSig.decode(n);break;case a.InputTypes.FINAL_SCRIPTWITNESS:u("input",n.key,a.InputTypes.FINAL_SCRIPTWITNESS),t.finalScriptWitness=i.inputs.finalScriptWitness.decode(n);break;case a.InputTypes.POR_COMMITMENT:u("input",n.key,a.InputTypes.POR_COMMITMENT),t.porCommitment=i.inputs.porCommitment.decode(n);break;case a.InputTypes.TAP_KEY_SIG:u("input",n.key,a.InputTypes.TAP_KEY_SIG),t.tapKeySig=i.inputs.tapKeySig.decode(n);break;case a.InputTypes.TAP_SCRIPT_SIG:void 0===t.tapScriptSig&&(t.tapScriptSig=[]),t.tapScriptSig.push(i.inputs.tapScriptSig.decode(n));break;case a.InputTypes.TAP_LEAF_SCRIPT:void 0===t.tapLeafScript&&(t.tapLeafScript=[]),t.tapLeafScript.push(i.inputs.tapLeafScript.decode(n));break;case a.InputTypes.TAP_BIP32_DERIVATION:void 0===t.tapBip32Derivation&&(t.tapBip32Derivation=[]),t.tapBip32Derivation.push(i.inputs.tapBip32Derivation.decode(n));break;case a.InputTypes.TAP_INTERNAL_KEY:u("input",n.key,a.InputTypes.TAP_INTERNAL_KEY),t.tapInternalKey=i.inputs.tapInternalKey.decode(n);break;case a.InputTypes.TAP_MERKLE_ROOT:u("input",n.key,a.InputTypes.TAP_MERKLE_ROOT),t.tapMerkleRoot=i.inputs.tapMerkleRoot.decode(n);break;default:t.unknownKeyVals||(t.unknownKeyVals=[]),t.unknownKeyVals.push(n)}l.push(t)}for(const e of o.range(c)){const t={};for(const r of n[e])switch(i.outputs.checkPubkey(r),r.key[0]){case a.OutputTypes.REDEEM_SCRIPT:if(u("output",r.key,a.OutputTypes.REDEEM_SCRIPT),void 0!==t.redeemScript)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");t.redeemScript=i.outputs.redeemScript.decode(r);break;case a.OutputTypes.WITNESS_SCRIPT:if(u("output",r.key,a.OutputTypes.WITNESS_SCRIPT),void 0!==t.witnessScript)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");t.witnessScript=i.outputs.witnessScript.decode(r);break;case a.OutputTypes.BIP32_DERIVATION:void 0===t.bip32Derivation&&(t.bip32Derivation=[]),t.bip32Derivation.push(i.outputs.bip32Derivation.decode(r));break;case a.OutputTypes.TAP_INTERNAL_KEY:u("output",r.key,a.OutputTypes.TAP_INTERNAL_KEY),t.tapInternalKey=i.outputs.tapInternalKey.decode(r);break;case a.OutputTypes.TAP_TREE:u("output",r.key,a.OutputTypes.TAP_TREE),t.tapTree=i.outputs.tapTree.decode(r);break;case a.OutputTypes.TAP_BIP32_DERIVATION:void 0===t.tapBip32Derivation&&(t.tapBip32Derivation=[]),t.tapBip32Derivation.push(i.outputs.tapBip32Derivation.decode(r));break;default:t.unknownKeyVals||(t.unknownKeyVals=[]),t.unknownKeyVals.push(r)}d.push(t)}return{globalMap:s,inputs:l,outputs:d}}t.psbtFromBuffer=function(e,t){let r=0;function n(){const t=s.decode(e,r);r+=s.encodingLength(t);const n=e.slice(r,r+t);return r+=t,n}function i(){return{key:n(),value:n()}}function u(){if(r>=e.length)throw new Error("Format Error: Unexpected End of PSBT");const t=0===e.readUInt8(r);return t&&r++,t}if(1886610036!==function(){const t=e.readUInt32BE(r);return r+=4,t}())throw new Error("Format Error: Invalid Magic Number");if(255!==function(){const t=e.readUInt8(r);return r+=1,t}())throw new Error("Format Error: Magic Number must be followed by 0xff separator");const f=[],c={};for(;!u();){const e=i(),t=e.key.toString("hex");if(c[t])throw new Error("Format Error: Keys must be unique for global keymap: key "+t);c[t]=1,f.push(e)}const l=f.filter((e=>e.key[0]===a.GlobalTypes.UNSIGNED_TX));if(1!==l.length)throw new Error("Format Error: Only one UNSIGNED_TX allowed");const d=t(l[0].value),{inputCount:p,outputCount:y}=d.getInputOutputCounts(),m=[],g=[];for(const e of o.range(p)){const t={},r=[];for(;!u();){const n=i(),o=n.key.toString("hex");if(t[o])throw new Error("Format Error: Keys must be unique for each input: input index "+e+" key "+o);t[o]=1,r.push(n)}m.push(r)}for(const e of o.range(y)){const t={},r=[];for(;!u();){const n=i(),o=n.key.toString("hex");if(t[o])throw new Error("Format Error: Keys must be unique for each output: output index "+e+" key "+o);t[o]=1,r.push(n)}g.push(r)}return h(d,{globalMapKeyVals:f,inputKeyVals:m,outputKeyVals:g})},t.checkKeyBuffer=u,t.psbtFromKeyVals=h},6574:(e,t,r)=>{"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(2974)),n(r(5312))},5312:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(1528),o=r(9254);t.psbtToBuffer=function({globalMap:e,inputs:t,outputs:r}){const{globalKeyVals:i,inputKeyVals:s,outputKeyVals:a}=u({globalMap:e,inputs:t,outputs:r}),h=o.keyValsToBuffer(i),f=e=>0===e.length?[n.from([0])]:e.map(o.keyValsToBuffer),c=f(s),l=f(a),d=n.allocUnsafe(5);return d.writeUIntBE(482972169471,0,5),n.concat([d,h].concat(c,l))};const s=(e,t)=>e.key.compare(t.key);function a(e,t){const r=new Set,n=Object.entries(e).reduce(((e,[n,i])=>{if("unknownKeyVals"===n)return e;const o=t[n];if(void 0===o)return e;const s=(Array.isArray(i)?i:[i]).map(o.encode);return s.map((e=>e.key.toString("hex"))).forEach((e=>{if(r.has(e))throw new Error("Serialize Error: Duplicate key: "+e);r.add(e)})),e.concat(s)}),[]),i=e.unknownKeyVals?e.unknownKeyVals.filter((e=>!r.has(e.key.toString("hex")))):[];return n.concat(i).sort(s)}function u({globalMap:e,inputs:t,outputs:r}){return{globalKeyVals:a(e,i.globals),inputKeyVals:t.map((e=>a(e,i.inputs))),outputKeyVals:r.map((e=>a(e,i.outputs)))}}t.psbtToKeyVals=u},5011:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(2190),o=r(6574),s=r(1847),a=r(1532);t.Psbt=class{constructor(e){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:e}}static fromBase64(e,t){const r=n.from(e,"base64");return this.fromBuffer(r,t)}static fromHex(e,t){const r=n.from(e,"hex");return this.fromBuffer(r,t)}static fromBuffer(e,t){const r=o.psbtFromBuffer(e,t),n=new this(r.globalMap.unsignedTx);return Object.assign(n,r),n}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return o.psbtToBuffer(this)}updateGlobal(e){return a.updateGlobal(e,this.globalMap),this}updateInput(e,t){const r=a.checkForInput(this.inputs,e);return a.updateInput(t,r),this}updateOutput(e,t){const r=a.checkForOutput(this.outputs,e);return a.updateOutput(t,r),this}addUnknownKeyValToGlobal(e){return a.checkHasKey(e,this.globalMap.unknownKeyVals,a.getEnumLength(s.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}addUnknownKeyValToInput(e,t){const r=a.checkForInput(this.inputs,e);return a.checkHasKey(t,r.unknownKeyVals,a.getEnumLength(s.InputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(t),this}addUnknownKeyValToOutput(e,t){const r=a.checkForOutput(this.outputs,e);return a.checkHasKey(t,r.unknownKeyVals,a.getEnumLength(s.OutputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(t),this}addInput(e){this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});const t=e.unknownKeyVals||[],r=this.inputs.length-1;if(!Array.isArray(t))throw new Error("unknownKeyVals must be an Array");return t.forEach((e=>this.addUnknownKeyValToInput(r,e))),a.addInputAttributes(this.inputs,e),this}addOutput(e){this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});const t=e.unknownKeyVals||[],r=this.outputs.length-1;if(!Array.isArray(t))throw new Error("unknownKeyVals must be an Array");return t.forEach((e=>this.addUnknownKeyValToInput(r,e))),a.addOutputAttributes(this.outputs,e),this}clearFinalizedInput(e){const t=a.checkForInput(this.inputs,e);a.inputCheckUncleanFinalized(e,t);for(const e of Object.keys(t))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(e)||delete t[e];return this}combine(...e){const t=i.combine([this].concat(e));return Object.assign(this,t),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}}},1847:(e,t)=>{"use strict";var r,n,i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.GlobalTypes||(t.GlobalTypes={}))[i.UNSIGNED_TX=0]="UNSIGNED_TX",i[i.GLOBAL_XPUB=1]="GLOBAL_XPUB",t.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"],(n=t.InputTypes||(t.InputTypes={}))[n.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",n[n.WITNESS_UTXO=1]="WITNESS_UTXO",n[n.PARTIAL_SIG=2]="PARTIAL_SIG",n[n.SIGHASH_TYPE=3]="SIGHASH_TYPE",n[n.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",n[n.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",n[n.BIP32_DERIVATION=6]="BIP32_DERIVATION",n[n.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",n[n.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",n[n.POR_COMMITMENT=9]="POR_COMMITMENT",n[n.TAP_KEY_SIG=19]="TAP_KEY_SIG",n[n.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",n[n.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",n[n.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",n[n.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",n[n.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT",t.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"],(r=t.OutputTypes||(t.OutputTypes={}))[r.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",r[r.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",r[r.BIP32_DERIVATION=2]="BIP32_DERIVATION",r[r.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",r[r.TAP_TREE=6]="TAP_TREE",r[r.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION",t.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]},1532:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(1528);function o(e,t){const r=e[t];if(void 0===r)throw new Error(`No input #${t}`);return r}function s(e,t){const r=e[t];if(void 0===r)throw new Error(`No output #${t}`);return r}function a(e,t,r,n){throw new Error(`Data for ${e} key ${t} is incorrect: Expected ${r} and got ${JSON.stringify(n)}`)}function u(e){return(t,r)=>{for(const n of Object.keys(t)){const o=t[n],{canAdd:s,canAddToArray:u,check:h,expected:f}=i[e+"s"][n]||{},c=!!u;if(h)if(c){if(!Array.isArray(o)||r[n]&&!Array.isArray(r[n]))throw new Error(`Key type ${n} must be an array`);o.every(h)||a(e,n,f,o);const t=r[n]||[],i=new Set;if(!o.every((e=>u(t,e,i))))throw new Error("Can not add duplicate data to array");r[n]=t.concat(o)}else{if(h(o)||a(e,n,f,o),!s(r,o))throw new Error(`Can not add duplicate data to ${e}`);r[n]=o}}}}t.checkForInput=o,t.checkForOutput=s,t.checkHasKey=function(e,t,r){if(e.key[0]<r)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(t&&0!==t.filter((t=>t.key.equals(e.key))).length)throw new Error(`Duplicate Key: ${e.key.toString("hex")}`)},t.getEnumLength=function(e){let t=0;return Object.keys(e).forEach((e=>{Number(isNaN(Number(e)))&&t++})),t},t.inputCheckUncleanFinalized=function(e,t){let r=!1;if(t.nonWitnessUtxo||t.witnessUtxo){const e=!!t.redeemScript,n=!!t.witnessScript,i=!e||!!t.finalScriptSig,o=!n||!!t.finalScriptWitness,s=!!t.finalScriptSig||!!t.finalScriptWitness;r=i&&o&&s}if(!1===r)throw new Error(`Input #${e} has too much or too little data to clean`)},t.updateGlobal=u("global"),t.updateInput=u("input"),t.updateOutput=u("output"),t.addInputAttributes=function(e,r){const n=o(e,e.length-1);t.updateInput(r,n)},t.addOutputAttributes=function(e,r){const n=s(e,e.length-1);t.updateOutput(r,n)},t.defaultVersionSetter=function(e,t){if(!n.isBuffer(t)||t.length<4)throw new Error("Set Version: Invalid Transaction");return t.writeUInt32LE(e,0),t},t.defaultLocktimeSetter=function(e,t){if(!n.isBuffer(t)||t.length<4)throw new Error("Set Locktime: Invalid Transaction");return t.writeUInt32LE(e,t.length-4),t}},4090:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(6903),o=r(2871),s=r(8334),a=r(2401),u=r(7174);t.BIP32Factory=function(e){o.testEcc(e);const t=a.BufferN(32),r=a.compile({wif:a.UInt8,bip32:{public:a.UInt32,private:a.UInt32}}),h={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},f=2147483648,c=Math.pow(2,31)-1;function l(e){return a.String(e)&&null!==e.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}function d(e){return a.UInt32(e)&&e<=c}class p{constructor(e,t){this.__D=e,this.__Q=t,this.lowR=!1}get publicKey(){return void 0===this.__Q&&(this.__Q=n.from(e.pointFromScalar(this.__D,!0))),this.__Q}get privateKey(){return this.__D}sign(t,r){if(!this.privateKey)throw new Error("Missing private key");if(void 0===r&&(r=this.lowR),!1===r)return n.from(e.sign(t,this.privateKey));{let r=n.from(e.sign(t,this.privateKey));const i=n.alloc(32,0);let o=0;for(;r[0]>127;)o++,i.writeUIntLE(o,0,6),r=n.from(e.sign(t,this.privateKey,i));return r}}signSchnorr(t){if(!this.privateKey)throw new Error("Missing private key");if(!e.signSchnorr)throw new Error("signSchnorr not supported by ecc library");return n.from(e.signSchnorr(t,this.privateKey))}verify(t,r){return e.verify(t,this.publicKey,r)}verifySchnorr(t,r){if(!e.verifySchnorr)throw new Error("verifySchnorr not supported by ecc library");return e.verifySchnorr(t,this.publicKey.subarray(1,33),r)}}class y extends p{constructor(e,t,n,i,o=0,s=0,u=0){super(e,t),this.chainCode=n,this.network=i,this.__DEPTH=o,this.__INDEX=s,this.__PARENT_FINGERPRINT=u,a(r,i)}get depth(){return this.__DEPTH}get index(){return this.__INDEX}get parentFingerprint(){return this.__PARENT_FINGERPRINT}get identifier(){return i.hash160(this.publicKey)}get fingerprint(){return this.identifier.slice(0,4)}get compressed(){return!0}isNeutered(){return void 0===this.__D}neutered(){return b(this.publicKey,this.chainCode,this.network,this.depth,this.index,this.parentFingerprint)}toBase58(){const e=this.network,t=this.isNeutered()?e.bip32.public:e.bip32.private,r=n.allocUnsafe(78);return r.writeUInt32BE(t,0),r.writeUInt8(this.depth,4),r.writeUInt32BE(this.parentFingerprint,5),r.writeUInt32BE(this.index,9),this.chainCode.copy(r,13),this.isNeutered()?this.publicKey.copy(r,45):(r.writeUInt8(0,45),this.privateKey.copy(r,46)),s.encode(r)}toWIF(){if(!this.privateKey)throw new TypeError("Missing private key");return u.encode(this.network.wif,this.privateKey,!0)}derive(t){a(a.UInt32,t);const r=t>=f,o=n.allocUnsafe(37);if(r){if(this.isNeutered())throw new TypeError("Missing private key for hardened child key");o[0]=0,this.privateKey.copy(o,1),o.writeUInt32BE(t,33)}else this.publicKey.copy(o,0),o.writeUInt32BE(t,33);const s=i.hmacSHA512(this.chainCode,o),u=s.slice(0,32),h=s.slice(32);if(!e.isPrivate(u))return this.derive(t+1);let c;if(this.isNeutered()){const r=n.from(e.pointAddScalar(this.publicKey,u,!0));if(null===r)return this.derive(t+1);c=b(r,h,this.network,this.depth+1,t,this.fingerprint.readUInt32BE(0))}else{const r=n.from(e.privateAdd(this.privateKey,u));if(null==r)return this.derive(t+1);c=g(r,h,this.network,this.depth+1,t,this.fingerprint.readUInt32BE(0))}return c}deriveHardened(e){return a(d,e),this.derive(e+f)}derivePath(e){a(l,e);let t=e.split("/");if("m"===t[0]){if(this.parentFingerprint)throw new TypeError("Expected master, got child");t=t.slice(1)}return t.reduce(((e,t)=>{let r;return"'"===t.slice(-1)?(r=parseInt(t.slice(0,-1),10),e.deriveHardened(r)):(r=parseInt(t,10),e.derive(r))}),this)}tweak(e){return this.privateKey?this.tweakFromPrivateKey(e):this.tweakFromPublicKey(e)}tweakFromPublicKey(t){const r=32===(i=this.publicKey).length?i:i.slice(1,33);var i;const o=e.xOnlyPointAddTweak(r,t);if(!o||null===o.xOnlyPubkey)throw new Error("Cannot tweak public key!");const s=n.from([0===o.parity?2:3]),a=n.concat([s,o.xOnlyPubkey]);return new p(void 0,a)}tweakFromPrivateKey(t){const r=3===this.publicKey[0]||4===this.publicKey[0]&&1==(1&this.publicKey[64])?e.privateNegate(this.privateKey):this.privateKey,i=e.privateAdd(r,t);if(!i)throw new Error("Invalid tweaked private key!");return new p(n.from(i),void 0)}}function m(e,t,r){return g(e,t,r)}function g(r,n,i,o,s,u){if(a({privateKey:t,chainCode:t},{privateKey:r,chainCode:n}),i=i||h,!e.isPrivate(r))throw new TypeError("Private key not in range [1, n)");return new y(r,void 0,n,i,o,s,u)}function b(r,n,i,o,s,u){if(a({publicKey:a.BufferN(33),chainCode:t},{publicKey:r,chainCode:n}),i=i||h,!e.isPoint(r))throw new TypeError("Point is not on the curve");return new y(void 0,r,n,i,o,s,u)}return{fromSeed:function(e,t){if(a(a.Buffer,e),e.length<16)throw new TypeError("Seed should be at least 128 bits");if(e.length>64)throw new TypeError("Seed should be at most 512 bits");t=t||h;const r=i.hmacSHA512(n.from("Bitcoin seed","utf8"),e);return m(r.slice(0,32),r.slice(32),t)},fromBase58:function(e,t){const r=s.decode(e);if(78!==r.length)throw new TypeError("Invalid buffer length");t=t||h;const n=r.readUInt32BE(0);if(n!==t.bip32.private&&n!==t.bip32.public)throw new TypeError("Invalid network version");const i=r[4],o=r.readUInt32BE(5);if(0===i&&0!==o)throw new TypeError("Invalid parent fingerprint");const a=r.readUInt32BE(9);if(0===i&&0!==a)throw new TypeError("Invalid index");const u=r.slice(13,45);let f;if(n===t.bip32.private){if(0!==r.readUInt8(45))throw new TypeError("Invalid private key");f=g(r.slice(46,78),u,t,i,a,o)}else f=b(r.slice(45,78),u,t,i,a,o);return f},fromPublicKey:function(e,t,r){return b(e,t,r)},fromPrivateKey:m}}},6903:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9785),i=r(3482),o=r(8355);t.hash160=function(e){const t=i("sha256").update(e).digest();try{return i("rmd160").update(t).digest()}catch(e){try{return i("ripemd160").update(t).digest()}catch(e){return(new n).update(t).digest()}}},t.hmacSHA512=function(e,t){return o("sha512",e).update(t).digest()}},7786:(e,t,r)=>{"use strict";var n=r(4090);t.ZP=n.BIP32Factory,t.GA=n.BIP32Factory},2871:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=e=>n.from(e,"hex");function o(e){if(!e)throw new Error("ecc library invalid")}t.testEcc=function(e){o(e.isPoint(i("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),o(!e.isPoint(i("030000000000000000000000000000000000000000000000000000000000000005"))),o(e.isPrivate(i("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),o(e.isPrivate(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),o(!e.isPrivate(i("0000000000000000000000000000000000000000000000000000000000000000"))),o(!e.isPrivate(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"))),o(!e.isPrivate(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364142"))),o(n.from(e.pointFromScalar(i("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af"))).equals(i("02b07ba9dca9523b7ef4bd97703d43d20399eb698e194704791a25ce77a400df99"))),o(null===e.xOnlyPointAddTweak(i("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140")));let t=e.xOnlyPointAddTweak(i("1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b"),i("a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac"));o(n.from(t.xOnlyPubkey).equals(i("e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"))&&1===t.parity),t=e.xOnlyPointAddTweak(i("2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991"),i("823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47")),o(n.from(e.pointAddScalar(i("0379be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),i("0000000000000000000000000000000000000000000000000000000000000003"))).equals(i("02c6047f9441ed7d6d3045406e95c07cd85c778e4b8cef3ca7abac09b95c709ee5"))),o(n.from(e.privateAdd(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e"),i("0000000000000000000000000000000000000000000000000000000000000002"))).equals(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),o(n.from(e.privateNegate(i("0000000000000000000000000000000000000000000000000000000000000001"))).equals(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),o(n.from(e.privateNegate(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e"))).equals(i("0000000000000000000000000000000000000000000000000000000000000003"))),o(n.from(e.privateNegate(i("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af"))).equals(i("4eede1bf775995d70a494f0a7bb6bc11e0b8cccd41cce8009ab1132c8b0a3792"))),o(n.from(e.sign(i("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))).equals(i("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),o(e.verify(i("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),i("0379be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),i("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),e.signSchnorr&&o(n.from(e.signSchnorr(i("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),i("c90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b14e5c9"),i("c87aa53824b4d7ae2eb035a2b5bbbccc080e76cdc6d1692c4b0b62d798e6d906"))).equals(i("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7"))),e.verifySchnorr&&o(e.verifySchnorr(i("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),i("dd308afec5777e13121fa72b9cc1b7cc0139715309b086c960e18fd969774eb8"),i("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7")))}},3027:(e,t,r)=>{var n=r(9509).Buffer;e.exports={check:function(e){if(e.length<8)return!1;if(e.length>72)return!1;if(48!==e[0])return!1;if(e[1]!==e.length-2)return!1;if(2!==e[2])return!1;var t=e[3];if(0===t)return!1;if(5+t>=e.length)return!1;if(2!==e[4+t])return!1;var r=e[5+t];return!(0===r||6+t+r!==e.length||128&e[4]||t>1&&0===e[4]&&!(128&e[5])||128&e[t+6]||r>1&&0===e[t+6]&&!(128&e[t+7]))},decode:function(e){if(e.length<8)throw new Error("DER sequence length is too short");if(e.length>72)throw new Error("DER sequence length is too long");if(48!==e[0])throw new Error("Expected DER sequence");if(e[1]!==e.length-2)throw new Error("DER sequence length is invalid");if(2!==e[2])throw new Error("Expected DER integer");var t=e[3];if(0===t)throw new Error("R length is zero");if(5+t>=e.length)throw new Error("R length is too long");if(2!==e[4+t])throw new Error("Expected DER integer (2)");var r=e[5+t];if(0===r)throw new Error("S length is zero");if(6+t+r!==e.length)throw new Error("S length is invalid");if(128&e[4])throw new Error("R value is negative");if(t>1&&0===e[4]&&!(128&e[5]))throw new Error("R value excessively padded");if(128&e[t+6])throw new Error("S value is negative");if(r>1&&0===e[t+6]&&!(128&e[t+7]))throw new Error("S value excessively padded");return{r:e.slice(4,4+t),s:e.slice(6+t)}},encode:function(e,t){var r=e.length,i=t.length;if(0===r)throw new Error("R length is zero");if(0===i)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(i>33)throw new Error("S length is too long");if(128&e[0])throw new Error("R value is negative");if(128&t[0])throw new Error("S value is negative");if(r>1&&0===e[0]&&!(128&e[1]))throw new Error("R value excessively padded");if(i>1&&0===t[0]&&!(128&t[1]))throw new Error("S value excessively padded");var o=n.allocUnsafe(6+r+i);return o[0]=48,o[1]=o.length-2,o[2]=2,o[3]=e.length,e.copy(o,4),o[4+r]=2,o[5+r]=t.length,t.copy(o,6+r),o}}},7790:(e,t,r)=>{var n=r(8764).Buffer;const i=r(8334),o=r(9941),s=r(8055),a=r(3482),u=r(6403),h=r(7795),f="p2wpkh",c="p2sh(p2wpkh)";function l(e){return a("sha256").update(e).digest()}function d(e){return a("ripemd160").update(l(e)).digest()}function p(e,t,r,i){return void 0!==i?(t+=8,i===f&&(t+=4)):r&&(t+=4),n.concat([n.alloc(1,t+27),e])}function y(e,t){t=t||"Bitcoin Signed Message:\n",n.isBuffer(t)||(t=n.from(t,"utf8")),n.isBuffer(e)||(e=n.from(e,"utf8"));const r=h.encodingLength(e.length),i=n.allocUnsafe(t.length+r+e.length);return t.copy(i,0),h.encode(e.length,i,t.length),e.copy(i,t.length+r),function(e){return l(l(e))}(i)}function m(e,t){"object"==typeof e&&void 0===t&&(t=e,e=void 0);let{segwitType:r,extraEntropy:n}=t||{};if(r&&("string"==typeof r||r instanceof String)&&(r=r.toLowerCase()),r&&r!==c&&r!==f)throw new Error('Unrecognized segwitType: use "p2sh(p2wpkh)" or "p2wpkh"');return{messagePrefixArg:e,segwitType:r,extraEntropy:n}}function g(e){return e&&"function"==typeof e.sign}function b(e){return d(n.concat([n.from("0014","hex"),e]))}function w(e){const t=o.decode(e),r=o.fromWords(t.words.slice(1));return n.from(r)}e.exports={magicHash:y,sign:function(e,t,r,n,i){const{messagePrefixArg:o,segwitType:s,extraEntropy:a}=m(n,i),h=y(e,o),f=g(t)?t.sign(h,a):u.sign(h,t,{data:a});return p(f.signature,f.recovery,r,s)},signAsync:function(e,t,r,n,i){let o,s,a;return Promise.resolve().then((()=>{({messagePrefixArg:o,segwitType:s,extraEntropy:a}=m(n,i));const r=y(e,o);return g(t)?t.sign(r,a):u.sign(r,t,{data:a})})).then((e=>p(e.signature,e.recovery,r,s)))},verify:function(e,t,r,o,a){n.isBuffer(r)||(r=n.from(r,"base64"));const h=function(e){if(65!==e.length)throw new Error("Invalid signature length");const t=e.readUInt8(0)-27;if(t>15||t<0)throw new Error("Invalid signature parameter");return{compressed:!!(12&t),segwitType:8&t?4&t?f:c:null,recovery:3&t,signature:e.slice(1)}}(r);if(a&&!h.compressed)throw new Error("checkSegwitAlways can only be used with a compressed pubkey signature flagbyte");const l=y(e,o),p=d(u.recover(l,h.signature,h.recovery,h.compressed));let m,g;if(h.segwitType)h.segwitType===c?(m=b(p),g=i.decode(t).slice(1)):(m=p,g=w(t));else if(a)try{return g=w(t),s(p,g)}catch(e){const r=b(p);return g=i.decode(t).slice(1),s(p,g)||s(r,g)}else m=p,g=i.decode(t).slice(1);return s(m,g)}}},9941:e=>{"use strict";for(var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",r={},n=0;n<t.length;n++){var i=t.charAt(n);if(void 0!==r[i])throw new TypeError(i+" is ambiguous");r[i]=n}function o(e){var t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function s(e){for(var t=1,r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=o(t)^n>>5}for(t=o(t),r=0;r<e.length;++r){var i=e.charCodeAt(r);t=o(t)^31&i}return t}function a(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var n=e.toLowerCase(),i=e.toUpperCase();if(e!==n&&e!==i)return"Mixed-case string "+e;var a=(e=n).lastIndexOf("1");if(-1===a)return"No separator character for "+e;if(0===a)return"Missing prefix for "+e;var u=e.slice(0,a),h=e.slice(a+1);if(h.length<6)return"Data too short";var f=s(u);if("string"==typeof f)return f;for(var c=[],l=0;l<h.length;++l){var d=h.charAt(l),p=r[d];if(void 0===p)return"Unknown character "+d;f=o(f)^p,l+6>=h.length||c.push(p)}return 1!==f?"Invalid checksum for "+e:{prefix:u,words:c}}function u(e,t,r,n){for(var i=0,o=0,s=(1<<r)-1,a=[],u=0;u<e.length;++u)for(i=i<<t|e[u],o+=t;o>=r;)o-=r,a.push(i>>o&s);if(n)o>0&&a.push(i<<r-o&s);else{if(o>=t)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return a}e.exports={decodeUnsafe:function(){var e=a.apply(null,arguments);if("object"==typeof e)return e},decode:function(e){var t=a.apply(null,arguments);if("object"==typeof t)return t;throw new Error(t)},encode:function(e,r,n){if(n=n||90,e.length+7+r.length>n)throw new TypeError("Exceeds length limit");var i=s(e=e.toLowerCase());if("string"==typeof i)throw new Error(i);for(var a=e+"1",u=0;u<r.length;++u){var h=r[u];if(h>>5!=0)throw new Error("Non 5-bit word");i=o(i)^h,a+=t.charAt(h)}for(u=0;u<6;++u)i=o(i);for(i^=1,u=0;u<6;++u)a+=t.charAt(i>>5*(5-u)&31);return a},toWordsUnsafe:function(e){var t=u(e,8,5,!0);if(Array.isArray(t))return t},toWords:function(e){var t=u(e,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)},fromWordsUnsafe:function(e){var t=u(e,5,8,!1);if(Array.isArray(t))return t},fromWords:function(e){var t=u(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}}},6403:(e,t,r)=>{"use strict";e.exports=r(8801)(r(2295))},7876:(e,t,r)=>{"use strict";var n=r(8764).Buffer,i=Object.prototype.toString;t.isArray=function(e,t){if(!Array.isArray(e))throw TypeError(t)},t.isBoolean=function(e,t){if("[object Boolean]"!==i.call(e))throw TypeError(t)},t.isBuffer=function(e,t){if(!n.isBuffer(e))throw TypeError(t)},t.isFunction=function(e,t){if("[object Function]"!==i.call(e))throw TypeError(t)},t.isNumber=function(e,t){if("[object Number]"!==i.call(e))throw TypeError(t)},t.isObject=function(e,t){if("[object Object]"!==i.call(e))throw TypeError(t)},t.isBufferLength=function(e,t,r){if(e.length!==t)throw RangeError(r)},t.isBufferLength2=function(e,t,r,n){if(e.length!==t&&e.length!==r)throw RangeError(n)},t.isLengthGTZero=function(e,t){if(0===e.length)throw RangeError(t)},t.isNumberInInterval=function(e,t,r,n){if(e<=t||e>=r)throw RangeError(n)}},620:(e,t,r)=>{"use strict";var n=r(9509).Buffer,i=r(3027),o=n.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),s=n.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);t.privateKeyExport=function(e,t,r){var i=n.from(r?o:s);return e.copy(i,r?8:9),t.copy(i,r?181:214),i},t.privateKeyImport=function(e){var t=e.length,r=0;if(!(t<r+1||48!==e[r])&&!(t<(r+=1)+1)&&128&e[r]){var n=127&e[r];if(r+=1,!(n<1||n>2||t<r+n)){var i=e[r+n-1]|(n>1?e[r+n-2]<<8:0);if(!(t<(r+=n)+i||t<r+3||2!==e[r]||1!==e[r+1]||1!==e[r+2]||t<(r+=3)+2||4!==e[r]||e[r+1]>32||t<r+2+e[r+1]))return e.slice(r+2,r+2+e[r+1])}}},t.signatureExport=function(e){for(var t=n.concat([n.from([0]),e.r]),r=33,o=0;r>1&&0===t[o]&&!(128&t[o+1]);--r,++o);for(var s=n.concat([n.from([0]),e.s]),a=33,u=0;a>1&&0===s[u]&&!(128&s[u+1]);--a,++u);return i.encode(t.slice(o),s.slice(u))},t.signatureImport=function(e){var t=n.alloc(32,0),r=n.alloc(32,0);try{var o=i.decode(e);if(33===o.r.length&&0===o.r[0]&&(o.r=o.r.slice(1)),o.r.length>32)throw new Error("R length is too long");if(33===o.s.length&&0===o.s[0]&&(o.s=o.s.slice(1)),o.s.length>32)throw new Error("S length is too long")}catch(e){return}return o.r.copy(t,32-o.r.length),o.s.copy(r,32-o.s.length),{r:t,s:r}},t.signatureImportLax=function(e){var t=n.alloc(32,0),r=n.alloc(32,0),i=e.length,o=0;if(48===e[o++]){var s=e[o++];if(!(128&s&&(o+=s-128)>i)&&2===e[o++]){var a=e[o++];if(128&a){if(o+(s=a-128)>i)return;for(;s>0&&0===e[o];o+=1,s-=1);for(a=0;s>0;o+=1,s-=1)a=(a<<8)+e[o]}if(!(a>i-o)){var u=o;if(o+=a,2===e[o++]){var h=e[o++];if(128&h){if(o+(s=h-128)>i)return;for(;s>0&&0===e[o];o+=1,s-=1);for(h=0;s>0;o+=1,s-=1)h=(h<<8)+e[o]}if(!(h>i-o)){var f=o;for(o+=h;a>0&&0===e[u];a-=1,u+=1);if(!(a>32)){var c=e.slice(u,u+a);for(c.copy(t,32-c.length);h>0&&0===e[f];h-=1,f+=1);if(!(h>32)){var l=e.slice(f,f+h);return l.copy(r,32-l.length),{r:t,s:r}}}}}}}}}},2295:(e,t,r)=>{"use strict";var n=r(9509).Buffer,i=r(3482),o=r(3550),s=r(6266).ec,a=r(5809),u=new s("secp256k1"),h=u.curve;function f(e){var t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){var r=new o(t);if(r.cmp(h.p)>=0)return null;var n=(r=r.toRed(h.red)).redSqr().redIMul(r).redIAdd(h.b).redSqrt();return 3===e!==n.isOdd()&&(n=n.redNeg()),u.keyPair({pub:{x:r,y:n}})}(t,e.slice(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,r){var n=new o(t),i=new o(r);if(n.cmp(h.p)>=0||i.cmp(h.p)>=0)return null;if(n=n.toRed(h.red),i=i.toRed(h.red),(6===e||7===e)&&i.isOdd()!==(7===e))return null;var s=n.redSqr().redIMul(n);return i.redSqr().redISub(s.redIAdd(h.b)).isZero()?u.keyPair({pub:{x:n,y:i}}):null}(t,e.slice(1,33),e.slice(33,65));default:return null}}t.privateKeyVerify=function(e){var t=new o(e);return t.cmp(h.n)<0&&!t.isZero()},t.privateKeyExport=function(e,t){var r=new o(e);if(r.cmp(h.n)>=0||r.isZero())throw new Error(a.EC_PRIVATE_KEY_EXPORT_DER_FAIL);return n.from(u.keyFromPrivate(e).getPublic(t,!0))},t.privateKeyNegate=function(e){var t=new o(e);return t.isZero()?n.alloc(32):h.n.sub(t).umod(h.n).toArrayLike(n,"be",32)},t.privateKeyModInverse=function(e){var t=new o(e);if(t.cmp(h.n)>=0||t.isZero())throw new Error(a.EC_PRIVATE_KEY_RANGE_INVALID);return t.invm(h.n).toArrayLike(n,"be",32)},t.privateKeyTweakAdd=function(e,t){var r=new o(t);if(r.cmp(h.n)>=0)throw new Error(a.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);if(r.iadd(new o(e)),r.cmp(h.n)>=0&&r.isub(h.n),r.isZero())throw new Error(a.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);return r.toArrayLike(n,"be",32)},t.privateKeyTweakMul=function(e,t){var r=new o(t);if(r.cmp(h.n)>=0||r.isZero())throw new Error(a.EC_PRIVATE_KEY_TWEAK_MUL_FAIL);return r.imul(new o(e)),r.cmp(h.n)&&(r=r.umod(h.n)),r.toArrayLike(n,"be",32)},t.publicKeyCreate=function(e,t){var r=new o(e);if(r.cmp(h.n)>=0||r.isZero())throw new Error(a.EC_PUBLIC_KEY_CREATE_FAIL);return n.from(u.keyFromPrivate(e).getPublic(t,!0))},t.publicKeyConvert=function(e,t){var r=f(e);if(null===r)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);return n.from(r.getPublic(t,!0))},t.publicKeyVerify=function(e){return null!==f(e)},t.publicKeyTweakAdd=function(e,t,r){var i=f(e);if(null===i)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);if((t=new o(t)).cmp(h.n)>=0)throw new Error(a.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);var s=h.g.mul(t).add(i.pub);if(s.isInfinity())throw new Error(a.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);return n.from(s.encode(!0,r))},t.publicKeyTweakMul=function(e,t,r){var i=f(e);if(null===i)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);if((t=new o(t)).cmp(h.n)>=0||t.isZero())throw new Error(a.EC_PUBLIC_KEY_TWEAK_MUL_FAIL);return n.from(i.pub.mul(t).encode(!0,r))},t.publicKeyCombine=function(e,t){for(var r=new Array(e.length),i=0;i<e.length;++i)if(r[i]=f(e[i]),null===r[i])throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);for(var o=r[0].pub,s=1;s<r.length;++s)o=o.add(r[s].pub);if(o.isInfinity())throw new Error(a.EC_PUBLIC_KEY_COMBINE_FAIL);return n.from(o.encode(!0,t))},t.signatureNormalize=function(e){var t=new o(e.slice(0,32)),r=new o(e.slice(32,64));if(t.cmp(h.n)>=0||r.cmp(h.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);var i=n.from(e);return 1===r.cmp(u.nh)&&h.n.sub(r).toArrayLike(n,"be",32).copy(i,32),i},t.signatureExport=function(e){var t=e.slice(0,32),r=e.slice(32,64);if(new o(t).cmp(h.n)>=0||new o(r).cmp(h.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);return{r:t,s:r}},t.signatureImport=function(e){var t=new o(e.r);t.cmp(h.n)>=0&&(t=new o(0));var r=new o(e.s);return r.cmp(h.n)>=0&&(r=new o(0)),n.concat([t.toArrayLike(n,"be",32),r.toArrayLike(n,"be",32)])},t.sign=function(e,t,r,i){if("function"==typeof r){var s=r;r=function(r){var u=s(e,t,null,i,r);if(!n.isBuffer(u)||32!==u.length)throw new Error(a.ECDSA_SIGN_FAIL);return new o(u)}}var f=new o(t);if(f.cmp(h.n)>=0||f.isZero())throw new Error(a.ECDSA_SIGN_FAIL);var c=u.sign(e,t,{canonical:!0,k:r,pers:i});return{signature:n.concat([c.r.toArrayLike(n,"be",32),c.s.toArrayLike(n,"be",32)]),recovery:c.recoveryParam}},t.verify=function(e,t,r){var n={r:t.slice(0,32),s:t.slice(32,64)},i=new o(n.r),s=new o(n.s);if(i.cmp(h.n)>=0||s.cmp(h.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);if(1===s.cmp(u.nh)||i.isZero()||s.isZero())return!1;var c=f(r);if(null===c)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);return u.verify(e,n,{x:c.pub.x,y:c.pub.y})},t.recover=function(e,t,r,i){var s={r:t.slice(0,32),s:t.slice(32,64)},f=new o(s.r),c=new o(s.s);if(f.cmp(h.n)>=0||c.cmp(h.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);try{if(f.isZero()||c.isZero())throw new Error;var l=u.recoverPubKey(e,s,r);return n.from(l.encode(!0,i))}catch(e){throw new Error(a.ECDSA_RECOVER_FAIL)}},t.ecdh=function(e,r){var n=t.ecdhUnsafe(e,r,!0);return i("sha256").update(n).digest()},t.ecdhUnsafe=function(e,t,r){var i=f(e);if(null===i)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);var s=new o(t);if(s.cmp(h.n)>=0||s.isZero())throw new Error(a.ECDH_FAIL);return n.from(i.pub.mul(s).encode(!0,r))}},8801:(e,t,r)=>{"use strict";var n=r(7876),i=r(620),o=r(5809);function s(e,t){return void 0===e?t:(n.isBoolean(e,o.COMPRESSED_TYPE_INVALID),e)}e.exports=function(e){return{privateKeyVerify:function(t){return n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),32===t.length&&e.privateKeyVerify(t)},privateKeyExport:function(t,r){n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),r=s(r,!0);var a=e.privateKeyExport(t,r);return i.privateKeyExport(t,a,r)},privateKeyImport:function(t){if(n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),(t=i.privateKeyImport(t))&&32===t.length&&e.privateKeyVerify(t))return t;throw new Error(o.EC_PRIVATE_KEY_IMPORT_DER_FAIL)},privateKeyNegate:function(t){return n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),e.privateKeyNegate(t)},privateKeyModInverse:function(t){return n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),e.privateKeyModInverse(t)},privateKeyTweakAdd:function(t,r){return n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),n.isBuffer(r,o.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,o.TWEAK_LENGTH_INVALID),e.privateKeyTweakAdd(t,r)},privateKeyTweakMul:function(t,r){return n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),n.isBuffer(r,o.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,o.TWEAK_LENGTH_INVALID),e.privateKeyTweakMul(t,r)},publicKeyCreate:function(t,r){return n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),r=s(r,!0),e.publicKeyCreate(t,r)},publicKeyConvert:function(t,r){return n.isBuffer(t,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),r=s(r,!0),e.publicKeyConvert(t,r)},publicKeyVerify:function(t){return n.isBuffer(t,o.EC_PUBLIC_KEY_TYPE_INVALID),e.publicKeyVerify(t)},publicKeyTweakAdd:function(t,r,i){return n.isBuffer(t,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,o.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,o.TWEAK_LENGTH_INVALID),i=s(i,!0),e.publicKeyTweakAdd(t,r,i)},publicKeyTweakMul:function(t,r,i){return n.isBuffer(t,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,o.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,o.TWEAK_LENGTH_INVALID),i=s(i,!0),e.publicKeyTweakMul(t,r,i)},publicKeyCombine:function(t,r){n.isArray(t,o.EC_PUBLIC_KEYS_TYPE_INVALID),n.isLengthGTZero(t,o.EC_PUBLIC_KEYS_LENGTH_INVALID);for(var i=0;i<t.length;++i)n.isBuffer(t[i],o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t[i],33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID);return r=s(r,!0),e.publicKeyCombine(t,r)},signatureNormalize:function(t){return n.isBuffer(t,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(t,64,o.ECDSA_SIGNATURE_LENGTH_INVALID),e.signatureNormalize(t)},signatureExport:function(t){n.isBuffer(t,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(t,64,o.ECDSA_SIGNATURE_LENGTH_INVALID);var r=e.signatureExport(t);return i.signatureExport(r)},signatureImport:function(t){n.isBuffer(t,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isLengthGTZero(t,o.ECDSA_SIGNATURE_LENGTH_INVALID);var r=i.signatureImport(t);if(r)return e.signatureImport(r);throw new Error(o.ECDSA_SIGNATURE_PARSE_DER_FAIL)},signatureImportLax:function(t){n.isBuffer(t,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isLengthGTZero(t,o.ECDSA_SIGNATURE_LENGTH_INVALID);var r=i.signatureImportLax(t);if(r)return e.signatureImport(r);throw new Error(o.ECDSA_SIGNATURE_PARSE_DER_FAIL)},sign:function(t,r,i){n.isBuffer(t,o.MSG32_TYPE_INVALID),n.isBufferLength(t,32,o.MSG32_LENGTH_INVALID),n.isBuffer(r,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,o.EC_PRIVATE_KEY_LENGTH_INVALID);var s=null,a=null;return void 0!==i&&(n.isObject(i,o.OPTIONS_TYPE_INVALID),void 0!==i.data&&(n.isBuffer(i.data,o.OPTIONS_DATA_TYPE_INVALID),n.isBufferLength(i.data,32,o.OPTIONS_DATA_LENGTH_INVALID),s=i.data),void 0!==i.noncefn&&(n.isFunction(i.noncefn,o.OPTIONS_NONCEFN_TYPE_INVALID),a=i.noncefn)),e.sign(t,r,a,s)},verify:function(t,r,i){return n.isBuffer(t,o.MSG32_TYPE_INVALID),n.isBufferLength(t,32,o.MSG32_LENGTH_INVALID),n.isBuffer(r,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(r,64,o.ECDSA_SIGNATURE_LENGTH_INVALID),n.isBuffer(i,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(i,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),e.verify(t,r,i)},recover:function(t,r,i,a){return n.isBuffer(t,o.MSG32_TYPE_INVALID),n.isBufferLength(t,32,o.MSG32_LENGTH_INVALID),n.isBuffer(r,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(r,64,o.ECDSA_SIGNATURE_LENGTH_INVALID),n.isNumber(i,o.RECOVERY_ID_TYPE_INVALID),n.isNumberInInterval(i,-1,4,o.RECOVERY_ID_VALUE_INVALID),a=s(a,!0),e.recover(t,r,i,a)},ecdh:function(t,r){return n.isBuffer(t,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),e.ecdh(t,r)},ecdhUnsafe:function(t,r,i){return n.isBuffer(t,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),i=s(i,!0),e.ecdhUnsafe(t,r,i)}}}},3550:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(6601).Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function h(e,t,r,n){for(var i=0,o=Math.min(e.length,r),s=t;s<o;s++){var a=e.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,f=r;f<a;f+=n)u=h(e,f,f+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var c=1;for(u=h(e,f,e.length,t),f=0;f<s;f++)c*=t;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var h=1;h<n;h++){for(var f=u>>>26,c=67108863&u,l=Math.min(h,t.length-1),d=Math.max(0,h-e.length+1);d<=l;d++){var p=h-d|0;f+=(s=(i=0|e.words[p])*(o=0|t.words[d])+c)/67108864|0,c=67108863&s}r.words[h]=0|c,u=0|f}return 0!==u?r.words[h]=0|u:r.length--,r.strip()}o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);r=0!=(o=a>>>24-i&16777215)||s!==this.length-1?f[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var h=c[e],d=l[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var y=p.modn(d).toString(e);r=(p=p.idivn(d)).isZero()?y+r:f[h-y.length]+y+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return n(void 0!==s),this.toArrayLike(s,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,u="le"===t,h=new e(o),f=this.clone();if(u){for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),h[a]=s;for(;a<o;a++)h[a]=0}else{for(a=0;a<o-i;a++)h[a]=0;for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),h[o-a-1]=s}return h},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var n,i,o,s=e.words,a=t.words,u=r.words,h=0,f=0|s[0],c=8191&f,l=f>>>13,d=0|s[1],p=8191&d,y=d>>>13,m=0|s[2],g=8191&m,b=m>>>13,w=0|s[3],v=8191&w,_=w>>>13,E=0|s[4],S=8191&E,M=E>>>13,A=0|s[5],k=8191&A,x=A>>>13,T=0|s[6],P=8191&T,I=T>>>13,R=0|s[7],O=8191&R,B=R>>>13,C=0|s[8],L=8191&C,j=C>>>13,D=0|s[9],N=8191&D,U=D>>>13,H=0|a[0],z=8191&H,F=H>>>13,q=0|a[1],$=8191&q,K=q>>>13,V=0|a[2],W=8191&V,G=V>>>13,Y=0|a[3],J=8191&Y,Z=Y>>>13,X=0|a[4],Q=8191&X,ee=X>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ue=8191&ae,he=ae>>>13,fe=0|a[8],ce=8191&fe,le=fe>>>13,de=0|a[9],pe=8191&de,ye=de>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(h+(n=Math.imul(c,z))|0)+((8191&(i=(i=Math.imul(c,F))+Math.imul(l,z)|0))<<13)|0;h=((o=Math.imul(l,F))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,F))+Math.imul(y,z)|0,o=Math.imul(y,F);var ge=(h+(n=n+Math.imul(c,$)|0)|0)+((8191&(i=(i=i+Math.imul(c,K)|0)+Math.imul(l,$)|0))<<13)|0;h=((o=o+Math.imul(l,K)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,z),i=(i=Math.imul(g,F))+Math.imul(b,z)|0,o=Math.imul(b,F),n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,K)|0;var be=(h+(n=n+Math.imul(c,W)|0)|0)+((8191&(i=(i=i+Math.imul(c,G)|0)+Math.imul(l,W)|0))<<13)|0;h=((o=o+Math.imul(l,G)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,F))+Math.imul(_,z)|0,o=Math.imul(_,F),n=n+Math.imul(g,$)|0,i=(i=i+Math.imul(g,K)|0)+Math.imul(b,$)|0,o=o+Math.imul(b,K)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,G)|0;var we=(h+(n=n+Math.imul(c,J)|0)|0)+((8191&(i=(i=i+Math.imul(c,Z)|0)+Math.imul(l,J)|0))<<13)|0;h=((o=o+Math.imul(l,Z)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,F))+Math.imul(M,z)|0,o=Math.imul(M,F),n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,K)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,K)|0,n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,G)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,Z)|0;var ve=(h+(n=n+Math.imul(c,Q)|0)|0)+((8191&(i=(i=i+Math.imul(c,ee)|0)+Math.imul(l,Q)|0))<<13)|0;h=((o=o+Math.imul(l,ee)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(k,z),i=(i=Math.imul(k,F))+Math.imul(x,z)|0,o=Math.imul(x,F),n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,K)|0,n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,G)|0,n=n+Math.imul(g,J)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0;var _e=(h+(n=n+Math.imul(c,re)|0)|0)+((8191&(i=(i=i+Math.imul(c,ne)|0)+Math.imul(l,re)|0))<<13)|0;h=((o=o+Math.imul(l,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(P,z),i=(i=Math.imul(P,F))+Math.imul(I,z)|0,o=Math.imul(I,F),n=n+Math.imul(k,$)|0,i=(i=i+Math.imul(k,K)|0)+Math.imul(x,$)|0,o=o+Math.imul(x,K)|0,n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,G)|0,n=n+Math.imul(v,J)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,Z)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0;var Ee=(h+(n=n+Math.imul(c,oe)|0)|0)+((8191&(i=(i=i+Math.imul(c,se)|0)+Math.imul(l,oe)|0))<<13)|0;h=((o=o+Math.imul(l,se)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(O,z),i=(i=Math.imul(O,F))+Math.imul(B,z)|0,o=Math.imul(B,F),n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,K)|0,n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(x,W)|0,o=o+Math.imul(x,G)|0,n=n+Math.imul(S,J)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0;var Se=(h+(n=n+Math.imul(c,ue)|0)|0)+((8191&(i=(i=i+Math.imul(c,he)|0)+Math.imul(l,ue)|0))<<13)|0;h=((o=o+Math.imul(l,he)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,F))+Math.imul(j,z)|0,o=Math.imul(j,F),n=n+Math.imul(O,$)|0,i=(i=i+Math.imul(O,K)|0)+Math.imul(B,$)|0,o=o+Math.imul(B,K)|0,n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,G)|0,n=n+Math.imul(k,J)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,Z)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,se)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,se)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,he)|0;var Me=(h+(n=n+Math.imul(c,ce)|0)|0)+((8191&(i=(i=i+Math.imul(c,le)|0)+Math.imul(l,ce)|0))<<13)|0;h=((o=o+Math.imul(l,le)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(N,z),i=(i=Math.imul(N,F))+Math.imul(U,z)|0,o=Math.imul(U,F),n=n+Math.imul(L,$)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(j,$)|0,o=o+Math.imul(j,K)|0,n=n+Math.imul(O,W)|0,i=(i=i+Math.imul(O,G)|0)+Math.imul(B,W)|0,o=o+Math.imul(B,G)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,Z)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(M,re)|0,o=o+Math.imul(M,ne)|0,n=n+Math.imul(v,oe)|0,i=(i=i+Math.imul(v,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,n=n+Math.imul(g,ue)|0,i=(i=i+Math.imul(g,he)|0)+Math.imul(b,ue)|0,o=o+Math.imul(b,he)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,le)|0;var Ae=(h+(n=n+Math.imul(c,pe)|0)|0)+((8191&(i=(i=i+Math.imul(c,ye)|0)+Math.imul(l,pe)|0))<<13)|0;h=((o=o+Math.imul(l,ye)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(N,$),i=(i=Math.imul(N,K))+Math.imul(U,$)|0,o=Math.imul(U,K),n=n+Math.imul(L,W)|0,i=(i=i+Math.imul(L,G)|0)+Math.imul(j,W)|0,o=o+Math.imul(j,G)|0,n=n+Math.imul(O,J)|0,i=(i=i+Math.imul(O,Z)|0)+Math.imul(B,J)|0,o=o+Math.imul(B,Z)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(x,re)|0,o=o+Math.imul(x,ne)|0,n=n+Math.imul(S,oe)|0,i=(i=i+Math.imul(S,se)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,se)|0,n=n+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,he)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,he)|0,n=n+Math.imul(g,ce)|0,i=(i=i+Math.imul(g,le)|0)+Math.imul(b,ce)|0,o=o+Math.imul(b,le)|0;var ke=(h+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;h=((o=o+Math.imul(y,ye)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(N,W),i=(i=Math.imul(N,G))+Math.imul(U,W)|0,o=Math.imul(U,G),n=n+Math.imul(L,J)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(j,J)|0,o=o+Math.imul(j,Z)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,se)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,se)|0,n=n+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,he)|0)+Math.imul(M,ue)|0,o=o+Math.imul(M,he)|0,n=n+Math.imul(v,ce)|0,i=(i=i+Math.imul(v,le)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,le)|0;var xe=(h+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,ye)|0)+Math.imul(b,pe)|0))<<13)|0;h=((o=o+Math.imul(b,ye)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(N,J),i=(i=Math.imul(N,Z))+Math.imul(U,J)|0,o=Math.imul(U,Z),n=n+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,ee)|0)+Math.imul(j,Q)|0,o=o+Math.imul(j,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(B,re)|0,o=o+Math.imul(B,ne)|0,n=n+Math.imul(P,oe)|0,i=(i=i+Math.imul(P,se)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,se)|0,n=n+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,he)|0)+Math.imul(x,ue)|0,o=o+Math.imul(x,he)|0,n=n+Math.imul(S,ce)|0,i=(i=i+Math.imul(S,le)|0)+Math.imul(M,ce)|0,o=o+Math.imul(M,le)|0;var Te=(h+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,ye)|0)+Math.imul(_,pe)|0))<<13)|0;h=((o=o+Math.imul(_,ye)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(N,Q),i=(i=Math.imul(N,ee))+Math.imul(U,Q)|0,o=Math.imul(U,ee),n=n+Math.imul(L,re)|0,i=(i=i+Math.imul(L,ne)|0)+Math.imul(j,re)|0,o=o+Math.imul(j,ne)|0,n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,se)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,se)|0,n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,he)|0)+Math.imul(I,ue)|0,o=o+Math.imul(I,he)|0,n=n+Math.imul(k,ce)|0,i=(i=i+Math.imul(k,le)|0)+Math.imul(x,ce)|0,o=o+Math.imul(x,le)|0;var Pe=(h+(n=n+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ye)|0)+Math.imul(M,pe)|0))<<13)|0;h=((o=o+Math.imul(M,ye)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(N,re),i=(i=Math.imul(N,ne))+Math.imul(U,re)|0,o=Math.imul(U,ne),n=n+Math.imul(L,oe)|0,i=(i=i+Math.imul(L,se)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,se)|0,n=n+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(B,ue)|0,o=o+Math.imul(B,he)|0,n=n+Math.imul(P,ce)|0,i=(i=i+Math.imul(P,le)|0)+Math.imul(I,ce)|0,o=o+Math.imul(I,le)|0;var Ie=(h+(n=n+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ye)|0)+Math.imul(x,pe)|0))<<13)|0;h=((o=o+Math.imul(x,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(N,oe),i=(i=Math.imul(N,se))+Math.imul(U,oe)|0,o=Math.imul(U,se),n=n+Math.imul(L,ue)|0,i=(i=i+Math.imul(L,he)|0)+Math.imul(j,ue)|0,o=o+Math.imul(j,he)|0,n=n+Math.imul(O,ce)|0,i=(i=i+Math.imul(O,le)|0)+Math.imul(B,ce)|0,o=o+Math.imul(B,le)|0;var Re=(h+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,ye)|0)+Math.imul(I,pe)|0))<<13)|0;h=((o=o+Math.imul(I,ye)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(N,ue),i=(i=Math.imul(N,he))+Math.imul(U,ue)|0,o=Math.imul(U,he),n=n+Math.imul(L,ce)|0,i=(i=i+Math.imul(L,le)|0)+Math.imul(j,ce)|0,o=o+Math.imul(j,le)|0;var Oe=(h+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ye)|0)+Math.imul(B,pe)|0))<<13)|0;h=((o=o+Math.imul(B,ye)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(N,ce),i=(i=Math.imul(N,le))+Math.imul(U,ce)|0,o=Math.imul(U,le);var Be=(h+(n=n+Math.imul(L,pe)|0)|0)+((8191&(i=(i=i+Math.imul(L,ye)|0)+Math.imul(j,pe)|0))<<13)|0;h=((o=o+Math.imul(j,ye)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863;var Ce=(h+(n=Math.imul(N,pe))|0)+((8191&(i=(i=Math.imul(N,ye))+Math.imul(U,pe)|0))<<13)|0;return h=((o=Math.imul(U,ye))+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,u[0]=me,u[1]=ge,u[2]=be,u[3]=we,u[4]=ve,u[5]=_e,u[6]=Ee,u[7]=Se,u[8]=Me,u[9]=Ae,u[10]=ke,u[11]=xe,u[12]=Te,u[13]=Pe,u[14]=Ie,u[15]=Re,u[16]=Oe,u[17]=Be,u[18]=Ce,0!==h&&(u[19]=h,r.length++),r};function y(e,t,r){return(new m).mulp(e,t,r)}function m(e,t){this.x=e,this.y=t}Math.imul||(p=d),o.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):n<63?d(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,t.length-1),h=Math.max(0,o-e.length+1);h<=u;h++){var f=o-h,c=(0|e.words[f])*(0|t.words[h]),l=67108863&c;a=67108863&(l=l+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):y(this,e,t),r},m.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},m.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},m.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},m.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),h=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var c=u,l=h,d=0;d<s;d++){var p=r[f+d],y=n[f+d],m=r[f+d+s],g=n[f+d+s],b=c*m-l*g;g=c*g+l*m,m=b,r[f+d]=p+m,n[f+d]=y+g,r[f+d+s]=p-m,n[f+d+s]=y-g,d!==a&&(b=u*c-h*l,l=u*l+h*c,c=b)}},m.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},m.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},m.prototype.convert13b=function(e,t,r,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},m.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},m.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),h=new Array(n),f=new Array(n),c=new Array(n),l=r.words;l.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,h,n),this.transform(s,o,a,u,n,i),this.transform(h,o,f,c,n,i);for(var d=0;d<n;d++){var p=a[d]*f[d]-u[d]*c[d];u[d]=a[d]*c[d]+u[d]*f[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,l,o,n,i),this.conjugate(l,o,n),this.normalize13b(l,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),y(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[r]=67108863&o}return 0!==t&&(this.words[r]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,u=(0|this.words[t])-a<<r;this.words[t]=u|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var h=0;h<s;h++)u.words[h]=this.words[h];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,h=0;h<this.length;h++)this.words[h]=this.words[h+s];else this.words[0]=0,this.length=1;var f=0;for(h=this.length-1;h>=0&&(0!==f||h>=i);h--){var c=0|this.words[h];this.words[h]=f<<26-o|c>>>o,f=c&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r||!(this.words[r]&i))},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var u=(0|e.words[i])*t;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!=(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==t){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var h=0;h<a.length;h++)a.words[h]=0}var f=n.clone()._ishlnsubmul(i,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var c=u-1;c>=0;c--){var l=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]);for(l=Math.min(l/s|0,67108863),n._ishlnsubmul(i,l,c);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=l)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},o.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),h=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++h;for(var f=r.clone(),c=t.clone();!t.isZero();){for(var l=0,d=1;0==(t.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(f),s.isub(c)),i.iushrn(1),s.iushrn(1);for(var p=0,y=1;0==(r.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(c)),a.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(u)):(r.isub(t),a.isub(i),u.isub(s))}return{a,b:u,gcd:r.iushln(h)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var h=0,f=1;0==(t.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(t.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var c=0,l=1;0==(r.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(r.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new S(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function M(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},i(w,b),w.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},w.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(v,b),i(_,b),i(E,b),E.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new w;else if("p224"===e)t=new v;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new E}return g[e]=t,t},S.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),h=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,h).cmp(u);)f.redIAdd(u);for(var c=this.pow(f,i),l=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=s;0!==d.cmp(a);){for(var y=d,m=0;0!==y.cmp(a);m++)y=y.redSqr();n(m<p);var g=this.pow(c,new o(1).iushln(p-m-1));l=l.redMul(g),c=g.redSqr(),d=d.redMul(c),p=m}return l},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var h=t.words[n],f=u-1;f>=0;f--){var c=h>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==c||0!==s?(s<<=1,s|=c,(4==++a||0===n&&0===f)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new M(e)},i(M,S),M.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},M.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},M.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},M.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},M.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},9931:(e,t,r)=>{var n;function i(e){this.rand=e}if(e.exports=function(e){return n||(n=new i(null)),n.generate(e)},e.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=r(9214);if("function"!=typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return o.randomBytes(e)}}catch(e){}},7191:(e,t,r)=>{const n=r(8247);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},8247:e=>{"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=n}var s=e.length,a=e.charAt(0),u=Math.log(s)/Math.log(256),h=Math.log(256)/Math.log(s);function f(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,i=0;e[r]===a;)n++,r++;for(var o=(e.length-r)*u+1>>>0,h=new Uint8Array(o);e[r];){var f=t[e.charCodeAt(r)];if(255===f)return;for(var c=0,l=o-1;(0!==f||c<i)&&-1!==l;l--,c++)f+=s*h[l]>>>0,h[l]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=c,r++}for(var d=o-i;d!==o&&0===h[d];)d++;for(var p=new Uint8Array(n+(o-d)),y=n;d!==o;)p[y++]=h[d++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var u=(o-i)*h+1>>>0,f=new Uint8Array(u);i!==o;){for(var c=t[i],l=0,d=u-1;(0!==c||l<n)&&-1!==d;d--,l++)c+=256*f[d]>>>0,f[d]=c%s>>>0,c=c/s>>>0;if(0!==c)throw new Error("Non-zero carry");n=l,i++}for(var p=u-n;p!==u&&0===f[p];)p++;for(var y=a.repeat(r);p<u;++p)y+=e.charAt(f[p]);return y},decodeUnsafe:f,decode:function(e){var t=f(e);if(t)return t;throw new Error("Non-base"+s+" character")}}}},3310:(e,t,r)=>{"use strict";var n=r(1518),i=r(9509).Buffer;e.exports=function(e){function t(t){var r=t.slice(0,-4),n=t.slice(-4),i=e(r);if(!(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3]))return r}return{encode:function(t){var r=e(t);return n.encode(i.concat([t,r],t.length+4))},decode:function(e){var r=t(n.decode(e));if(!r)throw new Error("Invalid checksum");return r},decodeUnsafe:function(e){var r=n.decodeUnsafe(e);if(r)return t(r)}}}},8334:(e,t,r)=>{"use strict";var n=r(3482),i=r(3310);e.exports=i((function(e){var t=n("sha256").update(e).digest();return n("sha256").update(t).digest()}))},1518:(e,t,r)=>{var n=r(8162);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},8055:(e,t,r)=>{"use strict";var n=r(8764).Buffer;e.exports=function(e,t){if(!n.isBuffer(e)||!n.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return!0;if("function"==typeof e.equals)return e.equals(t);if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}},8764:(e,t,r)=>{"use strict";const n=r(9742),i=r(645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return h(e,t,r)}function h(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|y(e,t);let n=a(r);const i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return l(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return d(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return d(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return u.from(n,t,r);const i=function(e){if(u.isBuffer(e)){const t=0|p(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||J(e.length)?a(0):l(e):"Buffer"===e.type&&Array.isArray(e.data)?l(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return f(e),a(e<0?0:0|p(e))}function l(e){const t=e.length<0?0:0|p(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,u.prototype),n}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function y(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return W(e).length;default:if(i)return n?-1:V(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,r);case"utf8":case"utf-8":return k(this,t,r);case"ascii":return T(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return A(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,n,i){let o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}function h(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(o=r;o<a;o++)if(h(e,o)===h(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(h(e,o+n)!==h(t,n)){r=!1;break}if(r)return o}return-1}function v(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(t.substr(2*s,2),16);if(J(n))return s;e[r+s]=n}return s}function _(e,t,r,n){return G(V(t,e.length-r),e,r,n)}function E(e,t,r,n){return G(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function S(e,t,r,n){return G(W(t),e,r,n)}function M(e,t,r,n){return G(function(e,t){let r,n,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function A(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function k(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,a,u;switch(s){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128==(192&r)&&(u=(31&t)<<6|63&r,u>127&&(o=u));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(e){const t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=x));return r}(n)}t.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,r){return h(e,t,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,r){return function(e,t,r){return f(e),e<=0?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},u.allocUnsafe=function(e){return c(e)},u.allocUnsafeSlow=function(e){return c(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(Y(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=u.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(Y(t,Uint8Array))i+t.length>n.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},u.byteLength=y,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):m.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(e,t,r,n,i){if(Y(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0);const a=Math.min(o,s),h=this.slice(n,i),f=e.slice(t,r);for(let e=0;e<a;++e)if(h[e]!==f[e]){o=h[e],s=f[e];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return v(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":case"latin1":case"binary":return E(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const x=4096;function T(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function P(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function I(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=Z[e[n]];return i}function R(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function O(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function C(e,t,r,n,i){F(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function L(e,t,r,n,i){F(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function j(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(e,t,r,n,o){return t=+t,r>>>=0,o||j(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function N(e,t,r,n,o){return t=+t,r>>>=0,o||j(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=X((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=X((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=X((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=X((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||B(this,e,t,r,Math.pow(2,8*r)-1,0);let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||B(this,e,t,r,Math.pow(2,8*r)-1,0);let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=X((function(e,t=0){return C(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=X((function(e,t=0){return L(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);B(this,e,t,r,n-1,-n)}let i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);B(this,e,t,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=X((function(e,t=0){return C(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=X((function(e,t=0){return L(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,r){return D(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return D(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return N(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return N(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=u.isBuffer(e)?e:u.from(e,n),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};const U={};function H(e,t,r){U[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function z(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function F(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new U.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){q(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||$(t,e.length-(r+1))}(n,i,o)}function q(e,t){if("number"!=typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function $(e,t,r){if(Math.floor(e)!==e)throw q(e,r),new U.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}H("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),H("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),H("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=z(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=z(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const K=/[^+/0-9A-Za-z-_]/g;function V(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function W(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!=e}const Z=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function X(e){return"undefined"==typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}},5456:e=>{"use strict";e.exports=function e(t){return null===t||"object"!=typeof t||null!=t.toJSON?JSON.stringify(t):Array.isArray(t)?"["+t.reduce(((t,r,n)=>t+(0===n?"":",")+e(void 0===r||"symbol"==typeof r?null:r)),"")+"]":"{"+Object.keys(t).sort().reduce(((r,n,i)=>void 0===t[n]||"symbol"==typeof t[n]?r:r+(0===r.length?"":",")+e(n)+":"+e(t[n])),"")+"}"}},1027:(e,t,r)=>{var n=r(9509).Buffer,i=r(2830).Transform,o=r(2553).s;function s(e){i.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r(5717)(s,i),s.prototype.update=function(e,t,r){"string"==typeof e&&(e=n.from(e,t));var i=this._update(e);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{r(n)}},s.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},s.prototype._finalOrDigest=function(e){var t=this.__final()||n.alloc(0);return e&&(t=this._toString(t,e,!0)),t},s.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n},e.exports=s},3482:(e,t,r)=>{"use strict";var n=r(5717),i=r(2318),o=r(9785),s=r(9072),a=r(1027);function u(e){a.call(this,"digest"),this._hash=e}n(u,a),u.prototype._update=function(e){this._hash.update(e)},u.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new i:"rmd160"===e||"ripemd160"===e?new o:new u(s(e))}},8028:(e,t,r)=>{var n=r(2318);e.exports=function(e){return(new n).update(e).digest()}},8355:(e,t,r)=>{"use strict";var n=r(5717),i=r(1031),o=r(1027),s=r(9509).Buffer,a=r(8028),u=r(9785),h=r(9072),f=s.alloc(128);function c(e,t){o.call(this,"digest"),"string"==typeof t&&(t=s.from(t));var r="sha512"===e||"sha384"===e?128:64;this._alg=e,this._key=t,t.length>r?t=("rmd160"===e?new u:h(e)).update(t).digest():t.length<r&&(t=s.concat([t,f],r));for(var n=this._ipad=s.allocUnsafe(r),i=this._opad=s.allocUnsafe(r),a=0;a<r;a++)n[a]=54^t[a],i[a]=92^t[a];this._hash="rmd160"===e?new u:h(e),this._hash.update(n)}n(c,o),c.prototype._update=function(e){this._hash.update(e)},c.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new u:h(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new c("rmd160",t):"md5"===e?new i(a,t):new c(e,t)}},1031:(e,t,r)=>{"use strict";var n=r(5717),i=r(9509).Buffer,o=r(1027),s=i.alloc(128),a=64;function u(e,t){o.call(this,"digest"),"string"==typeof t&&(t=i.from(t)),this._alg=e,this._key=t,t.length>a?t=e(t):t.length<a&&(t=i.concat([t,s],a));for(var r=this._ipad=i.allocUnsafe(a),n=this._opad=i.allocUnsafe(a),u=0;u<a;u++)r[u]=54^t[u],n[u]=92^t[u];this._hash=[r]}n(u,o),u.prototype._update=function(e){this._hash.push(e)},u.prototype._final=function(){var e=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,e]))},e.exports=u},6428:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.ECPairFactory=t.networks=void 0;const i=r(4644);t.networks=i;const o=r(4844),s=r(1798),a=r(7174),u=r(5049),h=o.typeforce.maybe(o.typeforce.compile({compressed:o.maybe(o.Boolean),network:o.maybe(o.Network)}));t.ECPairFactory=function(e){function t(t,r){if(o.typeforce(o.Buffer256bit,t),!e.isPrivate(t))throw new TypeError("Private key not in range [1, n)");return o.typeforce(h,r),new f(t,void 0,r)}function r(t,r){return o.typeforce(e.isPoint,t),o.typeforce(h,r),new f(void 0,t,r)}(0,u.testEcc)(e);class f{__D;__Q;compressed;network;lowR;constructor(t,r,o){this.__D=t,this.__Q=r,this.lowR=!1,void 0===o&&(o={}),this.compressed=void 0===o.compressed||o.compressed,this.network=o.network||i.bitcoin,void 0!==r&&(this.__Q=n.from(e.pointCompress(r,this.compressed)))}get privateKey(){return this.__D}get publicKey(){if(!this.__Q){const t=e.pointFromScalar(this.__D,this.compressed);this.__Q=n.from(t)}return this.__Q}toWIF(){if(!this.__D)throw new Error("Missing private key");return a.encode(this.network.wif,this.__D,this.compressed)}tweak(e){return this.privateKey?this.tweakFromPrivateKey(e):this.tweakFromPublicKey(e)}sign(t,r){if(!this.__D)throw new Error("Missing private key");if(void 0===r&&(r=this.lowR),!1===r)return n.from(e.sign(t,this.__D));{let r=e.sign(t,this.__D);const i=n.alloc(32,0);let o=0;for(;r[0]>127;)o++,i.writeUIntLE(o,0,6),r=e.sign(t,this.__D,i);return n.from(r)}}signSchnorr(t){if(!this.privateKey)throw new Error("Missing private key");if(!e.signSchnorr)throw new Error("signSchnorr not supported by ecc library");return n.from(e.signSchnorr(t,this.privateKey))}verify(t,r){return e.verify(t,this.publicKey,r)}verifySchnorr(t,r){if(!e.verifySchnorr)throw new Error("verifySchnorr not supported by ecc library");return e.verifySchnorr(t,this.publicKey.subarray(1,33),r)}tweakFromPublicKey(t){const i=32===(o=this.publicKey).length?o:o.slice(1,33);var o;const s=e.xOnlyPointAddTweak(i,t);if(!s||null===s.xOnlyPubkey)throw new Error("Cannot tweak public key!");const a=n.from([0===s.parity?2:3]);return r(n.concat([a,s.xOnlyPubkey]),{network:this.network,compressed:this.compressed})}tweakFromPrivateKey(r){const i=3===this.publicKey[0]||4===this.publicKey[0]&&1==(1&this.publicKey[64])?e.privateNegate(this.privateKey):this.privateKey,o=e.privateAdd(i,r);if(!o)throw new Error("Invalid tweaked private key!");return t(n.from(o),{network:this.network,compressed:this.compressed})}}return{isPoint:function(t){return e.isPoint(t)},fromPrivateKey:t,fromPublicKey:r,fromWIF:function(e,r){const n=a.decode(e),s=n.version;if(o.Array(r)){if(!(r=r.filter((e=>s===e.wif)).pop()))throw new Error("Unknown network version")}else if(r=r||i.bitcoin,s!==r.wif)throw new Error("Invalid network version");return t(n.privateKey,{compressed:n.compressed,network:r})},makeRandom:function(r){o.typeforce(h,r),void 0===r&&(r={});const n=r.rng||s;let i;do{i=n(32),o.typeforce(o.Buffer256bit,i)}while(!e.isPrivate(i));return t(i,r)}}}},5217:(e,t,r)=>{"use strict";t.eA=void 0;var n=r(6428);Object.defineProperty(t,"eA",{enumerable:!0,get:function(){return n.ECPairFactory}})},4644:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.testnet=t.bitcoin=void 0,t.bitcoin={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},t.testnet={messagePrefix:"Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}},5049:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.testEcc=void 0;const i=e=>n.from(e,"hex");function o(e){if(!e)throw new Error("ecc library invalid")}t.testEcc=function(e){o(e.isPoint(i("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),o(!e.isPoint(i("030000000000000000000000000000000000000000000000000000000000000005"))),o(e.isPrivate(i("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),o(e.isPrivate(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),o(!e.isPrivate(i("0000000000000000000000000000000000000000000000000000000000000000"))),o(!e.isPrivate(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"))),o(!e.isPrivate(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364142"))),o(n.from(e.privateAdd(i("0000000000000000000000000000000000000000000000000000000000000001"),i("0000000000000000000000000000000000000000000000000000000000000000"))).equals(i("0000000000000000000000000000000000000000000000000000000000000001"))),o(null===e.privateAdd(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e"),i("0000000000000000000000000000000000000000000000000000000000000003"))),o(n.from(e.privateAdd(i("e211078564db65c3ce7704f08262b1f38f1ef412ad15b5ac2d76657a63b2c500"),i("b51fbb69051255d1becbd683de5848242a89c229348dd72896a87ada94ae8665"))).equals(i("9730c2ee69edbb958d42db7460bafa18fef9d955325aec99044c81c8282b0a24"))),o(n.from(e.privateNegate(i("0000000000000000000000000000000000000000000000000000000000000001"))).equals(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),o(n.from(e.privateNegate(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e"))).equals(i("0000000000000000000000000000000000000000000000000000000000000003"))),o(n.from(e.privateNegate(i("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af"))).equals(i("4eede1bf775995d70a494f0a7bb6bc11e0b8cccd41cce8009ab1132c8b0a3792"))),o(n.from(e.pointCompress(i("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"),!0)).equals(i("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),o(n.from(e.pointCompress(i("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"),!1)).equals(i("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"))),o(n.from(e.pointCompress(i("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),!0)).equals(i("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),o(n.from(e.pointCompress(i("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),!1)).equals(i("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"))),o(n.from(e.pointFromScalar(i("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af"))).equals(i("02b07ba9dca9523b7ef4bd97703d43d20399eb698e194704791a25ce77a400df99"))),o(null===e.xOnlyPointAddTweak(i("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140")));let t=e.xOnlyPointAddTweak(i("1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b"),i("a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac"));o(n.from(t.xOnlyPubkey).equals(i("e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"))&&1===t.parity),t=e.xOnlyPointAddTweak(i("2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991"),i("823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47")),o(n.from(t.xOnlyPubkey).equals(i("9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"))&&0===t.parity),o(n.from(e.sign(i("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))).equals(i("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),o(e.verify(i("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),i("0379be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),i("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),e.signSchnorr&&o(n.from(e.signSchnorr(i("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),i("c90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b14e5c9"),i("c87aa53824b4d7ae2eb035a2b5bbbccc080e76cdc6d1692c4b0b62d798e6d906"))).equals(i("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7"))),e.verifySchnorr&&o(e.verifySchnorr(i("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),i("dd308afec5777e13121fa72b9cc1b7cc0139715309b086c960e18fd969774eb8"),i("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7")))}},4844:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maybe=t.Boolean=t.Array=t.Buffer256bit=t.Network=t.typeforce=void 0,t.typeforce=r(2401),t.Network=t.typeforce.compile({messagePrefix:t.typeforce.oneOf(t.typeforce.Buffer,t.typeforce.String),bip32:{public:t.typeforce.UInt32,private:t.typeforce.UInt32},pubKeyHash:t.typeforce.UInt8,scriptHash:t.typeforce.UInt8,wif:t.typeforce.UInt8}),t.Buffer256bit=t.typeforce.BufferN(32),t.Array=t.typeforce.Array,t.Boolean=t.typeforce.Boolean,t.maybe=t.typeforce.maybe},6266:(e,t,r)=>{"use strict";var n=t;n.version=r(8597).i8,n.utils=r(953),n.rand=r(9931),n.curve=r(8254),n.curves=r(5427),n.ec=r(7954),n.eddsa=r(5980)},4918:(e,t,r)=>{"use strict";var n=r(3550),i=r(953),o=i.getNAF,s=i.getJSF,a=i.assert;function u(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function h(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(e,t){a(e.precomputed);var r=e._getDoubles(),n=o(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var s,u,h=[];for(s=0;s<n.length;s+=r.step){u=0;for(var f=s+r.step-1;f>=s;f--)u=(u<<1)+n[f];h.push(u)}for(var c=this.jpoint(null,null,null),l=this.jpoint(null,null,null),d=i;d>0;d--){for(s=0;s<h.length;s++)(u=h[s])===d?l=l.mixedAdd(r.points[s]):u===-d&&(l=l.mixedAdd(r.points[s].neg()));c=c.add(l)}return c.toP()},u.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=o(t,r,this._bitLength),u=this.jpoint(null,null,null),h=s.length-1;h>=0;h--){for(var f=0;h>=0&&0===s[h];h--)f++;if(h>=0&&f++,u=u.dblp(f),h<0)break;var c=s[h];a(0!==c),u="affine"===e.type?c>0?u.mixedAdd(i[c-1>>1]):u.mixedAdd(i[-c-1>>1].neg()):c>0?u.add(i[c-1>>1]):u.add(i[-c-1>>1].neg())}return"affine"===e.type?u.toP():u},u.prototype._wnafMulAdd=function(e,t,r,n,i){var a,u,h,f=this._wnafT1,c=this._wnafT2,l=this._wnafT3,d=0;for(a=0;a<n;a++){var p=(h=t[a])._getNAFPoints(e);f[a]=p.wnd,c[a]=p.points}for(a=n-1;a>=1;a-=2){var y=a-1,m=a;if(1===f[y]&&1===f[m]){var g=[t[y],null,null,t[m]];0===t[y].y.cmp(t[m].y)?(g[1]=t[y].add(t[m]),g[2]=t[y].toJ().mixedAdd(t[m].neg())):0===t[y].y.cmp(t[m].y.redNeg())?(g[1]=t[y].toJ().mixedAdd(t[m]),g[2]=t[y].add(t[m].neg())):(g[1]=t[y].toJ().mixedAdd(t[m]),g[2]=t[y].toJ().mixedAdd(t[m].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],w=s(r[y],r[m]);for(d=Math.max(w[0].length,d),l[y]=new Array(d),l[m]=new Array(d),u=0;u<d;u++){var v=0|w[0][u],_=0|w[1][u];l[y][u]=b[3*(v+1)+(_+1)],l[m][u]=0,c[y]=g}}else l[y]=o(r[y],f[y],this._bitLength),l[m]=o(r[m],f[m],this._bitLength),d=Math.max(l[y].length,d),d=Math.max(l[m].length,d)}var E=this.jpoint(null,null,null),S=this._wnafT4;for(a=d;a>=0;a--){for(var M=0;a>=0;){var A=!0;for(u=0;u<n;u++)S[u]=0|l[u][a],0!==S[u]&&(A=!1);if(!A)break;M++,a--}if(a>=0&&M++,E=E.dblp(M),a<0)break;for(u=0;u<n;u++){var k=S[u];0!==k&&(k>0?h=c[u][k-1>>1]:k<0&&(h=c[u][-k-1>>1].neg()),E="affine"===h.type?E.mixedAdd(h):E.add(h))}}for(a=0;a<n;a++)c[a]=null;return i?E:E.toP()},u.BasePoint=h,h.prototype.eq=function(){throw new Error("Not implemented")},h.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?a(e[e.length-1]%2==0):7===e[0]&&a(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},h.prototype.encodeCompressed=function(e){return this.encode(e,!0)},h.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},h.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},h.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},h.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},h.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},h.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},h.prototype._getBeta=function(){return null},h.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},1138:(e,t,r)=>{"use strict";var n=r(953),i=r(3550),o=r(5717),s=r(4918),a=n.assert;function u(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,s.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function h(e,t,r,n,o){s.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(u,s),e.exports=u,u.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},u.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},u.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},u.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),o=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=n.redMul(o.redInvm()),a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var u=a.fromRed().isOdd();return(t&&!u||!t&&u)&&(a=a.redNeg()),this.point(e,a)},u.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),o=r.redMul(this.d).redMul(this.c2).redSub(this.a),s=n.redMul(o.redInvm());if(0===s.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},u.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},o(h,s.BasePoint),u.prototype.pointFromJSON=function(e){return h.fromJSON(this,e)},u.prototype.point=function(e,t,r,n){return new h(this,e,t,r,n)},h.fromJSON=function(e,t){return new h(e,t[0],t[1],t[2])},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},h.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),s=o.redSub(r),a=n.redSub(t),u=i.redMul(s),h=o.redMul(a),f=i.redMul(a),c=s.redMul(o);return this.curve.point(u,h,c,f)},h.prototype._projDbl=function(){var e,t,r,n,i,o,s=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),u=this.y.redSqr();if(this.curve.twisted){var h=(n=this.curve._mulA(a)).redAdd(u);this.zOne?(e=s.redSub(a).redSub(u).redMul(h.redSub(this.curve.two)),t=h.redMul(n.redSub(u)),r=h.redSqr().redSub(h).redSub(h)):(i=this.z.redSqr(),o=h.redSub(i).redISub(i),e=s.redSub(a).redISub(u).redMul(o),t=h.redMul(n.redSub(u)),r=h.redMul(o))}else n=a.redAdd(u),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),e=this.curve._mulC(s.redISub(n)).redMul(o),t=this.curve._mulC(n).redMul(a.redISub(u)),r=n.redMul(o);return this.curve.point(e,t,r)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},h.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),s=i.redSub(n),a=i.redAdd(n),u=r.redAdd(t),h=o.redMul(s),f=a.redMul(u),c=o.redMul(u),l=s.redMul(a);return this.curve.point(h,f,l,c)},h.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),o=this.x.redMul(e.x),s=this.y.redMul(e.y),a=this.curve.d.redMul(o).redMul(s),u=i.redSub(a),h=i.redAdd(a),f=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(s),c=n.redMul(u).redMul(f);return this.curve.twisted?(t=n.redMul(h).redMul(s.redSub(this.curve._mulA(o))),r=u.redMul(h)):(t=n.redMul(h).redMul(s.redSub(o)),r=this.curve._mulC(u).redMul(h)),this.curve.point(c,t,r)},h.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},h.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},h.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},h.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},h.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},h.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()},h.prototype.getY=function(){return this.normalize(),this.y.fromRed()},h.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},h.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},h.prototype.toP=h.prototype.normalize,h.prototype.mixedAdd=h.prototype.add},8254:(e,t,r)=>{"use strict";var n=t;n.base=r(4918),n.short=r(6673),n.mont=r(2881),n.edwards=r(1138)},2881:(e,t,r)=>{"use strict";var n=r(3550),i=r(5717),o=r(4918),s=r(953);function a(e){o.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(e,t,r){o.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,o),e.exports=a,a.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},i(u,o.BasePoint),a.prototype.decodePoint=function(e,t){return this.point(s.toArray(e,t),1)},a.prototype.point=function(e,t){return new u(this,e,t)},a.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(e,t){return new u(e,t[0],t[1]||e.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),s=i.redMul(n),a=t.z.redMul(o.redAdd(s).redSqr()),u=t.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,u)},u.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},6673:(e,t,r)=>{"use strict";var n=r(953),i=r(3550),o=r(5717),s=r(4918),a=n.assert;function u(e){s.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function h(e,t,r,n){s.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(e,t,r,n){s.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(u,s),e.exports=u,u.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new i(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?r=o[0]:(r=o[1],a(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new i(e.a,16),b:new i(e.b,16)}})):this._getEndoBasis(r)}}},u.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),r=new i(2).toRed(t).redInvm(),n=r.redNeg(),o=new i(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(o).fromRed(),n.redSub(o).fromRed()]},u.prototype._getEndoBasis=function(e){for(var t,r,n,o,s,a,u,h,f,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=e,d=this.n.clone(),p=new i(1),y=new i(0),m=new i(0),g=new i(1),b=0;0!==l.cmpn(0);){var w=d.div(l);h=d.sub(w.mul(l)),f=m.sub(w.mul(p));var v=g.sub(w.mul(y));if(!n&&h.cmp(c)<0)t=u.neg(),r=p,n=h.neg(),o=f;else if(n&&2==++b)break;u=h,d=l,l=h,m=p,p=f,g=y,y=v}s=h.neg(),a=f;var _=n.sqr().add(o.sqr());return s.sqr().add(a.sqr()).cmp(_)>=0&&(s=t,a=r),n.negative&&(n=n.neg(),o=o.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:n,b:o},{a:s,b:a}]},u.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),u=i.mul(r.b),h=o.mul(n.b);return{k1:e.sub(s).sub(a),k2:u.add(h).neg()}},u.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var o=n.fromRed().isOdd();return(t&&!o||!t&&o)&&(n=n.redNeg()),this.point(e,n)},u.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},u.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],u=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*o]=a,n[2*o+1]=u,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var h=this._wnafMulAdd(1,n,i,2*o,r),f=0;f<2*o;f++)n[f]=null,i[f]=null;return h},o(h,s.BasePoint),u.prototype.point=function(e,t,r){return new h(this,e,t,r)},u.prototype.pointFromJSON=function(e,t){return h.fromJSON(this,e,t)},h.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},h.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},h.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.inf},h.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},h.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},h.prototype.getX=function(){return this.x.fromRed()},h.prototype.getY=function(){return this.y.fromRed()},h.prototype.mul=function(e){return e=new i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},h.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},h.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},h.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},h.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},h.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(f,s.BasePoint),u.prototype.jpoint=function(e,t,r){return new f(this,e,t,r)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=a.redSqr(),f=h.redMul(a),c=n.redMul(h),l=u.redSqr().redIAdd(f).redISub(c).redISub(c),d=u.redMul(c.redISub(l)).redISub(o.redMul(f)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(l,d,p)},f.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),h=u.redMul(s),f=r.redMul(u),c=a.redSqr().redIAdd(h).redISub(f).redISub(f),l=a.redMul(f.redISub(c)).redISub(i.redMul(h)),d=this.z.redMul(s);return this.curve.jpoint(c,l,d)},f.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),h=s.redAdd(s);for(t=0;t<e;t++){var f=o.redSqr(),c=h.redSqr(),l=c.redSqr(),d=f.redAdd(f).redIAdd(f).redIAdd(n.redMul(u)),p=o.redMul(c),y=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(y),g=d.redMul(m);g=g.redIAdd(g).redISub(l);var b=h.redMul(a);t+1<e&&(u=u.redMul(l)),o=y,a=b,h=g}return this.curve.jpoint(o,h.redMul(i),a)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),h=o.redIAdd(o);h=(h=h.redIAdd(h)).redIAdd(h),e=u,t=a.redMul(s.redISub(u)).redISub(h),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),c=this.y.redSqr(),l=c.redSqr(),d=this.x.redAdd(c).redSqr().redISub(f).redISub(l);d=d.redIAdd(d);var p=f.redAdd(f).redIAdd(f),y=p.redSqr(),m=l.redIAdd(l);m=(m=m.redIAdd(m)).redIAdd(m),e=y.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},f.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);e=u;var h=o.redIAdd(o);h=(h=h.redIAdd(h)).redIAdd(h),t=a.redMul(s.redISub(u)).redISub(h),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),c=this.y.redSqr(),l=this.x.redMul(c),d=this.x.redSub(f).redMul(this.x.redAdd(f));d=d.redAdd(d).redIAdd(d);var p=l.redIAdd(l),y=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(y),r=this.y.redAdd(this.z).redSqr().redISub(c).redISub(f);var m=c.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=d.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},f.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),u=t.redAdd(t),h=(u=u.redIAdd(u)).redMul(s),f=a.redSqr().redISub(h.redAdd(h)),c=h.redISub(f),l=s.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=a.redMul(c).redISub(l),p=r.redAdd(r).redMul(n);return this.curve.jpoint(f,d,p)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var h=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),f=t.redMul(h);f=(f=f.redIAdd(f)).redIAdd(f);var c=this.x.redMul(a).redISub(f);c=(c=c.redIAdd(c)).redIAdd(c);var l=this.y.redMul(h.redMul(u.redISub(h)).redISub(s.redMul(a)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(c,l,d)},f.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},f.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},f.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},5427:(e,t,r)=>{"use strict";var n,i=t,o=r(3715),s=r(8254),a=r(953).assert;function u(e){"short"===e.type?this.curve=new s.short(e):"edwards"===e.type?this.curve=new s.edwards(e):this.curve=new s.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function h(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var r=new u(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=u,h("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),h("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),h("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),h("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),h("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),h("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),h("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(1037)}catch(e){n=void 0}h("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},7954:(e,t,r)=>{"use strict";var n=r(3550),i=r(2156),o=r(953),s=r(5427),a=r(9931),u=o.assert,h=r(1251),f=r(611);function c(e){if(!(this instanceof c))return new c(e);"string"==typeof e&&(u(Object.prototype.hasOwnProperty.call(s,e),"Unknown curve "+e),e=s[e]),e instanceof s.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=c,c.prototype.keyPair=function(e){return new h(this,e)},c.prototype.keyFromPrivate=function(e,t){return h.fromPrivate(this,e,t)},c.prototype.keyFromPublic=function(e,t){return h.fromPublic(this,e,t)},c.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||a(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),o=this.n.sub(new n(2));;){var s=new n(t.generate(r));if(!(s.cmp(o)>0))return s.iaddn(1),this.keyFromPrivate(s)}},c.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},c.prototype.sign=function(e,t,r,o){"object"==typeof r&&(o=r,r=null),o||(o={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new n(e,16));for(var s=this.n.byteLength(),a=t.getPrivate().toArray("be",s),u=e.toArray("be",s),h=new i({hash:this.hash,entropy:a,nonce:u,pers:o.pers,persEnc:o.persEnc||"utf8"}),c=this.n.sub(new n(1)),l=0;;l++){var d=o.k?o.k(l):new n(h.generate(this.n.byteLength()));if(!((d=this._truncateToN(d,!0)).cmpn(1)<=0||d.cmp(c)>=0)){var p=this.g.mul(d);if(!p.isInfinity()){var y=p.getX(),m=y.umod(this.n);if(0!==m.cmpn(0)){var g=d.invm(this.n).mul(m.mul(t.getPrivate()).iadd(e));if(0!==(g=g.umod(this.n)).cmpn(0)){var b=(p.getY().isOdd()?1:0)|(0!==y.cmp(m)?2:0);return o.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),b^=1),new f({r:m,s:g,recoveryParam:b})}}}}}},c.prototype.verify=function(e,t,r,i){e=this._truncateToN(new n(e,16)),r=this.keyFromPublic(r,i);var o=(t=new f(t,"hex")).r,s=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a,u=s.invm(this.n),h=u.mul(e).umod(this.n),c=u.mul(o).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(h,r.getPublic(),c)).isInfinity()&&a.eqXToP(o):!(a=this.g.mulAdd(h,r.getPublic(),c)).isInfinity()&&0===a.getX().umod(this.n).cmp(o)},c.prototype.recoverPubKey=function(e,t,r,i){u((3&r)===r,"The recovery param is more than two bits"),t=new f(t,i);var o=this.n,s=new n(e),a=t.r,h=t.s,c=1&r,l=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");a=l?this.curve.pointFromX(a.add(this.curve.n),c):this.curve.pointFromX(a,c);var d=t.r.invm(o),p=o.sub(s).mul(d).umod(o),y=h.mul(d).umod(o);return this.g.mulAdd(p,a,y)},c.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new f(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},1251:(e,t,r)=>{"use strict";var n=r(3550),i=r(953).assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,r){return t instanceof o?t:new o(e,{pub:t,pubEnc:r})},o.fromPrivate=function(e,t,r){return t instanceof o?t:new o(e,{priv:t,privEnc:r})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},o.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},611:(e,t,r)=>{"use strict";var n=r(3550),i=r(953),o=i.assert;function s(e,t){if(e instanceof s)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function a(){this.place=0}function u(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function h(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function f(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}e.exports=s,s.prototype._importDER=function(e,t){e=i.toArray(e,t);var r=new a;if(48!==e[r.place++])return!1;var o=u(e,r);if(!1===o)return!1;if(o+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var s=u(e,r);if(!1===s)return!1;var h=e.slice(r.place,s+r.place);if(r.place+=s,2!==e[r.place++])return!1;var f=u(e,r);if(!1===f)return!1;if(e.length!==f+r.place)return!1;var c=e.slice(r.place,f+r.place);if(0===h[0]){if(!(128&h[1]))return!1;h=h.slice(1)}if(0===c[0]){if(!(128&c[1]))return!1;c=c.slice(1)}return this.r=new n(h),this.s=new n(c),this.recoveryParam=null,!0},s.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=h(t),r=h(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];f(n,t.length),(n=n.concat(t)).push(2),f(n,r.length);var o=n.concat(r),s=[48];return f(s,o.length),s=s.concat(o),i.encode(s,e)}},5980:(e,t,r)=>{"use strict";var n=r(3715),i=r(5427),o=r(953),s=o.assert,a=o.parseBytes,u=r(9087),h=r(3622);function f(e){if(s("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof f))return new f(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}e.exports=f,f.prototype.sign=function(e,t){e=a(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),o=this.encodePoint(i),s=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),u=n.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:u,Rencoded:o})},f.prototype.verify=function(e,t,r){e=a(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(o)},f.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(e){return u.fromPublic(this,e)},f.prototype.keyFromSecret=function(e){return u.fromSecret(this,e)},f.prototype.makeSignature=function(e){return e instanceof h?e:new h(this,e)},f.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},f.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),i=o.intFromLE(r);return this.curve.pointFromY(i,n)},f.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(e){return o.intFromLE(e)},f.prototype.isPoint=function(e){return e instanceof this.pointClass}},9087:(e,t,r)=>{"use strict";var n=r(953),i=n.assert,o=n.parseBytes,s=n.cachedProperty;function a(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}a.fromPublic=function(e,t){return t instanceof a?t:new a(e,{pub:t})},a.fromSecret=function(e,t){return t instanceof a?t:new a(e,{secret:t})},a.prototype.secret=function(){return this._secret},s(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),s(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),s(a,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),s(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),s(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),s(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},a.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},a.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},a.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=a},3622:(e,t,r)=>{"use strict";var n=r(3550),i=r(953),o=i.assert,s=i.cachedProperty,a=i.parseBytes;function u(e,t){this.eddsa=e,"object"!=typeof t&&(t=a(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}s(u,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),s(u,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),s(u,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),s(u,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=u},1037:e=>{e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},953:(e,t,r)=>{"use strict";var n=t,i=r(3550),o=r(9746),s=r(4504);n.assert=o,n.toArray=s.toArray,n.zero2=s.zero2,n.toHex=s.toHex,n.encode=s.encode,n.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),s=0;s<n.length;s++){var a,u=o.andln(i-1);o.isOdd()?(a=u>(i>>1)-1?(i>>1)-u:u,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var s,a,u=e.andln(3)+i&3,h=t.andln(3)+o&3;3===u&&(u=-1),3===h&&(h=-1),s=0==(1&u)?0:3!=(n=e.andln(7)+i&7)&&5!==n||2!==h?u:-u,r[0].push(s),a=0==(1&h)?0:3!=(n=t.andln(7)+o&7)&&5!==n||2!==u?h:-h,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new i(e,"hex","le")}},7187:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}y(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&y(e,"error",t,{once:!0})}(e,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function h(e,t,r,n){var i,o,s,h;if(a(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=u(e))>0&&s.length>i&&!s.warned){s.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=e,f.type=t,f.count=s.length,h=f,console&&console.warn&&console.warn(h)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=f.bind(n);return i.listener=r,n.wrapFn=i,i}function l(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):p(i,i.length)}function d(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function y(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)n(u,this,t);else{var h=u.length,f=p(u,h);for(r=0;r<h;++r)n(f[r],this,t)}return!0},o.prototype.addListener=function(e,t){return h(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return h(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,c(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,c(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,i,o,s;if(a(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return l(this,e,!0)},o.prototype.rawListeners=function(e){return l(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},o.prototype.listenerCount=d,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},3349:(e,t,r)=>{"use strict";var n=r(213).Buffer,i=r(8473).Transform;function o(e){i.call(this),this._block=n.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(5717)(o,i),o.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer")}(e),this._finalized)throw new Error("Digest already called");n.isBuffer(e)||(e=n.from(e,t));for(var r=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)r[o++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)r[this._blockOffset++]=e[i++];for(var s=0,a=8*e.length;a>0;++s)this._length[s]+=a,(a=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*a);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},213:(e,t,r)=>{var n=r(8764),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},3715:(e,t,r)=>{var n=t;n.utils=r(6436),n.common=r(5772),n.sha=r(9041),n.ripemd=r(2949),n.hmac=r(2344),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},5772:(e,t,r)=>{"use strict";var n=r(6436),i=r(9746);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n}},2344:(e,t,r)=>{"use strict";var n=r(6436),i=r(9746);function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},2949:(e,t,r)=>{"use strict";var n=r(6436),i=r(5772),o=n.rotl32,s=n.sum32,a=n.sum32_3,u=n.sum32_4,h=i.BlockHash;function f(){if(!(this instanceof f))return new f;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function c(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function l(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function d(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(f,h),t.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],h=this.h[3],f=this.h[4],b=r,w=n,v=i,_=h,E=f,S=0;S<80;S++){var M=s(o(u(r,c(S,n,i,h),e[p[S]+t],l(S)),m[S]),f);r=f,f=h,h=o(i,10),i=n,n=M,M=s(o(u(b,c(79-S,w,v,_),e[y[S]+t],d(S)),g[S]),E),b=E,E=_,_=o(v,10),v=w,w=M}M=a(this.h[1],i,_),this.h[1]=a(this.h[2],h,E),this.h[2]=a(this.h[3],f,b),this.h[3]=a(this.h[4],r,w),this.h[4]=a(this.h[0],n,v),this.h[0]=M},f.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},9041:(e,t,r)=>{"use strict";t.sha1=r(4761),t.sha224=r(799),t.sha256=r(9344),t.sha384=r(772),t.sha512=r(5900)},4761:(e,t,r)=>{"use strict";var n=r(6436),i=r(5772),o=r(7038),s=n.rotl32,a=n.sum32,u=n.sum32_5,h=o.ft_1,f=i.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function l(){if(!(this instanceof l))return new l;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(l,f),e.exports=l,l.blockSize=512,l.outSize=160,l.hmacStrength=80,l.padLength=64,l.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=s(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],f=this.h[2],l=this.h[3],d=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),y=u(s(i,5),h(p,o,f,l),d,r[n],c[p]);d=l,l=f,f=s(o,30),o=i,i=y}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],f),this.h[3]=a(this.h[3],l),this.h[4]=a(this.h[4],d)},l.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},799:(e,t,r)=>{"use strict";var n=r(6436),i=r(9344);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},9344:(e,t,r)=>{"use strict";var n=r(6436),i=r(5772),o=r(7038),s=r(9746),a=n.sum32,u=n.sum32_4,h=n.sum32_5,f=o.ch32,c=o.maj32,l=o.s0_256,d=o.s1_256,p=o.g0_256,y=o.g1_256,m=i.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}n.inherits(b,m),e.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=u(y(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],m=this.h[2],g=this.h[3],b=this.h[4],w=this.h[5],v=this.h[6],_=this.h[7];for(s(this.k.length===r.length),n=0;n<r.length;n++){var E=h(_,d(b),f(b,w,v),this.k[n],r[n]),S=a(l(i),c(i,o,m));_=v,v=w,w=b,b=a(g,E),g=m,m=o,o=i,i=a(E,S)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],m),this.h[3]=a(this.h[3],g),this.h[4]=a(this.h[4],b),this.h[5]=a(this.h[5],w),this.h[6]=a(this.h[6],v),this.h[7]=a(this.h[7],_)},b.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},772:(e,t,r)=>{"use strict";var n=r(6436),i=r(5900);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},5900:(e,t,r)=>{"use strict";var n=r(6436),i=r(5772),o=r(9746),s=n.rotr64_hi,a=n.rotr64_lo,u=n.shr64_hi,h=n.shr64_lo,f=n.sum64,c=n.sum64_hi,l=n.sum64_lo,d=n.sum64_4_hi,p=n.sum64_4_lo,y=n.sum64_5_hi,m=n.sum64_5_lo,g=i.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function w(){if(!(this instanceof w))return new w;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}function v(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function _(e,t,r,n,i,o){var s=t&n^~t&o;return s<0&&(s+=4294967296),s}function E(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function S(e,t,r,n,i,o){var s=t&n^t&o^n&o;return s<0&&(s+=4294967296),s}function M(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}function A(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}function k(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}function x(e,t){var r=s(e,t,1)^s(e,t,8)^u(e,t,7);return r<0&&(r+=4294967296),r}function T(e,t){var r=a(e,t,1)^a(e,t,8)^h(e,t,7);return r<0&&(r+=4294967296),r}function P(e,t){var r=a(e,t,19)^a(t,e,29)^h(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(w,g),e.exports=w,w.blockSize=1024,w.outSize=512,w.hmacStrength=192,w.padLength=128,w.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=(m=r[n-4],g=r[n-3],b=void 0,(b=s(m,g,19)^s(g,m,29)^u(m,g,6))<0&&(b+=4294967296),b),o=P(r[n-4],r[n-3]),a=r[n-14],h=r[n-13],f=x(r[n-30],r[n-29]),c=T(r[n-30],r[n-29]),l=r[n-32],y=r[n-31];r[n]=d(i,o,a,h,f,c,l,y),r[n+1]=p(i,o,a,h,f,c,l,y)}var m,g,b},w.prototype._update=function(e,t){this._prepareBlock(e,t);var r,n,i,a=this.W,u=this.h[0],h=this.h[1],d=this.h[2],p=this.h[3],g=this.h[4],b=this.h[5],w=this.h[6],x=this.h[7],T=this.h[8],P=this.h[9],I=this.h[10],R=this.h[11],O=this.h[12],B=this.h[13],C=this.h[14],L=this.h[15];o(this.k.length===a.length);for(var j=0;j<a.length;j+=2){var D=C,N=L,U=(i=void 0,(i=s(r=T,n=P,14)^s(r,n,18)^s(n,r,9))<0&&(i+=4294967296),i),H=k(T,P),z=v(T,0,I,0,O),F=_(0,P,0,R,0,B),q=this.k[j],$=this.k[j+1],K=a[j],V=a[j+1],W=y(D,N,U,H,z,F,q,$,K,V),G=m(D,N,U,H,z,F,q,$,K,V);D=M(u,h),N=A(u,h),U=E(u,0,d,0,g),H=S(0,h,0,p,0,b);var Y=c(D,N,U,H),J=l(D,N,U,H);C=O,L=B,O=I,B=R,I=T,R=P,T=c(w,x,W,G),P=l(x,x,W,G),w=g,x=b,g=d,b=p,d=u,p=h,u=c(W,G,Y,J),h=l(W,G,Y,J)}f(this.h,0,u,h),f(this.h,2,d,p),f(this.h,4,g,b),f(this.h,6,w,x),f(this.h,8,T,P),f(this.h,10,I,R),f(this.h,12,O,B),f(this.h,14,C,L)},w.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},7038:(e,t,r)=>{"use strict";var n=r(6436).rotr32;function i(e,t,r){return e&t^~e&r}function o(e,t,r){return e&t^e&r^t&r}function s(e,t,r){return e^t^r}t.ft_1=function(e,t,r,n){return 0===e?i(t,r,n):1===e||3===e?s(t,r,n):2===e?o(t,r,n):void 0},t.ch32=i,t.maj32=o,t.p32=s,t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},6436:(e,t,r)=>{"use strict";var n=r(9746),i=r(5717);function o(e,t){return 55296==(64512&e.charCodeAt(t))&&!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1))}function s(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function u(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):o(e,i)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=a(e[r].toString(16));return t},t.htonl=s,t.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=s(i)),r+=u(i.toString(16))}return r},t.zero2=a,t.zero8=u,t.join32=function(e,t,r,i){var o=r-t;n(o%4==0);for(var s=new Array(o/4),a=0,u=t;a<s.length;a++,u+=4){var h;h="big"===i?e[u]<<24|e[u+1]<<16|e[u+2]<<8|e[u+3]:e[u+3]<<24|e[u+2]<<16|e[u+1]<<8|e[u],s[a]=h>>>0}return s},t.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},t.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},t.sum64=function(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,s=(o<n?1:0)+r+i;e[t]=s>>>0,e[t+1]=o},t.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,n){return t+n>>>0},t.sum64_4_hi=function(e,t,r,n,i,o,s,a){var u=0,h=t;return u+=(h=h+n>>>0)<t?1:0,u+=(h=h+o>>>0)<o?1:0,e+r+i+s+(u+=(h=h+a>>>0)<a?1:0)>>>0},t.sum64_4_lo=function(e,t,r,n,i,o,s,a){return t+n+o+a>>>0},t.sum64_5_hi=function(e,t,r,n,i,o,s,a,u,h){var f=0,c=t;return f+=(c=c+n>>>0)<t?1:0,f+=(c=c+o>>>0)<o?1:0,f+=(c=c+a>>>0)<a?1:0,e+r+i+s+u+(f+=(c=c+h>>>0)<h?1:0)>>>0},t.sum64_5_lo=function(e,t,r,n,i,o,s,a,u,h){return t+n+o+a+h>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},2156:(e,t,r)=>{"use strict";var n=r(3715),i=r(4504),o=r(9746);function s(e){if(!(this instanceof s))return new s(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),r=i.toArray(e.nonce,e.nonceEnc||"hex"),n=i.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}e.exports=s,s.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},s.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=i.toArray(e,t),r=i.toArray(r,n),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},s.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(r),this._reseed++,i.encode(s,t)}},645:(e,t)=>{t.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,h=u>>1,f=-7,c=r?i-1:0,l=r?-1:1,d=e[t+c];for(c+=l,o=d&(1<<-f)-1,d>>=-f,f+=a;f>0;o=256*o+e[t+c],c+=l,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=256*s+e[t+c],c+=l,f-=8);if(0===o)o=1-h;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=h}return(d?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,u,h=8*o-i-1,f=(1<<h)-1,c=f>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+c>=1?l/u:l*Math.pow(2,1-c))*u>=2&&(s++,u/=2),s+c>=f?(a=0,s=f):s+c>=1?(a=(t*u-1)*Math.pow(2,i),s+=c):(a=t*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;e[r+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,h+=i;h>0;e[r+d]=255&s,d+=p,s/=256,h-=8);e[r+d-p]|=128*y}},5717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},6715:e=>{"use strict";function t(e,t){for(const r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}e.exports=function(e,r,n){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");n||(n={}),"object"==typeof r&&(n=r,r=""),r&&(n.code=r);try{return t(e,n)}catch(r){n.message=e.message,n.stack=e.stack;const i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(e)),t(new i,n)}}},3228:e=>{"use strict";function t(e,t){for(const r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}e.exports=function(e,r,n){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");n||(n={}),"object"==typeof r&&(n=r,r=""),r&&(n.code=r);try{return t(e,n)}catch(r){n.message=e.message,n.stack=e.stack;const i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(e)),t(new i,n)}}},1094:(e,t,r)=>{var n;!function(){"use strict";var i="input is invalid type",o="object"==typeof window,s=o?window:{};s.JS_SHA3_NO_WINDOW&&(o=!1);var a=!o&&"object"==typeof self;!s.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?s=r.g:a&&(s=self);var u=!s.JS_SHA3_NO_COMMON_JS&&e.exports,h=r.amdO,f=!s.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,c="0123456789abcdef".split(""),l=[4,1024,262144,67108864],d=[0,8,16,24],p=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],y=[224,256,384,512],m=[128,256],g=["hex","buffer","arrayBuffer","array","digest"],b={128:168,256:136};!s.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!f||!s.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var w=function(e,t,r){return function(n){return new C(e,t,e).update(n)[r]()}},v=function(e,t,r){return function(n,i){return new C(e,t,i).update(n)[r]()}},_=function(e,t,r){return function(t,n,i,o){return k["cshake"+e].update(t,n,i,o)[r]()}},E=function(e,t,r){return function(t,n,i,o){return k["kmac"+e].update(t,n,i,o)[r]()}},S=function(e,t,r,n){for(var i=0;i<g.length;++i){var o=g[i];e[o]=t(r,n,o)}return e},M=function(e,t){var r=w(e,t,"hex");return r.create=function(){return new C(e,t,e)},r.update=function(e){return r.create().update(e)},S(r,w,e,t)},A=[{name:"keccak",padding:[1,256,65536,16777216],bits:y,createMethod:M},{name:"sha3",padding:[6,1536,393216,100663296],bits:y,createMethod:M},{name:"shake",padding:[31,7936,2031616,520093696],bits:m,createMethod:function(e,t){var r=v(e,t,"hex");return r.create=function(r){return new C(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},S(r,v,e,t)}},{name:"cshake",padding:l,bits:m,createMethod:function(e,t){var r=b[e],n=_(e,0,"hex");return n.create=function(n,i,o){return i||o?new C(e,t,n).bytepad([i,o],r):k["shake"+e].create(n)},n.update=function(e,t,r,i){return n.create(t,r,i).update(e)},S(n,_,e,t)}},{name:"kmac",padding:l,bits:m,createMethod:function(e,t){var r=b[e],n=E(e,0,"hex");return n.create=function(n,i,o){return new L(e,t,i).bytepad(["KMAC",o],r).bytepad([n],r)},n.update=function(e,t,r,i){return n.create(e,r,i).update(t)},S(n,E,e,t)}}],k={},x=[],T=0;T<A.length;++T)for(var P=A[T],I=P.bits,R=0;R<I.length;++R){var O=P.name+"_"+I[R];if(x.push(O),k[O]=P.createMethod(I[R],P.padding),"sha3"!==P.name){var B=P.name+I[R];x.push(B),k[B]=k[O]}}function C(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function L(e,t,r){C.call(this,e,t,r)}C.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(i);if(null===e)throw new Error(i);if(f&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||f&&ArrayBuffer.isView(e)))throw new Error(i);t=!0}for(var n,o,s=this.blocks,a=this.byteCount,u=e.length,h=this.blockCount,c=0,l=this.s;c<u;){if(this.reset)for(this.reset=!1,s[0]=this.block,n=1;n<h+1;++n)s[n]=0;if(t)for(n=this.start;c<u&&n<a;++c)s[n>>2]|=e[c]<<d[3&n++];else for(n=this.start;c<u&&n<a;++c)(o=e.charCodeAt(c))<128?s[n>>2]|=o<<d[3&n++]:o<2048?(s[n>>2]|=(192|o>>6)<<d[3&n++],s[n>>2]|=(128|63&o)<<d[3&n++]):o<55296||o>=57344?(s[n>>2]|=(224|o>>12)<<d[3&n++],s[n>>2]|=(128|o>>6&63)<<d[3&n++],s[n>>2]|=(128|63&o)<<d[3&n++]):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++c)),s[n>>2]|=(240|o>>18)<<d[3&n++],s[n>>2]|=(128|o>>12&63)<<d[3&n++],s[n>>2]|=(128|o>>6&63)<<d[3&n++],s[n>>2]|=(128|63&o)<<d[3&n++]);if(this.lastByteIndex=n,n>=a){for(this.start=n-a,this.block=s[h],n=0;n<h;++n)l[n]^=s[n];j(l),this.reset=!0}else this.start=n}return this},C.prototype.encode=function(e,t){var r=255&e,n=1,i=[r];for(r=255&(e>>=8);r>0;)i.unshift(r),r=255&(e>>=8),++n;return t?i.push(n):i.unshift(n),this.update(i),i.length},C.prototype.encodeString=function(e){var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(i);if(null===e)throw new Error(i);if(f&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||f&&ArrayBuffer.isView(e)))throw new Error(i);t=!0}var n=0,o=e.length;if(t)n=o;else for(var s=0;s<e.length;++s){var a=e.charCodeAt(s);a<128?n+=1:a<2048?n+=2:a<55296||a>=57344?n+=3:(a=65536+((1023&a)<<10|1023&e.charCodeAt(++s)),n+=4)}return n+=this.encode(8*n),this.update(e),n},C.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var i=t-r%t,o=[];return o.length=i,this.update(o),this},C.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];j(n)}},C.prototype.toString=C.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a="";s<n;){for(o=0;o<t&&s<n;++o,++s)e=r[o],a+=c[e>>4&15]+c[15&e]+c[e>>12&15]+c[e>>8&15]+c[e>>20&15]+c[e>>16&15]+c[e>>28&15]+c[e>>24&15];s%t==0&&(j(r),o=0)}return i&&(e=r[o],a+=c[e>>4&15]+c[15&e],i>1&&(a+=c[e>>12&15]+c[e>>8&15]),i>2&&(a+=c[e>>20&15]+c[e>>16&15])),a},C.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a=this.outputBits>>3;e=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var u=new Uint32Array(e);s<n;){for(o=0;o<t&&s<n;++o,++s)u[s]=r[o];s%t==0&&j(r)}return i&&(u[o]=r[o],e=e.slice(0,a)),e},C.prototype.buffer=C.prototype.arrayBuffer,C.prototype.digest=C.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,s=0,a=0,u=[];a<i;){for(s=0;s<r&&a<i;++s,++a)e=a<<2,t=n[s],u[e]=255&t,u[e+1]=t>>8&255,u[e+2]=t>>16&255,u[e+3]=t>>24&255;a%r==0&&j(n)}return o&&(e=a<<2,t=n[s],u[e]=255&t,o>1&&(u[e+1]=t>>8&255),o>2&&(u[e+2]=t>>16&255)),u},L.prototype=new C,L.prototype.finalize=function(){return this.encode(this.outputBits,!0),C.prototype.finalize.call(this)};var j=function(e){var t,r,n,i,o,s,a,u,h,f,c,l,d,y,m,g,b,w,v,_,E,S,M,A,k,x,T,P,I,R,O,B,C,L,j,D,N,U,H,z,F,q,$,K,V,W,G,Y,J,Z,X,Q,ee,te,re,ne,ie,oe,se,ae,ue,he,fe;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],o=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],a=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],h=e[5]^e[15]^e[25]^e[35]^e[45],f=e[6]^e[16]^e[26]^e[36]^e[46],c=e[7]^e[17]^e[27]^e[37]^e[47],t=(l=e[8]^e[18]^e[28]^e[38]^e[48])^(s<<1|a>>>31),r=(d=e[9]^e[19]^e[29]^e[39]^e[49])^(a<<1|s>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=i^(u<<1|h>>>31),r=o^(h<<1|u>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=s^(f<<1|c>>>31),r=a^(c<<1|f>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=u^(l<<1|d>>>31),r=h^(d<<1|l>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=f^(i<<1|o>>>31),r=c^(o<<1|i>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,y=e[0],m=e[1],W=e[11]<<4|e[10]>>>28,G=e[10]<<4|e[11]>>>28,P=e[20]<<3|e[21]>>>29,I=e[21]<<3|e[20]>>>29,ae=e[31]<<9|e[30]>>>23,ue=e[30]<<9|e[31]>>>23,q=e[40]<<18|e[41]>>>14,$=e[41]<<18|e[40]>>>14,L=e[2]<<1|e[3]>>>31,j=e[3]<<1|e[2]>>>31,g=e[13]<<12|e[12]>>>20,b=e[12]<<12|e[13]>>>20,Y=e[22]<<10|e[23]>>>22,J=e[23]<<10|e[22]>>>22,R=e[33]<<13|e[32]>>>19,O=e[32]<<13|e[33]>>>19,he=e[42]<<2|e[43]>>>30,fe=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,D=e[14]<<6|e[15]>>>26,N=e[15]<<6|e[14]>>>26,w=e[25]<<11|e[24]>>>21,v=e[24]<<11|e[25]>>>21,Z=e[34]<<15|e[35]>>>17,X=e[35]<<15|e[34]>>>17,B=e[45]<<29|e[44]>>>3,C=e[44]<<29|e[45]>>>3,A=e[6]<<28|e[7]>>>4,k=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,U=e[26]<<25|e[27]>>>7,H=e[27]<<25|e[26]>>>7,_=e[36]<<21|e[37]>>>11,E=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,K=e[8]<<27|e[9]>>>5,V=e[9]<<27|e[8]>>>5,x=e[18]<<20|e[19]>>>12,T=e[19]<<20|e[18]>>>12,oe=e[29]<<7|e[28]>>>25,se=e[28]<<7|e[29]>>>25,z=e[38]<<8|e[39]>>>24,F=e[39]<<8|e[38]>>>24,S=e[48]<<14|e[49]>>>18,M=e[49]<<14|e[48]>>>18,e[0]=y^~g&w,e[1]=m^~b&v,e[10]=A^~x&P,e[11]=k^~T&I,e[20]=L^~D&U,e[21]=j^~N&H,e[30]=K^~W&Y,e[31]=V^~G&J,e[40]=te^~ne&oe,e[41]=re^~ie&se,e[2]=g^~w&_,e[3]=b^~v&E,e[12]=x^~P&R,e[13]=T^~I&O,e[22]=D^~U&z,e[23]=N^~H&F,e[32]=W^~Y&Z,e[33]=G^~J&X,e[42]=ne^~oe&ae,e[43]=ie^~se&ue,e[4]=w^~_&S,e[5]=v^~E&M,e[14]=P^~R&B,e[15]=I^~O&C,e[24]=U^~z&q,e[25]=H^~F&$,e[34]=Y^~Z&Q,e[35]=J^~X&ee,e[44]=oe^~ae&he,e[45]=se^~ue&fe,e[6]=_^~S&y,e[7]=E^~M&m,e[16]=R^~B&A,e[17]=O^~C&k,e[26]=z^~q&L,e[27]=F^~$&j,e[36]=Z^~Q&K,e[37]=X^~ee&V,e[46]=ae^~he&te,e[47]=ue^~fe&re,e[8]=S^~y&g,e[9]=M^~m&b,e[18]=B^~A&x,e[19]=C^~k&T,e[28]=q^~L&D,e[29]=$^~j&N,e[38]=Q^~K&W,e[39]=ee^~V&G,e[48]=he^~te&ne,e[49]=fe^~re&ie,e[0]^=p[n],e[1]^=p[n+1]};if(u)e.exports=k;else{for(T=0;T<x.length;++T)s[x[T]]=k[x[T]];h&&(void 0===(n=function(){return k}.call(t,r,t,e))||(e.exports=n))}}()},2318:(e,t,r)=>{"use strict";var n=r(5717),i=r(3349),o=r(9509).Buffer,s=new Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(e,t){return e<<t|e>>>32-t}function h(e,t,r,n,i,o,s){return u(e+(t&r|~t&n)+i+o|0,s)+t|0}function f(e,t,r,n,i,o,s){return u(e+(t&n|r&~n)+i+o|0,s)+t|0}function c(e,t,r,n,i,o,s){return u(e+(t^r^n)+i+o|0,s)+t|0}function l(e,t,r,n,i,o,s){return u(e+(r^(t|~n))+i+o|0,s)+t|0}n(a,i),a.prototype._update=function(){for(var e=s,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,o=this._d;r=h(r,n,i,o,e[0],3614090360,7),o=h(o,r,n,i,e[1],3905402710,12),i=h(i,o,r,n,e[2],606105819,17),n=h(n,i,o,r,e[3],3250441966,22),r=h(r,n,i,o,e[4],4118548399,7),o=h(o,r,n,i,e[5],1200080426,12),i=h(i,o,r,n,e[6],2821735955,17),n=h(n,i,o,r,e[7],4249261313,22),r=h(r,n,i,o,e[8],1770035416,7),o=h(o,r,n,i,e[9],2336552879,12),i=h(i,o,r,n,e[10],4294925233,17),n=h(n,i,o,r,e[11],2304563134,22),r=h(r,n,i,o,e[12],1804603682,7),o=h(o,r,n,i,e[13],4254626195,12),i=h(i,o,r,n,e[14],2792965006,17),r=f(r,n=h(n,i,o,r,e[15],1236535329,22),i,o,e[1],4129170786,5),o=f(o,r,n,i,e[6],3225465664,9),i=f(i,o,r,n,e[11],643717713,14),n=f(n,i,o,r,e[0],3921069994,20),r=f(r,n,i,o,e[5],3593408605,5),o=f(o,r,n,i,e[10],38016083,9),i=f(i,o,r,n,e[15],3634488961,14),n=f(n,i,o,r,e[4],3889429448,20),r=f(r,n,i,o,e[9],568446438,5),o=f(o,r,n,i,e[14],3275163606,9),i=f(i,o,r,n,e[3],4107603335,14),n=f(n,i,o,r,e[8],1163531501,20),r=f(r,n,i,o,e[13],2850285829,5),o=f(o,r,n,i,e[2],4243563512,9),i=f(i,o,r,n,e[7],1735328473,14),r=c(r,n=f(n,i,o,r,e[12],2368359562,20),i,o,e[5],4294588738,4),o=c(o,r,n,i,e[8],2272392833,11),i=c(i,o,r,n,e[11],1839030562,16),n=c(n,i,o,r,e[14],4259657740,23),r=c(r,n,i,o,e[1],2763975236,4),o=c(o,r,n,i,e[4],1272893353,11),i=c(i,o,r,n,e[7],4139469664,16),n=c(n,i,o,r,e[10],3200236656,23),r=c(r,n,i,o,e[13],681279174,4),o=c(o,r,n,i,e[0],3936430074,11),i=c(i,o,r,n,e[3],3572445317,16),n=c(n,i,o,r,e[6],76029189,23),r=c(r,n,i,o,e[9],3654602809,4),o=c(o,r,n,i,e[12],3873151461,11),i=c(i,o,r,n,e[15],530742520,16),r=l(r,n=c(n,i,o,r,e[2],3299628645,23),i,o,e[0],4096336452,6),o=l(o,r,n,i,e[7],1126891415,10),i=l(i,o,r,n,e[14],2878612391,15),n=l(n,i,o,r,e[5],4237533241,21),r=l(r,n,i,o,e[12],1700485571,6),o=l(o,r,n,i,e[3],2399980690,10),i=l(i,o,r,n,e[10],4293915773,15),n=l(n,i,o,r,e[1],2240044497,21),r=l(r,n,i,o,e[8],1873313359,6),o=l(o,r,n,i,e[15],4264355552,10),i=l(i,o,r,n,e[6],2734768916,15),n=l(n,i,o,r,e[13],1309151649,21),r=l(r,n,i,o,e[4],4149444226,6),o=l(o,r,n,i,e[11],3174756917,10),i=l(i,o,r,n,e[2],718787259,15),n=l(n,i,o,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=o.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=a},942:function(e,t,r){"use strict";const n=r(9727),{hasOwnProperty:i}=Object.prototype,{propertyIsEnumerable:o}=Object,s=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0}),a=this,u={concatArrays:!1,ignoreUndefined:!1},h=e=>{const t=[];for(const r in e)i.call(e,r)&&t.push(r);if(Object.getOwnPropertySymbols){const r=Object.getOwnPropertySymbols(e);for(const n of r)o.call(e,n)&&t.push(n)}return t};function f(e){return Array.isArray(e)?function(e){const t=e.slice(0,0);return h(e).forEach((r=>{s(t,r,f(e[r]))})),t}(e):n(e)?function(e){const t=null===Object.getPrototypeOf(e)?Object.create(null):{};return h(e).forEach((r=>{s(t,r,f(e[r]))})),t}(e):e}const c=(e,t,r,n)=>(r.forEach((r=>{void 0===t[r]&&n.ignoreUndefined||(r in e&&e[r]!==Object.getPrototypeOf(e)?s(e,r,l(e[r],t[r],n)):s(e,r,f(t[r])))})),e);function l(e,t,r){return r.concatArrays&&Array.isArray(e)&&Array.isArray(t)?((e,t,r)=>{let n=e.slice(0,0),o=0;return[e,t].forEach((t=>{const a=[];for(let r=0;r<t.length;r++)i.call(t,r)&&(a.push(String(r)),s(n,o++,t===e?t[r]:f(t[r])));n=c(n,t,h(t).filter((e=>!a.includes(e))),r)})),n})(e,t,r):n(t)&&n(e)?c(e,t,h(t),r):f(t)}e.exports=function(...e){const t=l(f(u),this!==a&&this||{},u);let r={_:{}};for(const i of e)if(void 0!==i){if(!n(i))throw new TypeError("`"+i+"` is not an Option Object");r=l(r,{_:i},t)}return r._}},9727:e=>{"use strict";e.exports=e=>{if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}},9746:e=>{function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},4504:(e,t)=>{"use strict";var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16));else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}},469:(e,t,r)=>{e.exports=r(8027)},8027:function(e,t){!function(r,n){"use strict";var i={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function o(e){if(!Array.isArray(e)&&!ArrayBuffer.isView(e))return!1;for(var t=0;t<e.length;t++)if(!Number.isInteger(e[t])||e[t]<0||e[t]>255)return!1;return!0}function s(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function a(e,t){return e<<t|e>>>32-t}function u(e){return e=s(e^=e>>>16,2246822507),(e=s(e^=e>>>13,3266489909))^e>>>16}function h(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]+t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]+t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]+t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]+t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function f(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]*t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]*t[3],r[1]+=r[2]>>>16,r[2]&=65535,r[2]+=e[3]*t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]*t[3],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[2]*t[2],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[3]*t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function c(e,t){return 32==(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function l(e,t){return 0==(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function d(e,t){return[e[0]^t[0],e[1]^t[1]]}function p(e){return e=d(e,[0,e[0]>>>1]),e=d(e=f(e,[4283543511,3981806797]),[0,e[0]>>>1]),d(e=f(e,[3301882366,444984403]),[0,e[0]>>>1])}i.x86.hash32=function(e,t){if(i.inputValidation&&!o(e))return n;t=t||0;for(var r=e.length%4,h=e.length-r,f=t,c=0,l=3432918353,d=461845907,p=0;p<h;p+=4)c=s(c=e[p]|e[p+1]<<8|e[p+2]<<16|e[p+3]<<24,l),c=s(c=a(c,15),d),f=s(f=a(f^=c,13),5)+3864292196;switch(c=0,r){case 3:c^=e[p+2]<<16;case 2:c^=e[p+1]<<8;case 1:c=s(c^=e[p],l),f^=c=s(c=a(c,15),d)}return(f=u(f^=e.length))>>>0},i.x86.hash128=function(e,t){if(i.inputValidation&&!o(e))return n;t=t||0;for(var r=e.length%16,h=e.length-r,f=t,c=t,l=t,d=t,p=0,y=0,m=0,g=0,b=597399067,w=2869860233,v=951274213,_=2716044179,E=0;E<h;E+=16)p=e[E]|e[E+1]<<8|e[E+2]<<16|e[E+3]<<24,y=e[E+4]|e[E+5]<<8|e[E+6]<<16|e[E+7]<<24,m=e[E+8]|e[E+9]<<8|e[E+10]<<16|e[E+11]<<24,g=e[E+12]|e[E+13]<<8|e[E+14]<<16|e[E+15]<<24,p=a(p=s(p,b),15),f=a(f^=p=s(p,w),19),f=s(f+=c,5)+1444728091,y=a(y=s(y,w),16),c=a(c^=y=s(y,v),17),c=s(c+=l,5)+197830471,m=a(m=s(m,v),17),l=a(l^=m=s(m,_),15),l=s(l+=d,5)+2530024501,g=a(g=s(g,_),18),d=a(d^=g=s(g,b),13),d=s(d+=f,5)+850148119;switch(p=0,y=0,m=0,g=0,r){case 15:g^=e[E+14]<<16;case 14:g^=e[E+13]<<8;case 13:g=s(g^=e[E+12],_),d^=g=s(g=a(g,18),b);case 12:m^=e[E+11]<<24;case 11:m^=e[E+10]<<16;case 10:m^=e[E+9]<<8;case 9:m=s(m^=e[E+8],v),l^=m=s(m=a(m,17),_);case 8:y^=e[E+7]<<24;case 7:y^=e[E+6]<<16;case 6:y^=e[E+5]<<8;case 5:y=s(y^=e[E+4],w),c^=y=s(y=a(y,16),v);case 4:p^=e[E+3]<<24;case 3:p^=e[E+2]<<16;case 2:p^=e[E+1]<<8;case 1:p=s(p^=e[E],b),f^=p=s(p=a(p,15),w)}return f^=e.length,f+=c^=e.length,f+=l^=e.length,c+=f+=d^=e.length,l+=f,d+=f,f=u(f),f+=c=u(c),f+=l=u(l),c+=f+=d=u(d),l+=f,d+=f,("00000000"+(f>>>0).toString(16)).slice(-8)+("00000000"+(c>>>0).toString(16)).slice(-8)+("00000000"+(l>>>0).toString(16)).slice(-8)+("00000000"+(d>>>0).toString(16)).slice(-8)},i.x64.hash128=function(e,t){if(i.inputValidation&&!o(e))return n;t=t||0;for(var r=e.length%16,s=e.length-r,a=[0,t],u=[0,t],y=[0,0],m=[0,0],g=[2277735313,289559509],b=[1291169091,658871167],w=0;w<s;w+=16)y=[e[w+4]|e[w+5]<<8|e[w+6]<<16|e[w+7]<<24,e[w]|e[w+1]<<8|e[w+2]<<16|e[w+3]<<24],m=[e[w+12]|e[w+13]<<8|e[w+14]<<16|e[w+15]<<24,e[w+8]|e[w+9]<<8|e[w+10]<<16|e[w+11]<<24],y=c(y=f(y,g),31),a=h(a=c(a=d(a,y=f(y,b)),27),u),a=h(f(a,[0,5]),[0,1390208809]),m=c(m=f(m,b),33),u=h(u=c(u=d(u,m=f(m,g)),31),a),u=h(f(u,[0,5]),[0,944331445]);switch(y=[0,0],m=[0,0],r){case 15:m=d(m,l([0,e[w+14]],48));case 14:m=d(m,l([0,e[w+13]],40));case 13:m=d(m,l([0,e[w+12]],32));case 12:m=d(m,l([0,e[w+11]],24));case 11:m=d(m,l([0,e[w+10]],16));case 10:m=d(m,l([0,e[w+9]],8));case 9:m=f(m=d(m,[0,e[w+8]]),b),u=d(u,m=f(m=c(m,33),g));case 8:y=d(y,l([0,e[w+7]],56));case 7:y=d(y,l([0,e[w+6]],48));case 6:y=d(y,l([0,e[w+5]],40));case 5:y=d(y,l([0,e[w+4]],32));case 4:y=d(y,l([0,e[w+3]],24));case 3:y=d(y,l([0,e[w+2]],16));case 2:y=d(y,l([0,e[w+1]],8));case 1:y=f(y=d(y,[0,e[w]]),g),a=d(a,y=f(y=c(y,31),b))}return a=h(a=d(a,[0,e.length]),u=d(u,[0,e.length])),u=h(u,a),a=h(a=p(a),u=p(u)),u=h(u,a),("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)+("00000000"+(u[0]>>>0).toString(16)).slice(-8)+("00000000"+(u[1]>>>0).toString(16)).slice(-8)},e.exports&&(t=e.exports=i),t.murmurHash3=i}()},2100:(e,t,r)=>{"use strict";e.exports=r(9482)},9482:(e,t,r)=>{"use strict";var n=t;function i(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(1173),n.BufferWriter=r(3155),n.Reader=r(1408),n.BufferReader=r(593),n.util=r(9693),n.rpc=r(5994),n.roots=r(5054),n.configure=i,i()},1408:(e,t,r)=>{"use strict";e.exports=u;var n,i=r(9693),o=i.LongBits,s=i.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function u(e){this.buf=e,this.pos=0,this.len=e.length}var h,f="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new u(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new u(e);throw Error("illegal buffer")},c=function(){return i.Buffer?function(e){return(u.create=function(e){return i.Buffer.isBuffer(e)?new n(e):f(e)})(e)}:f};function l(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function d(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw a(this,8);return new o(d(this.buf,this.pos+=4),d(this.buf,this.pos+=4))}u.create=c(),u.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,u.prototype.uint32=(h=4294967295,function(){if(h=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return h;if(h=(h|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return h;if(h=(h|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return h;if(h=(h|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return h;if(h=(h|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return h;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return h}),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return d(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|d(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},u.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},u.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw a(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},u.prototype.string=function(){var e=this.bytes();return s.read(e,0,e.length)},u.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},u._configure=function(e){n=e,u.create=c(),n._configure();var t=i.Long?"toLong":"toNumber";i.merge(u.prototype,{int64:function(){return l.call(this)[t](!1)},uint64:function(){return l.call(this)[t](!0)},sint64:function(){return l.call(this).zzDecode()[t](!1)},fixed64:function(){return p.call(this)[t](!0)},sfixed64:function(){return p.call(this)[t](!1)}})}},593:(e,t,r)=>{"use strict";e.exports=o;var n=r(1408);(o.prototype=Object.create(n.prototype)).constructor=o;var i=r(9693);function o(e){n.call(this,e)}o._configure=function(){i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},5054:e=>{"use strict";e.exports={}},5994:(e,t,r)=>{"use strict";t.Service=r(7948)},7948:(e,t,r)=>{"use strict";e.exports=i;var n=r(9693);function i(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(i.prototype=Object.create(n.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,r,i,o,s){if(!o)throw TypeError("request must be specified");var a=this;if(!s)return n.asPromise(e,a,t,r,i,o);if(a.rpcImpl)try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,r){if(e)return a.emit("error",e,t),s(e);if(null!==r){if(!(r instanceof i))try{r=i[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return a.emit("error",e,t),s(e)}return a.emit("data",r,t),s(null,r)}a.end(!0)}))}catch(e){return a.emit("error",e,t),void setTimeout((function(){s(e)}),0)}else setTimeout((function(){s(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(e,t,r)=>{"use strict";e.exports=i;var n=r(9693);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var s=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new i(r,n)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(n.isString(e)){if(!n.Long)return i.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;i.fromHash=function(e){return e===s?o:new i((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},9693:function(e,t,r){"use strict";var n=t;function i(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)void 0!==e[n[i]]&&r||(e[n[i]]=t[n[i]]);return e}function o(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&i(this,r)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:()=>e,set:void 0,enumerable:!1,configurable:!0},toString:{value(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}n.asPromise=r(4537),n.base64=r(7419),n.EventEmitter=r(9211),n.float=r(945),n.inquire=r(7199),n.utf8=r(4997),n.pool=r(6662),n.LongBits=r(1945),n.isNode=Boolean(void 0!==r.g&&r.g&&r.g.process&&r.g.process.versions&&r.g.process.versions.node),n.global=n.isNode&&r.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},n.merge=i,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=o,n.ProtocolError=o("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}},1173:(e,t,r)=>{"use strict";e.exports=c;var n,i=r(9693),o=i.LongBits,s=i.base64,a=i.utf8;function u(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function h(){}function f(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function c(){this.len=0,this.head=new u(h,0,0),this.tail=this.head,this.states=null}var l=function(){return i.Buffer?function(){return(c.create=function(){return new n})()}:function(){return new c}};function d(e,t,r){t[r]=255&e}function p(e,t){this.len=e,this.next=void 0,this.val=t}function y(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function m(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}c.create=l(),c.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(c.alloc=i.pool(c.alloc,i.Array.prototype.subarray)),c.prototype._push=function(e,t,r){return this.tail=this.tail.next=new u(e,t,r),this.len+=t,this},p.prototype=Object.create(u.prototype),p.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},c.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new p((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},c.prototype.int32=function(e){return e<0?this._push(y,10,o.fromNumber(e)):this.uint32(e)},c.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},c.prototype.uint64=function(e){var t=o.from(e);return this._push(y,t.length(),t)},c.prototype.int64=c.prototype.uint64,c.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(y,t.length(),t)},c.prototype.bool=function(e){return this._push(d,1,e?1:0)},c.prototype.fixed32=function(e){return this._push(m,4,e>>>0)},c.prototype.sfixed32=c.prototype.fixed32,c.prototype.fixed64=function(e){var t=o.from(e);return this._push(m,4,t.lo)._push(m,4,t.hi)},c.prototype.sfixed64=c.prototype.fixed64,c.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},c.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var g=i.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};c.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(d,1,0);if(i.isString(e)){var r=c.alloc(t=s.length(e));s.decode(e,r,0),e=r}return this.uint32(t)._push(g,t,e)},c.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(d,1,0)},c.prototype.fork=function(){return this.states=new f(this),this.head=this.tail=new u(h,0,0),this.len=0,this},c.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(h,0,0),this.len=0),this},c.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},c.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},c._configure=function(e){n=e,c.create=l(),n._configure()}},3155:(e,t,r)=>{"use strict";e.exports=o;var n=r(1173);(o.prototype=Object.create(n.prototype)).constructor=o;var i=r(9693);function o(){n.call(this)}function s(e,t,r){e.length<40?i.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}o._configure=function(){o.alloc=i._Buffer_allocUnsafe,o.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},o.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(s,t,e),this},o._configure()},3286:(e,t,r)=>{const{instantiate:n}=r(1344);function i(e={}){if(!i.supported)return null;var t=new Uint8Array([0,97,115,109,1,0,0,0,1,78,14,96,2,127,126,0,96,1,127,1,126,96,2,127,127,0,96,1,127,1,127,96,1,127,0,96,2,127,127,1,127,96,3,127,127,127,1,127,96,0,0,96,3,127,127,127,0,96,0,1,127,96,4,127,127,127,127,0,96,5,127,127,127,127,127,1,127,96,1,126,1,127,96,2,126,126,1,126,2,13,1,3,101,110,118,5,97,98,111,114,116,0,10,3,54,53,2,2,8,9,3,5,2,8,6,5,3,4,2,6,9,12,13,2,5,11,3,2,3,2,3,2,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,6,7,7,4,4,5,3,1,0,1,6,47,9,127,1,65,0,11,127,1,65,0,11,127,0,65,3,11,127,0,65,4,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,0,65,240,2,11,127,0,65,6,11,7,240,5,41,6,109,101,109,111,114,121,2,0,7,95,95,97,108,108,111,99,0,10,8,95,95,114,101,116,97,105,110,0,11,9,95,95,114,101,108,101,97,115,101,0,12,9,95,95,99,111,108,108,101,99,116,0,51,11,95,95,114,116,116,105,95,98,97,115,101,3,7,13,73,110,116,51,50,65,114,114,97,121,95,73,68,3,2,13,85,105,110,116,56,65,114,114,97,121,95,73,68,3,3,6,100,101,103,114,101,101,0,16,3,109,111,100,0,17,5,82,97,98,105,110,3,8,16,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,0,21,16,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,0,22,21,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,23,21,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,24,14,82,97,98,105,110,35,103,101,116,58,119,112,111,115,0,25,14,82,97,98,105,110,35,115,101,116,58,119,112,111,115,0,26,15,82,97,98,105,110,35,103,101,116,58,99,111,117,110,116,0,27,15,82,97,98,105,110,35,115,101,116,58,99,111,117,110,116,0,28,13,82,97,98,105,110,35,103,101,116,58,112,111,115,0,29,13,82,97,98,105,110,35,115,101,116,58,112,111,115,0,30,15,82,97,98,105,110,35,103,101,116,58,115,116,97,114,116,0,31,15,82,97,98,105,110,35,115,101,116,58,115,116,97,114,116,0,32,16,82,97,98,105,110,35,103,101,116,58,100,105,103,101,115,116,0,33,16,82,97,98,105,110,35,115,101,116,58,100,105,103,101,115,116,0,34,21,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,35,21,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,36,22,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,37,22,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,38,31,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,39,31,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,40,20,82,97,98,105,110,35,103,101,116,58,112,111,108,121,110,111,109,105,97,108,0,41,20,82,97,98,105,110,35,115,101,116,58,112,111,108,121,110,111,109,105,97,108,0,42,17,82,97,98,105,110,35,103,101,116,58,109,105,110,115,105,122,101,0,43,17,82,97,98,105,110,35,115,101,116,58,109,105,110,115,105,122,101,0,44,17,82,97,98,105,110,35,103,101,116,58,109,97,120,115,105,122,101,0,45,17,82,97,98,105,110,35,115,101,116,58,109,97,120,115,105,122,101,0,46,14,82,97,98,105,110,35,103,101,116,58,109,97,115,107,0,47,14,82,97,98,105,110,35,115,101,116,58,109,97,115,107,0,48,17,82,97,98,105,110,35,99,111,110,115,116,114,117,99,116,111,114,0,20,17,82,97,98,105,110,35,102,105,110,103,101,114,112,114,105,110,116,0,49,8,1,50,10,165,31,53,199,1,1,4,127,32,1,40,2,0,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,3,65,4,107,118,65,16,115,33,4,32,3,65,7,107,11,33,3,32,1,40,2,20,33,2,32,1,40,2,16,34,5,4,64,32,5,32,2,54,2,20,11,32,2,4,64,32,2,32,5,54,2,16,11,32,1,32,0,32,4,32,3,65,4,116,106,65,2,116,106,40,2,96,70,4,64,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,2,54,2,96,32,2,69,4,64,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,65,127,115,113,34,1,54,2,4,32,1,69,4,64,32,0,32,0,40,2,0,65,1,32,3,116,65,127,115,113,54,2,0,11,11,11,11,226,2,1,6,127,32,1,40,2,0,33,3,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,34,5,65,1,113,4,64,32,3,65,124,113,65,16,106,32,5,65,124,113,106,34,2,65,240,255,255,255,3,73,4,64,32,0,32,4,16,1,32,1,32,2,32,3,65,3,113,114,34,3,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,33,5,11,11,32,3,65,2,113,4,64,32,1,65,4,107,40,2,0,34,2,40,2,0,34,6,65,124,113,65,16,106,32,3,65,124,113,106,34,7,65,240,255,255,255,3,73,4,64,32,0,32,2,16,1,32,2,32,7,32,6,65,3,113,114,34,3,54,2,0,32,2,33,1,11,11,32,4,32,5,65,2,114,54,2,0,32,4,65,4,107,32,1,54,2,0,32,0,32,3,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,2,65,4,107,118,65,16,115,33,4,32,2,65,7,107,11,34,3,65,4,116,32,4,106,65,2,116,106,40,2,96,33,2,32,1,65,0,54,2,16,32,1,32,2,54,2,20,32,2,4,64,32,2,32,1,54,2,16,11,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,1,54,2,96,32,0,32,0,40,2,0,65,1,32,3,116,114,54,2,0,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,114,54,2,4,11,119,1,1,127,32,2,2,127,32,0,40,2,160,12,34,2,4,64,32,2,32,1,65,16,107,70,4,64,32,2,40,2,0,33,3,32,1,65,16,107,33,1,11,11,32,1,11,107,34,2,65,48,73,4,64,15,11,32,1,32,3,65,2,113,32,2,65,32,107,65,1,114,114,54,2,0,32,1,65,0,54,2,16,32,1,65,0,54,2,20,32,1,32,2,106,65,16,107,34,2,65,2,54,2,0,32,0,32,2,54,2,160,12,32,0,32,1,16,2,11,155,1,1,3,127,35,0,34,0,69,4,64,65,1,63,0,34,0,74,4,127,65,1,32,0,107,64,0,65,0,72,5,65,0,11,4,64,0,11,65,176,3,34,0,65,0,54,2,0,65,208,15,65,0,54,2,0,3,64,32,1,65,23,73,4,64,32,1,65,2,116,65,176,3,106,65,0,54,2,4,65,0,33,2,3,64,32,2,65,16,73,4,64,32,1,65,4,116,32,2,106,65,2,116,65,176,3,106,65,0,54,2,96,32,2,65,1,106,33,2,12,1,11,11,32,1,65,1,106,33,1,12,1,11,11,65,176,3,65,224,15,63,0,65,16,116,16,3,65,176,3,36,0,11,32,0,11,45,0,32,0,65,240,255,255,255,3,79,4,64,65,32,65,224,0,65,201,3,65,29,16,0,0,11,32,0,65,15,106,65,112,113,34,0,65,16,32,0,65,16,75,27,11,169,1,1,1,127,32,0,32,1,65,128,2,73,4,127,32,1,65,4,118,33,1,65,0,5,32,1,65,248,255,255,255,1,73,4,64,32,1,65,1,65,27,32,1,103,107,116,106,65,1,107,33,1,11,32,1,65,31,32,1,103,107,34,2,65,4,107,118,65,16,115,33,1,32,2,65,7,107,11,34,2,65,2,116,106,40,2,4,65,127,32,1,116,113,34,1,4,127,32,0,32,1,104,32,2,65,4,116,106,65,2,116,106,40,2,96,5,32,0,40,2,0,65,127,32,2,65,1,106,116,113,34,1,4,127,32,0,32,0,32,1,104,34,0,65,2,116,106,40,2,4,104,32,0,65,4,116,106,65,2,116,106,40,2,96,5,65,0,11,11,11,111,1,1,127,63,0,34,2,32,1,65,248,255,255,255,1,73,4,127,32,1,65,1,65,27,32,1,103,107,116,65,1,107,106,5,32,1,11,65,16,32,0,40,2,160,12,32,2,65,16,116,65,16,107,71,116,106,65,255,255,3,106,65,128,128,124,113,65,16,118,34,1,32,2,32,1,74,27,64,0,65,0,72,4,64,32,1,64,0,65,0,72,4,64,0,11,11,32,0,32,2,65,16,116,63,0,65,16,116,16,3,11,113,1,2,127,32,1,40,2,0,34,3,65,124,113,32,2,107,34,4,65,32,79,4,64,32,1,32,2,32,3,65,2,113,114,54,2,0,32,2,32,1,65,16,106,106,34,1,32,4,65,16,107,65,1,114,54,2,0,32,0,32,1,16,2,5,32,1,32,3,65,126,113,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,32,1,65,16,106,32,1,40,2,0,65,124,113,106,40,2,0,65,125,113,54,2,0,11,11,91,1,2,127,32,0,32,1,16,5,34,4,16,6,34,3,69,4,64,65,1,36,1,65,0,36,1,32,0,32,4,16,6,34,3,69,4,64,32,0,32,4,16,7,32,0,32,4,16,6,33,3,11,11,32,3,65,0,54,2,4,32,3,32,2,54,2,8,32,3,32,1,54,2,12,32,0,32,3,16,1,32,0,32,3,32,4,16,8,32,3,11,13,0,16,4,32,0,32,1,16,9,65,16,106,11,33,1,1,127,32,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,18,0,32,0,65,172,3,75,4,64,32,0,65,16,107,16,52,11,11,140,3,1,1,127,2,64,32,1,69,13,0,32,0,65,0,58,0,0,32,0,32,1,106,65,1,107,65,0,58,0,0,32,1,65,2,77,13,0,32,0,65,1,106,65,0,58,0,0,32,0,65,2,106,65,0,58,0,0,32,0,32,1,106,34,2,65,2,107,65,0,58,0,0,32,2,65,3,107,65,0,58,0,0,32,1,65,6,77,13,0,32,0,65,3,106,65,0,58,0,0,32,0,32,1,106,65,4,107,65,0,58,0,0,32,1,65,8,77,13,0,32,1,65,0,32,0,107,65,3,113,34,1,107,33,2,32,0,32,1,106,34,0,65,0,54,2,0,32,0,32,2,65,124,113,34,1,106,65,4,107,65,0,54,2,0,32,1,65,8,77,13,0,32,0,65,4,106,65,0,54,2,0,32,0,65,8,106,65,0,54,2,0,32,0,32,1,106,34,2,65,12,107,65,0,54,2,0,32,2,65,8,107,65,0,54,2,0,32,1,65,24,77,13,0,32,0,65,12,106,65,0,54,2,0,32,0,65,16,106,65,0,54,2,0,32,0,65,20,106,65,0,54,2,0,32,0,65,24,106,65,0,54,2,0,32,0,32,1,106,34,2,65,28,107,65,0,54,2,0,32,2,65,24,107,65,0,54,2,0,32,2,65,20,107,65,0,54,2,0,32,2,65,16,107,65,0,54,2,0,32,0,32,0,65,4,113,65,24,106,34,2,106,33,0,32,1,32,2,107,33,1,3,64,32,1,65,32,79,4,64,32,0,66,0,55,3,0,32,0,65,8,106,66,0,55,3,0,32,0,65,16,106,66,0,55,3,0,32,0,65,24,106,66,0,55,3,0,32,1,65,32,107,33,1,32,0,65,32,106,33,0,12,1,11,11,11,11,178,1,1,3,127,32,1,65,240,255,255,255,3,32,2,118,75,4,64,65,144,1,65,192,1,65,23,65,56,16,0,0,11,32,1,32,2,116,34,3,65,0,16,10,34,2,32,3,16,13,32,0,69,4,64,65,12,65,2,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,2,34,1,32,0,40,2,0,34,4,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,32,4,16,12,11,32,0,32,1,54,2,0,32,0,32,2,54,2,4,32,0,32,3,54,2,8,32,0,11,46,1,2,127,65,12,65,5,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,65,128,2,65,3,16,14,11,9,0,65,63,32,0,121,167,107,11,49,1,2,127,65,63,32,1,121,167,107,33,2,3,64,65,63,32,0,121,167,107,32,2,107,34,3,65,0,78,4,64,32,0,32,1,32,3,172,134,133,33,0,12,1,11,11,32,0,11,40,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,163,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,65,0,58,0,0,11,38,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,152,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,45,0,0,11,254,5,2,1,127,4,126,32,0,69,4,64,65,232,0,65,6,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,24,32,0,66,0,55,3,32,32,0,66,0,55,3,40,32,0,66,0,55,3,48,32,0,66,0,55,3,56,32,0,66,0,55,3,64,32,0,66,0,55,3,72,32,0,66,0,55,3,80,32,0,66,0,55,3,88,32,0,66,0,55,3,96,32,0,32,2,173,55,3,80,32,0,32,3,173,55,3,88,65,12,65,4,16,10,34,2,65,172,3,75,4,64,32,2,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,32,4,65,0,16,14,33,2,32,0,40,2,0,16,12,32,0,32,2,54,2,0,32,0,32,4,54,2,4,32,0,66,1,32,1,173,134,66,1,125,55,3,96,32,0,66,243,130,183,218,216,230,232,30,55,3,72,35,4,69,4,64,65,0,33,2,3,64,32,2,65,128,2,72,4,64,32,2,65,255,1,113,173,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,65,0,33,4,3,64,32,4,32,0,40,2,4,65,1,107,72,4,64,32,6,66,8,134,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,32,4,65,1,106,33,4,12,1,11,11,35,6,40,2,4,32,2,65,3,116,106,32,6,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,63,32,0,41,3,72,121,167,107,172,33,7,65,0,33,2,3,64,32,2,65,128,2,72,4,64,35,5,33,1,32,2,172,32,7,134,34,8,33,6,65,63,32,0,41,3,72,34,9,121,167,107,33,3,3,64,65,63,32,6,121,167,107,32,3,107,34,4,65,0,78,4,64,32,6,32,9,32,4,172,134,133,33,6,12,1,11,11,32,1,40,2,4,32,2,65,3,116,106,32,6,32,8,132,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,1,36,4,11,32,0,66,0,55,3,24,32,0,66,0,55,3,32,65,0,33,2,3,64,32,2,32,0,40,2,4,72,4,64,32,0,40,2,0,32,2,16,18,32,2,65,1,106,33,2,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,6,66,45,136,167,65,3,116,106,41,3,0,32,6,66,8,134,66,1,132,133,55,3,40,32,0,11,38,1,1,127,32,0,40,2,0,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,55,1,2,127,32,1,32,0,40,2,0,34,2,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,16,12,11,32,0,32,1,54,2,0,11,7,0,32,0,40,2,4,11,9,0,32,0,32,1,54,2,4,11,7,0,32,0,40,2,8,11,9,0,32,0,32,1,54,2,8,11,7,0,32,0,41,3,16,11,9,0,32,0,32,1,55,3,16,11,7,0,32,0,41,3,24,11,9,0,32,0,32,1,55,3,24,11,7,0,32,0,41,3,32,11,9,0,32,0,32,1,55,3,32,11,7,0,32,0,41,3,40,11,9,0,32,0,32,1,55,3,40,11,7,0,32,0,41,3,48,11,9,0,32,0,32,1,55,3,48,11,7,0,32,0,41,3,56,11,9,0,32,0,32,1,55,3,56,11,7,0,32,0,41,3,64,11,9,0,32,0,32,1,55,3,64,11,7,0,32,0,41,3,72,11,9,0,32,0,32,1,55,3,72,11,7,0,32,0,41,3,80,11,9,0,32,0,32,1,55,3,80,11,7,0,32,0,41,3,88,11,9,0,32,0,32,1,55,3,88,11,7,0,32,0,41,3,96,11,9,0,32,0,32,1,55,3,96,11,172,4,2,5,127,1,126,32,2,65,172,3,75,4,64,32,2,65,16,107,34,4,32,4,40,2,4,65,1,106,54,2,4,11,32,2,33,4,65,0,33,2,32,1,40,2,8,33,5,32,1,40,2,4,33,6,3,64,2,127,65,0,33,3,3,64,32,3,32,5,72,4,64,32,3,32,6,106,45,0,0,33,1,32,0,40,2,0,32,0,40,2,8,16,19,33,7,32,0,40,2,8,32,0,40,2,0,40,2,4,106,32,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,7,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,1,173,32,8,66,8,134,132,133,55,3,40,32,0,32,0,41,3,16,66,1,124,55,3,16,32,0,32,0,41,3,24,66,1,124,55,3,24,32,0,41,3,16,32,0,41,3,80,90,4,127,32,0,41,3,40,32,0,41,3,96,131,80,5,65,0,11,4,127,65,1,5,32,0,41,3,16,32,0,41,3,88,90,11,4,64,32,0,32,0,41,3,32,55,3,48,32,0,32,0,41,3,16,55,3,56,32,0,32,0,41,3,40,55,3,64,65,0,33,1,3,64,32,1,32,0,40,2,4,72,4,64,32,0,40,2,0,32,1,16,18,32,1,65,1,106,33,1,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,8,66,8,134,66,1,132,133,55,3,40,32,3,65,1,106,12,3,11,32,3,65,1,106,33,3,12,1,11,11,65,127,11,34,1,65,0,78,4,64,32,5,32,1,107,33,5,32,1,32,6,106,33,6,32,2,34,1,65,1,106,33,2,32,4,40,2,4,32,1,65,2,116,106,32,0,41,3,56,62,2,0,12,1,11,11,32,4,11,10,0,16,15,36,5,16,15,36,6,11,3,0,1,11,73,1,2,127,32,0,40,2,4,34,1,65,255,255,255,255,0,113,34,2,65,1,70,4,64,32,0,65,16,106,16,53,32,0,32,0,40,2,0,65,1,114,54,2,0,35,0,32,0,16,2,5,32,0,32,2,65,1,107,32,1,65,128,128,128,128,127,113,114,54,2,4,11,11,58,0,2,64,2,64,2,64,32,0,65,8,107,40,2,0,14,7,0,0,1,1,1,1,1,2,11,15,11,32,0,40,2,0,34,0,4,64,32,0,65,172,3,79,4,64,32,0,65,16,107,16,52,11,11,15,11,0,11,11,137,3,7,0,65,16,11,55,40,0,0,0,1,0,0,0,1,0,0,0,40,0,0,0,97,0,108,0,108,0,111,0,99,0,97,0,116,0,105,0,111,0,110,0,32,0,116,0,111,0,111,0,32,0,108,0,97,0,114,0,103,0,101,0,65,208,0,11,45,30,0,0,0,1,0,0,0,1,0,0,0,30,0,0,0,126,0,108,0,105,0,98,0,47,0,114,0,116,0,47,0,116,0,108,0,115,0,102,0,46,0,116,0,115,0,65,128,1,11,43,28,0,0,0,1,0,0,0,1,0,0,0,28,0,0,0,73,0,110,0,118,0,97,0,108,0,105,0,100,0,32,0,108,0,101,0,110,0,103,0,116,0,104,0,65,176,1,11,53,38,0,0,0,1,0,0,0,1,0,0,0,38,0,0,0,126,0,108,0,105,0,98,0,47,0,97,0,114,0,114,0,97,0,121,0,98,0,117,0,102,0,102,0,101,0,114,0,46,0,116,0,115,0,65,240,1,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,73,0,110,0,100,0,101,0,120,0,32,0,111,0,117,0,116,0,32,0,111,0,102,0,32,0,114,0,97,0,110,0,103,0,101,0,65,176,2,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,126,0,108,0,105,0,98,0,47,0,116,0,121,0,112,0,101,0,100,0,97,0,114,0,114,0,97,0,121,0,46,0,116,0,115,0,65,240,2,11,53,7,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,145,4,0,0,2,0,0,0,49,0,0,0,2,0,0,0,17,1,0,0,2,0,0,0,16,0,34,16,115,111,117,114,99,101,77,97,112,112,105,110,103,85,82,76,16,46,47,114,97,98,105,110,46,119,97,115,109,46,109,97,112]);return n(new Response(new Blob([t],{type:"application/wasm"})),e)}i.supported="undefined"!=typeof WebAssembly,e.exports=i},1344:(e,t)=>{"use strict";const r="undefined"!=typeof BigUint64Array,n=Symbol(),i=1024;function o(e,t){const r=new Uint32Array(e),n=new Uint16Array(e);var o=r[t+-4>>>2]>>>1,s=t>>>1;if(o<=i)return String.fromCharCode.apply(String,n.subarray(s,s+o));const a=[];do{const e=n[s+i-1],t=e>=55296&&e<56320?1023:i;a.push(String.fromCharCode.apply(String,n.subarray(s,s+=t))),o-=t}while(o>i);return a.join("")+String.fromCharCode.apply(String,n.subarray(s,s+o))}function s(e){const t={};function r(e,t){return e?o(e.buffer,t):"<yet unknown>"}const n=e.env=e.env||{};return n.abort=n.abort||function(e,i,o,s){const a=t.memory||n.memory;throw Error("abort: "+r(a,e)+" at "+r(a,i)+":"+o+":"+s)},n.trace=n.trace||function(e,i){const o=t.memory||n.memory;console.log("trace: "+r(o,e)+(i?" ":"")+Array.prototype.slice.call(arguments,2,2+i).join(", "))},e.Math=e.Math||Math,e.Date=e.Date||Date,t}function a(e,t){const n=t.exports,i=n.memory,s=n.table,a=n.__alloc,u=n.__retain,h=n.__rtti_base||-1;function f(e){const t=new Uint32Array(i.buffer);if((e>>>=0)>=t[h>>>2])throw Error("invalid id: "+e);return t[(h+4>>>2)+2*e]}function l(e){const t=new Uint32Array(i.buffer);if((e>>>=0)>=t[h>>>2])throw Error("invalid id: "+e);return t[(h+4>>>2)+2*e+1]}function d(e){return 31-Math.clz32(e>>>5&31)}function p(e,t,r){const n=i.buffer;if(r)switch(e){case 2:return new Float32Array(n);case 3:return new Float64Array(n)}else switch(e){case 0:return new(t?Int8Array:Uint8Array)(n);case 1:return new(t?Int16Array:Uint16Array)(n);case 2:return new(t?Int32Array:Uint32Array)(n);case 3:return new(t?BigInt64Array:BigUint64Array)(n)}throw Error("unsupported align: "+e)}function y(e){const t=new Uint32Array(i.buffer),r=t[e+-8>>>2],n=f(r);if(!(1&n))throw Error("not an array: "+r);const o=d(n);var s=t[e+4>>>2];const a=2&n?t[e+12>>>2]:t[s+-4>>>2]>>>o;return p(o,1024&n,2048&n).subarray(s>>>=o,s+a)}function m(e,t,r){return new e(g(e,t,r))}function g(e,t,r){const n=i.buffer,o=new Uint32Array(n),s=o[r+4>>>2];return new e(n,s,o[s+-4>>>2]>>>t)}return e.__allocString=function(e){const t=e.length,r=a(t<<1,1),n=new Uint16Array(i.buffer);for(var o=0,s=r>>>1;o<t;++o)n[s+o]=e.charCodeAt(o);return r},e.__getString=function(e){const t=i.buffer;if(1!==new Uint32Array(t)[e+-8>>>2])throw Error("not a string: "+e);return o(t,e)},e.__allocArray=function(e,t){const r=f(e);if(!(3&r))throw Error("not an array: "+e+" @ "+r);const n=d(r),o=t.length,s=a(o<<n,0),h=a(2&r?16:12,e),c=new Uint32Array(i.buffer);c[h+0>>>2]=u(s),c[h+4>>>2]=s,c[h+8>>>2]=o<<n,2&r&&(c[h+12>>>2]=o);const l=p(n,1024&r,2048&r);if(8192&r)for(let e=0;e<o;++e)l[(s>>>n)+e]=u(t[e]);else l.set(t,s>>>n);return h},e.__getArrayView=y,e.__getArray=function(e){const t=y(e),r=t.length,n=new Array(r);for(let e=0;e<r;e++)n[e]=t[e];return n},e.__getArrayBuffer=function(e){const t=i.buffer,r=new Uint32Array(t)[e+-4>>>2];return t.slice(e,e+r)},e.__getInt8Array=m.bind(null,Int8Array,0),e.__getInt8ArrayView=g.bind(null,Int8Array,0),e.__getUint8Array=m.bind(null,Uint8Array,0),e.__getUint8ArrayView=g.bind(null,Uint8Array,0),e.__getUint8ClampedArray=m.bind(null,Uint8ClampedArray,0),e.__getUint8ClampedArrayView=g.bind(null,Uint8ClampedArray,0),e.__getInt16Array=m.bind(null,Int16Array,1),e.__getInt16ArrayView=g.bind(null,Int16Array,1),e.__getUint16Array=m.bind(null,Uint16Array,1),e.__getUint16ArrayView=g.bind(null,Uint16Array,1),e.__getInt32Array=m.bind(null,Int32Array,2),e.__getInt32ArrayView=g.bind(null,Int32Array,2),e.__getUint32Array=m.bind(null,Uint32Array,2),e.__getUint32ArrayView=g.bind(null,Uint32Array,2),r&&(e.__getInt64Array=m.bind(null,BigInt64Array,3),e.__getInt64ArrayView=g.bind(null,BigInt64Array,3),e.__getUint64Array=m.bind(null,BigUint64Array,3),e.__getUint64ArrayView=g.bind(null,BigUint64Array,3)),e.__getFloat32Array=m.bind(null,Float32Array,2),e.__getFloat32ArrayView=g.bind(null,Float32Array,2),e.__getFloat64Array=m.bind(null,Float64Array,3),e.__getFloat64ArrayView=g.bind(null,Float64Array,3),e.__instanceof=function(e,t){const r=new Uint32Array(i.buffer);var n=r[e+-8>>>2];if(n<=r[h>>>2])do{if(n==t)return!0}while(n=l(n));return!1},e.memory=e.memory||i,e.table=e.table||s,c(n,e)}function u(e){return"undefined"!=typeof Response&&e instanceof Response}async function h(e,t){return u(e=await e)?f(e,t):a(s(t||(t={})),await WebAssembly.instantiate(e instanceof WebAssembly.Module?e:await WebAssembly.compile(e),t))}async function f(e,t){return WebAssembly.instantiateStreaming?a(s(t||(t={})),(await WebAssembly.instantiateStreaming(e,t)).instance):h(u(e=await e)?e.arrayBuffer():e,t)}function c(e,t){var r=t?Object.create(t):{},i=e.__argumentsLength?function(t){e.__argumentsLength.value=t}:e.__setArgumentsLength||e.__setargc||function(){};for(let t in e){if(!Object.prototype.hasOwnProperty.call(e,t))continue;const o=e[t];let s=t.split("."),a=r;for(;s.length>1;){let e=s.shift();Object.prototype.hasOwnProperty.call(a,e)||(a[e]={}),a=a[e]}let u=s[0],h=u.indexOf("#");if(h>=0){let r=u.substring(0,h),s=a[r];if(void 0===s||!s.prototype){let e=function(...t){return e.wrap(e.prototype.constructor(0,...t))};e.prototype={valueOf:function(){return this[n]}},e.wrap=function(t){return Object.create(e.prototype,{[n]:{value:t,writable:!1}})},s&&Object.getOwnPropertyNames(s).forEach((t=>Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t)))),a[r]=e}if(u=u.substring(h+1),a=a[r].prototype,/^(get|set):/.test(u)){if(!Object.prototype.hasOwnProperty.call(a,u=u.substring(4))){let r=e[t.replace("set:","get:")],i=e[t.replace("get:","set:")];Object.defineProperty(a,u,{get:function(){return r(this[n])},set:function(e){i(this[n],e)},enumerable:!0})}}else"constructor"===u?(a[u]=(...e)=>(i(e.length),o(...e))).original=o:(a[u]=function(...e){return i(e.length),o(this[n],...e)}).original=o}else/^(get|set):/.test(u)?Object.prototype.hasOwnProperty.call(a,u=u.substring(4))||Object.defineProperty(a,u,{get:e[t.replace("set:","get:")],set:e[t.replace("get:","set:")],enumerable:!0}):"function"==typeof o&&o!==i?(a[u]=(...e)=>(i(e.length),o(...e))).original=o:a[u]=o}return r}t.instantiate=h,t.instantiateSync=function(e,t){return a(s(t||(t={})),new WebAssembly.Instance(e instanceof WebAssembly.Module?e:new WebAssembly.Module(e),t))},t.instantiateStreaming=f,t.demangle=c},3060:(e,t,r)=>{const n=r(7118),i=r(3286);e.exports={Rabin:n,create:async(e,t,r,o,s)=>{const a=await i();return new n(a,e,t,r,o,s)}}},7118:e=>{e.exports=class{constructor(e,t=12,r=8192,n=32768,i=64,o){this.bits=t,this.min=r,this.max=n,this.asModule=e,this.rabin=new e.Rabin(t,r,n,i,o),this.polynomial=o}fingerprint(e){const{__retain:t,__release:r,__allocArray:n,__getInt32Array:i,Int32Array_ID:o,Uint8Array_ID:s}=this.asModule,a=t(n(o,new Int32Array(Math.ceil(e.length/this.min)))),u=t(n(s,e)),h=i(this.rabin.fingerprint(u,a));r(u),r(a);const f=h.indexOf(0);return f>=0?h.subarray(0,f):h}}},1798:(e,t,r)=>{"use strict";var n=65536,i=r(9509).Buffer,o=r.g.crypto||r.g.msCrypto;o&&o.getRandomValues?e.exports=function(e,t){if(e>4294967295)throw new RangeError("requested too many random bytes");var r=i.allocUnsafe(e);if(e>0)if(e>n)for(var s=0;s<e;s+=n)o.getRandomValues(r.slice(s,s+n));else o.getRandomValues(r);return"function"==typeof t?process.nextTick((function(){t(null,r)})):r}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},4281:e=>{"use strict";var t={};function r(e,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,o,s,a,u;if("string"==typeof t&&(o="not ",t.substr(0,o.length)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))s="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var h=("number"!=typeof u&&(u=0),u+".".length>(a=e).length||-1===a.indexOf(".",u)?"argument":"property");s='The "'.concat(e,'" ').concat(h," ").concat(i," ").concat(n(t,"type"))}return s+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},6753:(e,t,r)=>{"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=h;var i=r(9481),o=r(4229);r(5717)(h,i);for(var s=n(o.prototype),a=0;a<s.length;a++){var u=s[a];h.prototype[u]||(h.prototype[u]=o.prototype[u])}function h(e){if(!(this instanceof h))return new h(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||process.nextTick(c,this)}function c(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},2725:(e,t,r)=>{"use strict";e.exports=i;var n=r(4605);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(5717)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},9481:(e,t,r)=>{"use strict";var n;e.exports=M,M.ReadableState=S,r(7187).EventEmitter;var i,o=function(e,t){return e.listeners(t).length},s=r(2503),a=r(8764).Buffer,u=r.g.Uint8Array||function(){},h=r(4616);i=h&&h.debuglog?h.debuglog("stream"):function(){};var f,c,l,d=r(7327),p=r(1195),y=r(2457).getHighWaterMark,m=r(4281).q,g=m.ERR_INVALID_ARG_TYPE,b=m.ERR_STREAM_PUSH_AFTER_EOF,w=m.ERR_METHOD_NOT_IMPLEMENTED,v=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(5717)(M,s);var _=p.errorOrDestroy,E=["error","close","destroy","pause","resume"];function S(e,t,i){n=n||r(6753),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=y(this,e,"readableHighWaterMark",i),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=r(2553).s),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function M(e){if(n=n||r(6753),!(this instanceof M))return new M(e);var t=this instanceof n;this._readableState=new S(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function A(e,t,r,n,o){i("readableAddChunk",t);var s,h=e._readableState;if(null===t)h.reading=!1,function(e,t){if(i("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?P(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,I(e)))}}(e,h);else if(o||(s=function(e,t){var r,n;return n=t,a.isBuffer(n)||n instanceof u||"string"==typeof t||void 0===t||e.objectMode||(r=new g("chunk",["string","Buffer","Uint8Array"],t)),r}(h,t)),s)_(e,s);else if(h.objectMode||t&&t.length>0)if("string"==typeof t||h.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),n)h.endEmitted?_(e,new v):k(e,h,t,!0);else if(h.ended)_(e,new b);else{if(h.destroyed)return!1;h.reading=!1,h.decoder&&!r?(t=h.decoder.write(t),h.objectMode||0!==t.length?k(e,h,t,!1):R(e,h)):k(e,h,t,!1)}else n||(h.reading=!1,R(e,h));return!h.ended&&(h.length<h.highWaterMark||0===h.length)}function k(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&P(e)),R(e,t)}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),M.prototype.destroy=p.destroy,M.prototype._undestroy=p.undestroy,M.prototype._destroy=function(e,t){t(e)},M.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=a.from(e,t),t=""),r=!0),A(this,e,t,!1,r)},M.prototype.unshift=function(e){return A(this,e,null,!0,!1)},M.prototype.isPaused=function(){return!1===this._readableState.flowing},M.prototype.setEncoding=function(e){f||(f=r(2553).s);var t=new f(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var x=1073741824;function T(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=x?e=x:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function P(e){var t=e._readableState;i("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(i("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(I,e))}function I(e){var t=e._readableState;i("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,j(e)}function R(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(O,e,t))}function O(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(i("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function B(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function C(e){i("readable nexttick read 0"),e.read(0)}function L(e,t){i("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),j(e),t.flowing&&!t.reading&&e.read(0)}function j(e){var t=e._readableState;for(i("flow",t.flowing);t.flowing&&null!==e.read(););}function D(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function N(e){var t=e._readableState;i("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(U,t,e))}function U(e,t){if(i("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function H(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}M.prototype.read=function(e){i("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return i("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?N(this):P(this),null;if(0===(e=T(e,t))&&t.ended)return 0===t.length&&N(this),null;var n,o=t.needReadable;return i("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&i("length less than watermark",o=!0),t.ended||t.reading?i("reading or ended",o=!1):o&&(i("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=T(r,t))),null===(n=e>0?D(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&N(this)),null!==n&&this.emit("data",n),n},M.prototype._read=function(e){_(this,new w("_read()"))},M.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,i("pipe count=%d opts=%j",n.pipesCount,t);var s=t&&!1===t.end||e===process.stdout||e===process.stderr?p:a;function a(){i("onend"),e.end()}n.endEmitted?process.nextTick(s):r.once("end",s),e.on("unpipe",(function t(o,s){i("onunpipe"),o===r&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,i("cleanup"),e.removeListener("close",l),e.removeListener("finish",d),e.removeListener("drain",u),e.removeListener("error",c),e.removeListener("unpipe",t),r.removeListener("end",a),r.removeListener("end",p),r.removeListener("data",f),h=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}));var u=function(e){return function(){var t=e._readableState;i("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,j(e))}}(r);e.on("drain",u);var h=!1;function f(t){i("ondata");var o=e.write(t);i("dest.write",o),!1===o&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==H(n.pipes,e))&&!h&&(i("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function c(t){i("onerror",t),p(),e.removeListener("error",c),0===o(e,"error")&&_(e,t)}function l(){e.removeListener("finish",d),p()}function d(){i("onfinish"),e.removeListener("close",l),p()}function p(){i("unpipe"),r.unpipe(e)}return r.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",c),e.once("close",l),e.once("finish",d),e.emit("pipe",r),n.flowing||(i("pipe resume"),r.resume()),e},M.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=H(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},M.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,i("on readable",n.length,n.reading),n.length?P(this):n.reading||process.nextTick(C,this))),r},M.prototype.addListener=M.prototype.on,M.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(B,this),r},M.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(B,this),t},M.prototype.resume=function(){var e=this._readableState;return e.flowing||(i("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(L,e,t))}(this,e)),e.paused=!1,this},M.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},M.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var o in e.on("end",(function(){if(i("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){i("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o||(r.objectMode||o&&o.length)&&(t.push(o)||(n=!0,e.pause()))})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var s=0;s<E.length;s++)e.on(E[s],this.emit.bind(this,E[s]));return this._read=function(t){i("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(M.prototype[Symbol.asyncIterator]=function(){return void 0===c&&(c=r(5850)),c(this)}),Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(M.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(M.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),M._fromList=D,Object.defineProperty(M.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(M.from=function(e,t){return void 0===l&&(l=r(5167)),l(M,e,t)})},4605:(e,t,r)=>{"use strict";e.exports=f;var n=r(4281).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,u=r(6753);function h(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function f(e){if(!(this instanceof f))return new f(e);u.call(this,e),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",c)}function c(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?l(this,null,null):this._flush((function(t,r){l(e,t,r)}))}function l(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}r(5717)(f,u),f.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},f.prototype._transform=function(e,t,r){r(new i("_transform()"))},f.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},f.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},f.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},4229:(e,t,r)=>{"use strict";function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=M,M.WritableState=S;var o,s={deprecate:r(4927)},a=r(2503),u=r(8764).Buffer,h=r.g.Uint8Array||function(){},f=r(1195),c=r(2457).getHighWaterMark,l=r(4281).q,d=l.ERR_INVALID_ARG_TYPE,p=l.ERR_METHOD_NOT_IMPLEMENTED,y=l.ERR_MULTIPLE_CALLBACK,m=l.ERR_STREAM_CANNOT_PIPE,g=l.ERR_STREAM_DESTROYED,b=l.ERR_STREAM_NULL_VALUES,w=l.ERR_STREAM_WRITE_AFTER_END,v=l.ERR_UNKNOWN_ENCODING,_=f.errorOrDestroy;function E(){}function S(e,t,o){i=i||r(6753),e=e||{},"boolean"!=typeof o&&(o=t instanceof i),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=c(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new y;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(process.nextTick(i,n),process.nextTick(I,e,t),e._writableState.errorEmitted=!0,_(e,n)):(i(n),e._writableState.errorEmitted=!0,_(e,n),I(e,t))}(e,r,n,t,i);else{var o=T(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||x(e,r),n?process.nextTick(k,e,r,o,i):k(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function M(e){var t=this instanceof(i=i||r(6753));if(!t&&!o.call(M,this))return new M(e);this._writableState=new S(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function A(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new g("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function k(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),I(e,t)}function x(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,o=new Array(i),s=t.corkedRequestsFree;s.entry=r;for(var a=0,u=!0;r;)o[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;o.allBuffers=u,A(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var h=r.chunk,f=r.encoding,c=r.callback;if(A(e,t,!1,t.objectMode?1:h.length,h,f,c),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function T(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function P(e,t){e._final((function(r){t.pendingcb--,r&&_(e,r),t.prefinished=!0,e.emit("prefinish"),I(e,t)}))}function I(e,t){var r=T(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(P,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(5717)(M,a),S.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(S.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(M,Symbol.hasInstance,{value:function(e){return!!o.call(this,e)||this===M&&e&&e._writableState instanceof S}})):o=function(e){return e instanceof this},M.prototype.pipe=function(){_(this,new m)},M.prototype.write=function(e,t,r){var n,i=this._writableState,o=!1,s=!i.objectMode&&(n=e,u.isBuffer(n)||n instanceof h);return s&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=E),i.ending?function(e,t){var r=new w;_(e,r),process.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var i;return null===r?i=new b:"string"==typeof r||t.objectMode||(i=new d("chunk",["string","Buffer"],r)),!i||(_(e,i),process.nextTick(n,i),!1)}(this,i,e,r))&&(i.pendingcb++,o=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,r)),t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var h=t.length<t.highWaterMark;if(h||(t.needDrain=!0),t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else A(e,t,!1,a,n,i,o);return h}(this,i,s,e,t,r)),o},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||x(this,e))},M.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new v(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(M.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),M.prototype._write=function(e,t,r){r(new p("_write()"))},M.prototype._writev=null,M.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,I(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(M.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),M.prototype.destroy=f.destroy,M.prototype._undestroy=f.undestroy,M.prototype._destroy=function(e,t){t(e)}},5850:(e,t,r)=>{"use strict";var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(8610),s=Symbol("lastResolve"),a=Symbol("lastReject"),u=Symbol("error"),h=Symbol("ended"),f=Symbol("lastPromise"),c=Symbol("handlePromise"),l=Symbol("stream");function d(e,t){return{value:e,done:t}}function p(e){var t=e[s];if(null!==t){var r=e[l].read();null!==r&&(e[f]=null,e[s]=null,e[a]=null,t(d(r,!1)))}}function y(e){process.nextTick(p,e)}var m=Object.getPrototypeOf((function(){})),g=Object.setPrototypeOf((i(n={get stream(){return this[l]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[h])return Promise.resolve(d(void 0,!0));if(this[l].destroyed)return new Promise((function(t,r){process.nextTick((function(){e[u]?r(e[u]):t(d(void 0,!0))}))}));var r,n=this[f];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[h]?r(d(void 0,!0)):t[c](r,n)}),n)}}(n,this));else{var i=this[l].read();if(null!==i)return Promise.resolve(d(i,!1));r=new Promise(this[c])}return this[f]=r,r}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[l].destroy(null,(function(e){e?r(e):t(d(void 0,!0))}))}))})),n),m);e.exports=function(e){var t,r=Object.create(g,(i(t={},l,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,h,{value:e._readableState.endEmitted,writable:!0}),i(t,c,{value:function(e,t){var n=r[l].read();n?(r[f]=null,r[s]=null,r[a]=null,e(d(n,!1))):(r[s]=e,r[a]=t)},writable:!0}),t));return r[f]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[a];return null!==t&&(r[f]=null,r[s]=null,r[a]=null,t(e)),void(r[u]=e)}var n=r[s];null!==n&&(r[f]=null,r[s]=null,r[a]=null,n(d(void 0,!0))),r[h]=!0})),e.on("readable",y.bind(null,r)),r}},7327:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=r(8764).Buffer,a=r(2361).inspect,u=a&&a.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,r,n,i=s.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,r=i,n=a,s.prototype.copy.call(t,r,n),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:u,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],r&&o(t.prototype,r),e}()},1195:e=>{"use strict";function t(e,t){n(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function n(e,t){e.emit("error",t)}e.exports={destroy:function(e,i){var o=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(i?i(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(n,this,e)):process.nextTick(n,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!i&&e?o._writableState?o._writableState.errorEmitted?process.nextTick(r,o):(o._writableState.errorEmitted=!0,process.nextTick(t,o,e)):process.nextTick(t,o,e):i?(process.nextTick(r,o),i(e)):process.nextTick(r,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},8610:(e,t,r)=>{"use strict";var n=r(4281).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,u=function(){t.writable||f()},h=t._writableState&&t._writableState.finished,f=function(){a=!1,h=!0,s||o.call(t)},c=t._readableState&&t._readableState.endEmitted,l=function(){s=!1,c=!0,a||o.call(t)},d=function(e){o.call(t,e)},p=function(){var e;return s&&!c?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!h?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},y=function(){t.req.on("finish",f)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",f),t.on("abort",p),t.req?y():t.on("request",y)):a&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",l),t.on("finish",f),!1!==r.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",f),t.removeListener("abort",p),t.removeListener("request",y),t.req&&t.req.removeListener("finish",f),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",f),t.removeListener("end",l),t.removeListener("error",d),t.removeListener("close",p)}}},5167:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},9946:(e,t,r)=>{"use strict";var n,i=r(4281).q,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function u(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=r(8610)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var u=!1;return function(t){if(!a&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}function h(e){e()}function f(e,t){return e.pipe(t)}function c(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=c(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var s=t.map((function(e,r){var o=r<t.length-1;return u(e,o,r>0,(function(e){n||(n=e),e&&s.forEach(h),o||(s.forEach(h),i(n))}))}));return t.reduce(f)}},2457:(e,t,r)=>{"use strict";var n=r(4281).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},2503:(e,t,r)=>{e.exports=r(7187).EventEmitter},8473:(e,t,r)=>{(t=e.exports=r(9481)).Stream=t,t.Readable=t,t.Writable=r(4229),t.Duplex=r(6753),t.Transform=r(4605),t.PassThrough=r(2725),t.finished=r(8610),t.pipeline=r(9946)},9785:(e,t,r)=>{"use strict";var n=r(8764).Buffer,i=r(5717),o=r(3349),s=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],c=[0,1518500249,1859775393,2400959708,2840853838],l=[1352829926,1548603684,1836072691,2053994217,0];function d(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function y(e,t,r,n,i,o,s,a){return p(e+(t^r^n)+o+s|0,a)+i|0}function m(e,t,r,n,i,o,s,a){return p(e+(t&r|~t&n)+o+s|0,a)+i|0}function g(e,t,r,n,i,o,s,a){return p(e+((t|~r)^n)+o+s|0,a)+i|0}function b(e,t,r,n,i,o,s,a){return p(e+(t&n|r&~n)+o+s|0,a)+i|0}function w(e,t,r,n,i,o,s,a){return p(e+(t^(r|~n))+o+s|0,a)+i|0}i(d,o),d.prototype._update=function(){for(var e=s,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,d=0|this._e,v=0|this._a,_=0|this._b,E=0|this._c,S=0|this._d,M=0|this._e,A=0;A<80;A+=1){var k,x;A<16?(k=y(r,n,i,o,d,e[a[A]],c[0],h[A]),x=w(v,_,E,S,M,e[u[A]],l[0],f[A])):A<32?(k=m(r,n,i,o,d,e[a[A]],c[1],h[A]),x=b(v,_,E,S,M,e[u[A]],l[1],f[A])):A<48?(k=g(r,n,i,o,d,e[a[A]],c[2],h[A]),x=g(v,_,E,S,M,e[u[A]],l[2],f[A])):A<64?(k=b(r,n,i,o,d,e[a[A]],c[3],h[A]),x=m(v,_,E,S,M,e[u[A]],l[3],f[A])):(k=w(r,n,i,o,d,e[a[A]],c[4],h[A]),x=y(v,_,E,S,M,e[u[A]],l[4],f[A])),r=d,d=o,o=p(i,10),i=n,n=k,v=M,M=S,S=p(E,10),E=_,_=x}var T=this._b+i+S|0;this._b=this._c+o+M|0,this._c=this._d+d+v|0,this._d=this._e+r+_|0,this._e=this._a+n+E|0,this._a=T},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=n.alloc?n.alloc(20):new n(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=d},9509:(e,t,r)=>{var n=r(8764),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},4189:(e,t,r)=>{var n=r(9509).Buffer;function i(e,t){this._block=n.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=n.from(e,t));for(var r=this._block,i=this._blockSize,o=e.length,s=this._len,a=0;a<o;){for(var u=s%i,h=Math.min(o-a,i-u),f=0;f<h;f++)r[u+f]=e[a+f];a+=h,(s+=h)%i==0&&this._update(r)}return this._len+=o,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},9072:(e,t,r)=>{var n=e.exports=function(e){e=e.toLowerCase();var t=n[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};n.sha=r(4448),n.sha1=r(8336),n.sha224=r(8432),n.sha256=r(7499),n.sha384=r(1686),n.sha512=r(7816)},4448:(e,t,r)=>{var n=r(5717),i=r(4189),o=r(9509).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,i.call(this,64,56)}function h(e){return e<<30|e>>>2}function f(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,u=0|this._e,c=0;c<16;++c)r[c]=e.readInt32BE(4*c);for(;c<80;++c)r[c]=r[c-3]^r[c-8]^r[c-14]^r[c-16];for(var l=0;l<80;++l){var d=~~(l/20),p=0|((t=n)<<5|t>>>27)+f(d,i,o,a)+u+r[l]+s[d];u=a,a=o,o=h(i),i=n,n=p}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},8336:(e,t,r)=>{var n=r(5717),i=r(4189),o=r(9509).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,i.call(this,64,56)}function h(e){return e<<5|e>>>27}function f(e){return e<<30|e>>>2}function c(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,u=0|this._e,l=0;l<16;++l)r[l]=e.readInt32BE(4*l);for(;l<80;++l)r[l]=(t=r[l-3]^r[l-8]^r[l-14]^r[l-16])<<1|t>>>31;for(var d=0;d<80;++d){var p=~~(d/20),y=h(n)+c(p,i,o,a)+u+r[d]+s[p]|0;u=a,a=o,o=f(i),i=n,n=y}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},8432:(e,t,r)=>{var n=r(5717),i=r(7499),o=r(4189),s=r(9509).Buffer,a=new Array(64);function u(){this.init(),this._w=a,o.call(this,64,56)}n(u,i),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var e=s.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=u},7499:(e,t,r)=>{var n=r(5717),i=r(4189),o=r(9509).Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function u(){this.init(),this._w=a,i.call(this,64,56)}function h(e,t,r){return r^e&(t^r)}function f(e,t,r){return e&t|r&(e|t)}function c(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function l(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function d(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}n(u,i),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,u=0|this._e,p=0|this._f,y=0|this._g,m=0|this._h,g=0;g<16;++g)r[g]=e.readInt32BE(4*g);for(;g<64;++g)r[g]=0|(((t=r[g-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+r[g-7]+d(r[g-15])+r[g-16];for(var b=0;b<64;++b){var w=m+l(u)+h(u,p,y)+s[b]+r[b]|0,v=c(n)+f(n,i,o)|0;m=y,y=p,p=u,u=a+w|0,a=o,o=i,i=n,n=w+v|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0,this._f=p+this._f|0,this._g=y+this._g|0,this._h=m+this._h|0},u.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=u},1686:(e,t,r)=>{var n=r(5717),i=r(7816),o=r(4189),s=r(9509).Buffer,a=new Array(160);function u(){this.init(),this._w=a,o.call(this,128,112)}n(u,i),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var e=s.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=u},7816:(e,t,r)=>{var n=r(5717),i=r(4189),o=r(9509).Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function u(){this.init(),this._w=a,i.call(this,128,112)}function h(e,t,r){return r^e&(t^r)}function f(e,t,r){return e&t|r&(e|t)}function c(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function l(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function d(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function y(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function g(e,t){return e>>>0<t>>>0?1:0}n(u,i),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,o=0|this._dh,a=0|this._eh,u=0|this._fh,b=0|this._gh,w=0|this._hh,v=0|this._al,_=0|this._bl,E=0|this._cl,S=0|this._dl,M=0|this._el,A=0|this._fl,k=0|this._gl,x=0|this._hl,T=0;T<32;T+=2)t[T]=e.readInt32BE(4*T),t[T+1]=e.readInt32BE(4*T+4);for(;T<160;T+=2){var P=t[T-30],I=t[T-30+1],R=d(P,I),O=p(I,P),B=y(P=t[T-4],I=t[T-4+1]),C=m(I,P),L=t[T-14],j=t[T-14+1],D=t[T-32],N=t[T-32+1],U=O+j|0,H=R+L+g(U,O)|0;H=(H=H+B+g(U=U+C|0,C)|0)+D+g(U=U+N|0,N)|0,t[T]=H,t[T+1]=U}for(var z=0;z<160;z+=2){H=t[z],U=t[z+1];var F=f(r,n,i),q=f(v,_,E),$=c(r,v),K=c(v,r),V=l(a,M),W=l(M,a),G=s[z],Y=s[z+1],J=h(a,u,b),Z=h(M,A,k),X=x+W|0,Q=w+V+g(X,x)|0;Q=(Q=(Q=Q+J+g(X=X+Z|0,Z)|0)+G+g(X=X+Y|0,Y)|0)+H+g(X=X+U|0,U)|0;var ee=K+q|0,te=$+F+g(ee,K)|0;w=b,x=k,b=u,k=A,u=a,A=M,a=o+Q+g(M=S+X|0,S)|0,o=i,S=E,i=n,E=_,n=r,_=v,r=Q+te+g(v=X+ee|0,X)|0}this._al=this._al+v|0,this._bl=this._bl+_|0,this._cl=this._cl+E|0,this._dl=this._dl+S|0,this._el=this._el+M|0,this._fl=this._fl+A|0,this._gl=this._gl+k|0,this._hl=this._hl+x|0,this._ah=this._ah+r+g(this._al,v)|0,this._bh=this._bh+n+g(this._bl,_)|0,this._ch=this._ch+i+g(this._cl,E)|0,this._dh=this._dh+o+g(this._dl,S)|0,this._eh=this._eh+a+g(this._el,M)|0,this._fh=this._fh+u+g(this._fl,A)|0,this._gh=this._gh+b+g(this._gl,k)|0,this._hh=this._hh+w+g(this._hl,x)|0},u.prototype._hash=function(){var e=o.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=u},544:e=>{"use strict";function t(e,t){return e+r(t)}function r(e){let t=e;return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),16843009*(t+(t>>4)&252645135)>>24}function n(e,t){return e[0]-t[0]}function i(e){return e[1]}e.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(e,t){let r=this._internalPositionFor(e,!1);if(void 0===t)-1!==r&&(this._unsetInternalPos(r),this._unsetBit(e),this._changedLength=!0,this._changedData=!0);else{let n=!1;-1===r?(r=this._data.length,this._setBit(e),this._changedData=!0):n=!0,this._setInternalPos(r,e,t,n),this._changedLength=!0}}unset(e){this.set(e,void 0)}get(e){this._sortData();const t=this._internalPositionFor(e,!0);if(-1!==t)return this._data[t][1]}push(e){return this.set(this.length,e),this.length}get length(){if(this._sortData(),this._changedLength){const e=this._data[this._data.length-1];this._length=e?e[0]+1:0,this._changedLength=!1}return this._length}forEach(e){let t=0;for(;t<this.length;)e(this.get(t),t,this),t++}map(e){let t=0,r=new Array(this.length);for(;t<this.length;)r[t]=e(this.get(t),t,this),t++;return r}reduce(e,t){let r=0,n=t;for(;r<this.length;)n=e(n,this.get(r),r),r++;return n}find(e){let t,r,n=0;for(;n<this.length&&!t;)r=this.get(n),t=e(r),n++;return t?r:void 0}_internalPositionFor(e,n){const i=this._bytePosFor(e,n);if(i>=this._bitArrays.length)return-1;const o=this._bitArrays[i],s=e-7*i;return(o&1<<s)>0?this._bitArrays.slice(0,i).reduce(t,0)+r(o&~(4294967295<<s+1))-1:-1}_bytePosFor(e,t){const r=Math.floor(e/7),n=r+1;for(;!t&&this._bitArrays.length<n;)this._bitArrays.push(0);return r}_setBit(e){const t=this._bytePosFor(e,!1);this._bitArrays[t]|=1<<e-7*t}_unsetBit(e){const t=this._bytePosFor(e,!1);this._bitArrays[t]&=~(1<<e-7*t)}_setInternalPos(e,t,r,n){const i=this._data,o=[t,r];if(n)this._sortData(),i[e]=o;else{if(i.length)if(i[i.length-1][0]>=t)i.push(o);else if(i[0][0]<=t)i.unshift(o);else{const e=Math.round(i.length/2);this._data=i.slice(0,e).concat(o).concat(i.slice(e))}else this._data.push(o);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(e){this._data.splice(e,1)}_sortData(){this._changedData&&this._data.sort(n),this._changedData=!1}bitField(){const e=[];let t,r=8,n=0,i=0;const o=this._bitArrays.slice();for(;o.length||n;){0===n&&(t=o.shift(),n=7);const s=Math.min(n,r);i|=(t&~(255<<s))<<8-r,t>>>=s,n-=s,r-=s,r&&(n||o.length)||(e.push(i),i=0,r=8)}for(var s=e.length-1;s>0&&0===e[s];s--)e.pop();return e}compactArray(){return this._sortData(),this._data.map(i)}}},2830:(e,t,r)=>{e.exports=i;var n=r(7187).EventEmitter;function i(){n.call(this)}r(5717)(i,n),i.Readable=r(9481),i.Writable=r(4229),i.Duplex=r(6753),i.Transform=r(4605),i.PassThrough=r(2725),i.finished=r(8610),i.pipeline=r(9946),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",a),r.on("close",u));var s=!1;function a(){s||(s=!0,e.end())}function u(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function h(e){if(f(),0===n.listenerCount(this,"error"))throw e}function f(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",a),r.removeListener("close",u),r.removeListener("error",h),e.removeListener("error",h),r.removeListener("end",f),r.removeListener("close",f),e.removeListener("close",f)}return r.on("error",h),e.on("error",h),r.on("end",f),r.on("close",f),e.on("close",f),e.emit("pipe",r),e}},2553:(e,t,r)=>{"use strict";var n=r(396).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=h,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=f,this.end=c,t=3;break;default:return this.write=l,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function h(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function f(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function c(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function l(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},396:(e,t,r)=>{var n=r(8764),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},6647:(e,t,r)=>{var n=r(247);function i(e){return e.name||e.toString().match(/function (.*?)\s*\(/)[1]}function o(e){return n.Nil(e)?"":i(e.constructor)}function s(e,t){Error.captureStackTrace&&Error.captureStackTrace(e,t)}function a(e){return n.Function(e)?e.toJSON?e.toJSON():i(e):n.Array(e)?"Array":e&&n.Object(e)?"Object":void 0!==e?e:""}function u(e,t,r){var i=function(e){return n.Function(e)?"":n.String(e)?JSON.stringify(e):e&&n.Object(e)?"":e}(t);return"Expected "+a(e)+", got"+(""!==r?" "+r:"")+(""!==i?" "+i:"")}function h(e,t,r){r=r||o(t),this.message=u(e,t,r),s(this,h),this.__type=e,this.__value=t,this.__valueTypeName=r}function f(e,t,r,n,i){e?(i=i||o(n),this.message=function(e,t,r,n,i){var o='" of type ';return"key"===t&&(o='" with key type '),u('property "'+a(r)+o+a(e),n,i)}(e,r,t,n,i)):this.message='Unexpected property "'+t+'"',s(this,h),this.__label=r,this.__property=t,this.__type=e,this.__value=n,this.__valueTypeName=i}h.prototype=Object.create(Error.prototype),h.prototype.constructor=h,f.prototype=Object.create(Error.prototype),f.prototype.constructor=h,e.exports={TfTypeError:h,TfPropertyTypeError:f,tfCustomError:function(e,t){return new h(e,{},t)},tfSubError:function(e,t,r){return e instanceof f?(t=t+"."+e.__property,e=new f(e.__type,t,e.__label,e.__value,e.__valueTypeName)):e instanceof h&&(e=new f(e.__type,t,r,e.__value,e.__valueTypeName)),s(e),e},tfJSON:a,getValueTypeName:o}},4307:(e,t,r)=>{var n=r(8764).Buffer,i=r(247),o=r(6647);function s(e){return n.isBuffer(e)}function a(e){return"string"==typeof e&&/^([0-9a-f]{2})+$/i.test(e)}function u(e,t){var r=e.toJSON();function n(n){if(!e(n))return!1;if(n.length===t)return!0;throw o.tfCustomError(r+"(Length: "+t+")",r+"(Length: "+n.length+")")}return n.toJSON=function(){return r},n}var h=u.bind(null,i.Array),f=u.bind(null,s),c=u.bind(null,a),l=u.bind(null,i.String),d=Math.pow(2,53)-1,p={ArrayN:h,Buffer:s,BufferN:f,Finite:function(e){return"number"==typeof e&&isFinite(e)},Hex:a,HexN:c,Int8:function(e){return e<<24>>24===e},Int16:function(e){return e<<16>>16===e},Int32:function(e){return(0|e)===e},Int53:function(e){return"number"==typeof e&&e>=-d&&e<=d&&Math.floor(e)===e},Range:function(e,t,r){function n(n,i){return r(n,i)&&n>e&&n<t}return r=r||i.Number,n.toJSON=function(){return`${r.toJSON()} between [${e}, ${t}]`},n},StringN:l,UInt8:function(e){return(255&e)===e},UInt16:function(e){return(65535&e)===e},UInt32:function(e){return e>>>0===e},UInt53:function(e){return"number"==typeof e&&e>=0&&e<=d&&Math.floor(e)===e}};for(var y in p)p[y].toJSON=function(e){return e}.bind(null,y);e.exports=p},2401:(e,t,r)=>{var n=r(6647),i=r(247),o=n.tfJSON,s=n.TfTypeError,a=n.TfPropertyTypeError,u=n.tfSubError,h=n.getValueTypeName,f={arrayOf:function(e,t){function r(r,n){return!!i.Array(r)&&!i.Nil(r)&&!(void 0!==t.minLength&&r.length<t.minLength)&&!(void 0!==t.maxLength&&r.length>t.maxLength)&&(void 0===t.length||r.length===t.length)&&r.every((function(t,r){try{return l(e,t,n)}catch(e){throw u(e,r)}}))}return e=c(e),t=t||{},r.toJSON=function(){var r="["+o(e)+"]";return void 0!==t.length?r+="{"+t.length+"}":void 0===t.minLength&&void 0===t.maxLength||(r+="{"+(void 0===t.minLength?0:t.minLength)+","+(void 0===t.maxLength?1/0:t.maxLength)+"}"),r},r},maybe:function e(t){function r(r,n){return i.Nil(r)||t(r,n,e)}return t=c(t),r.toJSON=function(){return"?"+o(t)},r},map:function(e,t){function r(r,n){if(!i.Object(r))return!1;if(i.Nil(r))return!1;for(var o in r){try{t&&l(t,o,n)}catch(e){throw u(e,o,"key")}try{var s=r[o];l(e,s,n)}catch(e){throw u(e,o)}}return!0}return e=c(e),t&&(t=c(t)),r.toJSON=t?function(){return"{"+o(t)+": "+o(e)+"}"}:function(){return"{"+o(e)+"}"},r},object:function(e){var t={};for(var r in e)t[r]=c(e[r]);function n(e,r){if(!i.Object(e))return!1;if(i.Nil(e))return!1;var n;try{for(n in t)l(t[n],e[n],r)}catch(e){throw u(e,n)}if(r)for(n in e)if(!t[n])throw new a(void 0,n);return!0}return n.toJSON=function(){return o(t)},n},anyOf:function(){var e=[].slice.call(arguments).map(c);function t(t,r){return e.some((function(e){try{return l(e,t,r)}catch(e){return!1}}))}return t.toJSON=function(){return e.map(o).join("|")},t},allOf:function(){var e=[].slice.call(arguments).map(c);function t(t,r){return e.every((function(e){try{return l(e,t,r)}catch(e){return!1}}))}return t.toJSON=function(){return e.map(o).join(" & ")},t},quacksLike:function(e){function t(t){return e===h(t)}return t.toJSON=function(){return e},t},tuple:function(){var e=[].slice.call(arguments).map(c);function t(t,r){return!i.Nil(t)&&!i.Nil(t.length)&&(!r||t.length===e.length)&&e.every((function(e,n){try{return l(e,t[n],r)}catch(e){throw u(e,n)}}))}return t.toJSON=function(){return"("+e.map(o).join(", ")+")"},t},value:function(e){function t(t){return t===e}return t.toJSON=function(){return e},t}};function c(e){if(i.String(e))return"?"===e[0]?f.maybe(e.slice(1)):i[e]||f.quacksLike(e);if(e&&i.Object(e)){if(i.Array(e)){if(1!==e.length)throw new TypeError("Expected compile() parameter of type Array of length 1");return f.arrayOf(e[0])}return f.object(e)}return i.Function(e)?e:f.value(e)}function l(e,t,r,n){if(i.Function(e)){if(e(t,r))return!0;throw new s(n||e,t)}return l(c(e),t,r)}for(var d in f.oneOf=f.anyOf,i)l[d]=i[d];for(d in f)l[d]=f[d];var p=r(4307);for(d in p)l[d]=p[d];l.compile=c,l.TfTypeError=s,l.TfPropertyTypeError=a,e.exports=l},247:e=>{var t={Array:function(e){return null!=e&&e.constructor===Array},Boolean:function(e){return"boolean"==typeof e},Function:function(e){return"function"==typeof e},Nil:function(e){return null==e},Number:function(e){return"number"==typeof e},Object:function(e){return"object"==typeof e},String:function(e){return"string"==typeof e},"":function(){return!0}};for(var r in t.Null=t.Nil,t)t[r].toJSON=function(e){return e}.bind(null,r);e.exports=t},4927:(e,t,r)=>{function n(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}},7429:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return u.default}});var n=l(r(3990)),i=l(r(8237)),o=l(r(5355)),s=l(r(3764)),a=l(r(6314)),u=l(r(8464)),h=l(r(6435)),f=l(r(4008)),c=l(r(8222));function l(e){return e&&e.__esModule?e:{default:e}}},4163:(e,t)=>{"use strict";function r(e){return 14+(e+64>>>9<<4)+1}function n(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function i(e,t,r,i,o,s){return n((a=n(n(t,e),n(i,s)))<<(u=o)|a>>>32-u,r);var a,u}function o(e,t,r,n,o,s,a){return i(t&r|~t&n,e,t,o,s,a)}function s(e,t,r,n,o,s,a){return i(t&n|r&~n,e,t,o,s,a)}function a(e,t,r,n,o,s,a){return i(t^r^n,e,t,o,s,a)}function u(e,t,r,n,o,s,a){return i(r^(t|~n),e,t,o,s,a)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){const t=[],r=32*e.length,n="0123456789abcdef";for(let i=0;i<r;i+=8){const r=e[i>>5]>>>i%32&255,o=parseInt(n.charAt(r>>>4&15)+n.charAt(15&r),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[r(t)-1]=t;let i=1732584193,h=-271733879,f=-1732584194,c=271733878;for(let t=0;t<e.length;t+=16){const r=i,l=h,d=f,p=c;i=o(i,h,f,c,e[t],7,-680876936),c=o(c,i,h,f,e[t+1],12,-389564586),f=o(f,c,i,h,e[t+2],17,606105819),h=o(h,f,c,i,e[t+3],22,-1044525330),i=o(i,h,f,c,e[t+4],7,-176418897),c=o(c,i,h,f,e[t+5],12,1200080426),f=o(f,c,i,h,e[t+6],17,-1473231341),h=o(h,f,c,i,e[t+7],22,-45705983),i=o(i,h,f,c,e[t+8],7,1770035416),c=o(c,i,h,f,e[t+9],12,-1958414417),f=o(f,c,i,h,e[t+10],17,-42063),h=o(h,f,c,i,e[t+11],22,-1990404162),i=o(i,h,f,c,e[t+12],7,1804603682),c=o(c,i,h,f,e[t+13],12,-40341101),f=o(f,c,i,h,e[t+14],17,-1502002290),h=o(h,f,c,i,e[t+15],22,1236535329),i=s(i,h,f,c,e[t+1],5,-165796510),c=s(c,i,h,f,e[t+6],9,-1069501632),f=s(f,c,i,h,e[t+11],14,643717713),h=s(h,f,c,i,e[t],20,-373897302),i=s(i,h,f,c,e[t+5],5,-701558691),c=s(c,i,h,f,e[t+10],9,38016083),f=s(f,c,i,h,e[t+15],14,-660478335),h=s(h,f,c,i,e[t+4],20,-405537848),i=s(i,h,f,c,e[t+9],5,568446438),c=s(c,i,h,f,e[t+14],9,-1019803690),f=s(f,c,i,h,e[t+3],14,-187363961),h=s(h,f,c,i,e[t+8],20,1163531501),i=s(i,h,f,c,e[t+13],5,-1444681467),c=s(c,i,h,f,e[t+2],9,-51403784),f=s(f,c,i,h,e[t+7],14,1735328473),h=s(h,f,c,i,e[t+12],20,-1926607734),i=a(i,h,f,c,e[t+5],4,-378558),c=a(c,i,h,f,e[t+8],11,-2022574463),f=a(f,c,i,h,e[t+11],16,1839030562),h=a(h,f,c,i,e[t+14],23,-35309556),i=a(i,h,f,c,e[t+1],4,-1530992060),c=a(c,i,h,f,e[t+4],11,1272893353),f=a(f,c,i,h,e[t+7],16,-155497632),h=a(h,f,c,i,e[t+10],23,-1094730640),i=a(i,h,f,c,e[t+13],4,681279174),c=a(c,i,h,f,e[t],11,-358537222),f=a(f,c,i,h,e[t+3],16,-722521979),h=a(h,f,c,i,e[t+6],23,76029189),i=a(i,h,f,c,e[t+9],4,-640364487),c=a(c,i,h,f,e[t+12],11,-421815835),f=a(f,c,i,h,e[t+15],16,530742520),h=a(h,f,c,i,e[t+2],23,-995338651),i=u(i,h,f,c,e[t],6,-198630844),c=u(c,i,h,f,e[t+7],10,1126891415),f=u(f,c,i,h,e[t+14],15,-1416354905),h=u(h,f,c,i,e[t+5],21,-57434055),i=u(i,h,f,c,e[t+12],6,1700485571),c=u(c,i,h,f,e[t+3],10,-1894986606),f=u(f,c,i,h,e[t+10],15,-1051523),h=u(h,f,c,i,e[t+1],21,-2054922799),i=u(i,h,f,c,e[t+8],6,1873313359),c=u(c,i,h,f,e[t+15],10,-30611744),f=u(f,c,i,h,e[t+6],15,-1560198380),h=u(h,f,c,i,e[t+13],21,1309151649),i=u(i,h,f,c,e[t+4],6,-145523070),c=u(c,i,h,f,e[t+11],10,-1120210379),f=u(f,c,i,h,e[t+2],15,718787259),h=u(h,f,c,i,e[t+9],21,-343485551),i=n(i,r),h=n(h,l),f=n(f,d),c=n(c,p)}return[i,h,f,c]}(function(e){if(0===e.length)return[];const t=8*e.length,n=new Uint32Array(r(t));for(let r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))}},4790:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};t.default=r},6314:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default="00000000-0000-0000-0000-000000000000"},8222:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(6435))&&n.__esModule?n:{default:n};t.default=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r}},58:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},3319:(e,t)=>{"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!r&&(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(n)};const n=new Uint8Array(16)},3757:(e,t)=>{"use strict";function r(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function n(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){const t=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s);for(let t=0;t<s;++t){const r=new Uint32Array(16);for(let n=0;n<16;++n)r[n]=e[64*t+4*n]<<24|e[64*t+4*n+1]<<16|e[64*t+4*n+2]<<8|e[64*t+4*n+3];a[t]=r}a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<s;++e){const o=new Uint32Array(80);for(let t=0;t<16;++t)o[t]=a[e][t];for(let e=16;e<80;++e)o[e]=n(o[e-3]^o[e-8]^o[e-14]^o[e-16],1);let s=i[0],u=i[1],h=i[2],f=i[3],c=i[4];for(let e=0;e<80;++e){const i=Math.floor(e/20),a=n(s,5)+r(i,u,h,f)+c+t[i]+o[e]>>>0;c=f,f=h,h=n(u,30)>>>0,u=s,s=a}i[0]=i[0]+s>>>0,i[1]=i[1]+u>>>0,i[2]=i[2]+h>>>0,i[3]=i[3]+f>>>0,i[4]=i[4]+c>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]}},4008:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=s;var n,i=(n=r(6435))&&n.__esModule?n:{default:n};const o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));function s(e,t=0){return(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase()}t.default=function(e,t=0){const r=s(e,t);if(!(0,i.default)(r))throw TypeError("Stringified UUID is invalid");return r}},3990:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(3319))&&n.__esModule?n:{default:n},o=r(4008);let s,a,u=0,h=0;t.default=function(e,t,r){let n=t&&r||0;const f=t||new Array(16);let c=(e=e||{}).node||s,l=void 0!==e.clockseq?e.clockseq:a;if(null==c||null==l){const t=e.random||(e.rng||i.default)();null==c&&(c=s=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==l&&(l=a=16383&(t[6]<<8|t[7]))}let d=void 0!==e.msecs?e.msecs:Date.now(),p=void 0!==e.nsecs?e.nsecs:h+1;const y=d-u+(p-h)/1e4;if(y<0&&void 0===e.clockseq&&(l=l+1&16383),(y<0||d>u)&&void 0===e.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=d,h=p,a=l,d+=122192928e5;const m=(1e4*(268435455&d)+p)%4294967296;f[n++]=m>>>24&255,f[n++]=m>>>16&255,f[n++]=m>>>8&255,f[n++]=255&m;const g=d/4294967296*1e4&268435455;f[n++]=g>>>8&255,f[n++]=255&g,f[n++]=g>>>24&15|16,f[n++]=g>>>16&255,f[n++]=l>>>8|128,f[n++]=255&l;for(let e=0;e<6;++e)f[n+e]=c[e];return t||(0,o.unsafeStringify)(f)}},8237:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(7925)),i=o(r(4163));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,n.default)("v3",48,i.default);t.default=s},7925:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,r){function n(e,n,s,a){var u;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=(0,o.default)(n)),16!==(null===(u=n)||void 0===u?void 0:u.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let h=new Uint8Array(16+e.length);if(h.set(n),h.set(e,n.length),h=r(h),h[6]=15&h[6]|t,h[8]=63&h[8]|128,s){a=a||0;for(let e=0;e<16;++e)s[a+e]=h[e];return s}return(0,i.unsafeStringify)(h)}try{n.name=e}catch(e){}return n.DNS=s,n.URL=a,n};var n,i=r(4008),o=(n=r(8222))&&n.__esModule?n:{default:n};const s="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=s;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=a},5355:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(4790)),i=s(r(3319)),o=r(4008);function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,r){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();const s=(e=e||{}).random||(e.rng||i.default)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=s[e];return t}return(0,o.unsafeStringify)(s)}},3764:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(7925)),i=o(r(3757));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,n.default)("v5",80,i.default);t.default=s},6435:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(58))&&n.__esModule?n:{default:n};t.default=function(e){return"string"==typeof e&&i.default.test(e)}},8464:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(6435))&&n.__esModule?n:{default:n};t.default=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},7795:(e,t,r)=>{"use strict";var n=r(9509).Buffer;function i(e){if(e<0||e>9007199254740991||e%1!=0)throw new RangeError("value out of range")}function o(e){return i(e),e<253?1:e<=65535?3:e<=4294967295?5:9}e.exports={encode:function e(t,r,s){if(i(t),r||(r=n.allocUnsafe(o(t))),!n.isBuffer(r))throw new TypeError("buffer must be a Buffer instance");return s||(s=0),t<253?(r.writeUInt8(t,s),e.bytes=1):t<=65535?(r.writeUInt8(253,s),r.writeUInt16LE(t,s+1),e.bytes=3):t<=4294967295?(r.writeUInt8(254,s),r.writeUInt32LE(t,s+1),e.bytes=5):(r.writeUInt8(255,s),r.writeUInt32LE(t>>>0,s+1),r.writeUInt32LE(t/4294967296|0,s+5),e.bytes=9),r},decode:function e(t,r){if(!n.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");r||(r=0);var o=t.readUInt8(r);if(o<253)return e.bytes=1,o;if(253===o)return e.bytes=3,t.readUInt16LE(r+1);if(254===o)return e.bytes=5,t.readUInt32LE(r+1);e.bytes=9;var s=t.readUInt32LE(r+1),a=4294967296*t.readUInt32LE(r+5)+s;return i(a),a},encodingLength:o}},3150:function(e,t){var r,n;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=function(e){"use strict";if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(void 0===globalThis.browser||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const t="The message port closed before a response was received.",r=e=>{const r={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(r).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class n extends WeakMap{constructor(e,t){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const i=(t,r)=>(...n)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):r.singleCallbackArg||n.length<=1&&!1!==r.singleCallbackArg?t.resolve(n[0]):t.resolve(n)},o=e=>1==e?"argument":"arguments",s=(e,t,r)=>new Proxy(t,{apply:(t,n,i)=>r.call(n,e,...i)});let a=Function.call.bind(Object.prototype.hasOwnProperty);const u=(e,t={},r={})=>{let n=Object.create(null),h={has:(t,r)=>r in e||r in n,get(h,f,c){if(f in n)return n[f];if(!(f in e))return;let l=e[f];if("function"==typeof l)if("function"==typeof t[f])l=s(e,e[f],t[f]);else if(a(r,f)){let t=((e,t)=>function(r,...n){if(n.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${o(t.minArgs)} for ${e}(), got ${n.length}`);if(n.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${o(t.maxArgs)} for ${e}(), got ${n.length}`);return new Promise(((o,s)=>{if(t.fallbackToNoCallback)try{r[e](...n,i({resolve:o,reject:s},t))}catch(i){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,i),r[e](...n),t.fallbackToNoCallback=!1,t.noCallback=!0,o()}else t.noCallback?(r[e](...n),o()):r[e](...n,i({resolve:o,reject:s},t))}))})(f,r[f]);l=s(e,e[f],t)}else l=l.bind(e);else if("object"==typeof l&&null!==l&&(a(t,f)||a(r,f)))l=u(l,t[f],r[f]);else{if(!a(r,"*"))return Object.defineProperty(n,f,{configurable:!0,enumerable:!0,get:()=>e[f],set(t){e[f]=t}}),l;l=u(l,t[f],r["*"])}return n[f]=l,l},set:(t,r,i,o)=>(r in n?n[r]=i:e[r]=i,!0),defineProperty:(e,t,r)=>Reflect.defineProperty(n,t,r),deleteProperty:(e,t)=>Reflect.deleteProperty(n,t)},f=Object.create(e);return new Proxy(f,h)},h=e=>({addListener(t,r,...n){t.addListener(e.get(r),...n)},hasListener:(t,r)=>t.hasListener(e.get(r)),removeListener(t,r){t.removeListener(e.get(r))}}),f=new n((e=>"function"!=typeof e?e:function(t){const r=u(t,{},{getContent:{minArgs:0,maxArgs:0}});e(r)})),c=new n((e=>"function"!=typeof e?e:function(t,r,n){let i,o,s=!1,a=new Promise((e=>{i=function(t){s=!0,e(t)}}));try{o=e(t,r,i)}catch(e){o=Promise.reject(e)}const u=!0!==o&&((h=o)&&"object"==typeof h&&"function"==typeof h.then);var h;if(!0!==o&&!u&&!s)return!1;return(u?o:a).then((e=>{n(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",n({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)})),!0})),l=({reject:r,resolve:n},i)=>{e.runtime.lastError?e.runtime.lastError.message===t?n():r(new Error(e.runtime.lastError.message)):i&&i.__mozWebExtensionPolyfillReject__?r(new Error(i.message)):n(i)},d=(e,t,r,...n)=>{if(n.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${o(t.minArgs)} for ${e}(), got ${n.length}`);if(n.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${o(t.maxArgs)} for ${e}(), got ${n.length}`);return new Promise(((e,t)=>{const i=l.bind(null,{resolve:e,reject:t});n.push(i),r.sendMessage(...n)}))},p={devtools:{network:{onRequestFinished:h(f)}},runtime:{onMessage:h(c),onMessageExternal:h(c),sendMessage:d.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:d.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},y={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return r.privacy={network:{"*":y},services:{"*":y},websites:{"*":y}},u(e,p,r)};e.exports=r(chrome)}else e.exports=globalThis.browser},void 0===(n=r.apply(t,[e]))||(e.exports=n)},7174:(e,t,r)=>{var n=r(8764).Buffer,i=r(8334);function o(e,t){if(void 0!==t&&e[0]!==t)throw new Error("Invalid network version");if(33===e.length)return{version:e[0],privateKey:e.slice(1,33),compressed:!1};if(34!==e.length)throw new Error("Invalid WIF length");if(1!==e[33])throw new Error("Invalid compression flag");return{version:e[0],privateKey:e.slice(1,33),compressed:!0}}function s(e,t,r){var i=new n(r?34:33);return i.writeUInt8(e,0),t.copy(i,1),r&&(i[33]=1),i}e.exports={decode:function(e,t){return o(i.decode(e),t)},decodeRaw:o,encode:function(e,t,r){return"number"==typeof e?i.encode(s(e,t,r)):i.encode(s(e.version,e.privateKey,e.compressed))},encodeRaw:s}},5856:()=>{},9159:()=>{},5883:()=>{},6601:()=>{},9214:()=>{},2361:()=>{},4616:()=>{},8616:(e,t,r)=>{var n=r(2164);const i="ES256K",o=/^[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*$/,s="https://www.w3.org/2018/credentials/v1",a="VerifiableCredential",u="VerifiablePresentation",h="JwtProof2020",f=["evidence","termsOfUse","refreshService","credentialSchema","credentialStatus"];function c(e){return Array.isArray(e)?e:[e]}function l(e){return Array.isArray(e)?e.map((e=>l(e))):e instanceof Date?new Date(e.getTime()):e&&"object"==typeof e?Object.getOwnPropertyNames(e).reduce(((t,r)=>(Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r)),t[r]=l(e[r]),t)),Object.create(Object.getPrototypeOf(e))):e}function d(e){return null!=e}function p(e,t=!0){var r,n,i,o;let u=l(e);var h,p,y;"object"==typeof(h=e)&&h.sub&&h.iss&&h.claim&&h.iat&&(u=function(e){const{iat:t,nbf:r,claim:n,vc:i,...o}=e,u={...o,nbf:r||t,vc:{"@context":[s],type:[a],credentialSubject:n}};return i&&(e.issVc=i),u}(e)),u.credentialSubject={...e.credentialSubject,...null==(r=e.vc)?void 0:r.credentialSubject},!e.sub||null!=(n=e.credentialSubject)&&n.id||!u.credentialSubject||(u.credentialSubject.id=e.sub,t&&delete u.sub),t&&(null==(p=u.vc)||delete p.credentialSubject),void 0!==e.issuer&&"object"!=typeof e.issuer||(u.issuer=function(e){if("object"!=typeof e)return e;const t={...e};return Object.keys(t).forEach((e=>void 0===t[e]&&delete t[e])),t}({id:e.iss,...e.issuer}),!t||null!=(y=e.issuer)&&y.id||delete u.iss),!e.id&&e.jti&&(u.id=u.id||u.jti,t&&delete u.jti);const m=[...c(u.type),...c(null==(i=u.vc)?void 0:i.type)].filter(d);var g;u.type=[...new Set(m)],t&&(null==(g=u.vc)||delete g.type);for(const r of f)e.vc&&e.vc[r]&&(u[r]||(u[r]=e.vc[r]),t&&delete u.vc[r]);const b=[...c(e.context),...c(e["@context"]),...c(null==(o=e.vc)?void 0:o["@context"])].filter(d);var w;return u["@context"]=[...new Set(b)],t&&(delete u.context,null==(w=u.vc)||delete w["@context"]),e.issuanceDate||!e.iat&&!e.nbf||(u.issuanceDate=new Date(1e3*(e.nbf||e.iat)).toISOString(),t&&(e.nbf?delete u.nbf:delete u.iat)),!e.expirationDate&&e.exp&&(u.expirationDate=new Date(1e3*e.exp).toISOString(),t&&delete u.exp),t&&u.vc&&0===Object.keys(u.vc).length&&delete u.vc,u}function y(e,t=!0){let r;try{r=n.decodeJWT(e)}catch(e){throw new TypeError("unknown credential format")}return{...p(r.payload,t),proof:{type:h,jwt:e}}}function m(e,t=!0){var r;if("string"==typeof e){if(o.test(e))return y(e,t);{let r;try{r=JSON.parse(e)}catch(e){throw new TypeError("unknown credential format")}return m(r,t)}}return null!=(r=e.proof)&&r.jwt?l({...y(e.proof.jwt,t),proof:e.proof}):{proof:{},...p(e,t)}}function g(e,t=!0){var r,n,i;if(Array.isArray(e.credentialSubject))throw Error("credentialSubject of type array not supported");const o=l({vc:{...e.vc},...e});o.vc=o.vc;const s={...e.credentialSubject,...null==(r=e.vc)?void 0:r.credentialSubject};var a;e.sub||(o.sub=null==(a=e.credentialSubject)?void 0:a.id,t&&delete s.id);const u=[...c(e.context),...c(e["@context"]),...c(null==(n=e.vc)?void 0:n["@context"])].filter(d);o.vc["@context"]=[...new Set(u)],t&&(delete o.context,delete o["@context"]);const h=[...c(e.type),...c(null==(i=e.vc)?void 0:i.type)].filter(d);if(o.vc.type=[...new Set(h)],t&&delete o.type,e.id&&-1===Object.getOwnPropertyNames(e).indexOf("jti")&&(o.jti=e.id,t&&delete o.id),e.issuanceDate&&-1===Object.getOwnPropertyNames(e).indexOf("nbf")){const r=Date.parse(e.issuanceDate);isNaN(r)||(o.nbf=Math.floor(r/1e3),t&&delete o.issuanceDate)}if(e.expirationDate&&-1===Object.getOwnPropertyNames(e).indexOf("exp")){const r=Date.parse(e.expirationDate);isNaN(r)||(o.exp=Math.floor(r/1e3),t&&delete o.expirationDate)}var p;e.issuer&&-1===Object.getOwnPropertyNames(e).indexOf("iss")&&("object"==typeof e.issuer?(o.iss=null==(p=e.issuer)?void 0:p.id,t&&(delete o.issuer.id,0===Object.keys(o.issuer).length&&delete o.issuer)):"string"==typeof e.issuer&&(o.iss=e.iss||""+e.issuer,t&&delete o.issuer)),o.vc.credentialSubject=s,t&&delete o.credentialSubject;for(const r of f)e[r]&&(o.vc[r]||(o.vc[r]=e[r]),t&&delete o[r]);return o}function b(e,t=!0){var r,n,i;const o=l(e);var s;o.verifiableCredential=[...c(e.verifiableCredential),...c(null==(r=e.vp)?void 0:r.verifiableCredential)].filter(d),o.verifiableCredential=o.verifiableCredential.map((e=>m(e,t))),t&&(null==(s=o.vp)||delete s.verifiableCredential),e.iss&&!e.holder&&(o.holder=e.iss,t&&delete o.iss),e.aud&&(o.verifier=[...c(e.verifier),...c(e.aud)].filter(d),o.verifier=[...new Set(o.verifier)],t&&delete o.aud),e.jti&&-1===Object.getOwnPropertyNames(e).indexOf("id")&&(o.id=e.id||e.jti,t&&delete o.jti);const a=[...c(e.type),...c(null==(n=e.vp)?void 0:n.type)].filter(d);var u;o.type=[...new Set(a)],t&&(null==(u=o.vp)||delete u.type);const h=[...c(e.context),...c(e["@context"]),...c(null==(i=e.vp)?void 0:i["@context"])].filter(d);var f;return o["@context"]=[...new Set(h)],t&&(delete o.context,null==(f=o.vp)||delete f["@context"]),e.issuanceDate||!e.iat&&!e.nbf||(o.issuanceDate=new Date(1e3*(e.nbf||e.iat)).toISOString(),t&&(e.nbf?delete o.nbf:delete o.iat)),!e.expirationDate&&e.exp&&(o.expirationDate=new Date(1e3*e.exp).toISOString(),t&&delete o.exp),o.vp&&0===Object.keys(o.vp).length&&t&&delete o.vp,o}function w(e,t=!0){let r;try{r=n.decodeJWT(e)}catch(e){throw new TypeError("unknown presentation format")}return{...b(r.payload,t),proof:{type:h,jwt:e}}}function v(e,t=!0){var r;if("string"==typeof e){if(o.test(e))return w(e,t);{let r;try{r=JSON.parse(e)}catch(e){throw new TypeError("unknown presentation format")}return v(r,t)}}return null!=(r=e.proof)&&r.jwt?{...w(e.proof.jwt,t),proof:e.proof}:{proof:{},...b(e,t)}}function _(e,t=!0){var r,n,i;const o=l({vp:{...e.vp},...e});o.vp=o.vp;const s=[...c(e.context),...c(e["@context"]),...c(null==(r=e.vp)?void 0:r["@context"])].filter(d);o.vp["@context"]=[...new Set(s)],t&&(delete o.context,delete o["@context"]);const a=[...c(e.type),...c(null==(n=e.vp)?void 0:n.type)].filter(d);if(o.vp.type=[...new Set(a)],t&&delete o.type,e.id&&-1===Object.getOwnPropertyNames(e).indexOf("jti")&&(o.jti=e.id,t&&delete o.id),e.issuanceDate&&-1===Object.getOwnPropertyNames(e).indexOf("nbf")){const r=Date.parse(e.issuanceDate);isNaN(r)||(o.nbf=Math.floor(r/1e3),t&&delete o.issuanceDate)}if(e.expirationDate&&-1===Object.getOwnPropertyNames(e).indexOf("exp")){const r=Date.parse(e.expirationDate);isNaN(r)||(o.exp=Math.floor(r/1e3),t&&delete o.expirationDate)}var u;if((o.verifiableCredential||null!=(i=o.vp)&&i.verifiableCredential)&&(o.vp.verifiableCredential=[...c(o.verifiableCredential),...c(null==(u=o.vp)?void 0:u.verifiableCredential)].filter(d).map((e=>{var t;return"object"==typeof e&&null!=(t=e.proof)&&t.jwt?e.proof.jwt:e}))),t&&delete o.verifiableCredential,e.holder&&-1===Object.getOwnPropertyNames(e).indexOf("iss")&&"string"==typeof e.holder&&(o.iss=e.holder,t&&delete o.holder),e.verifier){const r=[...c(e.verifier),...c(e.aud)].filter(d);o.aud=[...new Set(r)],t&&delete o.verifier}return o}const E={SCHEMA_ERROR:"schema_error",FORMAT_ERROR:"format_error",AUTH_ERROR:"auth_error"},S={...E,...n.JWT_ERROR};function M(e){if("string"==typeof e&&!e.match(o))throw new TypeError(`${E.FORMAT_ERROR}: "${e}" is not a valid JWT format`)}function A(e){if("number"==typeof e){if(!(Number.isInteger(e)&&e<1e11))throw new TypeError(`${E.SCHEMA_ERROR}: "${e}" is not a unix timestamp in seconds`)}else if("string"==typeof e)A(Math.floor(new Date(e).valueOf()/1e3));else if(!(t=e)||isNaN(t)||"[object Date]"!==Object.prototype.toString.call(t))throw new TypeError(`${E.SCHEMA_ERROR}: "${e}" is not a valid time`);var t}function k(e){const t=c(e);if(t.length<1||-1===t.indexOf(s))throw new TypeError(`${E.SCHEMA_ERROR}: @context is missing default context "${s}"`)}function x(e){const t=c(e);if(t.length<1||-1===t.indexOf(a))throw new TypeError(`${E.SCHEMA_ERROR}: type is missing default "${a}"`)}function T(e){const t=c(e);if(t.length<1||-1===t.indexOf(u))throw new TypeError(`${E.SCHEMA_ERROR}: type is missing default "${u}"`)}function P(e){if(0===Object.keys(e).length)throw new TypeError(`${E.SCHEMA_ERROR}: credentialSubject must not be empty`)}function I(e){k(e.vc["@context"]),x(e.vc.type),P(e.vc.credentialSubject),e.nbf&&A(e.nbf),e.exp&&A(e.exp)}function R(e){k(e["@context"]),x(e.type),P(e.credentialSubject),e.issuanceDate&&A(e.issuanceDate),e.expirationDate&&A(e.expirationDate)}function O(e){if(k(e.vp["@context"]),T(e.vp.type),e.vp.verifiableCredential&&e.vp.verifiableCredential.length>=1)for(const t of c(e.vp.verifiableCredential))"string"==typeof t?M(t):R(t);e.exp&&A(e.exp)}function B(e){if(k(e["@context"]),T(e.type),e.verifiableCredential&&e.verifiableCredential.length>=1)for(const t of e.verifiableCredential)"string"==typeof t?M(t):R(t);e.expirationDate&&A(e.expirationDate)}function C(e,t){if(t.challenge&&t.challenge!==e.nonce)throw new Error(`${E.AUTH_ERROR}: Presentation does not contain the mandatory challenge (JWT: nonce) for : ${t.challenge}`);if(t.domain){let r;if(e.aud&&(r=(Array.isArray(e.aud)?e.aud:[e.aud]).find((e=>t.domain===e))),void 0===r)throw new Error(`${E.AUTH_ERROR}: Presentation does not contain the mandatory domain (JWT: aud) for : ${t.domain}`)}}t.VC_ERROR=E,t.VC_JWT_ERROR=S,t.createVerifiableCredentialJwt=function(e,t,r={}){try{var o;const s={iat:void 0,...g(e,r.removeOriginalFields)};return I(s),Promise.resolve(n.createJWT(s,{...r,issuer:t.did||s.iss||"",signer:t.signer},{...r.header,alg:t.alg||(null==(o=r.header)?void 0:o.alg)||i}))}catch(e){return Promise.reject(e)}},t.createVerifiablePresentationJwt=function(e,t,r={}){try{var o;const s={iat:void 0,..._(e,null==r?void 0:r.removeOriginalFields)};if(r.challenge&&-1===Object.getOwnPropertyNames(s).indexOf("nonce")&&(s.nonce=r.challenge),r.domain){const e=[...c(r.domain),...c(s.aud)].filter(d);s.aud=[...new Set(e)]}return O(s),Promise.resolve(n.createJWT(s,{...r,issuer:t.did||s.iss||"",signer:t.signer},{...r.header,alg:t.alg||(null==(o=r.header)?void 0:o.alg)||i}))}catch(e){return Promise.reject(e)}},t.normalizeCredential=m,t.normalizePresentation=v,t.transformCredentialInput=g,t.transformPresentationInput=_,t.validateCredentialPayload=R,t.validateJwtCredentialPayload=I,t.validateJwtPresentationPayload=O,t.validatePresentationPayload=B,t.verifyCredential=function(e,t,r={}){try{var i,o,s,a,u;const h=!1!==(null==(i=r)||null==(o=i.policies)?void 0:o.issuanceDate)&&void 0,f=!1!==(null==(s=r)||null==(a=s.policies)?void 0:a.expirationDate)&&void 0;return r={...r,policies:{...null==(u=r)?void 0:u.policies,nbf:h,exp:f,iat:h}},Promise.resolve(n.verifyJWT(e,{resolver:t,...r})).then((function(e){var t,n,i;return e.verifiableCredential=m(e.jwt,null==(t=r)?void 0:t.removeOriginalFields),!1!==(null==(n=r)||null==(i=n.policies)?void 0:i.format)&&R(e.verifiableCredential),e}))}catch(e){return Promise.reject(e)}},t.verifyPresentation=function(e,t,r={}){try{var i,o,s,a,u;const h=!1!==(null==(i=r)||null==(o=i.policies)?void 0:o.issuanceDate)&&void 0,f=!1!==(null==(s=r)||null==(a=s.policies)?void 0:a.expirationDate)&&void 0;return r={audience:r.domain,...r,policies:{...null==(u=r)?void 0:u.policies,nbf:h,exp:f,iat:h}},Promise.resolve(n.verifyJWT(e,{resolver:t,...r})).then((function(e){var t,n,i;return C(e.payload,r),e.verifiablePresentation=v(e.jwt,null==(t=r)?void 0:t.removeOriginalFields),!1!==(null==(n=r)||null==(i=n.policies)?void 0:i.format)&&B(e.verifiablePresentation),e}))}catch(e){return Promise.reject(e)}},t.verifyPresentationPayloadOptions=C},2164:(e,t,r)=>{var n=r(733),i=r(8503),o=r(3294),s=r(1094),a=r(6266),u=r(1050),h=r(5456),f=r(7715),c=r(7664),l=r(9375),d=r(1416),p=r(2217);function y(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,t}var g=m(n),b=y(s),w=y(a),v=y(h);function _(e){return g.toString(e,"base64url")}function E(e){const t=e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return g.fromString(t,"base64url")}function S(e){return g.fromString(e,"base58btc")}function M(e){const t=e.startsWith("0x")?e.substring(2):e;return g.fromString(t.toLowerCase(),"base16")}function A(e){return _(g.fromString(e))}function k(e){return g.toString(E(e))}function x(e){return g.toString(e,"base16")}function T(e){return g.fromString(e)}function P({r:e,s:t,recoveryParam:r},n){const i=new Uint8Array(n?65:64);if(i.set(g.fromString(e,"base16"),0),i.set(g.fromString(t,"base16"),32),n){if(void 0===r)throw new Error("Signer did not return a recoveryParam");i[64]=r}return _(i)}function I(e){const t=E(e);if(t.length<64||t.length>65)throw new TypeError(`Wrong size for signature. Expected 64 or 65 bytes, but got ${t.length}`);return{r:x(t.slice(0,32)),s:x(t.slice(32,64)),recoveryParam:65===t.length?t[64]:void 0}}function R(e,t){return g.concat([E(e),E(t)])}function O(e,t=64){return e.length===t?e:"0".repeat(t-e.length)+e}const B=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],C=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],L=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],j=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],D=[0,1518500249,1859775393,2400959708,2840853838],N=[1352829926,1548603684,1836072691,2053994217,0];function U(e,t){return e<<t|e>>>32-t}function H(e,t,r,n,i,o,s,a){return U(e+(t^r^n)+o+s|0,a)+i|0}function z(e,t,r,n,i,o,s,a){return U(e+(t&r|~t&n)+o+s|0,a)+i|0}function F(e,t,r,n,i,o,s,a){return U(e+((t|~r)^n)+o+s|0,a)+i|0}function q(e,t,r,n,i,o,s,a){return U(e+(t&n|r&~n)+o+s|0,a)+i|0}function $(e,t,r,n,i,o,s,a){return U(e+(t^(r|~n))+o+s|0,a)+i|0}class K{constructor(e=64){this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this._blockOffset=0,this._block=void 0,this._blockSize=void 0,this._length=[0,0,0,0],this._finalized=void 0,this.update=e=>{if(this._finalized)throw new Error("Digest already called");const t=this._block;let r=0;for(;this._blockOffset+e.length-r>=this._blockSize;){for(let n=this._blockOffset;n<this._blockSize;)t[n++]=e[r++];this._update(),this._blockOffset=0}for(;r<e.length;)t[this._blockOffset++]=e[r++];for(let t=0,r=8*e.length;r>0;++t)this._length[t]+=r,r=this._length[t]/4294967296|0,r>0&&(this._length[t]-=4294967296*r);return this},this.digest=()=>{if(this._finalized)throw new Error("Digest already called");this._finalized=!0;const e=this._digest();this._block.fill(0),this._blockOffset=0;for(let e=0;e<4;++e)this._length[e]=0;return e},this._update=()=>{const e=new Array(16),t=new DataView(this._block.buffer);for(let r=0;r<16;++r)e[r]=e[r]=t.getInt32(4*r,!0);let r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,s=0|this._e,a=0|this._a,u=0|this._b,h=0|this._c,f=0|this._d,c=0|this._e;for(let t=0;t<80;t+=1){let l,d;t<16?(l=H(r,n,i,o,s,e[B[t]],D[0],L[t]),d=$(a,u,h,f,c,e[C[t]],N[0],j[t])):t<32?(l=z(r,n,i,o,s,e[B[t]],D[1],L[t]),d=q(a,u,h,f,c,e[C[t]],N[1],j[t])):t<48?(l=F(r,n,i,o,s,e[B[t]],D[2],L[t]),d=F(a,u,h,f,c,e[C[t]],N[2],j[t])):t<64?(l=q(r,n,i,o,s,e[B[t]],D[3],L[t]),d=z(a,u,h,f,c,e[C[t]],N[3],j[t])):(l=$(r,n,i,o,s,e[B[t]],D[4],L[t]),d=H(a,u,h,f,c,e[C[t]],N[4],j[t])),r=s,s=o,o=U(i,10),i=n,n=l,a=c,c=f,f=U(h,10),h=u,u=d}const l=this._b+i+f|0;this._b=this._c+o+c|0,this._c=this._d+s+a|0,this._d=this._e+r+u|0,this._e=this._a+n+h|0,this._a=l},this._digest=()=>{this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56);const e=new DataView(this._block.buffer);e.setUint32(56,this._length[0],!0),e.setUint32(60,this._length[1],!0),this._block=new Uint8Array(e.buffer),this._update();const t=new DataView(new Uint8Array(20).buffer);return t.setInt32(0,this._a,!0),t.setInt32(4,this._b,!0),t.setInt32(8,this._c,!0),t.setInt32(12,this._d,!0),t.setInt32(16,this._e,!0),new Uint8Array(t.buffer)},this._block=new Uint8Array(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}}function V(e){const t="string"==typeof e?g.fromString(e):e;return o.hash(t)}function W(e){const t=g.fromString(e.slice(2),"base16");return`0x${g.toString((r=t,new Uint8Array(b.default.keccak_256.arrayBuffer(r))).slice(-20),"base16")}`;var r}function G(e){return(new K).update(e).digest()}function Y(e,t=new Uint8Array(4)){const r=g.fromString(e.toString(),"base10");return t.set(r,4-r.length),t}const J=e=>g.concat([Y(e.length),e]);function Z(e,t,r,n,i){if(256!==t)throw new Error(`Unsupported key length: ${t}`);const o=g.concat([J(g.fromString(r)),J(void 0===n?new Uint8Array(0):n),J(void 0===i?new Uint8Array(0):i),Y(t)]);return V(g.concat([Y(1),e,o]))}const X=new w.default.ec("secp256k1");function Q(e,t=!1){const r=e;if(32!==r.length)throw new Error(`bad_key: Invalid private key format. Expecting 32 bytes, but got ${r.length}`);const n=X.keyFromPrivate(r);return function(e){try{const{r,s:i,recoveryParam:o}=n.sign(V(e));return Promise.resolve(P({r:O(r.toString("hex")),s:O(i.toString("hex")),recoveryParam:o},t))}catch(e){return Promise.reject(e)}}}function ee(e){const t=e;if(64!==t.length)throw new Error(`bad_key: Invalid private key format. Expecting 64 bytes, but got ${t.length}`);return function(e){try{const r="string"==typeof e?T(e):e,n=u.sign(t,r);return Promise.resolve(_(n))}catch(e){return Promise.reject(e)}}}const te=new w.default.ec("p256");function re(e){return"object"==typeof e&&"r"in e&&"s"in e}function ne(e){return function(t,r){try{return Promise.resolve(r(t)).then((function(t){if(re(t))return P(t,e);if(e&&void 0===I(t).recoveryParam)throw new Error("not_supported: ES256K-R not supported when signer doesn't provide a recovery param");return t}))}catch(e){return Promise.reject(e)}}}function ie(){return function(e,t){try{return Promise.resolve(t(e)).then((function(e){if(re(e))throw new Error("invalid_config: expected a signer function that returns a string instead of signature object");return e}))}catch(e){return Promise.reject(e)}}}const oe={ES256:function(e,t){try{return Promise.resolve(t(e)).then((function(e){return re(e)?P(e):e}))}catch(e){return Promise.reject(e)}},ES256K:ne(),"ES256K-R":ne(!0),Ed25519:ie(),EdDSA:ie()},se=w.default.ec,ae=(e,t)=>{if(t){const r=t.split(":");switch(r[0]){case"bip122":r[r.length-1]=((e,t)=>{const r=g.toString(S(t).slice(0,1),"hex"),n=G(V(g.fromString(e,"hex"))),i=r+g.toString(n,"hex"),o=V(g.fromString(i,"hex")),s=V(o),a=i+g.toString(s,"hex").substring(0,8);return u=g.fromString(a,"hex"),g.toString(u,"base58btc");var u})(e,r[r.length-1]);break;case"cosmos":r[r.length-1]=((e,t)=>{const r=new se("secp256k1").keyFromPublic(e,"hex").getPublic().encode("hex",!0),n=G(V(g.fromString(r,"hex"))),i=f.bech32.toWords(n);return f.bech32.encode(t,i).replace(t,"")})(e,r[1]);break;case"eip155":r[r.length-1]=W(e);break;default:return!1}return r.join(":").toLowerCase()===t.toLowerCase()}return!1},ue=new w.default.ec("secp256k1"),he=new w.default.ec("p256");function fe(e,t=!1){const r=E(e);if(r.length!==(t?65:64))throw new Error("wrong signature length");const n={r:x(r.slice(0,32)),s:x(r.slice(32,64))};return t&&(n.recoveryParam=r[64]),n}function ce(e){if(e.publicKeyBase58)return S(e.publicKeyBase58);if(e.publicKeyBase64)return E(e.publicKeyBase64);if(e.publicKeyHex)return M(e.publicKeyHex);if(e.publicKeyJwk&&"secp256k1"===e.publicKeyJwk.crv&&e.publicKeyJwk.x&&e.publicKeyJwk.y)return M(ue.keyFromPublic({x:x(E(e.publicKeyJwk.x)),y:x(E(e.publicKeyJwk.y))}).getPublic("hex"));if(e.publicKeyJwk&&"P-256"===e.publicKeyJwk.crv&&e.publicKeyJwk.x&&e.publicKeyJwk.y)return M(he.keyFromPublic({x:x(E(e.publicKeyJwk.x)),y:x(E(e.publicKeyJwk.y))}).getPublic("hex"));if(e.publicKeyJwk&&"OKP"===e.publicKeyJwk.kty&&"Ed25519"===e.publicKeyJwk.crv&&e.publicKeyJwk.x)return E(e.publicKeyJwk.x);if(e.publicKeyMultibase){const{base16:t,base58btc:r,base64:n,base64url:o}=i.bases;return t.decoder.or(r.decoder.or(n.decoder.or(o.decoder))).decode(e.publicKeyMultibase)}return new Uint8Array}function le(e,t,r){let n;if(t.length>86)n=[fe(t,!0)];else{const e=fe(t,!1);n=[{...e,recoveryParam:0},{...e,recoveryParam:1}]}const i=n.map((t=>{const n=V(e),i=ue.recoverPubKey(n,t,t.recoveryParam),o=i.encode("hex"),s=i.encode("hex",!0),a=W(o).toLowerCase();return r.find((e=>{var t,r,n;const i=x(ce(e));return i===o||i===s||(null==(t=e.ethereumAddress)?void 0:t.toLowerCase())===a||(null==(r=e.blockchainAccountId)||null==(n=r.split("@eip155"))?void 0:n[0].toLowerCase())===a||ae(o,e.blockchainAccountId)}))})).filter((e=>void 0!==e));if(0===i.length)throw new Error("invalid_signature: Signature invalid for JWT");return i[0]}function de(e,t,r){const n=T(e),i=E(t),o=r.find((e=>u.verify(ce(e),n,i)));if(!o)throw new Error("invalid_signature: Signature invalid for JWT");return o}const pe={ES256:function(e,t,r){const n=V(e),i=fe(t),o=r.filter((({ethereumAddress:e,blockchainAccountId:t})=>void 0===e&&void 0===t)).find((e=>{try{const t=ce(e);return he.keyFromPublic(t).verify(n,i)}catch(e){return!1}}));if(!o)throw new Error("invalid_signature: Signature invalid for JWT");return o},ES256K:function(e,t,r){const n=V(e),i=fe(t),o=r.filter((({ethereumAddress:e,blockchainAccountId:t})=>void 0===e&&void 0===t)),s=r.filter((({ethereumAddress:e,blockchainAccountId:t})=>void 0!==e||void 0!==t));let a=o.find((e=>{try{const t=ce(e);return ue.keyFromPublic(t).verify(n,i)}catch(e){return!1}}));if(!a&&s.length>0&&(a=le(e,t,s)),!a)throw new Error("invalid_signature: Signature invalid for JWT");return a},"ES256K-R":le,Ed25519:de,EdDSA:de};function ye(e){const t=pe[e];if(!t)throw new Error(`not_supported: Unsupported algorithm ${e}`);return t}ye.toSignatureObject=fe;const me={INVALID_JWT:"invalid_jwt",INVALID_AUDIENCE:"invalid_config",INVALID_SIGNATURE:"invalid_signature",NO_SUITABLE_KEYS:"no_suitable_keys",NOT_SUPPORTED:"not_supported",RESOLVER_ERROR:"resolver_error"},ge=function(e,t,r={},n={}){try{r.alg||(r.alg=we);const i="string"==typeof e?e:_e(e,n.canonicalize),o=[_e(r,n.canonicalize),i].join("."),s=function(e){const t=oe[e];if(!t)throw new Error(`not_supported: Unsupported algorithm ${e}`);return t}(r.alg);return Promise.resolve(s(o,t)).then((function(e){return[o,e].join(".")}))}catch(e){return Promise.reject(e)}},be={ES256:["JsonWebKey2020"],ES256K:["EcdsaSecp256k1VerificationKey2019","EcdsaSecp256k1RecoveryMethod2020","Secp256k1VerificationKey2018","Secp256k1SignatureVerificationKey2018","EcdsaPublicKeySecp256k1","JsonWebKey2020"],"ES256K-R":["EcdsaSecp256k1VerificationKey2019","EcdsaSecp256k1RecoveryMethod2020","Secp256k1VerificationKey2018","Secp256k1SignatureVerificationKey2018","EcdsaPublicKeySecp256k1","JsonWebKey2020"],Ed25519:["ED25519SignatureVerification","Ed25519VerificationKey2018","Ed25519VerificationKey2020","JsonWebKey2020"],EdDSA:["ED25519SignatureVerification","Ed25519VerificationKey2018","Ed25519VerificationKey2020","JsonWebKey2020"]},we="ES256K",ve="application/did+json";function _e(e,t=!1){return A(t?v.default(e):JSON.stringify(e))}function Ee(e){const t=e.match(/^([a-zA-Z0-9_-]+)\.([a-zA-Z0-9_-]+)\.([a-zA-Z0-9_-]+)$/);if(t)return{header:JSON.parse(k(t[1])),payload:t[2],signature:t[3],data:`${t[1]}.${t[2]}`};throw new Error("invalid_argument: Incorrect format JWS")}function Se(e){if(!e)throw new Error("invalid_argument: no JWT passed into decodeJWT");try{const t=Ee(e);return Object.assign(t,{payload:JSON.parse(k(t.payload))})}catch(e){throw new Error("invalid_argument: Incorrect format JWT")}}function Me({header:e,data:t,signature:r},n){return Array.isArray(n)||(n=[n]),ye(e.alg)(t,r,n)}const Ae="undefined"!=typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function ke(e,t,r){if(!e.s){if(r instanceof xe){if(!r.s)return void(r.o=ke.bind(null,e,t));1&t&&(t=r.s),r=r.v}if(r&&r.then)return void r.then(ke.bind(null,e,t),ke.bind(null,e,2));e.s=t,e.v=r;const n=e.o;n&&n(e)}}const xe=function(){function e(){}return e.prototype.then=function(t,r){const n=new e,i=this.s;if(i){const e=1&i?t:r;if(e){try{ke(n,1,e(this.v))}catch(e){ke(n,2,e)}return n}return this}return this.o=function(e){try{const i=e.v;1&e.s?ke(n,1,t?t(i):i):r?ke(n,1,r(i)):ke(n,2,i)}catch(e){ke(n,2,e)}},n},e}();function Te(e){return e instanceof xe&&1&e.s}function Pe({ciphertext:e,tag:t,iv:r,protectedHeader:n,recipient:i},o){const s={protected:n,iv:_(r),ciphertext:_(e),tag:_(t)};return o&&(s.aad=_(o)),i&&(s.recipients=[i]),s}function Ie(e){const t=new l.XChaCha20Poly1305(e);return(e,r)=>{const n=d.randomBytes(t.nonceLength),i=t.seal(n,e,r);return{ciphertext:i.subarray(0,i.length-t.tagLength),tag:i.subarray(i.length-t.tagLength),iv:n}}}function Re(e){const t=Ie(e),r="XC20P";return{alg:"dir",enc:r,encrypt:function(e,n={},i){try{const o=A(JSON.stringify(Object.assign({alg:"dir"},n,{enc:r}))),s=p.fromString(i?`${o}.${_(i)}`:o);return Promise.resolve({...t(e,s),protectedHeader:o})}catch(e){return Promise.reject(e)}}}}function Oe(e){const t=new l.XChaCha20Poly1305(e);return{alg:"dir",enc:"XC20P",decrypt:function(e,r,n){try{return Promise.resolve(t.open(r,e,n))}catch(e){return Promise.reject(e)}}}}function Be(e,t){const r=function(r){try{const s=c.generateKeyPair(),a=Ie(Z(c.sharedKey(s.secretKey,e),i,n))(r),u={encrypted_key:_(a.ciphertext),header:{alg:n,iv:_(a.iv),tag:_(a.tag),epk:{kty:"OKP",crv:o,x:_(s.publicKey)}}};return t&&(u.header.kid=t),Promise.resolve(u)}catch(e){return Promise.reject(e)}},n="ECDH-ES+XC20PKW",i=256,o="X25519";return{alg:n,enc:"XC20P",encrypt:function(e,t={},n){try{Object.assign(t,{alg:void 0});const i=d.randomBytes(32);return Promise.resolve(Re(i).encrypt(e,t,n)).then((function(e){return Promise.resolve(r(i)).then((function(t){return{...e,recipient:t,cek:i}}))}))}catch(e){return Promise.reject(e)}},encryptCek:r}}function Ce(e,t,r={}){const n=function(n){try{function h(){const e=new Uint8Array(l.length+d.length);e.set(l),e.set(d,l.length);const t=Ie(Z(e,o,i,a,u))(n),h={encrypted_key:_(t.ciphertext),header:{alg:i,iv:_(t.iv),tag:_(t.tag),epk:{kty:"OKP",crv:s,x:_(f.publicKey)}}};return r.kid&&(h.header.kid=r.kid),r.apu&&(h.header.apu=r.apu),r.apv&&(h.header.apv=r.apv),h}const f=c.generateKeyPair(),l=c.sharedKey(f.secretKey,e);let d;const p=function(){if(!(t instanceof Uint8Array))return Promise.resolve(t(e)).then((function(e){d=e}));d=c.sharedKey(t,e)}();return Promise.resolve(p&&p.then?p.then(h):h())}catch(y){return Promise.reject(y)}},i="ECDH-1PU+XC20PKW",o=256,s="X25519";let a,u;return void 0!==r.apu&&(a=E(r.apu)),void 0!==r.apv&&(u=E(r.apv)),{alg:i,enc:"XC20P",encrypt:function(e,t={},r){try{Object.assign(t,{alg:void 0});const i=d.randomBytes(32);return Promise.resolve(Re(i).encrypt(e,t,r)).then((function(e){return Promise.resolve(n(i)).then((function(t){return{...e,recipient:t,cek:i}}))}))}catch(e){return Promise.reject(e)}},encryptCek:n}}function Le(e){if(!(e&&e.epk&&e.iv&&e.tag))throw new Error("bad_jwe: malformed header")}function je(e){const t="ECDH-ES+XC20PKW";return{alg:t,enc:"XC20P",decrypt:function(r,n,i,o){try{var s,a;function u(){const e=Z(f,256,t),s=R(o.encrypted_key,o.header.tag);return Promise.resolve(Oe(e).decrypt(s,E(o.header.iv))).then((function(e){return null===e?null:Oe(e).decrypt(r,n,i)}))}if(Le(null==(s=o)?void 0:s.header),"X25519"!==(null==(a=o.header.epk)?void 0:a.crv)||void 0===o.header.epk.x)return Promise.resolve(null);const h=E(o.header.epk.x);let f;const l=function(){if(!(e instanceof Uint8Array))return Promise.resolve(e(h)).then((function(e){f=e}));f=c.sharedKey(e,h)}();return Promise.resolve(l&&l.then?l.then(u):u())}catch(d){return Promise.reject(d)}}}}function De(e,t){const r="ECDH-1PU+XC20PKW";return{alg:r,enc:"XC20P",decrypt:function(n,i,o,s){try{var a;function u(){const e=new Uint8Array(f.length+l.length);let t,a;e.set(f),e.set(l,f.length),s.header.apu&&(t=E(s.header.apu)),s.header.apv&&(a=E(s.header.apv));const u=Z(e,256,r,t,a),h=R(s.encrypted_key,s.header.tag);return Promise.resolve(Oe(u).decrypt(h,E(s.header.iv))).then((function(e){return null===e?null:Oe(e).decrypt(n,i,o)}))}if(Le(s.header),"X25519"!==(null==(a=s.header.epk)?void 0:a.crv)||void 0===s.header.epk.x)return Promise.resolve(null);const h=E(s.header.epk.x);let f,l;const d=function(){if(!(e instanceof Uint8Array))return Promise.resolve(e(h)).then((function(r){return f=r,Promise.resolve(e(t)).then((function(e){l=e}))}));f=c.sharedKey(e,h),l=c.sharedKey(e,t)}();return Promise.resolve(d&&d.then?d.then(u):u())}catch(p){return Promise.reject(p)}}}}t.ES256KSigner=Q,t.ES256Signer=function(e){const t=e;if(32!==t.length)throw new Error(`bad_key: Invalid private key format. Expecting 32 bytes, but got ${t.length}`);const r=te.keyFromPrivate(t);return function(e){try{const{r:t,s:n}=r.sign(V(e));return Promise.resolve(P({r:O(t.toString("hex")),s:O(n.toString("hex"))}))}catch(e){return Promise.reject(e)}}},t.EdDSASigner=ee,t.EllipticSigner=function(e){return Q(M(e))},t.JWT_ERROR=me,t.NaclSigner=function(e){return ee(E(e))},t.SimpleSigner=function(e){const t=Q(M(e),!0);return function(e){try{return Promise.resolve(t(e)).then(I)}catch(e){return Promise.reject(e)}}},t.base58ToBytes=S,t.base64ToBytes=E,t.createAnonDecrypter=function(e){return je(e)},t.createAnonEncrypter=function(e,t={}){return Be(e,null==t?void 0:t.kid)},t.createAuthDecrypter=function(e,t){return De(e,t)},t.createAuthEncrypter=function(e,t,r={}){return Ce(e,t,r)},t.createJWE=function(e,t,r={},n){try{if("dir"===t[0].alg){if(t.length>1)throw new Error('not_supported: Can only do "dir" encryption to one key.');return Promise.resolve(t[0].encrypt(e,r,n)).then((function(e){return Pe(e,n)}))}{const i=t[0].enc;if(!t.reduce(((e,t)=>e&&t.enc===i),!0))throw new Error("invalid_argument: Incompatible encrypters passed");let o,s;const a=function(e,t,r){if("function"==typeof e[Ae]){var n,i,o,s=e[Ae]();if(function e(a){try{for(;!((n=s.next()).done||r&&r());)if((a=t(n.value))&&a.then){if(!Te(a))return void a.then(e,o||(o=ke.bind(null,i=new xe,2)));a=a.v}i?ke(i,1,a):i=a}catch(e){ke(i||(i=new xe),2,e)}}(),s.return){var a=function(e){try{n.done||s.return()}catch(e){}return e};if(i&&i.then)return i.then(a,(function(e){throw a(e)}));a()}return i}if(!("length"in e))throw new TypeError("Object is not iterable");for(var u=[],h=0;h<e.length;h++)u.push(e[h]);return function(e,t,r){var n,i,o=-1;return function s(a){try{for(;++o<e.length&&(!r||!r());)if((a=t(o))&&a.then){if(!Te(a))return void a.then(s,i||(i=ke.bind(null,n=new xe,2)));a=a.v}n?ke(n,1,a):n=a}catch(e){ke(n||(n=new xe),2,e)}}(),n}(u,(function(e){return t(u[e])}),r)}(t,(function(t){const i=o?Promise.resolve(null==t.encryptCek?void 0:t.encryptCek(o)).then((function(e){var t,r;e&&(null==(t=s)||null==(r=t.recipients)||r.push(e))})):Promise.resolve(t.encrypt(e,r,n)).then((function(e){o=e.cek,s=Pe(e,n)}));if(i&&i.then)return i.then((function(){}))}));return Promise.resolve(a&&a.then?a.then((function(){return s})):s)}}catch(e){return Promise.reject(e)}},t.createJWS=ge,t.createJWT=function(e,{issuer:t,signer:r,alg:n,expiresIn:i,canonicalize:o},s={}){try{if(!r)throw new Error("missing_signer: No Signer functionality has been configured");if(!t)throw new Error("missing_issuer: No issuing DID has been configured");s.typ||(s.typ="JWT"),s.alg||(s.alg=n);const a={iat:Math.floor(Date.now()/1e3),exp:void 0};if(i){if("number"!=typeof i)throw new Error("invalid_argument: JWT expiresIn is not a number");a.exp=(e.nbf||a.iat)+Math.floor(i)}const u={...a,...e,iss:t};return ge(u,r,s,{canonicalize:o})}catch(e){return Promise.reject(e)}},t.createX25519ECDH=function(e){if(32!==e.length)throw new Error("invalid_argument: incorrect secret key length for X25519");return function(t){try{if(32!==t.length)throw new Error("invalid_argument: incorrect publicKey key length for X25519");return Promise.resolve(c.sharedKey(e,t))}catch(e){return Promise.reject(e)}}},t.decodeJWT=Se,t.decryptJWE=function(e,t){try{function r(e){if(null===a)throw new Error("failure: Failed to decrypt");return a}!function(e){if(!(e.protected&&e.iv&&e.ciphertext&&e.tag))throw new Error("bad_jwe: missing properties");e.recipients&&e.recipients.map((e=>{if(!e.header||!e.encrypted_key)throw new Error("bad_jwe: malformed recipients")}))}(e);const i=JSON.parse(k(e.protected));if(i.enc!==t.enc)throw new Error(`not_supported: Decrypter does not supported: '${i.enc}'`);const o=R(e.ciphertext,e.tag),s=n.fromString(e.aad?`${e.protected}.${e.aad}`:e.protected);let a=null;const u="dir"===i.alg&&"dir"===t.alg?Promise.resolve(t.decrypt(o,E(e.iv),s)).then((function(e){a=e})):function(){if(e.recipients&&0!==e.recipients.length){let r=0;return function(e,t,r){for(var n;;){var i=e();if(Te(i)&&(i=i.v),!i)return o;if(i.then){n=0;break}var o=r();if(o&&o.then){if(!Te(o)){n=1;break}o=o.s}if(t){var s=t();if(s&&s.then&&!Te(s)){n=2;break}}}var a=new xe,u=ke.bind(null,a,2);return(0===n?i.then(f):1===n?o.then(h):s.then(c)).then(void 0,u),a;function h(n){o=n;do{if(t&&(s=t())&&s.then&&!Te(s))return void s.then(c).then(void 0,u);if(!(i=e())||Te(i)&&!i.v)return void ke(a,1,o);if(i.then)return void i.then(f).then(void 0,u);Te(o=r())&&(o=o.v)}while(!o||!o.then);o.then(h).then(void 0,u)}function f(e){e?(o=r())&&o.then?o.then(h).then(void 0,u):h(o):ke(a,1,o)}function c(){(i=e())?i.then?i.then(f).then(void 0,u):f(i):ke(a,1,o)}}((function(){return!a&&r<e.recipients.length}),(function(){return r++}),(function(){const n=e.recipients[r];Object.assign(n.header,i);const u=function(){if(n.header.alg===t.alg)return Promise.resolve(t.decrypt(o,E(e.iv),s,n)).then((function(e){a=e}))}();if(u&&u.then)return u.then((function(){}))}))}throw new Error("bad_jwe: missing recipients")}();return Promise.resolve(u&&u.then?u.then(r):r())}catch(h){return Promise.reject(h)}},t.hexToBytes=M,t.resolveX25519Encrypters=function(e,t){try{const r=function(e,n=[]){try{return Promise.resolve(t.resolve(e)).then((function({didResolutionMetadata:t,didDocument:i}){function o(){var t,r;const n=null==(t=i.keyAgreement)||null==(r=t.map((e=>"string"==typeof e?[...i.publicKey||[],...i.verificationMethod||[]].find((t=>t.id===e)):e)))?void 0:r.filter((e=>void 0!==e)),o=(null==n?void 0:n.filter((e=>"X25519KeyAgreementKey2019"===e.type&&Boolean(e.publicKeyBase58))))||[];if(!o.length&&!s.length)throw new Error(`no_suitable_keys: Could not find x25519 key for ${e}`);return o.map((e=>Be(S(e.publicKeyBase58),e.id))).concat(...s)}if(n.push(e),null!=t&&t.error||null==i)throw new Error(`resolver_error: Could not resolve ${e}: ${t.error}, ${t.message}`);let s=[];if(!i.controller&&!i.keyAgreement)throw new Error(`no_suitable_keys: Could not find x25519 key for ${e}`);const a=function(){if(i.controller){let e=Array.isArray(i.controller)?i.controller:[i.controller];e=e.filter((e=>!n.includes(e)));const t=e.map((e=>r(e,n).catch((()=>[]))));return Promise.resolve(Promise.all(t)).then((function(e){s=[].concat(...e)}))}}();return a&&a.then?a.then(o):o()}))}catch(e){return Promise.reject(e)}},n=e.map((e=>r(e)));return Promise.resolve(Promise.all(n)).then((function(e){return[].concat(...e)}))}catch(e){return Promise.reject(e)}},t.toEthereumAddress=W,t.verifyJWS=function(e,t){return Me(Ee(e),t)},t.verifyJWT=function(e,t={resolver:void 0,auth:void 0,audience:void 0,callbackUrl:void 0,skewTime:void 0,proofPurpose:void 0,policies:{}}){try{if(!t.resolver)throw new Error("missing_resolver: No DID resolver has been configured");const{payload:r,header:n,signature:i,data:o}=Se(e),s=Object.prototype.hasOwnProperty.call(t,"auth")?t.auth?"authentication":void 0:t.proofPurpose;let a;if(!r.iss&&!r.client_id)throw new Error(`${me.INVALID_JWT}: JWT iss or client_id are required`);if("https://self-issued.me/v2"===r.iss||"https://self-issued.me/v2/openid-vc"===r.iss){if(!r.sub)throw new Error(`${me.INVALID_JWT}: JWT sub is required`);a=void 0===r.sub_jwk?r.sub:(n.kid||"").split("#")[0]}else if("https://self-issued.me"===r.iss){if(!r.did)throw new Error(`${me.INVALID_JWT}: JWT did is required`);a=r.did}else if(!r.iss&&"openid"===r.scope&&r.redirect_uri){if(!r.client_id)throw new Error(`${me.INVALID_JWT}: JWT client_id is required`);a=r.client_id}else a=r.iss;if(!a)throw new Error(`${me.INVALID_JWT}: No DID has been found in the JWT`);return Promise.resolve(function(e,t,r,n){try{const i=be[t];if(!i||0===i.length)throw new Error(`${me.NOT_SUPPORTED}: No supported signature types for algorithm ${t}`);let o;return Promise.resolve(e.resolve(r,{accept:ve})).then((function(e){var s,a,u,h,f;if(o=-1===Object.getOwnPropertyNames(e).indexOf("didDocument")?{didDocument:e,didDocumentMetadata:{},didResolutionMetadata:{contentType:ve}}:e,null!=(s=o.didResolutionMetadata)&&s.error||null==o.didDocument){const{error:e,message:t}=o.didResolutionMetadata;throw new Error(`${me.RESOLVER_ERROR}: Unable to resolve DID document for ${r}: ${e}, ${t||""}`)}const c=(e,t)=>{const r=e.filter((({id:e})=>t===e));return r.length>0?r[0]:null};let l=[...(null==(a=o)||null==(u=a.didDocument)?void 0:u.verificationMethod)||[],...(null==(h=o)||null==(f=h.didDocument)?void 0:f.publicKey)||[]];var d;"string"==typeof n&&(n.startsWith("assertion")&&!Object.getOwnPropertyNames(null==(d=o)?void 0:d.didDocument).includes("assertionMethod")&&(o.didDocument={...o.didDocument},o.didDocument.assertionMethod=[...l.map((e=>e.id))]),l=(o.didDocument[n]||[]).map((e=>"string"==typeof e?c(l,e):"string"==typeof e.publicKey?c(l,e.publicKey):e)).filter((e=>null!=e)));const p=l.filter((({type:e})=>i.find((t=>t===e))));if("string"==typeof n&&(!p||0===p.length))throw new Error(`${me.NO_SUITABLE_KEYS}: DID document for ${r} does not have public keys suitable for ${t} with ${n} purpose`);if(!p||0===p.length)throw new Error(`${me.NO_SUITABLE_KEYS}: DID document for ${r} does not have public keys for ${t}`);return{authenticators:p,issuer:r,didResolutionResult:o}}))}catch(e){return Promise.reject(e)}}(t.resolver,n.alg,a,s)).then((function({didResolutionResult:s,authenticators:a,issuer:u}){return Promise.resolve(Me({header:n,data:o,signature:i},a)).then((function(n){var i;const o="number"==typeof(null==(i=t.policies)?void 0:i.now)?t.policies.now:Math.floor(Date.now()/1e3),a=void 0!==t.skewTime&&t.skewTime>=0?t.skewTime:300;if(n){var h,f,c,l;const i=o+a;if(!1!==(null==(h=t.policies)?void 0:h.nbf)&&r.nbf){if(r.nbf>i)throw new Error(`${me.INVALID_JWT}: JWT not valid before nbf: ${r.nbf}`)}else if(!1!==(null==(f=t.policies)?void 0:f.iat)&&r.iat&&r.iat>i)throw new Error(`${me.INVALID_JWT}: JWT not valid yet (issued in the future) iat: ${r.iat}`);if(!1!==(null==(c=t.policies)?void 0:c.exp)&&r.exp&&r.exp<=o-a)throw new Error(`${me.INVALID_JWT}: JWT has expired: exp: ${r.exp} < now: ${o}`);if(!1!==(null==(l=t.policies)?void 0:l.aud)&&r.aud){if(!t.audience&&!t.callbackUrl)throw new Error(`${me.INVALID_AUDIENCE}: JWT audience is required but your app address has not been configured`);if(void 0===(Array.isArray(r.aud)?r.aud:[r.aud]).find((e=>t.audience===e||t.callbackUrl===e)))throw new Error(`${me.INVALID_AUDIENCE}: JWT audience does not match your DID or callback url`)}return{verified:!0,payload:r,didResolutionResult:s,issuer:u,signer:n,jwt:e,policies:t.policies}}throw new Error(`${me.INVALID_SIGNATURE}: JWT not valid. issuer DID document does not contain a verificationMethod that matches the signature.`)}))}))}catch(e){return Promise.reject(e)}},t.x25519Decrypter=je,t.x25519Encrypter=Be,t.xc20pAuthDecrypterEcdh1PuV3x25519WithXc20PkwV2=De,t.xc20pAuthEncrypterEcdh1PuV3x25519WithXc20PkwV2=Ce,t.xc20pDirDecrypter=Oe,t.xc20pDirEncrypter=Re},9006:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{uD:()=>Xg});var ZJ=Object.create,ev=Object.defineProperty,YJ=Object.getOwnPropertyDescriptor,JJ=Object.getOwnPropertyNames,XJ=Object.getPrototypeOf,QJ=Object.prototype.hasOwnProperty,er=(e,t)=>()=>(e&&(t=e(e=0)),t),H=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ht=(e,t)=>{for(var r in t)ev(e,r,{get:t[r],enumerable:!0})},A7=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of JJ(t))!QJ.call(e,i)&&i!==r&&ev(e,i,{get:()=>t[i],enumerable:!(n=YJ(t,i))||n.enumerable});return e},wt=(e,t,r)=>(r=null!=e?ZJ(XJ(e)):{},A7(!t&&e&&e.__esModule?r:ev(r,"default",{value:e,enumerable:!0}),e)),R7=e=>A7(ev({},"__esModule",{value:!0}),e),P7=H((e=>{x(),e.byteLength=function(e){var t=a(e),r=t[0],n=t[1];return 3*(r+n)/4-n},e.toByteArray=function(e){var t,r,n=a(e),s=n[0],u=n[1],h=new o(function(e,t,r){return 3*(t+r)/4-r}(0,s,u)),f=0,c=u>0?s-4:s;for(r=0;r<c;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],h[f++]=t>>16&255,h[f++]=t>>8&255,h[f++]=255&t;return 2===u&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,h[f++]=255&t),1===u&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,h[f++]=t>>8&255,h[f++]=255&t),h},e.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=16383,a=0,u=r-i;a<u;a+=s)o.push(h(e,a,a+s>u?u:a+s));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")};var t,r,n=[],i=[],o=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(t=0,r=s.length;t<r;++t)n[t]=s[t],i[s.charCodeAt(t)]=t;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function h(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(u(n));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63})),D7=H((e=>{x(),e.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,h=u>>1,f=-7,c=r?i-1:0,l=r?-1:1,d=e[t+c];for(c+=l,o=d&(1<<-f)-1,d>>=-f,f+=a;f>0;o=256*o+e[t+c],c+=l,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=256*s+e[t+c],c+=l,f-=8);if(0===o)o=1-h;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=h}return(d?-1:1)*s*Math.pow(2,o-n)},e.write=function(e,t,r,n,i,o){var s,a,u,h=8*o-i-1,f=(1<<h)-1,c=f>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+c>=1?l/u:l*Math.pow(2,1-c))*u>=2&&(s++,u/=2),s+c>=f?(a=0,s=f):s+c>=1?(a=(t*u-1)*Math.pow(2,i),s+=c):(a=t*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;e[r+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,h+=i;h>0;e[r+d]=255&s,d+=p,s/=256,h-=8);e[r+d-p]|=128*y}})),St=H((e=>{x();var t=P7(),r=D7(),n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},e.INSPECT_MAX_BYTES=50;var i=2147483647;function o(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return a(e,t,r)}function a(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|d(e,t),n=o(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(H(e,Uint8Array)){var t=new Uint8Array(e);return c(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(H(e,ArrayBuffer)||e&&H(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(H(e,SharedArrayBuffer)||e&&H(e.buffer,SharedArrayBuffer)))return c(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return s.from(n,t,r);var i=function(e){if(s.isBuffer(e)){var t=0|l(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||z(e.length)?o(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(i)return i;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return u(e),o(e<0?0:0|l(e))}function f(e){for(var t=e.length<0?0:0|l(e.length),r=o(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function c(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,s.prototype),n}function l(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function d(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||H(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return D(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return N(e).length;default:if(i)return n?-1:D(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,r);case"utf8":case"utf-8":return M(this,t,r);case"ascii":return k(this,t,r);case"latin1":case"binary":return T(this,t,r);case"base64":return S(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),z(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=s.from(t,n)),s.isBuffer(t))return 0===t.length?-1:g(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):g(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function g(e,t,r,n,i){var o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}function h(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var f=-1;for(o=r;o<a;o++)if(h(e,o)===h(t,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*s}else-1!==f&&(o-=o-f),f=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var c=!0,l=0;l<u;l++)if(h(e,o+l)!==h(t,l)){c=!1;break}if(c)return o}return-1}function b(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(z(a))return s;e[r+s]=a}return s}function w(e,t,r,n){return U(D(t,e.length-r),e,r,n)}function v(e,t,r,n){return U(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function _(e,t,r,n){return U(N(t),e,r,n)}function E(e,t,r,n){return U(function(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(r=e.charCodeAt(s))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function S(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function M(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,u,h=e[i],f=null,c=h>239?4:h>223?3:h>191?2:1;if(i+c<=r)switch(c){case 1:h<128&&(f=h);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&h)<<6|63&o)>127&&(f=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&h)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&h)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(f=u)}null===f?(f=65533,c=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=c}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=A));return r}(n)}e.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch{return!1}}(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,r){return a(e,t,r)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,r){return function(e,t,r){return u(e),e<=0?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)}(e,t,r)},s.allocUnsafe=function(e){return h(e)},s.allocUnsafeSlow=function(e){return h(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(H(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),H(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=s.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(H(o,Uint8Array))i+o.length>n.length?s.from(o).copy(n,i):Uint8Array.prototype.set.call(n,o,i);else{if(!s.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i)}i+=o.length}return n},s.byteLength=d,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},s.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?M(this,0,e):p.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},n&&(s.prototype[n]=s.prototype.inspect),s.prototype.compare=function(e,t,r,n,i){if(H(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),u=Math.min(o,a),h=this.slice(n,i),f=e.slice(t,r),c=0;c<u;++c)if(h[c]!==f[c]){o=h[c],a=f[c];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},s.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},s.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},s.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":case"latin1":case"binary":return v(this,e,t,r);case"base64":return _(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function k(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function T(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function P(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=F[e[o]];return i}function I(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function R(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,r,n,i,o){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function B(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function C(e,t,n,i,o){return t=+t,n>>>=0,o||B(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function L(e,t,n,i,o){return t=+t,n>>>=0,o||B(e,0,n,8),r.write(e,t,n,i,52,8),n+8}s.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,s.prototype),n},s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},s.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),r.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),r.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),r.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),r.read(this,e,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||O(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||O(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);O(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},s.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);O(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},s.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,r){return C(this,e,t,!0,r)},s.prototype.writeFloatBE=function(e,t,r){return C(this,e,t,!1,r)},s.prototype.writeDoubleLE=function(e,t,r){return L(this,e,t,!0,r)},s.prototype.writeDoubleBE=function(e,t,r){return L(this,e,t,!1,r)},s.prototype.copy=function(e,t,r,n){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),!n&&0!==n&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},s.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=s.isBuffer(e)?e:s.from(e,n),u=a.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=a[o%u]}return this};var j=/[^+/0-9A-Za-z-_]/g;function D(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function N(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function H(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function z(e){return e!=e}var F=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()})),rf=H(((e,t)=>{x();var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch{try{return r.call(null,e,0)}catch{return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch{r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch{n=s}}();var u,h=[],f=!1,c=-1;function l(){!f||!u||(f=!1,u.length?h=u.concat(h):c=-1,h.length&&d())}function d(){if(!f){var e=a(l);f=!0;for(var t=h.length;t;){for(u=h,h=[];++c<t;)u&&u[c].run();c=-1,t=h.length}u=null,f=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch{try{return n.call(null,e)}catch{return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];h.push(new p(e,t)),1===h.length&&!f&&a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}})),L,D,PEe,x=er((()=>{L=wt(St()),D=wt(rf()),PEe=function(e){function t(){var t=this||self;return delete e.prototype.__magic__,t}return"object"==typeof globalThis?globalThis:this?t():(e.defineProperty(e.prototype,"__magic__",{configurable:!0,get:t}),__magic__)}(Object)}));function rR(e,t,r){t=t||[];for(var n=r=r||0;e>=lQ;)t[r++]=255&e|eR,e/=128;for(;e&uQ;)t[r++]=255&e|eR,e>>>=7;return t[r]=0|e,rR.bytes=r-n+1,t}function Q3(e,t){var r,n=0,i=0,o=t=t||0,s=e.length;do{if(o>=s)throw Q3.bytes=0,new RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&tR)<<i:(r&tR)*Math.pow(2,i),i+=7}while(r>=cQ);return Q3.bytes=o-t,n}var aQ,eR,fQ,uQ,lQ,hQ,cQ,tR,dQ,pQ,mQ,yQ,gQ,vQ,bQ,wQ,_Q,MQ,xQ,EQ,Ap,iR=er((()=>{x(),aQ=rR,eR=128,uQ=~(fQ=127),lQ=Math.pow(2,31),hQ=Q3,cQ=128,tR=127,dQ=Math.pow(2,7),pQ=Math.pow(2,14),mQ=Math.pow(2,21),yQ=Math.pow(2,28),gQ=Math.pow(2,35),vQ=Math.pow(2,42),bQ=Math.pow(2,49),wQ=Math.pow(2,56),_Q=Math.pow(2,63),Ap=EQ=xQ={encode:aQ,decode:hQ,encodingLength:MQ=function(e){return e<dQ?1:e<pQ?2:e<mQ?3:e<yQ?4:e<gQ?5:e<vQ?6:e<bQ?7:e<wQ?8:e<_Q?9:10}}})),Rp,Fc,$c,gv=er((()=>{x(),iR(),Rp=e=>[Ap.decode(e),Ap.decode.bytes],Fc=(e,t,r=0)=>(Ap.encode(e,t,r),t),$c=e=>Ap.encodingLength(e)})),Hc={};Ht(Hc,{coerce:()=>sa,empty:()=>nR,equals:()=>e6,fromHex:()=>TQ,fromString:()=>t6,isBinary:()=>AQ,toHex:()=>SQ,toString:()=>r6});var nR,SQ,TQ,e6,sa,AQ,t6,r6,ru=er((()=>{x(),nR=new Uint8Array(0),SQ=e=>e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),""),TQ=e=>{let t=e.match(/../g);return t?new Uint8Array(t.map((e=>parseInt(e,16)))):nR},e6=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},sa=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},AQ=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),t6=e=>(new TextEncoder).encode(e),r6=e=>(new TextDecoder).decode(e)})),Bl,vv,oR,Wc,Kc=er((()=>{x(),ru(),gv(),Bl=(e,t)=>{let r=t.byteLength,n=$c(e),i=n+$c(r),o=new Uint8Array(i+r);return Fc(e,o,0),Fc(r,o,n),o.set(t,i),new Wc(e,r,t,o)},vv=e=>{let t=sa(e),[r,n]=Rp(t),[i,o]=Rp(t.subarray(n)),s=t.subarray(n+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new Wc(r,i,s,t)},oR=(e,t)=>e===t||e.code===t.code&&e.size===t.size&&e6(e.bytes,t.bytes),Wc=class{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}}));function RQ(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=i}var a=e.length,u=e.charAt(0),h=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function c(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*h+1>>>0,s=new Uint8Array(o);e[t];){var f=r[e.charCodeAt(t)];if(255===f)return;for(var c=0,l=o-1;(0!==f||c<i)&&-1!==l;l--,c++)f+=a*s[l]>>>0,s[l]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=c,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===s[d];)d++;for(var p=new Uint8Array(n+(o-d)),y=n;d!==o;)p[y++]=s[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*f+1>>>0,h=new Uint8Array(s);i!==o;){for(var c=t[i],l=0,d=s-1;(0!==c||l<n)&&-1!==d;d--,l++)c+=256*h[d]>>>0,h[d]=c%a>>>0,c=c/a>>>0;if(0!==c)throw new Error("Non-zero carry");n=l,i++}for(var p=s-n;p!==s&&0===h[p];)p++;for(var y=u.repeat(r);p<s;++p)y+=e.charAt(h[p]);return y},decodeUnsafe:c,decode:function(e){var r=c(e);if(r)return r;throw new Error(`Non-${t} character`)}}}var kQ,IQ,sR,aR=er((()=>{x(),sR=IQ=kQ=RQ})),i6,n6,o6,fR,s6,bv,iu,PQ,DQ,Yr,aa=er((()=>{x(),aR(),ru(),i6=class{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},n6=class{constructor(e,t,r){this.name=e,this.prefix=t,this.baseDecode=r}decode(e){if("string"==typeof e){if(e[0]===this.prefix)return this.baseDecode(e.slice(1));throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}throw Error("Can only multibase decode strings")}or(e){return fR(this,e)}},o6=class{constructor(e){this.decoders=e}or(e){return fR(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},fR=(e,t)=>new o6({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),s6=class{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new i6(e,t,r),this.decoder=new n6(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},bv=({name:e,prefix:t,encode:r,decode:n})=>new s6(e,t,r,n),iu=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=sR(r,t);return bv({prefix:e,name:t,encode:n,decode:e=>sa(i(e))})},PQ=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let s=new Uint8Array(o*r/8|0),a=0,u=0,h=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw new SyntaxError(`Non-${n} character`);u=u<<r|o,a+=r,a>=8&&(a-=8,s[h++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return s},DQ=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",s=0,a=0;for(let n=0;n<e.length;++n)for(a=a<<8|e[n],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o},Yr=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>bv({prefix:t,name:e,encode:e=>DQ(e,n,r),decode:t=>PQ(t,n,r,e)})})),a6={};Ht(a6,{base58btc:()=>go,base58flickr:()=>BQ});var go,BQ,wv=er((()=>{x(),aa(),go=iu({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),BQ=iu({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})})),f6={};Ht(f6,{base32:()=>Gc,base32hex:()=>LQ,base32hexpad:()=>jQ,base32hexpadupper:()=>UQ,base32hexupper:()=>qQ,base32pad:()=>CQ,base32padupper:()=>NQ,base32upper:()=>OQ,base32z:()=>zQ});var Gc,OQ,CQ,NQ,LQ,qQ,jQ,UQ,zQ,u6=er((()=>{x(),aa(),Gc=Yr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),OQ=Yr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),CQ=Yr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),NQ=Yr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),LQ=Yr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),qQ=Yr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),jQ=Yr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),UQ=Yr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),zQ=Yr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})})),Xe,FQ,$Q,HQ,kp,WQ,uR,lR,_v,Mv,VQ,KQ,GQ,bs=er((()=>{x(),gv(),Kc(),wv(),u6(),ru(),Xe=class{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Mv,byteLength:Mv,code:_v,version:_v,multihash:_v,bytes:_v,_baseCache:Mv,asCID:Mv})}toV0(){if(0===this.version)return this;{let{code:e,multihash:t}=this;if(e!==kp)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==WQ)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Xe.createV0(t)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=Bl(e,t);return Xe.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&oR(this.multihash,e.multihash)}toString(e){let{bytes:t,version:r,_baseCache:n}=this;return 0===r?$Q(t,n,e||go.encoder):HQ(t,n,e||Gc.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return KQ(/^0\.0/,GQ),!(!e||!e[lR]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof Xe)return e;if(null!=e&&e.asCID===e){let{version:t,code:r,multihash:n,bytes:i}=e;return new Xe(t,r,n,i||uR(t,r,n.bytes))}if(null!=e&&!0===e[lR]){let{version:t,multihash:r,code:n}=e,i=vv(r);return Xe.create(t,n,i)}return null}static create(e,t,r){if("number"!=typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==kp)throw new Error(`Version 0 CID must use dag-pb (code: ${kp}) block encoding`);return new Xe(e,t,r,r.bytes);case 1:{let n=uR(e,t,r.bytes);return new Xe(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return Xe.create(0,kp,e)}static createV1(e,t){return Xe.create(1,e,t)}static decode(e){let[t,r]=Xe.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){let t=Xe.inspectBytes(e),r=t.size-t.multihashSize,n=sa(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new Wc(t.multihashCode,t.digestSize,i,n);return[0===t.version?Xe.createV0(o):Xe.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=Rp(e.subarray(t));return t+=n,r},n=r(),i=kp;if(18===n?(n=0,t=0):1===n&&(i=r()),0!==n&&1!==n)throw new RangeError(`Invalid CID version ${n}`);let o=t,s=r(),a=r(),u=t+a;return{version:n,codec:i,multihashCode:s,digestSize:a,multihashSize:u-o,size:u}}static parse(e,t){let[r,n]=FQ(e,t),i=Xe.decode(n);return i._baseCache.set(r,e),i}},FQ=(e,t)=>{switch(e[0]){case"Q":{let r=t||go;return[go.prefix,r.decode(`${go.prefix}${e}`)]}case go.prefix:{let r=t||go;return[go.prefix,r.decode(e)]}case Gc.prefix:{let r=t||Gc;return[Gc.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},$Q=(e,t,r)=>{let{prefix:n}=r;if(n!==go.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null==i){let i=r.encode(e).slice(1);return t.set(n,i),i}return i},HQ=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null==i){let i=r.encode(e);return t.set(n,i),i}return i},kp=112,WQ=18,uR=(e,t,r)=>{let n=$c(e),i=n+$c(t),o=new Uint8Array(i+r.byteLength);return Fc(e,o,0),Fc(t,o,n),o.set(r,i),o},lR=Symbol.for("@ipld/js-cid/CID"),_v={writable:!1,configurable:!1,enumerable:!0},Mv={writable:!1,enumerable:!1,configurable:!1},VQ="0.0.0-dev",KQ=(e,t)=>{if(!e.test(VQ))throw new Error(t);console.warn(t)},GQ="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n"})),Fn=H(((e,t)=>{function r(e,t){for(let r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}x(),t.exports=function(e,t,n){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");n||(n={}),"object"==typeof t&&(n=t,t=""),t&&(n.code=t);try{return r(e,n)}catch{n.message=e.message,n.stack=e.stack;let t=function(){};return t.prototype=Object.create(Object.getPrototypeOf(e)),r(new t,n)}}})),l6=H(((e,t)=>{x(),t.exports=function(e,t){for(var r=new Array(arguments.length-1),n=0,i=2,o=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise((function(i,s){r[n]=function(e){if(o)if(o=!1,e)s(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}};try{e.apply(t||null,r)}catch(e){o&&(o=!1,s(e))}}))}})),h6=H((e=>{x();var t=e;t.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};var r,n=new Array(64),i=new Array(123);for(r=0;r<64;)i[n[r]=r<26?r+65:r<52?r+71:r<62?r-4:r-59|43]=r++;t.encode=function(e,t,r){for(var i,o=null,s=[],a=0,u=0;t<r;){var h=e[t++];switch(u){case 0:s[a++]=n[h>>2],i=(3&h)<<4,u=1;break;case 1:s[a++]=n[i|h>>4],i=(15&h)<<2,u=2;break;case 2:s[a++]=n[i|h>>6],s[a++]=n[63&h],u=0}a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0)}return u&&(s[a++]=n[i],s[a++]=61,1===u&&(s[a++]=61)),o?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))};var o="invalid encoding";t.decode=function(e,t,r){for(var n,s=r,a=0,u=0;u<e.length;){var h=e.charCodeAt(u++);if(61===h&&a>1)break;if(void 0===(h=i[h]))throw Error(o);switch(a){case 0:n=h,a=1;break;case 1:t[r++]=n<<2|(48&h)>>4,n=h,a=2;break;case 2:t[r++]=(15&n)<<4|(60&h)>>2,n=h,a=3;break;case 3:t[r++]=(3&n)<<6|h,a=0}}if(1===a)throw Error(o);return r-s},t.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}})),c6=H(((e,t)=>{function r(){this._listeners={}}x(),t.exports=r,r.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},r.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},r.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}})),d6=H(((e,t)=>{function r(e){return typeof Float32Array<"u"?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function o(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function a(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:o,e.writeFloatBE=n?o:i,e.readFloatLE=n?s:a,e.readFloatBE=n?a:s}():function(){function t(e,t,r,n){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,r,n)}}function r(e,t,r){var n=e(t,r),i=2*(n>>31)+1,o=n>>>23&255,s=8388607&n;return 255===o?s?NaN:i*(1/0):0===o?1401298464324817e-60*i*s:i*Math.pow(2,o-150)*(s+8388608)}e.writeFloatLE=t.bind(null,n),e.writeFloatBE=t.bind(null,i),e.readFloatLE=r.bind(null,o),e.readFloatBE=r.bind(null,s)}(),typeof Float64Array<"u"?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function o(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function a(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:o,e.writeDoubleBE=n?o:i,e.readDoubleLE=n?s:a,e.readDoubleBE=n?a:s}():function(){function t(e,t,r,n,i,o){var s=n<0?1:0;if(s&&(n=-n),0===n)e(0,i,o+t),e(1/n>0?0:2147483648,i,o+r);else if(isNaN(n))e(0,i,o+t),e(2146959360,i,o+r);else if(n>17976931348623157e292)e(0,i,o+t),e((s<<31|2146435072)>>>0,i,o+r);else{var a;if(n<22250738585072014e-324)e((a=n/5e-324)>>>0,i,o+t),e((s<<31|a/4294967296)>>>0,i,o+r);else{var u=Math.floor(Math.log(n)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(a=n*Math.pow(2,-u))>>>0,i,o+t),e((s<<31|u+1023<<20|1048576*a&1048575)>>>0,i,o+r)}}}function r(e,t,r,n,i){var o=e(n,i+t),s=e(n,i+r),a=2*(s>>31)+1,u=s>>>20&2047,h=4294967296*(1048575&s)+o;return 2047===u?h?NaN:a*(1/0):0===u?5e-324*a*h:a*Math.pow(2,u-1075)*(h+4503599627370496)}e.writeDoubleLE=t.bind(null,n,0,4),e.writeDoubleBE=t.bind(null,i,4,0),e.readDoubleLE=r.bind(null,o,0,4),e.readDoubleBE=r.bind(null,s,4,0)}(),e}function n(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function i(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function o(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}x(),t.exports=r(r)})),p6=H(((exports,module)=>{function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}x(),module.exports=inquire})),y6=H((e=>{x();var t=e;t.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},t.read=function(e,t,r){if(r-t<1)return"";for(var n,i=null,o=[],s=0;t<r;)(n=e[t++])<128?o[s++]=n:n>191&&n<224?o[s++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[s++]=55296+(n>>10),o[s++]=56320+(1023&n)):o[s++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),s=0);return i?(s&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s))},t.write=function(e,t,r){for(var n,i,o=r,s=0;s<e.length;++s)(n=e.charCodeAt(s))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(i=e.charCodeAt(s+1)))?(n=65536+((1023&n)<<10)+(1023&i),++s,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-o}})),g6=H(((e,t)=>{x(),t.exports=function(e,t,r){var n=r||8192,i=n>>>1,o=null,s=n;return function(r){if(r<1||r>i)return e(r);s+r>n&&(o=e(n),s=0);var a=t.call(o,s,s+=r);return 7&s&&(s=1+(7|s)),a}}})),kR=H(((e,t)=>{x(),t.exports=n;var r=Cl();function n(e,t){this.lo=e>>>0,this.hi=t>>>0}var i=n.zero=new n(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var o=n.zeroHash="\0\0\0\0\0\0\0\0";n.fromNumber=function(e){if(0===e)return i;var t=e<0;t&&(e=-e);var r=e>>>0,o=(e-r)/4294967296>>>0;return t&&(o=~o>>>0,r=~r>>>0,++r>4294967295&&(r=0,++o>4294967295&&(o=0))),new n(r,o)},n.from=function(e){if("number"==typeof e)return n.fromNumber(e);if(r.isString(e)){if(!r.Long)return n.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new n(e.low>>>0,e.high>>>0):i},n.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},n.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;n.fromHash=function(e){return e===o?i:new n((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},n.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},n.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},n.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},n.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}})),Cl=H((e=>{x();var t=e;function r(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)(void 0===e[n[i]]||!r)&&(e[n[i]]=t[n[i]]);return e}function n(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&r(this,n)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}t.asPromise=l6(),t.base64=h6(),t.EventEmitter=c6(),t.float=d6(),t.inquire=p6(),t.utf8=y6(),t.pool=g6(),t.LongBits=kR(),t.isNode=Boolean(typeof globalThis<"u"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node),t.global=t.isNode&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||e,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.isString=function(e){return"string"==typeof e||e instanceof String},t.isObject=function(e){return e&&"object"==typeof e},t.isset=t.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},t.Buffer=function(){try{var e=t.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch{return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(e){return"number"==typeof e?t.Buffer?t._Buffer_allocUnsafe(e):new t.Array(e):t.Buffer?t._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)},t.Array=typeof Uint8Array<"u"?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(e){return e?t.LongBits.from(e).toHash():t.LongBits.zeroHash},t.longFromHash=function(e,r){var n=t.LongBits.fromHash(e);return t.Long?t.Long.fromBits(n.lo,n.hi,r):n.toNumber(Boolean(r))},t.merge=r,t.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},t.newError=n,t.ProtocolError=n("ProtocolError"),t.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},t.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var e=t.Buffer;e?(t._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},t._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):t._Buffer_from=t._Buffer_allocUnsafe=null}})),_6=H(((e,t)=>{x(),t.exports=a;var r,n=Cl(),i=n.LongBits,o=n.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function a(e){this.buf=e,this.pos=0,this.len=e.length}var u,h=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new a(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new a(e);throw Error("illegal buffer")},f=function(){return n.Buffer?function(e){return(a.create=function(e){return n.Buffer.isBuffer(e)?new r(e):h(e)})(e)}:h};function c(){var e=new i(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function l(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function d(){if(this.pos+8>this.len)throw s(this,8);return new i(l(this.buf,this.pos+=4),l(this.buf,this.pos+=4))}a.create=f(),a.prototype._slice=n.Array.prototype.subarray||n.Array.prototype.slice,a.prototype.uint32=(u=4294967295,function(){if(u=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(u=(u|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(u=(u|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(u=(u|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(u=(u|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return u;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return u}),a.prototype.int32=function(){return 0|this.uint32()},a.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},a.prototype.bool=function(){return 0!==this.uint32()},a.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return l(this.buf,this.pos+=4)},a.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|l(this.buf,this.pos+=4)},a.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=n.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},a.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=n.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},a.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},a.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length)},a.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},a.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},a._configure=function(e){r=e,a.create=f(),r._configure();var t=n.Long?"toLong":"toNumber";n.merge(a.prototype,{int64:function(){return c.call(this)[t](!1)},uint64:function(){return c.call(this)[t](!0)},sint64:function(){return c.call(this).zzDecode()[t](!1)},fixed64:function(){return d.call(this)[t](!0)},sfixed64:function(){return d.call(this)[t](!1)}})}})),UR=H(((e,t)=>{x(),t.exports=i;var r=_6();(i.prototype=Object.create(r.prototype)).constructor=i;var n=Cl();function i(e){r.call(this,e)}i._configure=function(){n.Buffer&&(i.prototype._slice=n.Buffer.prototype.slice)},i.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},i._configure()})),R6=H(((e,t)=>{x(),t.exports=f;var r,n=Cl(),i=n.LongBits,o=n.base64,s=n.utf8;function a(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function u(){}function h(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function f(){this.len=0,this.head=new a(u,0,0),this.tail=this.head,this.states=null}var c=function(){return n.Buffer?function(){return(f.create=function(){return new r})()}:function(){return new f}};function l(e,t,r){t[r]=255&e}function d(e,t){this.len=e,this.next=void 0,this.val=t}function p(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function y(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}f.create=c(),f.alloc=function(e){return new n.Array(e)},n.Array!==Array&&(f.alloc=n.pool(f.alloc,n.Array.prototype.subarray)),f.prototype._push=function(e,t,r){return this.tail=this.tail.next=new a(e,t,r),this.len+=t,this},d.prototype=Object.create(a.prototype),d.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},f.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new d((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},f.prototype.int32=function(e){return e<0?this._push(p,10,i.fromNumber(e)):this.uint32(e)},f.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},f.prototype.uint64=function(e){var t=i.from(e);return this._push(p,t.length(),t)},f.prototype.int64=f.prototype.uint64,f.prototype.sint64=function(e){var t=i.from(e).zzEncode();return this._push(p,t.length(),t)},f.prototype.bool=function(e){return this._push(l,1,e?1:0)},f.prototype.fixed32=function(e){return this._push(y,4,e>>>0)},f.prototype.sfixed32=f.prototype.fixed32,f.prototype.fixed64=function(e){var t=i.from(e);return this._push(y,4,t.lo)._push(y,4,t.hi)},f.prototype.sfixed64=f.prototype.fixed64,f.prototype.float=function(e){return this._push(n.float.writeFloatLE,4,e)},f.prototype.double=function(e){return this._push(n.float.writeDoubleLE,8,e)};var m=n.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};f.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(l,1,0);if(n.isString(e)){var r=f.alloc(t=o.length(e));o.decode(e,r,0),e=r}return this.uint32(t)._push(m,t,e)},f.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(l,1,0)},f.prototype.fork=function(){return this.states=new h(this),this.head=this.tail=new a(u,0,0),this.len=0,this},f.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new a(u,0,0),this.len=0),this},f.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},f.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},f._configure=function(e){r=e,f.create=c(),r._configure()}})),KR=H(((e,t)=>{x(),t.exports=i;var r=R6();(i.prototype=Object.create(r.prototype)).constructor=i;var n=Cl();function i(){r.call(this)}function o(e,t,r){e.length<40?n.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}i._configure=function(){i.alloc=n._Buffer_allocUnsafe,i.writeBytesBuffer=n.Buffer&&n.Buffer.prototype instanceof Uint8Array&&"set"===n.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},i.prototype.bytes=function(e){n.isString(e)&&(e=n._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(i.writeBytesBuffer,t,e),this},i.prototype.string=function(e){var t=n.Buffer.byteLength(e);return this.uint32(t),t&&this._push(o,t,e),this},i._configure()})),Q6=H(((e,t)=>{function r(e,t){return e+n(t)}function n(e){let t=e;return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),16843009*(t+(t>>4)&252645135)>>24}function i(e,t){return e[0]-t[0]}function o(e){return e[1]}x(),t.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(e,t){let r=this._internalPositionFor(e,!1);if(void 0===t)-1!==r&&(this._unsetInternalPos(r),this._unsetBit(e),this._changedLength=!0,this._changedData=!0);else{let n=!1;-1===r?(r=this._data.length,this._setBit(e),this._changedData=!0):n=!0,this._setInternalPos(r,e,t,n),this._changedLength=!0}}unset(e){this.set(e,void 0)}get(e){this._sortData();let t=this._internalPositionFor(e,!0);if(-1!==t)return this._data[t][1]}push(e){return this.set(this.length,e),this.length}get length(){if(this._sortData(),this._changedLength){let e=this._data[this._data.length-1];this._length=e?e[0]+1:0,this._changedLength=!1}return this._length}forEach(e){let t=0;for(;t<this.length;)e(this.get(t),t,this),t++}map(e){let t=0,r=new Array(this.length);for(;t<this.length;)r[t]=e(this.get(t),t,this),t++;return r}reduce(e,t){let r=0,n=t;for(;r<this.length;)n=e(n,this.get(r),r),r++;return n}find(e){let t,r,n=0;for(;n<this.length&&!t;)r=this.get(n),t=e(r),n++;return t?r:void 0}_internalPositionFor(e,t){let i=this._bytePosFor(e,t);if(i>=this._bitArrays.length)return-1;let o=this._bitArrays[i],s=e-7*i;return(o&1<<s)>0?this._bitArrays.slice(0,i).reduce(r,0)+n(o&~(4294967295<<s+1))-1:-1}_bytePosFor(e,t){let r=Math.floor(e/7),n=r+1;for(;!t&&this._bitArrays.length<n;)this._bitArrays.push(0);return r}_setBit(e){let t=this._bytePosFor(e,!1);this._bitArrays[t]|=1<<e-7*t}_unsetBit(e){let t=this._bytePosFor(e,!1);this._bitArrays[t]&=~(1<<e-7*t)}_setInternalPos(e,t,r,n){let i=this._data,o=[t,r];if(n)this._sortData(),i[e]=o;else{if(i.length)if(i[i.length-1][0]>=t)i.push(o);else if(i[0][0]<=t)i.unshift(o);else{let e=Math.round(i.length/2);this._data=i.slice(0,e).concat(o).concat(i.slice(e))}else this._data.push(o);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(e){this._data.splice(e,1)}_sortData(){this._changedData&&this._data.sort(i),this._changedData=!1}bitField(){let e,t=[],r=8,n=0,i=0,o=this._bitArrays.slice();for(;o.length||n;){0===n&&(e=o.shift(),n=7);let s=Math.min(n,r);i|=(e&~(255<<s))<<8-r,e>>>=s,n-=s,r-=s,(!r||!n&&!o.length)&&(t.push(i),i=0,r=8)}for(var s=t.length-1;s>0&&0===t[s];s--)t.pop();return t}compactArray(){return this._sortData(),this._data.map(o)}}})),zk=H(((e,t)=>{x(),function(r,n){var i={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function o(e){if(!Array.isArray(e)&&!ArrayBuffer.isView(e))return!1;for(var t=0;t<e.length;t++)if(!Number.isInteger(e[t])||e[t]<0||e[t]>255)return!1;return!0}function s(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function a(e,t){return e<<t|e>>>32-t}function u(e){return e=s(e^=e>>>16,2246822507),(e=s(e^=e>>>13,3266489909))^e>>>16}function h(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]+t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]+t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]+t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]+t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function f(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]*t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]*t[3],r[1]+=r[2]>>>16,r[2]&=65535,r[2]+=e[3]*t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]*t[3],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[2]*t[2],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[3]*t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function c(e,t){return 32==(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function l(e,t){return 0==(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function d(e,t){return[e[0]^t[0],e[1]^t[1]]}function p(e){return e=d(e,[0,e[0]>>>1]),e=d(e=f(e,[4283543511,3981806797]),[0,e[0]>>>1]),d(e=f(e,[3301882366,444984403]),[0,e[0]>>>1])}i.x86.hash32=function(e,t){if(i.inputValidation&&!o(e))return n;t=t||0;for(var r=e.length%4,h=e.length-r,f=t,c=0,l=3432918353,d=461845907,p=0;p<h;p+=4)c=s(c=e[p]|e[p+1]<<8|e[p+2]<<16|e[p+3]<<24,l),c=s(c=a(c,15),d),f=s(f=a(f^=c,13),5)+3864292196;switch(c=0,r){case 3:c^=e[p+2]<<16;case 2:c^=e[p+1]<<8;case 1:c=s(c^=e[p],l),f^=c=s(c=a(c,15),d)}return(f=u(f^=e.length))>>>0},i.x86.hash128=function(e,t){if(i.inputValidation&&!o(e))return n;t=t||0;for(var r=e.length%16,h=e.length-r,f=t,c=t,l=t,d=t,p=0,y=0,m=0,g=0,b=597399067,w=2869860233,v=951274213,_=2716044179,E=0;E<h;E+=16)p=e[E]|e[E+1]<<8|e[E+2]<<16|e[E+3]<<24,y=e[E+4]|e[E+5]<<8|e[E+6]<<16|e[E+7]<<24,m=e[E+8]|e[E+9]<<8|e[E+10]<<16|e[E+11]<<24,g=e[E+12]|e[E+13]<<8|e[E+14]<<16|e[E+15]<<24,p=a(p=s(p,b),15),f=a(f^=p=s(p,w),19),f=s(f+=c,5)+1444728091,y=a(y=s(y,w),16),c=a(c^=y=s(y,v),17),c=s(c+=l,5)+197830471,m=a(m=s(m,v),17),l=a(l^=m=s(m,_),15),l=s(l+=d,5)+2530024501,g=a(g=s(g,_),18),d=a(d^=g=s(g,b),13),d=s(d+=f,5)+850148119;switch(p=0,y=0,m=0,g=0,r){case 15:g^=e[E+14]<<16;case 14:g^=e[E+13]<<8;case 13:g=s(g^=e[E+12],_),d^=g=s(g=a(g,18),b);case 12:m^=e[E+11]<<24;case 11:m^=e[E+10]<<16;case 10:m^=e[E+9]<<8;case 9:m=s(m^=e[E+8],v),l^=m=s(m=a(m,17),_);case 8:y^=e[E+7]<<24;case 7:y^=e[E+6]<<16;case 6:y^=e[E+5]<<8;case 5:y=s(y^=e[E+4],w),c^=y=s(y=a(y,16),v);case 4:p^=e[E+3]<<24;case 3:p^=e[E+2]<<16;case 2:p^=e[E+1]<<8;case 1:p=s(p^=e[E],b),f^=p=s(p=a(p,15),w)}return f^=e.length,f+=c^=e.length,f+=l^=e.length,c+=f+=d^=e.length,l+=f,d+=f,f=u(f),f+=c=u(c),f+=l=u(l),c+=f+=d=u(d),l+=f,d+=f,("00000000"+(f>>>0).toString(16)).slice(-8)+("00000000"+(c>>>0).toString(16)).slice(-8)+("00000000"+(l>>>0).toString(16)).slice(-8)+("00000000"+(d>>>0).toString(16)).slice(-8)},i.x64.hash128=function(e,t){if(i.inputValidation&&!o(e))return n;t=t||0;for(var r=e.length%16,s=e.length-r,a=[0,t],u=[0,t],y=[0,0],m=[0,0],g=[2277735313,289559509],b=[1291169091,658871167],w=0;w<s;w+=16)y=[e[w+4]|e[w+5]<<8|e[w+6]<<16|e[w+7]<<24,e[w]|e[w+1]<<8|e[w+2]<<16|e[w+3]<<24],m=[e[w+12]|e[w+13]<<8|e[w+14]<<16|e[w+15]<<24,e[w+8]|e[w+9]<<8|e[w+10]<<16|e[w+11]<<24],y=c(y=f(y,g),31),a=h(a=c(a=d(a,y=f(y,b)),27),u),a=h(f(a,[0,5]),[0,1390208809]),m=c(m=f(m,b),33),u=h(u=c(u=d(u,m=f(m,g)),31),a),u=h(f(u,[0,5]),[0,944331445]);switch(y=[0,0],m=[0,0],r){case 15:m=d(m,l([0,e[w+14]],48));case 14:m=d(m,l([0,e[w+13]],40));case 13:m=d(m,l([0,e[w+12]],32));case 12:m=d(m,l([0,e[w+11]],24));case 11:m=d(m,l([0,e[w+10]],16));case 10:m=d(m,l([0,e[w+9]],8));case 9:m=f(m=d(m,[0,e[w+8]]),b),u=d(u,m=f(m=c(m,33),g));case 8:y=d(y,l([0,e[w+7]],56));case 7:y=d(y,l([0,e[w+6]],48));case 6:y=d(y,l([0,e[w+5]],40));case 5:y=d(y,l([0,e[w+4]],32));case 4:y=d(y,l([0,e[w+3]],24));case 3:y=d(y,l([0,e[w+2]],16));case 2:y=d(y,l([0,e[w+1]],8));case 1:y=f(y=d(y,[0,e[w]]),g),a=d(a,y=f(y=c(y,31),b))}return a=h(a=d(a,[0,e.length]),u=d(u,[0,e.length])),u=h(u,a),a=h(a=p(a),u=p(u)),u=h(u,a),("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)+("00000000"+(u[0]>>>0).toString(16)).slice(-8)+("00000000"+(u[1]>>>0).toString(16)).slice(-8)},typeof e<"u"?(typeof t<"u"&&t.exports&&(e=t.exports=i),e.murmurHash3=i):"function"==typeof define&&define.amd?define([],(function(){return i})):(i._murmurHash3=r.murmurHash3,i.noConflict=function(){return r.murmurHash3=i._murmurHash3,i._murmurHash3=n,i.noConflict=n,i},r.murmurHash3=i)}(e)})),hM=H(((e,t)=>{x(),t.exports=zk()})),hd,AM,Hv=er((()=>{x(),Kc(),hd=({name:e,code:t,encode:r})=>new AM(e,t,r),AM=class{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?Bl(this.code,t):t.then((e=>Bl(this.code,e)))}throw Error("Unknown type, must be binary type")}}})),RM={};Ht(RM,{sha256:()=>Es,sha512:()=>zre});var bI,Es,zre,em=er((()=>{x(),Hv(),Es=hd({name:"sha2-256",code:18,encode:(bI=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)))("SHA-256")}),zre=hd({name:"sha2-512",code:19,encode:bI("SHA-512")})})),xI=H(((e,t)=>{var r,n;x(),r=e,n=function(){var e=Math.imul,t=Math.clz32;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){for(var r,n=0;n<t.length;n++)(r=t[n]).enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}}function a(){return(a=s()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&o(i,r.prototype),i}).apply(null,arguments)}function u(e){var t="function"==typeof Map?new Map:void 0;return u=function(e){function r(){return a(e,arguments,i(this).constructor)}if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(e))return t.get(e);t.set(e,r)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o(r,e)},u(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],s=!0,a=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==r.return||r.return()}finally{if(a)throw i}}return o}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var p=function(e){var t=Math.abs,a=Math.max,u=Math.floor;function d(e,t){var r;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(r=p.call(this,e)).sign=t,Object.setPrototypeOf(h(r),d.prototype),e>d.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return r}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(d,e);var p=function(e){var t=s();return function(){var r,n=i(e);if(t){var o=i(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f(this,r)}}(d);return function(e,t,r){t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(d,[{key:"toDebugString",value:function(){var e,t=["BigInt["],r=function(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw o}}}}(this);try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push((n&&(n>>>0).toString(16))+", ")}}catch(e){r.e(e)}finally{r.f()}return t.push("]"),t.join("")}},{key:"toString",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":e&e-1?d.__toStringGeneric(this,e,!1):d.__toStringBasePowerOfTwo(this,e)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var e=new d(this.length,this.sign),t=0;t<this.length;t++)e[t]=this[t];return e}},{key:"__trim",value:function(){for(var e=this.length,t=this[e-1];0===t;)t=this[--e-1],this.pop();return 0===e&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var e=0;e<this.length;e++)this[e]=0}},{key:"__clzmsd",value:function(){return d.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(e,t,r){r>this.length&&(r=this.length);for(var n=32767&e,i=e>>>15,o=0,s=t,a=0;a<r;a++){var u=this.__digit(a),h=32767&u,f=u>>>15,c=d.__imul(h,n),l=d.__imul(h,i),p=d.__imul(f,n),y=s+c+o;o=y>>>30,y&=1073741823,o+=(y+=((32767&l)<<15)+((32767&p)<<15))>>>30,s=d.__imul(f,i)+(l>>>15)+(p>>>15),this.__setDigit(a,1073741823&y)}if(0!==o||0!==s)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(e,t,r){for(var n,i=0,o=0;o<r;o++)i=(n=this.__halfDigit(t+o)+e.__halfDigit(o)+i)>>>15,this.__setHalfDigit(t+o,32767&n);return i}},{key:"__inplaceSub",value:function(e,t,r){var n=0;if(1&t){t>>=1;for(var i=this.__digit(t),o=32767&i,s=0;s<r-1>>>1;s++){var a=e.__digit(s),u=(i>>>15)-(32767&a)-n;n=1&u>>>15,this.__setDigit(t+s,(32767&u)<<15|32767&o),n=1&(o=(32767&(i=this.__digit(t+s+1)))-(a>>>15)-n)>>>15}var h=e.__digit(s),f=(i>>>15)-(32767&h)-n;if(n=1&f>>>15,this.__setDigit(t+s,(32767&f)<<15|32767&o),t+s+1>=this.length)throw new RangeError("out of bounds");!(1&r)&&(n=1&(o=(32767&(i=this.__digit(t+s+1)))-(h>>>15)-n)>>>15,this.__setDigit(t+e.length,1073709056&i|32767&o))}else{t>>=1;for(var c=0;c<e.length-1;c++){var l=this.__digit(t+c),d=e.__digit(c),p=(32767&l)-(32767&d)-n,y=(l>>>15)-(d>>>15)-(n=1&p>>>15);n=1&y>>>15,this.__setDigit(t+c,(32767&y)<<15|32767&p)}var m=this.__digit(t+c),g=e.__digit(c),b=(32767&m)-(32767&g)-n;n=1&b>>>15;var w=0;!(1&r)&&(n=1&(w=(m>>>15)-(g>>>15)-n)>>>15),this.__setDigit(t+c,(32767&w)<<15|32767&b)}return n}},{key:"__inplaceRightShift",value:function(e){if(0!==e){for(var t,r=this.__digit(0)>>>e,n=this.length-1,i=0;i<n;i++)t=this.__digit(i+1),this.__setDigit(i,1073741823&t<<30-e|r),r=t>>>e;this.__setDigit(n,r)}}},{key:"__digit",value:function(e){return this[e]}},{key:"__unsignedDigit",value:function(e){return this[e]>>>0}},{key:"__setDigit",value:function(e,t){this[e]=0|t}},{key:"__setDigitGrow",value:function(e,t){this[e]=0|t}},{key:"__halfDigitLength",value:function(){var e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}},{key:"__halfDigit",value:function(e){return 32767&this[e>>>1]>>>15*(1&e)}},{key:"__setHalfDigit",value:function(e,t){var r=e>>>1,n=this.__digit(r),i=1&e?32767&n|t<<15:1073709056&n|32767&t;this.__setDigit(r,i)}}],[{key:"BigInt",value:function(e){var t=Number.isFinite;if("number"==typeof e){if(0===e)return d.__zero();if(d.__isOneDigitInt(e))return 0>e?d.__oneDigit(-e,!0):d.__oneDigit(e,!1);if(!t(e)||u(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return d.__fromDouble(e)}if("string"==typeof e){var n=d.__fromString(e);if(null===n)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return n}if("boolean"==typeof e)return!0===e?d.__oneDigit(1,!1):d.__zero();if("object"===r(e)){if(e.constructor===d)return e;var i=d.__toPrimitive(e);return d.BigInt(i)}throw new TypeError("Cannot convert "+e+" to a BigInt")}},{key:"toNumber",value:function(e){var t=e.length;if(0===t)return 0;if(1===t){var r=e.__unsignedDigit(0);return e.sign?-r:r}var n=e.__digit(t-1),i=d.__clz30(n),o=30*t-i;if(1024<o)return e.sign?-1/0:1/0;var s=o-1,a=n,u=t-1,h=i+3,f=32===h?0:a<<h;f>>>=12;var c=h-12,l=12<=h?0:a<<20+h,p=20+h;for(0<c&&0<u&&(u--,f|=(a=e.__digit(u))>>>30-c,l=a<<c+2,p=c+2);0<p&&0<u;)u--,a=e.__digit(u),l|=30<=p?a<<p-30:a>>>30-p,p-=30;var y=d.__decideRounding(e,p,u,a);if((1===y||0===y&&1==(1&l))&&0==(l=l+1>>>0)&&++f>>>20!=0&&(f=0,1023<++s))return e.sign?-1/0:1/0;var m=e.sign?-2147483648:0;return s=s+1023<<20,d.__kBitConversionInts[1]=m|s|f,d.__kBitConversionInts[0]=l,d.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(e){if(0===e.length)return e;var t=e.__copy();return t.sign=!e.sign,t}},{key:"bitwiseNot",value:function(e){return e.sign?d.__absoluteSubOne(e).__trim():d.__absoluteAddOne(e,!0)}},{key:"exponentiate",value:function(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(0===t.length)return d.__oneDigit(1,!1);if(0===e.length)return e;if(1===e.length&&1===e.__digit(0))return!e.sign||1&t.__digit(0)?e:d.unaryMinus(e);if(1<t.length)throw new RangeError("BigInt too big");var r=t.__unsignedDigit(0);if(1===r)return e;if(r>=d.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===e.length&&2===e.__digit(0)){var n=1+(0|r/30),i=new d(n,e.sign&&0!=(1&r));i.__initializeDigits();var o=1<<r%30;return i.__setDigit(n-1,o),i}var s=null,a=e;for(1&r&&(s=e),r>>=1;0!==r;r>>=1)a=d.multiply(a,a),1&r&&(s=null===s?a:d.multiply(s,a));return s}},{key:"multiply",value:function(e,t){if(0===e.length)return e;if(0===t.length)return t;var r=e.length+t.length;30<=e.__clzmsd()+t.__clzmsd()&&r--;var n=new d(r,e.sign!==t.sign);n.__initializeDigits();for(var i=0;i<e.length;i++)d.__multiplyAccumulate(t,e.__digit(i),n,i);return n.__trim()}},{key:"divide",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>d.__absoluteCompare(e,t))return d.__zero();var r,n=e.sign!==t.sign,i=t.__unsignedDigit(0);if(1===t.length&&32767>=i){if(1===i)return n===e.sign?e:d.unaryMinus(e);r=d.__absoluteDivSmall(e,i,null)}else r=d.__absoluteDivLarge(e,t,!0,!1);return r.sign=n,r.__trim()}},{key:"remainder",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>d.__absoluteCompare(e,t))return e;var r=t.__unsignedDigit(0);if(1===t.length&&32767>=r){if(1===r)return d.__zero();var n=d.__absoluteModSmall(e,r);return 0===n?d.__zero():d.__oneDigit(n,e.sign)}var i=d.__absoluteDivLarge(e,t,!1,!0);return i.sign=e.sign,i.__trim()}},{key:"add",value:function(e,t){var r=e.sign;return r===t.sign?d.__absoluteAdd(e,t,r):0<=d.__absoluteCompare(e,t)?d.__absoluteSub(e,t,r):d.__absoluteSub(t,e,!r)}},{key:"subtract",value:function(e,t){var r=e.sign;return r===t.sign?0<=d.__absoluteCompare(e,t)?d.__absoluteSub(e,t,r):d.__absoluteSub(t,e,!r):d.__absoluteAdd(e,t,r)}},{key:"leftShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?d.__rightShiftByAbsolute(e,t):d.__leftShiftByAbsolute(e,t)}},{key:"signedRightShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?d.__leftShiftByAbsolute(e,t):d.__rightShiftByAbsolute(e,t)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(e,t){return 0>d.__compareToBigInt(e,t)}},{key:"lessThanOrEqual",value:function(e,t){return 0>=d.__compareToBigInt(e,t)}},{key:"greaterThan",value:function(e,t){return 0<d.__compareToBigInt(e,t)}},{key:"greaterThanOrEqual",value:function(e,t){return 0<=d.__compareToBigInt(e,t)}},{key:"equal",value:function(e,t){if(e.sign!==t.sign||e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e.__digit(r)!==t.__digit(r))return!1;return!0}},{key:"notEqual",value:function(e,t){return!d.equal(e,t)}},{key:"bitwiseAnd",value:function(e,t){if(!e.sign&&!t.sign)return d.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){var r=a(e.length,t.length)+1,n=d.__absoluteSubOne(e,r),i=d.__absoluteSubOne(t);return n=d.__absoluteOr(n,i,n),d.__absoluteAddOne(n,!0,n).__trim()}if(e.sign){var o=[t,e];e=o[0],t=o[1]}return d.__absoluteAndNot(e,d.__absoluteSubOne(t)).__trim()}},{key:"bitwiseXor",value:function(e,t){if(!e.sign&&!t.sign)return d.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){var r=a(e.length,t.length),n=d.__absoluteSubOne(e,r),i=d.__absoluteSubOne(t);return d.__absoluteXor(n,i,n).__trim()}var o=a(e.length,t.length)+1;if(e.sign){var s=[t,e];e=s[0],t=s[1]}var u=d.__absoluteSubOne(t,o);return u=d.__absoluteXor(u,e,u),d.__absoluteAddOne(u,!0,u).__trim()}},{key:"bitwiseOr",value:function(e,t){var r=a(e.length,t.length);if(!e.sign&&!t.sign)return d.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){var n=d.__absoluteSubOne(e,r),i=d.__absoluteSubOne(t);return n=d.__absoluteAnd(n,i,n),d.__absoluteAddOne(n,!0,n).__trim()}if(e.sign){var o=[t,e];e=o[0],t=o[1]}var s=d.__absoluteSubOne(t,r);return s=d.__absoluteAndNot(s,e,s),d.__absoluteAddOne(s,!0,s).__trim()}},{key:"asIntN",value:function(e,t){if(0===t.length)return t;if(0>(e=u(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return d.__zero();if(e>=d.__kMaxLengthBits)return t;var r=0|(e+29)/30;if(t.length<r)return t;var n=t.__unsignedDigit(r-1),i=1<<(e-1)%30;if(t.length===r&&n<i)return t;if((n&i)!==i)return d.__truncateToNBits(e,t);if(!t.sign)return d.__truncateAndSubFromPowerOfTwo(e,t,!0);if(!(n&i-1)){for(var o=r-2;0<=o;o--)if(0!==t.__digit(o))return d.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===r&&n===i?t:d.__truncateToNBits(e,t)}return d.__truncateAndSubFromPowerOfTwo(e,t,!1)}},{key:"asUintN",value:function(e,t){if(0===t.length)return t;if(0>(e=u(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return d.__zero();if(t.sign){if(e>d.__kMaxLengthBits)throw new RangeError("BigInt too big");return d.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=d.__kMaxLengthBits)return t;var r=0|(e+29)/30;if(t.length<r)return t;var n=e%30;if(t.length==r){if(0===n)return t;if(!(t.__digit(r-1)>>>n))return t}return d.__truncateToNBits(e,t)}},{key:"ADD",value:function(e,t){if(e=d.__toPrimitive(e),t=d.__toPrimitive(t),"string"==typeof e)return"string"!=typeof t&&(t=t.toString()),e+t;if("string"==typeof t)return e.toString()+t;if(e=d.__toNumeric(e),t=d.__toNumeric(t),d.__isBigInt(e)&&d.__isBigInt(t))return d.add(e,t);if("number"==typeof e&&"number"==typeof t)return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(e,t){return d.__compare(e,t,0)}},{key:"LE",value:function(e,t){return d.__compare(e,t,1)}},{key:"GT",value:function(e,t){return d.__compare(e,t,2)}},{key:"GE",value:function(e,t){return d.__compare(e,t,3)}},{key:"EQ",value:function(e,t){for(;;){if(d.__isBigInt(e))return d.__isBigInt(t)?d.equal(e,t):d.EQ(t,e);if("number"==typeof e){if(d.__isBigInt(t))return d.__equalToNumber(t,e);if("object"!==r(t))return e==t;t=d.__toPrimitive(t)}else if("string"==typeof e){if(d.__isBigInt(t))return null!==(e=d.__fromString(e))&&d.equal(e,t);if("object"!==r(t))return e==t;t=d.__toPrimitive(t)}else if("boolean"==typeof e){if(d.__isBigInt(t))return d.__equalToNumber(t,+e);if("object"!==r(t))return e==t;t=d.__toPrimitive(t)}else if("symbol"===r(e)){if(d.__isBigInt(t))return!1;if("object"!==r(t))return e==t;t=d.__toPrimitive(t)}else{if("object"!==r(e))return e==t;if("object"===r(t)&&t.constructor!==d)return e==t;e=d.__toPrimitive(e)}}}},{key:"NE",value:function(e,t){return!d.EQ(e,t)}},{key:"DataViewGetBigInt64",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return d.asIntN(64,d.DataViewGetBigUint64(e,t,r))}},{key:"DataViewGetBigUint64",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=r?[4,0]:[0,4],i=c(n,2),o=i[0],s=i[1],a=e.getUint32(t+o,r),u=e.getUint32(t+s,r),h=new d(3,!1);return h.__setDigit(0,1073741823&u),h.__setDigit(1,(268435455&a)<<2|u>>>30),h.__setDigit(2,a>>>28),h.__trim()}},{key:"DataViewSetBigInt64",value:function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]&&arguments[3];d.DataViewSetBigUint64(e,t,r,n)}},{key:"DataViewSetBigUint64",value:function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]&&arguments[3],i=0,o=0;if(0<(r=d.asUintN(64,r)).length&&(o=r.__digit(0),1<r.length)){var s=r.__digit(1);o|=s<<30,i=s>>>2,2<r.length&&(i|=r.__digit(2)<<28)}var a=n?[4,0]:[0,4],u=c(a,2),h=u[0],f=u[1];e.setUint32(t+h,i,n),e.setUint32(t+f,o,n)}},{key:"__zero",value:function(){return new d(0,!1)}},{key:"__oneDigit",value:function(e,t){var r=new d(1,t);return r.__setDigit(0,e),r}},{key:"__decideRounding",value:function(e,t,r,n){if(0<t)return-1;var i;if(0>t)i=-t-1;else{if(0===r)return-1;r--,n=e.__digit(r),i=29}var o=1<<i;if(!(n&o))return-1;if(0!=(n&(o-=1)))return 1;for(;0<r;)if(r--,0!==e.__digit(r))return 1;return 0}},{key:"__fromDouble",value:function(e){d.__kBitConversionDouble[0]=e;var t,r=(2047&d.__kBitConversionInts[1]>>>20)-1023,n=1+(0|r/30),i=new d(n,0>e),o=1048575&d.__kBitConversionInts[1]|1048576,s=d.__kBitConversionInts[0],a=r%30,u=0;if(a<20){var h=20-a;u=h+32,t=o>>>h,o=o<<32-h|s>>>h,s<<=32-h}else if(20===a)u=32,t=o,o=s,s=0;else{var f=a-20;u=32-f,t=o<<f|s>>>32-f,o=s<<f,s=0}i.__setDigit(n-1,t);for(var c=n-2;0<=c;c--)0<u?(u-=30,t=o>>>2,o=o<<30|s>>>2,s<<=30):t=0,i.__setDigit(c,t);return i.__trim()}},{key:"__isWhitespace",value:function(e){return 13>=e&&9<=e||(159>=e?32==e:131071>=e?160==e||5760==e:196607>=e?10>=(e&=131071)||40==e||41==e||47==e||95==e||4096==e:65279==e)}},{key:"__fromString",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=0,n=e.length,i=0;if(i===n)return d.__zero();for(var o=e.charCodeAt(i);d.__isWhitespace(o);){if(++i===n)return d.__zero();o=e.charCodeAt(i)}if(43===o){if(++i===n)return null;o=e.charCodeAt(i),r=1}else if(45===o){if(++i===n)return null;o=e.charCodeAt(i),r=-1}if(0===t){if(t=10,48===o){if(++i===n)return d.__zero();if(88===(o=e.charCodeAt(i))||120===o){if(t=16,++i===n)return null;o=e.charCodeAt(i)}else if(79===o||111===o){if(t=8,++i===n)return null;o=e.charCodeAt(i)}else if(66===o||98===o){if(t=2,++i===n)return null;o=e.charCodeAt(i)}}}else if(16===t&&48===o){if(++i===n)return d.__zero();if(88===(o=e.charCodeAt(i))||120===o){if(++i===n)return null;o=e.charCodeAt(i)}}if(0!==r&&10!==t)return null;for(;48===o;){if(++i===n)return d.__zero();o=e.charCodeAt(i)}var s=n-i,a=d.__kMaxBitsPerChar[t],u=d.__kBitsPerCharTableMultiplier-1;if(s>1073741824/a)return null;var h=a*s+u>>>d.__kBitsPerCharTableShift,f=new d(0|(h+29)/30,!1),c=10>t?t:10,l=10<t?t-10:0;if(t&t-1){f.__initializeDigits();var p=!1,y=0;do{for(var m,g=0,b=1;;){if(m=void 0,o-48>>>0<c)m=o-48;else{if(!((32|o)-97>>>0<l)){p=!0;break}m=(32|o)-87}var w=b*t;if(1073741823<w)break;if(b=w,g=g*t+m,y++,++i===n){p=!0;break}o=e.charCodeAt(i)}var v=0|(a*y+(u=30*d.__kBitsPerCharTableMultiplier-1)>>>d.__kBitsPerCharTableShift)/30;f.__inplaceMultiplyAdd(b,g,v)}while(!p)}else{a>>=d.__kBitsPerCharTableShift;var _=[],E=[],S=!1;do{for(var M,A=0,k=0;;){if(M=void 0,o-48>>>0<c)M=o-48;else{if(!((32|o)-97>>>0<l)){S=!0;break}M=(32|o)-87}if(k+=a,A=A<<a|M,++i===n){S=!0;break}if(o=e.charCodeAt(i),30<k+a)break}_.push(A),E.push(k)}while(!S);d.__fillFromParts(f,_,E)}if(i!==n){if(!d.__isWhitespace(o))return null;for(i++;i<n;i++)if(o=e.charCodeAt(i),!d.__isWhitespace(o))return null}return f.sign=-1===r,f.__trim()}},{key:"__fillFromParts",value:function(e,t,r){for(var n=0,i=0,o=0,s=t.length-1;0<=s;s--){var a=t[s],u=r[s];i|=a<<o,30===(o+=u)?(e.__setDigit(n++,i),o=0,i=0):30<o&&(e.__setDigit(n++,1073741823&i),i=a>>>u-(o-=30))}if(0!==i){if(n>=e.length)throw new Error("implementation bug");e.__setDigit(n++,i)}for(;n<e.length;n++)e.__setDigit(n,0)}},{key:"__toStringBasePowerOfTwo",value:function(e,t){var r=e.length,n=t-1,i=n=(15&(n=(51&(n=(85&n>>>1)+(85&n))>>>2)+(51&n))>>>4)+(15&n),o=t-1,s=e.__digit(r-1),a=0|(30*r-d.__clz30(s)+i-1)/i;if(e.sign&&a++,268435456<a)throw new Error("string too long");for(var u=Array(a),h=a-1,f=0,c=0,l=0;l<r-1;l++){var p=e.__digit(l),y=(f|p<<c)&o;u[h--]=d.__kConversionChars[y];var m=i-c;for(f=p>>>m,c=30-m;c>=i;)u[h--]=d.__kConversionChars[f&o],f>>>=i,c-=i}var g=(f|s<<c)&o;for(u[h--]=d.__kConversionChars[g],f=s>>>i-c;0!==f;)u[h--]=d.__kConversionChars[f&o],f>>>=i;if(e.sign&&(u[h--]="-"),-1!==h)throw new Error("implementation bug");return u.join("")}},{key:"__toStringGeneric",value:function(e,t,r){var n=e.length;if(0===n)return"";if(1===n){var i=e.__unsignedDigit(0).toString(t);return!1===r&&e.sign&&(i="-"+i),i}var o,s,a=30*n-d.__clz30(e.__digit(n-1)),u=d.__kMaxBitsPerChar[t]-1,h=a*d.__kBitsPerCharTableMultiplier,f=1+(h=0|(h+=u-1)/u)>>1,c=d.exponentiate(d.__oneDigit(t,!1),d.__oneDigit(f,!1)),l=c.__unsignedDigit(0);if(1===c.length&&32767>=l){(o=new d(e.length,!1)).__initializeDigits();for(var p,y=0,m=2*e.length-1;0<=m;m--)p=y<<15|e.__halfDigit(m),o.__setHalfDigit(m,0|p/l),y=0|p%l;s=y.toString(t)}else{var g=d.__absoluteDivLarge(e,c,!0,!0);o=g.quotient;var b=g.remainder.__trim();s=d.__toStringGeneric(b,t,!0)}o.__trim();for(var w=d.__toStringGeneric(o,t,!0);s.length<f;)s="0"+s;return!1===r&&e.sign&&(w="-"+w),w+s}},{key:"__unequalSign",value:function(e){return e?-1:1}},{key:"__absoluteGreater",value:function(e){return e?-1:1}},{key:"__absoluteLess",value:function(e){return e?1:-1}},{key:"__compareToBigInt",value:function(e,t){var r=e.sign;if(r!==t.sign)return d.__unequalSign(r);var n=d.__absoluteCompare(e,t);return 0<n?d.__absoluteGreater(r):0>n?d.__absoluteLess(r):0}},{key:"__compareToNumber",value:function(e,r){if(d.__isOneDigitInt(r)){var n=e.sign,i=0>r;if(n!==i)return d.__unequalSign(n);if(0===e.length){if(i)throw new Error("implementation bug");return 0===r?0:-1}if(1<e.length)return d.__absoluteGreater(n);var o=t(r),s=e.__unsignedDigit(0);return s>o?d.__absoluteGreater(n):s<o?d.__absoluteLess(n):0}return d.__compareToDouble(e,r)}},{key:"__compareToDouble",value:function(e,t){if(t!=t)return t;if(t===1/0)return-1;if(t===-1/0)return 1;var r=e.sign;if(r!==0>t)return d.__unequalSign(r);if(0===t)throw new Error("implementation bug: should be handled elsewhere");if(0===e.length)return-1;d.__kBitConversionDouble[0]=t;var n=2047&d.__kBitConversionInts[1]>>>20;if(2047==n)throw new Error("implementation bug: handled elsewhere");var i=n-1023;if(0>i)return d.__absoluteGreater(r);var o=e.length,s=e.__digit(o-1),a=d.__clz30(s),u=30*o-a,h=i+1;if(u<h)return d.__absoluteLess(r);if(u>h)return d.__absoluteGreater(r);var f=1048576|1048575&d.__kBitConversionInts[1],c=d.__kBitConversionInts[0],l=29-a;if(l!==(0|(u-1)%30))throw new Error("implementation bug");var p,y=0;if(l<20){var m=20-l;y=m+32,p=f>>>m,f=f<<32-m|c>>>m,c<<=32-m}else if(20===l)y=32,p=f,f=c,c=0;else{var g=l-20;y=32-g,p=f<<g|c>>>32-g,f=c<<g,c=0}if((s>>>=0)>(p>>>=0))return d.__absoluteGreater(r);if(s<p)return d.__absoluteLess(r);for(var b=o-2;0<=b;b--){0<y?(y-=30,p=f>>>2,f=f<<30|c>>>2,c<<=30):p=0;var w=e.__unsignedDigit(b);if(w>p)return d.__absoluteGreater(r);if(w<p)return d.__absoluteLess(r)}if(0!==f||0!==c){if(0===y)throw new Error("implementation bug");return d.__absoluteLess(r)}return 0}},{key:"__equalToNumber",value:function(e,r){return d.__isOneDigitInt(r)?0===r?0===e.length:1===e.length&&e.sign===0>r&&e.__unsignedDigit(0)===t(r):0===d.__compareToDouble(e,r)}},{key:"__comparisonResultToBool",value:function(e,t){return 0===t?0>e:1===t?0>=e:2===t?0<e:3===t?0<=e:void 0}},{key:"__compare",value:function(e,t,r){if(e=d.__toPrimitive(e),t=d.__toPrimitive(t),"string"==typeof e&&"string"==typeof t)switch(r){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(d.__isBigInt(e)&&"string"==typeof t)return null!==(t=d.__fromString(t))&&d.__comparisonResultToBool(d.__compareToBigInt(e,t),r);if("string"==typeof e&&d.__isBigInt(t))return null!==(e=d.__fromString(e))&&d.__comparisonResultToBool(d.__compareToBigInt(e,t),r);if(e=d.__toNumeric(e),t=d.__toNumeric(t),d.__isBigInt(e)){if(d.__isBigInt(t))return d.__comparisonResultToBool(d.__compareToBigInt(e,t),r);if("number"!=typeof t)throw new Error("implementation bug");return d.__comparisonResultToBool(d.__compareToNumber(e,t),r)}if("number"!=typeof e)throw new Error("implementation bug");if(d.__isBigInt(t))return d.__comparisonResultToBool(d.__compareToNumber(t,e),2^r);if("number"!=typeof t)throw new Error("implementation bug");return 0===r?e<t:1===r?e<=t:2===r?e>t:3===r?e>=t:void 0}},{key:"__absoluteAdd",value:function(e,t,r){if(e.length<t.length)return d.__absoluteAdd(t,e,r);if(0===e.length)return e;if(0===t.length)return e.sign===r?e:d.unaryMinus(e);var n=e.length;(0===e.__clzmsd()||t.length===e.length&&0===t.__clzmsd())&&n++;for(var i,o=new d(n,r),s=0,a=0;a<t.length;a++)s=(i=e.__digit(a)+t.__digit(a)+s)>>>30,o.__setDigit(a,1073741823&i);for(;a<e.length;a++){var u=e.__digit(a)+s;s=u>>>30,o.__setDigit(a,1073741823&u)}return a<o.length&&o.__setDigit(a,s),o.__trim()}},{key:"__absoluteSub",value:function(e,t,r){if(0===e.length)return e;if(0===t.length)return e.sign===r?e:d.unaryMinus(e);for(var n,i=new d(e.length,r),o=0,s=0;s<t.length;s++)o=1&(n=e.__digit(s)-t.__digit(s)-o)>>>30,i.__setDigit(s,1073741823&n);for(;s<e.length;s++){var a=e.__digit(s)-o;o=1&a>>>30,i.__setDigit(s,1073741823&a)}return i.__trim()}},{key:"__absoluteAddOne",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length;null===r?r=new d(n,t):r.sign=t;for(var i,o=1,s=0;s<n;s++)o=(i=e.__digit(s)+o)>>>30,r.__setDigit(s,1073741823&i);return 0!==o&&r.__setDigitGrow(n,1),r}},{key:"__absoluteSubOne",value:function(e,t){for(var r,n=e.length,i=new d(t=t||n,!1),o=1,s=0;s<n;s++)o=1&(r=e.__digit(s)-o)>>>30,i.__setDigit(s,1073741823&r);if(0!==o)throw new Error("implementation bug");for(var a=n;a<t;a++)i.__setDigit(a,0);return i}},{key:"__absoluteAnd",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;if(n<i){o=n;var s=e,a=n;e=t,n=i,t=s,i=a}var u=o;null===r?r=new d(u,!1):u=r.length;for(var h=0;h<o;h++)r.__setDigit(h,e.__digit(h)&t.__digit(h));for(;h<u;h++)r.__setDigit(h,0);return r}},{key:"__absoluteAndNot",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;n<i&&(o=n);var s=n;null===r?r=new d(s,!1):s=r.length;for(var a=0;a<o;a++)r.__setDigit(a,e.__digit(a)&~t.__digit(a));for(;a<n;a++)r.__setDigit(a,e.__digit(a));for(;a<s;a++)r.__setDigit(a,0);return r}},{key:"__absoluteOr",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;if(n<i){o=n;var s=e,a=n;e=t,n=i,t=s,i=a}var u=n;null===r?r=new d(u,!1):u=r.length;for(var h=0;h<o;h++)r.__setDigit(h,e.__digit(h)|t.__digit(h));for(;h<n;h++)r.__setDigit(h,e.__digit(h));for(;h<u;h++)r.__setDigit(h,0);return r}},{key:"__absoluteXor",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;if(n<i){o=n;var s=e,a=n;e=t,n=i,t=s,i=a}var u=n;null===r?r=new d(u,!1):u=r.length;for(var h=0;h<o;h++)r.__setDigit(h,e.__digit(h)^t.__digit(h));for(;h<n;h++)r.__setDigit(h,e.__digit(h));for(;h<u;h++)r.__setDigit(h,0);return r}},{key:"__absoluteCompare",value:function(e,t){var r=e.length-t.length;if(0!=r)return r;for(var n=e.length-1;0<=n&&e.__digit(n)===t.__digit(n);)n--;return 0>n?0:e.__unsignedDigit(n)>t.__unsignedDigit(n)?1:-1}},{key:"__multiplyAccumulate",value:function(e,t,r,n){if(0!==t){for(var i=32767&t,o=t>>>15,s=0,a=0,u=0;u<e.length;u++,n++){var h=r.__digit(n),f=e.__digit(u),c=32767&f,l=f>>>15,p=d.__imul(c,i),y=d.__imul(c,o),m=d.__imul(l,i);s=(h+=a+p+s)>>>30,h&=1073741823,s+=(h+=((32767&y)<<15)+((32767&m)<<15))>>>30,a=d.__imul(l,o)+(y>>>15)+(m>>>15),r.__setDigit(n,1073741823&h)}for(;0!==s||0!==a;n++){var g=r.__digit(n);g+=s+a,a=0,s=g>>>30,r.__setDigit(n,1073741823&g)}}}},{key:"__internalMultiplyAdd",value:function(e,t,r,n,i){for(var o=r,s=0,a=0;a<n;a++){var u=e.__digit(a),h=d.__imul(32767&u,t),f=d.__imul(u>>>15,t),c=h+((32767&f)<<15)+s+o;o=c>>>30,s=f>>>15,i.__setDigit(a,1073741823&c)}if(i.length>n)for(i.__setDigit(n++,o+s);n<i.length;)i.__setDigit(n++,0);else if(o+s!==0)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null===r&&(r=new d(e.length,!1));for(var n=0,i=2*e.length-1;0<=i;i-=2){var o=(n<<15|e.__halfDigit(i))>>>0,s=0|o/t,a=0|(o=((n=0|o%t)<<15|e.__halfDigit(i-1))>>>0)/t;n=0|o%t,r.__setDigit(i>>>1,s<<15|a)}return r}},{key:"__absoluteModSmall",value:function(e,t){for(var r=0,n=2*e.length-1;0<=n;n--)r=0|((r<<15|e.__halfDigit(n))>>>0)%t;return r}},{key:"__absoluteDivLarge",value:function(e,t,r,n){var i=t.__halfDigitLength(),o=t.length,s=e.__halfDigitLength()-i,a=null;r&&(a=new d(s+2>>>1,!1)).__initializeDigits();var u=new d(i+2>>>1,!1);u.__initializeDigits();var h=d.__clz15(t.__halfDigit(i-1));0<h&&(t=d.__specialLeftShift(t,h,0));for(var f=d.__specialLeftShift(e,h,1),c=t.__halfDigit(i-1),l=0,p=s;0<=p;p--){var y=32767,m=f.__halfDigit(p+i);if(m!==c){var g=(m<<15|f.__halfDigit(p+i-1))>>>0;y=0|g/c;for(var b=0|g%c,w=t.__halfDigit(i-2),v=f.__halfDigit(p+i-2);d.__imul(y,w)>>>0>(b<<16|v)>>>0&&(y--,!(32767<(b+=c))););}d.__internalMultiplyAdd(t,y,0,o,u);var _=f.__inplaceSub(u,p,i+1);0!==_&&(_=f.__inplaceAdd(t,p,i),f.__setHalfDigit(p+i,32767&f.__halfDigit(p+i)+_),y--),r&&(1&p?l=y<<15:a.__setDigit(p>>>1,l|y))}if(n)return f.__inplaceRightShift(h),r?{quotient:a,remainder:f}:f;if(r)return a;throw new Error("unreachable")}},{key:"__clz15",value:function(e){return d.__clz30(e)-15}},{key:"__specialLeftShift",value:function(e,t,r){var n=e.length,i=new d(n+r,!1);if(0===t){for(var o=0;o<n;o++)i.__setDigit(o,e.__digit(o));return 0<r&&i.__setDigit(n,0),i}for(var s,a=0,u=0;u<n;u++)s=e.__digit(u),i.__setDigit(u,1073741823&s<<t|a),a=s>>>30-t;return 0<r&&i.__setDigit(n,a),i}},{key:"__leftShiftByAbsolute",value:function(e,t){var r=d.__toShiftAmount(t);if(0>r)throw new RangeError("BigInt too big");var n=0|r/30,i=r%30,o=e.length,s=0!==i&&e.__digit(o-1)>>>30-i!=0,a=o+n+(s?1:0),u=new d(a,e.sign);if(0===i){for(var h=0;h<n;h++)u.__setDigit(h,0);for(;h<a;h++)u.__setDigit(h,e.__digit(h-n))}else{for(var f=0,c=0;c<n;c++)u.__setDigit(c,0);for(var l,p=0;p<o;p++)l=e.__digit(p),u.__setDigit(p+n,1073741823&l<<i|f),f=l>>>30-i;if(s)u.__setDigit(o+n,f);else if(0!==f)throw new Error("implementation bug")}return u.__trim()}},{key:"__rightShiftByAbsolute",value:function(e,t){var r=e.length,n=e.sign,i=d.__toShiftAmount(t);if(0>i)return d.__rightShiftByMaximum(n);var o=0|i/30,s=i%30,a=r-o;if(0>=a)return d.__rightShiftByMaximum(n);var u=!1;if(n)if(e.__digit(o)&(1<<s)-1)u=!0;else for(var h=0;h<o;h++)if(0!==e.__digit(h)){u=!0;break}u&&0===s&&!~e.__digit(r-1)&&a++;var f=new d(a,n);if(0===s){f.__setDigit(a-1,0);for(var c=o;c<r;c++)f.__setDigit(c-o,e.__digit(c))}else{for(var l,p=e.__digit(o)>>>s,y=r-o-1,m=0;m<y;m++)l=e.__digit(m+o+1),f.__setDigit(m,1073741823&l<<30-s|p),p=l>>>s;f.__setDigit(y,p)}return u&&(f=d.__absoluteAddOne(f,!0,f)),f.__trim()}},{key:"__rightShiftByMaximum",value:function(e){return e?d.__oneDigit(1,!0):d.__zero()}},{key:"__toShiftAmount",value:function(e){if(1<e.length)return-1;var t=e.__unsignedDigit(0);return t>d.__kMaxLengthBits?-1:t}},{key:"__toPrimitive",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==r(e)||e.constructor===d)return e;if(typeof Symbol<"u"&&"symbol"===r(Symbol.toPrimitive)){var n=e[Symbol.toPrimitive];if(n){var i=n(t);if("object"!==r(i))return i;throw new TypeError("Cannot convert object to primitive value")}}var o=e.valueOf;if(o){var s=o.call(e);if("object"!==r(s))return s}var a=e.toString;if(a){var u=a.call(e);if("object"!==r(u))return u}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(e){return d.__isBigInt(e)?e:+e}},{key:"__isBigInt",value:function(e){return"object"===r(e)&&null!==e&&e.constructor===d}},{key:"__truncateToNBits",value:function(e,t){for(var r=0|(e+29)/30,n=new d(r,t.sign),i=r-1,o=0;o<i;o++)n.__setDigit(o,t.__digit(o));var s=t.__digit(i);if(e%30!=0){var a=32-e%30;s=s<<a>>>a}return n.__setDigit(i,s),n.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(e,t,r){for(var n,i=Math.min,o=0|(e+29)/30,s=new d(o,r),a=0,u=o-1,h=0,f=i(u,t.length);a<f;a++)h=1&(n=0-t.__digit(a)-h)>>>30,s.__setDigit(a,1073741823&n);for(;a<u;a++)s.__setDigit(a,0|1073741823&-h);var c,l=u<t.length?t.__digit(u):0,p=e%30;if(0===p)c=0-l-h,c&=1073741823;else{var y=32-p,m=1<<32-y;c=m-(l=l<<y>>>y)-h,c&=m-1}return s.__setDigit(u,c),s.__trim()}},{key:"__digitPow",value:function(e,t){for(var r=1;0<t;)1&t&&(r*=e),t>>>=1,e*=e;return r}},{key:"__isOneDigitInt",value:function(e){return(1073741823&e)===e}}]),d}(u(Array));return p.__kMaxLength=33554432,p.__kMaxLengthBits=p.__kMaxLength<<5,p.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],p.__kBitsPerCharTableShift=5,p.__kBitsPerCharTableMultiplier=1<<p.__kBitsPerCharTableShift,p.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],p.__kBitConversionBuffer=new ArrayBuffer(8),p.__kBitConversionDouble=new Float64Array(p.__kBitConversionBuffer),p.__kBitConversionInts=new Int32Array(p.__kBitConversionBuffer),p.__clz30=t?function(e){return t(e)-2}:function(e){var t=Math.LN2,r=Math.log;return 0===e?30:0|29-(0|r(e>>>0)/t)},p.__imul=e||function(e,t){return 0|e*t},p},"object"==typeof e&&typeof t<"u"?t.exports=n():"function"==typeof define&&define.amd?define(n):(r=r||self).JSBI=n()})),jx={};Ht(jx,{base64:()=>kie,base64pad:()=>Iie,base64url:()=>Td,base64urlpad:()=>Pie});var kie,Iie,Td,Pie,Ux=er((()=>{x(),aa(),kie=Yr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Iie=Yr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Td=Yr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Pie=Yr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})})),_t=H(((e,t)=>{x();var r=St(),n=r.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=o),o.prototype=Object.create(n.prototype),i(n,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}})),oh=H(((e,t)=>{x();var r=65536,n=_t().Buffer,i=globalThis.crypto||globalThis.msCrypto;i&&i.getRandomValues?t.exports=function(e,t){if(e>4294967295)throw new RangeError("requested too many random bytes");var o=n.allocUnsafe(e);if(e>0)if(e>r)for(var s=0;s<e;s+=r)i.getRandomValues(o.slice(s,s+r));else i.getRandomValues(o);return"function"==typeof t?D.default.nextTick((function(){t(null,o)})):o}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}})),He=H(((e,t)=>{x(),"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),Gn=H(((e,t)=>{x();var r,n="object"==typeof Reflect?Reflect:null,i=n&&"function"==typeof n.apply?n.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};r=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}m(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&m(e,"error",t,{once:!0})}(e,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function h(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function f(e,t,r,n){var i,o,s;if(u(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=h(e))>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,function(e){console&&console.warn&&console.warn(e)}(a)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=c.bind(n);return i.listener=r,n.wrapFn=i,i}function d(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):y(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function y(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function m(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),s.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return h(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)i(u,this,t);else{var h=u.length,f=y(u,h);for(r=0;r<h;++r)i(f[r],this,t)}return!0},s.prototype.addListener=function(e,t){return f(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return f(this,e,t,!0)},s.prototype.once=function(e,t){return u(t),this.on(e,l(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,l(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,i,o,s;if(u(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return d(this,e,!0)},s.prototype.rawListeners=function(e){return d(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}})),Kx=H(((e,t)=>{x(),t.exports=Gn().EventEmitter})),Gx=H(((e,t)=>{x(),t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}})),Dm=H(((e,t)=>{x();var r=Gx();t.exports=function(){return r()&&!!Symbol.toStringTag}})),bD=H(((e,t)=>{x();var r=typeof Symbol<"u"&&Symbol,n=Gx();t.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&n()}})),_D=H(((e,t)=>{x();var r="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,i=Object.prototype.toString,o="[object Function]";t.exports=function(e){var t=this;if("function"!=typeof t||i.call(t)!==o)throw new TypeError(r+t);for(var s,a=n.call(arguments,1),u=function(){if(this instanceof s){var r=t.apply(this,a.concat(n.call(arguments)));return Object(r)===r?r:this}return t.apply(e,a.concat(n.call(arguments)))},h=Math.max(0,t.length-a.length),f=[],c=0;c<h;c++)f.push("$"+c);if(s=Function("binder","return function ("+f.join(",")+"){ return binder.apply(this,arguments); }")(u),t.prototype){var l=function(){};l.prototype=t.prototype,s.prototype=new l,l.prototype=null}return s}})),I1=H(((e,t)=>{x();var r=_D();t.exports=Function.prototype.bind||r})),ED=H(((e,t)=>{x();var r=I1();t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)})),B1=H(((e,t)=>{x();var r,n=SyntaxError,i=Function,o=TypeError,s=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch{}},a=Object.getOwnPropertyDescriptor;if(a)try{a({},"")}catch{a=null}var u=function(){throw new o},h=a?function(){try{return u}catch{try{return a(arguments,"callee").get}catch{return u}}}():u,f=bD()(),c=Object.getPrototypeOf||function(e){return e.__proto__},l={},d=typeof Uint8Array>"u"?r:c(Uint8Array),p={"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":f?c([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":l,"%AsyncGenerator%":l,"%AsyncGeneratorFunction%":l,"%AsyncIteratorPrototype%":l,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":l,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?c(c([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!f?r:c((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!f?r:c((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?c(""[Symbol.iterator]()):r,"%Symbol%":f?Symbol:r,"%SyntaxError%":n,"%ThrowTypeError%":h,"%TypedArray%":d,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet},y=function e(t){var r;if("%AsyncFunction%"===t)r=s("async function () {}");else if("%GeneratorFunction%"===t)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=s("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(r=c(i.prototype))}return p[t]=r,r},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},g=I1(),b=ED(),w=g.call(Function.call,Array.prototype.concat),v=g.call(Function.apply,Array.prototype.splice),_=g.call(Function.call,String.prototype.replace),E=g.call(Function.call,String.prototype.slice),S=g.call(Function.call,RegExp.prototype.exec),M=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,k=function(e){var t=E(e,0,1),r=E(e,-1);if("%"===t&&"%"!==r)throw new n("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new n("invalid intrinsic syntax, expected opening `%`");var i=[];return _(e,M,(function(e,t,r,n){i[i.length]=r?_(n,A,"$1"):t||e})),i},T=function(e,t){var r,i=e;if(b(m,i)&&(i="%"+(r=m[i])[0]+"%"),b(p,i)){var s=p[i];if(s===l&&(s=y(i)),typeof s>"u"&&!t)throw new o("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:i,value:s}}throw new n("intrinsic "+e+" does not exist!")};t.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new o('"allowMissing" argument must be a boolean');if(null===S(/^%?[^%]*%?$/g,e))throw new n("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=k(e),i=r.length>0?r[0]:"",s=T("%"+i+"%",t),u=s.name,h=s.value,f=!1,c=s.alias;c&&(i=c[0],v(r,w([0,1],c)));for(var l=1,d=!0;l<r.length;l+=1){var y=r[l],m=E(y,0,1),g=E(y,-1);if(('"'===m||"'"===m||"`"===m||'"'===g||"'"===g||"`"===g)&&m!==g)throw new n("property names with quotes must have matching quotes");if(("constructor"===y||!d)&&(f=!0),b(p,u="%"+(i+="."+y)+"%"))h=p[u];else if(null!=h){if(!(y in h)){if(!t)throw new o("base intrinsic for "+e+" exists, but the property is not available.");return}if(a&&l+1>=r.length){var _=a(h,y);h=(d=!!_)&&"get"in _&&!("originalValue"in _.get)?_.get:h[y]}else d=b(h,y),h=h[y];d&&!f&&(p[u]=h)}}return h}})),OD=H(((e,t)=>{x();var r=I1(),n=B1(),i=n("%Function.prototype.apply%"),o=n("%Function.prototype.call%"),s=n("%Reflect.apply%",!0)||r.call(o,i),a=n("%Object.getOwnPropertyDescriptor%",!0),u=n("%Object.defineProperty%",!0),h=n("%Math.max%");if(u)try{u({},"a",{value:1})}catch{u=null}t.exports=function(e){var t=s(r,o,arguments);if(a&&u){var n=a(t,"length");n.configurable&&u(t,"length",{value:1+h(0,e.length-(arguments.length-1))})}return t};var f=function(){return s(r,i,arguments)};u?u(t.exports,"apply",{value:f}):t.exports.apply=f})),C1=H(((e,t)=>{x();var r=B1(),n=OD(),i=n(r("String.prototype.indexOf"));t.exports=function(e,t){var o=r(e,!!t);return"function"==typeof o&&i(e,".prototype.")>-1?n(o):o}})),UD=H(((e,t)=>{x();var r=Dm()(),n=C1()("Object.prototype.toString"),i=function(e){return!(r&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===n(e)},o=function(e){return!!i(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==n(e)&&"[object Function]"===n(e.callee)},s=function(){return i(arguments)}();i.isLegacyArguments=o,t.exports=s?i:o})),$D=H(((e,t)=>{x();var r,n=Object.prototype.toString,i=Function.prototype.toString,o=/^\s*(?:function)?\*/,s=Dm()(),a=Object.getPrototypeOf;t.exports=function(e){if("function"!=typeof e)return!1;if(o.test(i.call(e)))return!0;if(!s)return"[object GeneratorFunction]"===n.call(e);if(!a)return!1;if(typeof r>"u"){var t=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch{}}();r=!!t&&a(t)}return a(e)===r}})),KD=H(((e,t)=>{x();var r,n,i=Function.prototype.toString,o="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof o&&"function"==typeof Object.defineProperty)try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},o((function(){throw 42}),null,r)}catch(e){e!==n&&(o=null)}else o=null;var s=/^\s*class\b/,a=function(e){try{var t=i.call(e);return s.test(t)}catch{return!1}},u=Object.prototype.toString,h="function"==typeof Symbol&&!!Symbol.toStringTag,f="object"==typeof document&&typeof document.all>"u"&&void 0!==document.all?document.all:{};t.exports=o?function(e){if(e===f)return!0;if(!e||"function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;try{o(e,null,r)}catch(e){if(e!==n)return!1}return!a(e)}:function(e){if(e===f)return!0;if(!e||"function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(h)return function(e){try{return!a(e)&&(i.call(e),!0)}catch{return!1}}(e);if(a(e))return!1;var t=u.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}})),nE=H(((e,t)=>{x();var r=KD(),n=Object.prototype.toString,i=Object.prototype.hasOwnProperty,o=function(e,t,r){for(var n=0,o=e.length;n<o;n++)i.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))},s=function(e,t,r){for(var n=0,i=e.length;n<i;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)},a=function(e,t,r){for(var n in e)i.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))};t.exports=function(e,t,i){if(!r(t))throw new TypeError("iterator must be a function");var u;arguments.length>=3&&(u=i),"[object Array]"===n.call(e)?o(e,t,u):"string"==typeof e?s(e,t,u):a(e,t,u)}})),sE=H(((e,t)=>{x();var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],n=globalThis;t.exports=function(){for(var e=[],t=0;t<r.length;t++)"function"==typeof n[r[t]]&&(e[e.length]=r[t]);return e}})),aE=H(((e,t)=>{x();var r=B1()("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch{r=null}t.exports=r})),lE=H(((e,t)=>{x();var r=nE(),n=sE(),i=C1(),o=i("Object.prototype.toString"),s=Dm()(),a=globalThis,u=n(),h=i("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},f=i("String.prototype.slice"),c={},l=aE(),d=Object.getPrototypeOf;s&&l&&d&&r(u,(function(e){var t=new a[e];if(Symbol.toStringTag in t){var r=d(t),n=l(r,Symbol.toStringTag);if(!n){var i=d(r);n=l(i,Symbol.toStringTag)}c[e]=n.get}})),t.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!s||!(Symbol.toStringTag in e)){var t=f(o(e),8,-1);return h(u,t)>-1}return!!l&&function(e){var t=!1;return r(c,(function(r,n){if(!t)try{t=r.call(e)===n}catch{}})),t}(e)}})),uB=H(((e,t)=>{x();var r=nE(),n=sE(),i=C1(),o=i("Object.prototype.toString"),s=Dm()(),a=globalThis,u=n(),h=i("String.prototype.slice"),f={},c=aE(),l=Object.getPrototypeOf;s&&c&&l&&r(u,(function(e){if("function"==typeof a[e]){var t=new a[e];if(Symbol.toStringTag in t){var r=l(t),n=c(r,Symbol.toStringTag);if(!n){var i=l(r);n=c(i,Symbol.toStringTag)}f[e]=n.get}}}));var d=lE();t.exports=function(e){return!!d(e)&&(s&&Symbol.toStringTag in e?function(e){var t=!1;return r(f,(function(r,n){if(!t)try{var i=r.call(e);i===n&&(t=i)}catch{}})),t}(e):h(o(e),8,-1))}})),xB=H((e=>{x();var t=UD(),r=$D(),n=uB(),i=lE();function o(e){return e.call.bind(e)}var s,a,u=typeof BigInt<"u",h=typeof Symbol<"u",f=o(Object.prototype.toString),c=o(Number.prototype.valueOf),l=o(String.prototype.valueOf),d=o(Boolean.prototype.valueOf);function p(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch{return!1}}function y(e){return"[object Map]"===f(e)}function m(e){return"[object Set]"===f(e)}function g(e){return"[object WeakMap]"===f(e)}function b(e){return"[object WeakSet]"===f(e)}function w(e){return"[object ArrayBuffer]"===f(e)}function v(e){return!(typeof ArrayBuffer>"u")&&(w.working?w(e):e instanceof ArrayBuffer)}function _(e){return"[object DataView]"===f(e)}function E(e){return!(typeof DataView>"u")&&(_.working?_(e):e instanceof DataView)}u&&(s=o(BigInt.prototype.valueOf)),h&&(a=o(Symbol.prototype.valueOf)),e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=i,e.isPromise=function(e){return typeof Promise<"u"&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},e.isArrayBufferView=function(e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(e):i(e)||E(e)},e.isUint8Array=function(e){return"Uint8Array"===n(e)},e.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===n(e)},e.isUint16Array=function(e){return"Uint16Array"===n(e)},e.isUint32Array=function(e){return"Uint32Array"===n(e)},e.isInt8Array=function(e){return"Int8Array"===n(e)},e.isInt16Array=function(e){return"Int16Array"===n(e)},e.isInt32Array=function(e){return"Int32Array"===n(e)},e.isFloat32Array=function(e){return"Float32Array"===n(e)},e.isFloat64Array=function(e){return"Float64Array"===n(e)},e.isBigInt64Array=function(e){return"BigInt64Array"===n(e)},e.isBigUint64Array=function(e){return"BigUint64Array"===n(e)},y.working=typeof Map<"u"&&y(new Map),e.isMap=function(e){return!(typeof Map>"u")&&(y.working?y(e):e instanceof Map)},m.working=typeof Set<"u"&&m(new Set),e.isSet=function(e){return!(typeof Set>"u")&&(m.working?m(e):e instanceof Set)},g.working=typeof WeakMap<"u"&&g(new WeakMap),e.isWeakMap=function(e){return!(typeof WeakMap>"u")&&(g.working?g(e):e instanceof WeakMap)},b.working=typeof WeakSet<"u"&&b(new WeakSet),e.isWeakSet=function(e){return b(e)},w.working=typeof ArrayBuffer<"u"&&w(new ArrayBuffer),e.isArrayBuffer=v,_.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&_(new DataView(new ArrayBuffer(1),0,1)),e.isDataView=E;var S=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function M(e){return"[object SharedArrayBuffer]"===f(e)}function A(e){return!(typeof S>"u")&&(typeof M.working>"u"&&(M.working=M(new S)),M.working?M(e):e instanceof S)}function k(e){return p(e,c)}function T(e){return p(e,l)}function P(e){return p(e,d)}function I(e){return u&&p(e,s)}function R(e){return h&&p(e,a)}e.isSharedArrayBuffer=A,e.isAsyncFunction=function(e){return"[object AsyncFunction]"===f(e)},e.isMapIterator=function(e){return"[object Map Iterator]"===f(e)},e.isSetIterator=function(e){return"[object Set Iterator]"===f(e)},e.isGeneratorObject=function(e){return"[object Generator]"===f(e)},e.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===f(e)},e.isNumberObject=k,e.isStringObject=T,e.isBooleanObject=P,e.isBigIntObject=I,e.isSymbolObject=R,e.isBoxedPrimitive=function(e){return k(e)||T(e)||P(e)||I(e)||R(e)},e.isAnyArrayBuffer=function(e){return typeof Uint8Array<"u"&&(v(e)||A(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(t){Object.defineProperty(e,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})}))})),SB=H(((e,t)=>{x(),t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}})),Ea=H((e=>{x();var t=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},r=/%[sdj%]/g;e.format=function(e){if(!m(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,o=i.length,a=String(e).replace(r,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch{return"[Circular]"}default:return e}})),u=i[n];n<o;u=i[++n])p(u)||!w(u)?a+=" "+u:a+=" "+s(u);return a},e.deprecate=function(t,r){if(typeof D.default<"u"&&!0===D.default.noDeprecation)return t;if(typeof D.default>"u")return function(){return e.deprecate(t,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(D.default.throwDeprecation)throw new Error(r);D.default.traceDeprecation?console.trace(r):console.error(r),n=!0}return t.apply(this,arguments)}};var n,i={},o=/^$/;function s(t,r){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),d(r)?n.showHidden=r:r&&e._extend(n,r),g(n.showHidden)&&(n.showHidden=!1),g(n.depth)&&(n.depth=2),g(n.colors)&&(n.colors=!1),g(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=a),h(n,t,n.depth)}function a(e,t){var r=s.styles[t];return r?"["+s.colors[r][0]+"m"+e+"["+s.colors[r][1]+"m":e}function u(e,t){return e}function h(t,r,n){if(t.customInspect&&r&&E(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return m(i)||(i=h(t,i,n)),i}var o=function(e,t){if(g(t))return e.stylize("undefined","undefined");if(m(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return y(t)?e.stylize(""+t,"number"):d(t)?e.stylize(""+t,"boolean"):p(t)?e.stylize("null","null"):void 0}(t,r);if(o)return o;var s=Object.keys(r),a=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(r)),_(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(r);if(0===s.length){if(E(r)){var u=r.name?": "+r.name:"";return t.stylize("[Function"+u+"]","special")}if(b(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(v(r))return t.stylize(Date.prototype.toString.call(r),"date");if(_(r))return f(r)}var w,S="",M=!1,A=["{","}"];return l(r)&&(M=!0,A=["[","]"]),E(r)&&(S=" [Function"+(r.name?": "+r.name:"")+"]"),b(r)&&(S=" "+RegExp.prototype.toString.call(r)),v(r)&&(S=" "+Date.prototype.toUTCString.call(r)),_(r)&&(S=" "+f(r)),0!==s.length||M&&0!=r.length?n<0?b(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),w=M?function(e,t,r,n,i){for(var o=[],s=0,a=t.length;s<a;++s)T(t,String(s))?o.push(c(e,t,r,n,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(c(e,t,r,n,i,!0))})),o}(t,r,n,a,s):s.map((function(e){return c(t,r,n,a,e,M)})),t.seen.pop(),function(e,t,r){var n=e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return n>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(w,S,A)):A[0]+S+A[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function c(e,t,r,n,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),T(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(u.value)<0?(a=p(r)?h(e,u.value,null):h(e,u.value,r-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),g(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function l(e){return Array.isArray(e)}function d(e){return"boolean"==typeof e}function p(e){return null===e}function y(e){return"number"==typeof e}function m(e){return"string"==typeof e}function g(e){return void 0===e}function b(e){return w(e)&&"[object RegExp]"===S(e)}function w(e){return"object"==typeof e&&null!==e}function v(e){return w(e)&&"[object Date]"===S(e)}function _(e){return w(e)&&("[object Error]"===S(e)||e instanceof Error)}function E(e){return"function"==typeof e}function S(e){return Object.prototype.toString.call(e)}function M(e){return e<10?"0"+e.toString(10):e.toString(10)}D.default.env.NODE_DEBUG&&(n=(n=D.default.env.NODE_DEBUG).replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+n+"$","i")),e.debuglog=function(t){if(t=t.toUpperCase(),!i[t])if(o.test(t)){var r=D.default.pid;i[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,r,n)}}else i[t]=function(){};return i[t]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=xB(),e.isArray=l,e.isBoolean=d,e.isNull=p,e.isNullOrUndefined=function(e){return null==e},e.isNumber=y,e.isString=m,e.isSymbol=function(e){return"symbol"==typeof e},e.isUndefined=g,e.isRegExp=b,e.types.isRegExp=b,e.isObject=w,e.isDate=v,e.types.isDate=v,e.isError=_,e.types.isNativeError=_,e.isFunction=E,e.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||typeof e>"u"},e.isBuffer=SB();var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var e=new Date,t=[M(e.getHours()),M(e.getMinutes()),M(e.getSeconds())].join(":");return[e.getDate(),A[e.getMonth()],t].join(" ")}function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.log=function(){console.log("%s - %s",k(),e.format.apply(e,arguments))},e.inherits=He(),e._extend=function(e,t){if(!t||!w(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var P=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function I(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}e.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(P&&e[P]){var r;if("function"!=typeof(r=e[P]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,P,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),P&&Object.defineProperty(r,P,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,t(e))},e.promisify.custom=P,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function r(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var n=t.pop();if("function"!=typeof n)throw new TypeError("The last argument must be of type Function");var i=this,o=function(){return n.apply(i,arguments)};e.apply(this,t).then((function(e){D.default.nextTick(o.bind(null,null,e))}),(function(e){D.default.nextTick(I.bind(null,e,o))}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Object.defineProperties(r,t(e)),r}})),OB=H(((e,t)=>{function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}x();var o=St().Buffer,s=Ea().inspect,a=s&&s.custom||"inspect";function u(e,t,r){o.prototype.copy.call(e,t,r)}t.exports=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.head=null,this.tail=null,this.length=0}return function(e,t,r){t&&i(e.prototype,t)}(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t=o.allocUnsafe(e>>>0),r=this.head,n=0;r;)u(r.data,t,n),n+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,s=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,s),0==(e-=s)){s===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(s));break}++n}return this.length-=n,t}},{key:a,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}]),e}()})),ME=H(((e,t)=>{function r(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}x(),t.exports={destroy:function(e,t){var o=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,D.default.nextTick(i,this,e)):D.default.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?o._writableState?o._writableState.errorEmitted?D.default.nextTick(n,o):(o._writableState.errorEmitted=!0,D.default.nextTick(r,o,e)):D.default.nextTick(r,o,e):t?(D.default.nextTick(n,o),t(e)):D.default.nextTick(n,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}})),lh=H(((e,t)=>{x();var r={};function n(e,t,n){n||(n=Error);var i=function(e){function r(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(r,e),r}(n);i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function i(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,o;if("string"==typeof t&&function(e,t,r){return e.substr(0,t.length)===t}(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))o="The ".concat(e," ").concat(n," ").concat(i(t,"type"));else{var s=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+".".length>e.length)&&-1!==e.indexOf(".",r)}(e)?"property":"argument";o='The "'.concat(e,'" ').concat(s," ").concat(n," ").concat(i(t,"type"))}return o+". Received type ".concat(typeof r)}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=r})),xE=H(((e,t)=>{x();var r=lh().codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,n,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}})),qm=H(((e,t)=>{function r(e){try{if(!globalThis.localStorage)return!1}catch{return!1}var t=globalThis.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}x(),t.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}})),AE=H(((e,t)=>{function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var n;x(),t.exports=S,S.WritableState=E;var i,o={deprecate:qm()},s=Kx(),a=St().Buffer,u=globalThis.Uint8Array||function(){},h=ME(),f=xE().getHighWaterMark,c=lh().codes,l=c.ERR_INVALID_ARG_TYPE,d=c.ERR_METHOD_NOT_IMPLEMENTED,p=c.ERR_MULTIPLE_CALLBACK,y=c.ERR_STREAM_CANNOT_PIPE,m=c.ERR_STREAM_DESTROYED,g=c.ERR_STREAM_NULL_VALUES,b=c.ERR_STREAM_WRITE_AFTER_END,w=c.ERR_UNKNOWN_ENCODING,v=h.errorOrDestroy;function _(){}function E(e,t,i){n=n||hh(),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=f(this,e,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new p;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(D.default.nextTick(i,n),D.default.nextTick(I,e,t),e._writableState.errorEmitted=!0,v(e,n)):(i(n),e._writableState.errorEmitted=!0,v(e,n),I(e,t))}(e,r,n,t,i);else{var o=T(r)||e.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&k(e,r),n?D.default.nextTick(A,e,r,o,i):A(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function S(e){var t=this instanceof(n=n||hh());if(!t&&!i.call(S,this))return new S(e);this._writableState=new E(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function M(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new m("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function A(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),I(e,t)}function k(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,o=new Array(i),s=t.corkedRequestsFree;s.entry=n;for(var a=0,u=!0;n;)o[a]=n,n.isBuf||(u=!1),n=n.next,a+=1;o.allBuffers=u,M(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var h=n.chunk,f=n.encoding,c=n.callback;if(M(e,t,!1,t.objectMode?1:h.length,h,f,c),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function T(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function P(e,t){e._final((function(r){t.pendingcb--,r&&v(e,r),t.prefinished=!0,e.emit("prefinish"),I(e,t)}))}function I(e,t){var r=T(t);if(r&&(function(e,t){!t.prefinished&&!t.finalCalled&&("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,D.default.nextTick(P,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}He()(S,s),E.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(E.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(i=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(e){return!!i.call(this,e)||this===S&&e&&e._writableState instanceof E}})):i=function(e){return e instanceof this},S.prototype.pipe=function(){v(this,new y)},S.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=!n.objectMode&&function(e){return a.isBuffer(e)||e instanceof u}(e);return o&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=_),n.ending?function(e,t){var r=new b;v(e,r),D.default.nextTick(t,r)}(this,r):(o||function(e,t,r,n){var i;return null===r?i=new g:"string"!=typeof r&&!t.objectMode&&(i=new l("chunk",["string","Buffer"],r)),!i||(v(e,i),D.default.nextTick(n,i),!1)}(this,n,e,r))&&(n.pendingcb++,i=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){return!e.objectMode&&!1!==e.decodeStrings&&"string"==typeof t&&(t=a.from(t,r)),t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var u=t.objectMode?1:n.length;t.length+=u;var h=t.length<t.highWaterMark;if(h||(t.needDrain=!0),t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else M(e,t,!1,u,n,i,o);return h}(this,n,o,e,t,r)),i},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&k(this,e))},S.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(e,t,r){r(new d("_write()"))},S.prototype._writev=null,S.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,I(e,t),r&&(t.finished?D.default.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),S.prototype.destroy=h.destroy,S.prototype._undestroy=h.undestroy,S.prototype._destroy=function(e,t){t(e)}})),hh=H(((e,t)=>{x();var r=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=u;var n,i,o,s=IE(),a=AE();for(He()(u,s),n=r(a.prototype),o=0;o<n.length;o++)i=n[o],u.prototype[i]||(u.prototype[i]=a.prototype[i]);function u(e){if(!(this instanceof u))return new u(e);s.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||D.default.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})})),Rs=H((e=>{x();var t=_t().Buffer,r=t.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(e){var n;switch(this.encoding=function(e){var n=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof n&&(t.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return n||e}(e),this.encoding){case"utf16le":this.text=s,this.end=a,n=4;break;case"utf8":this.fillLast=o,n=4;break;case"base64":this.text=u,this.end=h,n=3;break;default:return this.write=f,void(this.end=c)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(n)}function i(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function s(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function a(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function u(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function c(e){return e&&e.length?this.write(e):""}e.StringDecoder=n,n.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},n.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},n.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var o=i(t[n]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--n<r||-2===o?0:(o=i(t[n]))>=0?(o>0&&(e.lastNeed=o-2),o):--n<r||-2===o?0:(o=i(t[n]))>=0?(o>0&&(2===o?o=0:e.lastNeed=o-3),o):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},n.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}})),nb=H(((e,t)=>{x();var r=lh().codes.ERR_STREAM_PREMATURE_CLOSE;function n(){}t.exports=function e(t,i,o){if("function"==typeof i)return e(t,null,i);i||(i={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||n);var s=i.readable||!1!==i.readable&&t.readable,a=i.writable||!1!==i.writable&&t.writable,u=function(){t.writable||f()},h=t._writableState&&t._writableState.finished,f=function(){a=!1,h=!0,s||o.call(t)},c=t._readableState&&t._readableState.endEmitted,l=function(){s=!1,c=!0,a||o.call(t)},d=function(e){o.call(t,e)},p=function(){var e;return s&&!c?((!t._readableState||!t._readableState.ended)&&(e=new r),o.call(t,e)):a&&!h?((!t._writableState||!t._writableState.ended)&&(e=new r),o.call(t,e)):void 0},y=function(){t.req.on("finish",f)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",f),t.on("abort",p),t.req?y():t.on("request",y)):a&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",l),t.on("finish",f),!1!==i.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",f),t.removeListener("abort",p),t.removeListener("request",y),t.req&&t.req.removeListener("finish",f),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",f),t.removeListener("end",l),t.removeListener("error",d),t.removeListener("close",p)}}})),rO=H(((e,t)=>{var r;function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}x();var i=nb(),o=Symbol("lastResolve"),s=Symbol("lastReject"),a=Symbol("error"),u=Symbol("ended"),h=Symbol("lastPromise"),f=Symbol("handlePromise"),c=Symbol("stream");function l(e,t){return{value:e,done:t}}function d(e){var t=e[o];if(null!==t){var r=e[c].read();null!==r&&(e[h]=null,e[o]=null,e[s]=null,t(l(r,!1)))}}function p(e){D.default.nextTick(d,e)}var y=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((n(r={get stream(){return this[c]},next:function(){var e=this,t=this[a];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(l(void 0,!0));if(this[c].destroyed)return new Promise((function(t,r){D.default.nextTick((function(){e[a]?r(e[a]):t(l(void 0,!0))}))}));var r,n=this[h];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[u]?r(l(void 0,!0)):t[f](r,n)}),n)}}(n,this));else{var i=this[c].read();if(null!==i)return Promise.resolve(l(i,!1));r=new Promise(this[f])}return this[h]=r,r}},Symbol.asyncIterator,(function(){return this})),n(r,"return",(function(){var e=this;return new Promise((function(t,r){e[c].destroy(null,(function(e){e?r(e):t(l(void 0,!0))}))}))})),r),y);t.exports=function(e){var t,r=Object.create(m,(n(t={},c,{value:e,writable:!0}),n(t,o,{value:null,writable:!0}),n(t,s,{value:null,writable:!0}),n(t,a,{value:null,writable:!0}),n(t,u,{value:e._readableState.endEmitted,writable:!0}),n(t,f,{value:function(e,t){var n=r[c].read();n?(r[h]=null,r[o]=null,r[s]=null,e(l(n,!1))):(r[o]=e,r[s]=t)},writable:!0}),t));return r[h]=null,i(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[s];return null!==t&&(r[h]=null,r[o]=null,r[s]=null,t(e)),void(r[a]=e)}var n=r[o];null!==n&&(r[h]=null,r[o]=null,r[s]=null,n(l(void 0,!0))),r[u]=!0})),e.on("readable",p.bind(null,r)),r}})),nO=H(((e,t)=>{x(),t.exports=function(){throw new Error("Readable.from is not available in the browser")}})),IE=H(((e,t)=>{var r;x(),t.exports=S,S.ReadableState=E,Gn().EventEmitter;var n,i=function(e,t){return e.listeners(t).length},o=Kx(),s=St().Buffer,a=globalThis.Uint8Array||function(){},u=Ea();n=u&&u.debuglog?u.debuglog("stream"):function(){};var h,f,c,l=OB(),d=ME(),p=xE().getHighWaterMark,y=lh().codes,m=y.ERR_INVALID_ARG_TYPE,g=y.ERR_STREAM_PUSH_AFTER_EOF,b=y.ERR_METHOD_NOT_IMPLEMENTED,w=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;He()(S,o);var v=d.errorOrDestroy,_=["error","close","destroy","pause","resume"];function E(e,t,n){r=r||hh(),e=e||{},"boolean"!=typeof n&&(n=t instanceof r),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=p(this,e,"readableHighWaterMark",n),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=Rs().StringDecoder),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function S(e){if(r=r||hh(),!(this instanceof S))return new S(e);var t=this instanceof r;this._readableState=new E(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function M(e,t,r,i,o){n("readableAddChunk",t);var u,h=e._readableState;if(null===t)h.reading=!1,function(e,t){if(n("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?P(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,I(e)))}}(e,h);else if(o||(u=function(e,t){var r;return!function(e){return s.isBuffer(e)||e instanceof a}(t)&&"string"!=typeof t&&void 0!==t&&!e.objectMode&&(r=new m("chunk",["string","Buffer","Uint8Array"],t)),r}(h,t)),u)v(e,u);else if(h.objectMode||t&&t.length>0)if("string"!=typeof t&&!h.objectMode&&Object.getPrototypeOf(t)!==s.prototype&&(t=function(e){return s.from(e)}(t)),i)h.endEmitted?v(e,new w):A(e,h,t,!0);else if(h.ended)v(e,new g);else{if(h.destroyed)return!1;h.reading=!1,h.decoder&&!r?(t=h.decoder.write(t),h.objectMode||0!==t.length?A(e,h,t,!1):R(e,h)):A(e,h,t,!1)}else i||(h.reading=!1,R(e,h));return!h.ended&&(h.length<h.highWaterMark||0===h.length)}function A(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&P(e)),R(e,t)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=d.destroy,S.prototype._undestroy=d.undestroy,S.prototype._destroy=function(e,t){t(e)},S.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),r=!0),M(this,e,t,!1,r)},S.prototype.unshift=function(e){return M(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(e){h||(h=Rs().StringDecoder);var t=new h(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var k=1073741824;function T(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=k?e=k:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function P(e){var t=e._readableState;n("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(n("emitReadable",t.flowing),t.emittedReadable=!0,D.default.nextTick(I,e))}function I(e){var t=e._readableState;n("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,j(e)}function R(e,t){t.readingMore||(t.readingMore=!0,D.default.nextTick(O,e,t))}function O(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(n("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function B(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function C(e){n("readable nexttick read 0"),e.read(0)}function L(e,t){n("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),j(e),t.flowing&&!t.reading&&e.read(0)}function j(e){var t=e._readableState;for(n("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function U(e){var t=e._readableState;n("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,D.default.nextTick(H,t,e))}function H(e,t){if(n("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function z(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}S.prototype.read=function(e){n("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return n("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):P(this),null;if(0===(e=T(e,t))&&t.ended)return 0===t.length&&U(this),null;var i,o=t.needReadable;return n("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&n("length less than watermark",o=!0),t.ended||t.reading?n("reading or ended",o=!1):o&&(n("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=T(r,t))),null===(i=e>0?N(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&U(this)),null!==i&&this.emit("data",i),i},S.prototype._read=function(e){v(this,new b("_read()"))},S.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,n("pipe count=%d opts=%j",o.pipesCount,t);var s=t&&!1===t.end||e===D.default.stdout||e===D.default.stderr?p:a;function a(){n("onend"),e.end()}o.endEmitted?D.default.nextTick(s):r.once("end",s),e.on("unpipe",(function t(i,s){n("onunpipe"),i===r&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,n("cleanup"),e.removeListener("close",l),e.removeListener("finish",d),e.removeListener("drain",u),e.removeListener("error",c),e.removeListener("unpipe",t),r.removeListener("end",a),r.removeListener("end",p),r.removeListener("data",f),h=!0,o.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&u())}));var u=function(e){return function(){var t=e._readableState;n("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,j(e))}}(r);e.on("drain",u);var h=!1;function f(t){n("ondata");var i=e.write(t);n("dest.write",i),!1===i&&((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==z(o.pipes,e))&&!h&&(n("false write response, pause",o.awaitDrain),o.awaitDrain++),r.pause())}function c(t){n("onerror",t),p(),e.removeListener("error",c),0===i(e,"error")&&v(e,t)}function l(){e.removeListener("finish",d),p()}function d(){n("onfinish"),e.removeListener("close",l),p()}function p(){n("unpipe"),r.unpipe(e)}return r.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",c),e.once("close",l),e.once("finish",d),e.emit("pipe",r),o.flowing||(n("pipe resume"),r.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=z(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},S.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,n("on readable",i.length,i.reading),i.length?P(this):i.reading||D.default.nextTick(C,this)),r},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(e,t){var r=o.prototype.removeListener.call(this,e,t);return"readable"===e&&D.default.nextTick(B,this),r},S.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&D.default.nextTick(B,this),t},S.prototype.resume=function(){var e=this._readableState;return e.flowing||(n("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,D.default.nextTick(L,e,t))}(this,e)),e.paused=!1,this},S.prototype.pause=function(){return n("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(n("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;for(var o in e.on("end",(function(){if(n("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){n("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o||!(r.objectMode||o&&o.length)||t.push(o)||(i=!0,e.pause())})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var s=0;s<_.length;s++)e.on(_[s],this.emit.bind(this,_[s]));return this._read=function(t){n("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=rO()),f(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),S._fromList=N,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(e,t){return void 0===c&&(c=nO()),c(S,e,t)})})),$E=H(((e,t)=>{x(),t.exports=h;var r=lh().codes,n=r.ERR_METHOD_NOT_IMPLEMENTED,i=r.ERR_MULTIPLE_CALLBACK,o=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,a=hh();function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new i);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function h(e){if(!(this instanceof h))return new h(e);a.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?c(this,null,null):this._flush((function(t,r){c(e,t,r)}))}function c(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new o;return e.push(null)}He()(h,a),h.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},h.prototype._transform=function(e,t,r){r(new n("_transform()"))},h.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},h.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},h.prototype._destroy=function(e,t){a.prototype._destroy.call(this,e,(function(e){t(e)}))}})),bO=H(((e,t)=>{x(),t.exports=n;var r=$E();function n(e){if(!(this instanceof n))return new n(e);r.call(this,e)}He()(n,r),n.prototype._transform=function(e,t,r){r(null,e)}})),EO=H(((e,t)=>{var r;x();var n=lh().codes,i=n.ERR_MISSING_ARGS,o=n.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function a(e,t,n,i){i=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(i);var s=!1;e.on("close",(function(){s=!0})),void 0===r&&(r=nb()),r(e,{readable:t,writable:n},(function(e){if(e)return i(e);s=!0,i()}));var a=!1;return function(t){if(!s&&!a){if(a=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e))return e.abort();if("function"==typeof e.destroy)return e.destroy();i(t||new o("pipe"))}}}function u(e){e()}function h(e,t){return e.pipe(t)}function f(e){return e.length&&"function"==typeof e[e.length-1]?e.pop():s}t.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new i("streams");var o,s=t.map((function(e,r){var i=r<t.length-1;return a(e,i,r>0,(function(e){o||(o=e),e&&s.forEach(u),!i&&(s.forEach(u),n(o))}))}));return t.reduce(h)}})),TO=H(((e,t)=>{x(),(e=t.exports=IE()).Stream=e,e.Readable=e,e.Writable=AE(),e.Duplex=hh(),e.Transform=$E(),e.PassThrough=bO(),e.finished=nb(),e.pipeline=EO()})),WE=H(((e,t)=>{x();var r=_t().Buffer,n=TO().Transform;function i(e){n.call(this),this._block=r.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}He()(i,n),i.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},i.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},i.prototype.update=function(e,t){if(function(e,t){if(!r.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer")}(e),this._finalized)throw new Error("Digest already called");r.isBuffer(e)||(e=r.from(e,t));for(var n=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)n[this._blockOffset++]=e[i++];for(var s=0,a=8*e.length;a>0;++s)this._length[s]+=a,(a=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*a);return this},i.prototype._update=function(){throw new Error("_update is not implemented")},i.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},i.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=i})),mb=H(((e,t)=>{x();var r=He(),n=WE(),i=_t().Buffer,o=new Array(16);function s(){n.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function a(e,t){return e<<t|e>>>32-t}function u(e,t,r,n,i,o,s){return a(e+(t&r|~t&n)+i+o|0,s)+t|0}function h(e,t,r,n,i,o,s){return a(e+(t&n|r&~n)+i+o|0,s)+t|0}function f(e,t,r,n,i,o,s){return a(e+(t^r^n)+i+o|0,s)+t|0}function c(e,t,r,n,i,o,s){return a(e+(r^(t|~n))+i+o|0,s)+t|0}r(s,n),s.prototype._update=function(){for(var e=o,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,s=this._d;r=u(r,n,i,s,e[0],3614090360,7),s=u(s,r,n,i,e[1],3905402710,12),i=u(i,s,r,n,e[2],606105819,17),n=u(n,i,s,r,e[3],3250441966,22),r=u(r,n,i,s,e[4],4118548399,7),s=u(s,r,n,i,e[5],1200080426,12),i=u(i,s,r,n,e[6],2821735955,17),n=u(n,i,s,r,e[7],4249261313,22),r=u(r,n,i,s,e[8],1770035416,7),s=u(s,r,n,i,e[9],2336552879,12),i=u(i,s,r,n,e[10],4294925233,17),n=u(n,i,s,r,e[11],2304563134,22),r=u(r,n,i,s,e[12],1804603682,7),s=u(s,r,n,i,e[13],4254626195,12),i=u(i,s,r,n,e[14],2792965006,17),r=h(r,n=u(n,i,s,r,e[15],1236535329,22),i,s,e[1],4129170786,5),s=h(s,r,n,i,e[6],3225465664,9),i=h(i,s,r,n,e[11],643717713,14),n=h(n,i,s,r,e[0],3921069994,20),r=h(r,n,i,s,e[5],3593408605,5),s=h(s,r,n,i,e[10],38016083,9),i=h(i,s,r,n,e[15],3634488961,14),n=h(n,i,s,r,e[4],3889429448,20),r=h(r,n,i,s,e[9],568446438,5),s=h(s,r,n,i,e[14],3275163606,9),i=h(i,s,r,n,e[3],4107603335,14),n=h(n,i,s,r,e[8],1163531501,20),r=h(r,n,i,s,e[13],2850285829,5),s=h(s,r,n,i,e[2],4243563512,9),i=h(i,s,r,n,e[7],1735328473,14),r=f(r,n=h(n,i,s,r,e[12],2368359562,20),i,s,e[5],4294588738,4),s=f(s,r,n,i,e[8],2272392833,11),i=f(i,s,r,n,e[11],1839030562,16),n=f(n,i,s,r,e[14],4259657740,23),r=f(r,n,i,s,e[1],2763975236,4),s=f(s,r,n,i,e[4],1272893353,11),i=f(i,s,r,n,e[7],4139469664,16),n=f(n,i,s,r,e[10],3200236656,23),r=f(r,n,i,s,e[13],681279174,4),s=f(s,r,n,i,e[0],3936430074,11),i=f(i,s,r,n,e[3],3572445317,16),n=f(n,i,s,r,e[6],76029189,23),r=f(r,n,i,s,e[9],3654602809,4),s=f(s,r,n,i,e[12],3873151461,11),i=f(i,s,r,n,e[15],530742520,16),r=c(r,n=f(n,i,s,r,e[2],3299628645,23),i,s,e[0],4096336452,6),s=c(s,r,n,i,e[7],1126891415,10),i=c(i,s,r,n,e[14],2878612391,15),n=c(n,i,s,r,e[5],4237533241,21),r=c(r,n,i,s,e[12],1700485571,6),s=c(s,r,n,i,e[3],2399980690,10),i=c(i,s,r,n,e[10],4293915773,15),n=c(n,i,s,r,e[1],2240044497,21),r=c(r,n,i,s,e[8],1873313359,6),s=c(s,r,n,i,e[15],4264355552,10),i=c(i,s,r,n,e[6],2734768916,15),n=c(n,i,s,r,e[13],1309151649,21),r=c(r,n,i,s,e[4],4149444226,6),s=c(s,r,n,i,e[11],3174756917,10),i=c(i,s,r,n,e[2],718787259,15),n=c(n,i,s,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+s|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=i.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},t.exports=s})),gb=H(((e,t)=>{x();var r=St().Buffer,n=He(),i=WE(),o=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],a=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],c=[1352829926,1548603684,1836072691,2053994217,0];function l(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function d(e,t){return e<<t|e>>>32-t}function p(e,t,r,n,i,o,s,a){return d(e+(t^r^n)+o+s|0,a)+i|0}function y(e,t,r,n,i,o,s,a){return d(e+(t&r|~t&n)+o+s|0,a)+i|0}function m(e,t,r,n,i,o,s,a){return d(e+((t|~r)^n)+o+s|0,a)+i|0}function g(e,t,r,n,i,o,s,a){return d(e+(t&n|r&~n)+o+s|0,a)+i|0}function b(e,t,r,n,i,o,s,a){return d(e+(t^(r|~n))+o+s|0,a)+i|0}n(l,i),l.prototype._update=function(){for(var e=o,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,l=0|this._d,w=0|this._e,v=0|this._a,_=0|this._b,E=0|this._c,S=0|this._d,M=0|this._e,A=0;A<80;A+=1){var k,x;A<16?(k=p(r,n,i,l,w,e[s[A]],f[0],u[A]),x=b(v,_,E,S,M,e[a[A]],c[0],h[A])):A<32?(k=y(r,n,i,l,w,e[s[A]],f[1],u[A]),x=g(v,_,E,S,M,e[a[A]],c[1],h[A])):A<48?(k=m(r,n,i,l,w,e[s[A]],f[2],u[A]),x=m(v,_,E,S,M,e[a[A]],c[2],h[A])):A<64?(k=g(r,n,i,l,w,e[s[A]],f[3],u[A]),x=y(v,_,E,S,M,e[a[A]],c[3],h[A])):(k=b(r,n,i,l,w,e[s[A]],f[4],u[A]),x=p(v,_,E,S,M,e[a[A]],c[4],h[A])),r=w,w=l,l=d(i,10),i=n,n=k,v=M,M=S,S=d(E,10),E=_,_=x}var T=this._b+i+S|0;this._b=this._c+l+M|0,this._c=this._d+w+v|0,this._d=this._e+r+_|0,this._e=this._a+n+E|0,this._a=T},l.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=r.alloc?r.alloc(20):new r(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},t.exports=l})),yh=H(((e,t)=>{x();var r=_t().Buffer;function n(e,t){this._block=r.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}n.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=r.from(e,t));for(var n=this._block,i=this._blockSize,o=e.length,s=this._len,a=0;a<o;){for(var u=s%i,h=Math.min(o-a,i-u),f=0;f<h;f++)n[u+f]=e[a+f];a+=h,(s+=h)%i==0&&this._update(n)}return this._len+=o,this},n.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},n.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=n})),FO=H(((e,t)=>{x();var r=He(),n=yh(),i=_t().Buffer,o=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function a(){this.init(),this._w=s,n.call(this,64,56)}function u(e){return e<<5|e>>>27}function h(e){return e<<30|e>>>2}function f(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}r(a,n),a.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},a.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,s=0|this._d,a=0|this._e,c=0;c<16;++c)t[c]=e.readInt32BE(4*c);for(;c<80;++c)t[c]=t[c-3]^t[c-8]^t[c-14]^t[c-16];for(var l=0;l<80;++l){var d=~~(l/20),p=u(r)+f(d,n,i,s)+a+t[l]+o[d]|0;a=s,s=i,i=h(n),n=r,r=p}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0},a.prototype._hash=function(){var e=i.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},t.exports=a})),WO=H(((e,t)=>{x();var r=He(),n=yh(),i=_t().Buffer,o=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function a(){this.init(),this._w=s,n.call(this,64,56)}function u(e){return e<<1|e>>>31}function h(e){return e<<5|e>>>27}function f(e){return e<<30|e>>>2}function c(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}r(a,n),a.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},a.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,s=0|this._d,a=0|this._e,l=0;l<16;++l)t[l]=e.readInt32BE(4*l);for(;l<80;++l)t[l]=u(t[l-3]^t[l-8]^t[l-14]^t[l-16]);for(var d=0;d<80;++d){var p=~~(d/20),y=h(r)+c(p,n,i,s)+a+t[d]+o[p]|0;a=s,s=i,i=f(n),n=r,r=y}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0},a.prototype._hash=function(){var e=i.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},t.exports=a})),KE=H(((e,t)=>{x();var r=He(),n=yh(),i=_t().Buffer,o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function a(){this.init(),this._w=s,n.call(this,64,56)}function u(e,t,r){return r^e&(t^r)}function h(e,t,r){return e&t|r&(e|t)}function f(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function c(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function l(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function d(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}r(a,n),a.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},a.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,s=0|this._d,a=0|this._e,p=0|this._f,y=0|this._g,m=0|this._h,g=0;g<16;++g)t[g]=e.readInt32BE(4*g);for(;g<64;++g)t[g]=d(t[g-2])+t[g-7]+l(t[g-15])+t[g-16]|0;for(var b=0;b<64;++b){var w=m+c(a)+u(a,p,y)+o[b]+t[b]|0,v=f(r)+h(r,n,i)|0;m=y,y=p,p=a,a=s+w|0,s=i,i=n,n=r,r=w+v|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0,this._f=p+this._f|0,this._g=y+this._g|0,this._h=m+this._h|0},a.prototype._hash=function(){var e=i.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},t.exports=a})),ZO=H(((e,t)=>{x();var r=He(),n=KE(),i=yh(),o=_t().Buffer,s=new Array(64);function a(){this.init(),this._w=s,i.call(this,64,56)}r(a,n),a.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},a.prototype._hash=function(){var e=o.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},t.exports=a})),GE=H(((e,t)=>{x();var r=He(),n=yh(),i=_t().Buffer,o=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function a(){this.init(),this._w=s,n.call(this,128,112)}function u(e,t,r){return r^e&(t^r)}function h(e,t,r){return e&t|r&(e|t)}function f(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function c(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function l(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function d(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function p(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function y(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function m(e,t){return e>>>0<t>>>0?1:0}r(a,n),a.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},a.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,s=0|this._dh,a=0|this._eh,g=0|this._fh,b=0|this._gh,w=0|this._hh,v=0|this._al,_=0|this._bl,E=0|this._cl,S=0|this._dl,M=0|this._el,A=0|this._fl,k=0|this._gl,x=0|this._hl,T=0;T<32;T+=2)t[T]=e.readInt32BE(4*T),t[T+1]=e.readInt32BE(4*T+4);for(;T<160;T+=2){var P=t[T-30],I=t[T-30+1],R=l(P,I),O=d(I,P),B=p(P=t[T-4],I=t[T-4+1]),C=y(I,P),L=t[T-14],j=t[T-14+1],D=t[T-32],N=t[T-32+1],U=O+j|0,H=R+L+m(U,O)|0;H=(H=H+B+m(U=U+C|0,C)|0)+D+m(U=U+N|0,N)|0,t[T]=H,t[T+1]=U}for(var z=0;z<160;z+=2){H=t[z],U=t[z+1];var F=h(r,n,i),q=h(v,_,E),$=f(r,v),K=f(v,r),V=c(a,M),W=c(M,a),G=o[z],Y=o[z+1],J=u(a,g,b),Z=u(M,A,k),X=x+W|0,Q=w+V+m(X,x)|0;Q=(Q=(Q=Q+J+m(X=X+Z|0,Z)|0)+G+m(X=X+Y|0,Y)|0)+H+m(X=X+U|0,U)|0;var ee=K+q|0,te=$+F+m(ee,K)|0;w=b,x=k,b=g,k=A,g=a,A=M,a=s+Q+m(M=S+X|0,S)|0,s=i,S=E,i=n,E=_,n=r,_=v,r=Q+te+m(v=X+ee|0,X)|0}this._al=this._al+v|0,this._bl=this._bl+_|0,this._cl=this._cl+E|0,this._dl=this._dl+S|0,this._el=this._el+M|0,this._fl=this._fl+A|0,this._gl=this._gl+k|0,this._hl=this._hl+x|0,this._ah=this._ah+r+m(this._al,v)|0,this._bh=this._bh+n+m(this._bl,_)|0,this._ch=this._ch+i+m(this._cl,E)|0,this._dh=this._dh+s+m(this._dl,S)|0,this._eh=this._eh+a+m(this._el,M)|0,this._fh=this._fh+g+m(this._fl,A)|0,this._gh=this._gh+b+m(this._gl,k)|0,this._hh=this._hh+w+m(this._hl,x)|0},a.prototype._hash=function(){var e=i.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},t.exports=a})),nC=H(((e,t)=>{x();var r=He(),n=GE(),i=yh(),o=_t().Buffer,s=new Array(160);function a(){this.init(),this._w=s,i.call(this,128,112)}r(a,n),a.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},a.prototype._hash=function(){var e=o.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},t.exports=a})),_b=H(((e,t)=>{x(),(e=t.exports=function(t){t=t.toLowerCase();var r=e[t];if(!r)throw new Error(t+" is not supported (we accept pull requests)");return new r}).sha=FO(),e.sha1=WO(),e.sha224=ZO(),e.sha256=KE(),e.sha384=nC(),e.sha512=GE()})),ZE=H(((e,t)=>{x(),t.exports=Gn().EventEmitter})),lC=H(((e,t)=>{function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}x();var o=St().Buffer,s=Ea().inspect,a=s&&s.custom||"inspect";function u(e,t,r){o.prototype.copy.call(e,t,r)}t.exports=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.head=null,this.tail=null,this.length=0}return function(e,t,r){t&&i(e.prototype,t)}(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t=o.allocUnsafe(e>>>0),r=this.head,n=0;r;)u(r.data,t,n),n+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,s=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,s),0==(e-=s)){s===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(s));break}++n}return this.length-=n,t}},{key:a,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}]),e}()})),XE=H(((e,t)=>{function r(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}x(),t.exports={destroy:function(e,t){var o=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,D.default.nextTick(i,this,e)):D.default.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?o._writableState?o._writableState.errorEmitted?D.default.nextTick(n,o):(o._writableState.errorEmitted=!0,D.default.nextTick(r,o,e)):D.default.nextTick(r,o,e):t?(D.default.nextTick(n,o),t(e)):D.default.nextTick(n,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}})),gh=H(((e,t)=>{x();var r={};function n(e,t,n){n||(n=Error);var i=function(e){function r(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(r,e),r}(n);i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function i(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,o;if("string"==typeof t&&function(e,t,r){return e.substr(0,t.length)===t}(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))o="The ".concat(e," ").concat(n," ").concat(i(t,"type"));else{var s=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+".".length>e.length)&&-1!==e.indexOf(".",r)}(e)?"property":"argument";o='The "'.concat(e,'" ').concat(s," ").concat(n," ").concat(i(t,"type"))}return o+". Received type ".concat(typeof r)}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=r})),QE=H(((e,t)=>{x();var r=gh().codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,n,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}})),r4=H(((e,t)=>{function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var n;x(),t.exports=S,S.WritableState=E;var i,o={deprecate:qm()},s=ZE(),a=St().Buffer,u=globalThis.Uint8Array||function(){},h=XE(),f=QE().getHighWaterMark,c=gh().codes,l=c.ERR_INVALID_ARG_TYPE,d=c.ERR_METHOD_NOT_IMPLEMENTED,p=c.ERR_MULTIPLE_CALLBACK,y=c.ERR_STREAM_CANNOT_PIPE,m=c.ERR_STREAM_DESTROYED,g=c.ERR_STREAM_NULL_VALUES,b=c.ERR_STREAM_WRITE_AFTER_END,w=c.ERR_UNKNOWN_ENCODING,v=h.errorOrDestroy;function _(){}function E(e,t,i){n=n||vh(),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=f(this,e,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new p;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(D.default.nextTick(i,n),D.default.nextTick(I,e,t),e._writableState.errorEmitted=!0,v(e,n)):(i(n),e._writableState.errorEmitted=!0,v(e,n),I(e,t))}(e,r,n,t,i);else{var o=T(r)||e.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&k(e,r),n?D.default.nextTick(A,e,r,o,i):A(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function S(e){var t=this instanceof(n=n||vh());if(!t&&!i.call(S,this))return new S(e);this._writableState=new E(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function M(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new m("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function A(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),I(e,t)}function k(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,o=new Array(i),s=t.corkedRequestsFree;s.entry=n;for(var a=0,u=!0;n;)o[a]=n,n.isBuf||(u=!1),n=n.next,a+=1;o.allBuffers=u,M(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var h=n.chunk,f=n.encoding,c=n.callback;if(M(e,t,!1,t.objectMode?1:h.length,h,f,c),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function T(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function P(e,t){e._final((function(r){t.pendingcb--,r&&v(e,r),t.prefinished=!0,e.emit("prefinish"),I(e,t)}))}function I(e,t){var r=T(t);if(r&&(function(e,t){!t.prefinished&&!t.finalCalled&&("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,D.default.nextTick(P,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}He()(S,s),E.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(E.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(i=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(e){return!!i.call(this,e)||this===S&&e&&e._writableState instanceof E}})):i=function(e){return e instanceof this},S.prototype.pipe=function(){v(this,new y)},S.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=!n.objectMode&&function(e){return a.isBuffer(e)||e instanceof u}(e);return o&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=_),n.ending?function(e,t){var r=new b;v(e,r),D.default.nextTick(t,r)}(this,r):(o||function(e,t,r,n){var i;return null===r?i=new g:"string"!=typeof r&&!t.objectMode&&(i=new l("chunk",["string","Buffer"],r)),!i||(v(e,i),D.default.nextTick(n,i),!1)}(this,n,e,r))&&(n.pendingcb++,i=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){return!e.objectMode&&!1!==e.decodeStrings&&"string"==typeof t&&(t=a.from(t,r)),t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var u=t.objectMode?1:n.length;t.length+=u;var h=t.length<t.highWaterMark;if(h||(t.needDrain=!0),t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else M(e,t,!1,u,n,i,o);return h}(this,n,o,e,t,r)),i},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&k(this,e))},S.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(e,t,r){r(new d("_write()"))},S.prototype._writev=null,S.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,I(e,t),r&&(t.finished?D.default.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),S.prototype.destroy=h.destroy,S.prototype._undestroy=h.undestroy,S.prototype._destroy=function(e,t){t(e)}})),vh=H(((e,t)=>{x();var r=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=u;var n,i,o,s=o4(),a=r4();for(He()(u,s),n=r(a.prototype),o=0;o<n.length;o++)i=n[o],u.prototype[i]||(u.prototype[i]=a.prototype[i]);function u(e){if(!(this instanceof u))return new u(e);s.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||D.default.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})})),Rb=H(((e,t)=>{x();var r=gh().codes.ERR_STREAM_PREMATURE_CLOSE;function n(){}t.exports=function e(t,i,o){if("function"==typeof i)return e(t,null,i);i||(i={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||n);var s=i.readable||!1!==i.readable&&t.readable,a=i.writable||!1!==i.writable&&t.writable,u=function(){t.writable||f()},h=t._writableState&&t._writableState.finished,f=function(){a=!1,h=!0,s||o.call(t)},c=t._readableState&&t._readableState.endEmitted,l=function(){s=!1,c=!0,a||o.call(t)},d=function(e){o.call(t,e)},p=function(){var e;return s&&!c?((!t._readableState||!t._readableState.ended)&&(e=new r),o.call(t,e)):a&&!h?((!t._writableState||!t._writableState.ended)&&(e=new r),o.call(t,e)):void 0},y=function(){t.req.on("finish",f)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",f),t.on("abort",p),t.req?y():t.on("request",y)):a&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",l),t.on("finish",f),!1!==i.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",f),t.removeListener("abort",p),t.removeListener("request",y),t.req&&t.req.removeListener("finish",f),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",f),t.removeListener("end",l),t.removeListener("error",d),t.removeListener("close",p)}}})),kC=H(((e,t)=>{var r;function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}x();var i=Rb(),o=Symbol("lastResolve"),s=Symbol("lastReject"),a=Symbol("error"),u=Symbol("ended"),h=Symbol("lastPromise"),f=Symbol("handlePromise"),c=Symbol("stream");function l(e,t){return{value:e,done:t}}function d(e){var t=e[o];if(null!==t){var r=e[c].read();null!==r&&(e[h]=null,e[o]=null,e[s]=null,t(l(r,!1)))}}function p(e){D.default.nextTick(d,e)}var y=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((n(r={get stream(){return this[c]},next:function(){var e=this,t=this[a];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(l(void 0,!0));if(this[c].destroyed)return new Promise((function(t,r){D.default.nextTick((function(){e[a]?r(e[a]):t(l(void 0,!0))}))}));var r,n=this[h];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[u]?r(l(void 0,!0)):t[f](r,n)}),n)}}(n,this));else{var i=this[c].read();if(null!==i)return Promise.resolve(l(i,!1));r=new Promise(this[f])}return this[h]=r,r}},Symbol.asyncIterator,(function(){return this})),n(r,"return",(function(){var e=this;return new Promise((function(t,r){e[c].destroy(null,(function(e){e?r(e):t(l(void 0,!0))}))}))})),r),y);t.exports=function(e){var t,r=Object.create(m,(n(t={},c,{value:e,writable:!0}),n(t,o,{value:null,writable:!0}),n(t,s,{value:null,writable:!0}),n(t,a,{value:null,writable:!0}),n(t,u,{value:e._readableState.endEmitted,writable:!0}),n(t,f,{value:function(e,t){var n=r[c].read();n?(r[h]=null,r[o]=null,r[s]=null,e(l(n,!1))):(r[o]=e,r[s]=t)},writable:!0}),t));return r[h]=null,i(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[s];return null!==t&&(r[h]=null,r[o]=null,r[s]=null,t(e)),void(r[a]=e)}var n=r[o];null!==n&&(r[h]=null,r[o]=null,r[s]=null,n(l(void 0,!0))),r[u]=!0})),e.on("readable",p.bind(null,r)),r}})),PC=H(((e,t)=>{x(),t.exports=function(){throw new Error("Readable.from is not available in the browser")}})),o4=H(((e,t)=>{var r;x(),t.exports=S,S.ReadableState=E,Gn().EventEmitter;var n,i=function(e,t){return e.listeners(t).length},o=ZE(),s=St().Buffer,a=globalThis.Uint8Array||function(){},u=Ea();n=u&&u.debuglog?u.debuglog("stream"):function(){};var h,f,c,l=lC(),d=XE(),p=QE().getHighWaterMark,y=gh().codes,m=y.ERR_INVALID_ARG_TYPE,g=y.ERR_STREAM_PUSH_AFTER_EOF,b=y.ERR_METHOD_NOT_IMPLEMENTED,w=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;He()(S,o);var v=d.errorOrDestroy,_=["error","close","destroy","pause","resume"];function E(e,t,n){r=r||vh(),e=e||{},"boolean"!=typeof n&&(n=t instanceof r),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=p(this,e,"readableHighWaterMark",n),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=Rs().StringDecoder),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function S(e){if(r=r||vh(),!(this instanceof S))return new S(e);var t=this instanceof r;this._readableState=new E(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function M(e,t,r,i,o){n("readableAddChunk",t);var u,h=e._readableState;if(null===t)h.reading=!1,function(e,t){if(n("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?P(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,I(e)))}}(e,h);else if(o||(u=function(e,t){var r;return!function(e){return s.isBuffer(e)||e instanceof a}(t)&&"string"!=typeof t&&void 0!==t&&!e.objectMode&&(r=new m("chunk",["string","Buffer","Uint8Array"],t)),r}(h,t)),u)v(e,u);else if(h.objectMode||t&&t.length>0)if("string"!=typeof t&&!h.objectMode&&Object.getPrototypeOf(t)!==s.prototype&&(t=function(e){return s.from(e)}(t)),i)h.endEmitted?v(e,new w):A(e,h,t,!0);else if(h.ended)v(e,new g);else{if(h.destroyed)return!1;h.reading=!1,h.decoder&&!r?(t=h.decoder.write(t),h.objectMode||0!==t.length?A(e,h,t,!1):R(e,h)):A(e,h,t,!1)}else i||(h.reading=!1,R(e,h));return!h.ended&&(h.length<h.highWaterMark||0===h.length)}function A(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&P(e)),R(e,t)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=d.destroy,S.prototype._undestroy=d.undestroy,S.prototype._destroy=function(e,t){t(e)},S.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),r=!0),M(this,e,t,!1,r)},S.prototype.unshift=function(e){return M(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(e){h||(h=Rs().StringDecoder);var t=new h(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var k=1073741824;function T(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=k?e=k:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function P(e){var t=e._readableState;n("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(n("emitReadable",t.flowing),t.emittedReadable=!0,D.default.nextTick(I,e))}function I(e){var t=e._readableState;n("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,j(e)}function R(e,t){t.readingMore||(t.readingMore=!0,D.default.nextTick(O,e,t))}function O(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(n("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function B(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function C(e){n("readable nexttick read 0"),e.read(0)}function L(e,t){n("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),j(e),t.flowing&&!t.reading&&e.read(0)}function j(e){var t=e._readableState;for(n("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function U(e){var t=e._readableState;n("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,D.default.nextTick(H,t,e))}function H(e,t){if(n("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function z(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}S.prototype.read=function(e){n("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return n("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):P(this),null;if(0===(e=T(e,t))&&t.ended)return 0===t.length&&U(this),null;var i,o=t.needReadable;return n("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&n("length less than watermark",o=!0),t.ended||t.reading?n("reading or ended",o=!1):o&&(n("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=T(r,t))),null===(i=e>0?N(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&U(this)),null!==i&&this.emit("data",i),i},S.prototype._read=function(e){v(this,new b("_read()"))},S.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,n("pipe count=%d opts=%j",o.pipesCount,t);var s=t&&!1===t.end||e===D.default.stdout||e===D.default.stderr?p:a;function a(){n("onend"),e.end()}o.endEmitted?D.default.nextTick(s):r.once("end",s),e.on("unpipe",(function t(i,s){n("onunpipe"),i===r&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,n("cleanup"),e.removeListener("close",l),e.removeListener("finish",d),e.removeListener("drain",u),e.removeListener("error",c),e.removeListener("unpipe",t),r.removeListener("end",a),r.removeListener("end",p),r.removeListener("data",f),h=!0,o.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&u())}));var u=function(e){return function(){var t=e._readableState;n("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,j(e))}}(r);e.on("drain",u);var h=!1;function f(t){n("ondata");var i=e.write(t);n("dest.write",i),!1===i&&((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==z(o.pipes,e))&&!h&&(n("false write response, pause",o.awaitDrain),o.awaitDrain++),r.pause())}function c(t){n("onerror",t),p(),e.removeListener("error",c),0===i(e,"error")&&v(e,t)}function l(){e.removeListener("finish",d),p()}function d(){n("onfinish"),e.removeListener("close",l),p()}function p(){n("unpipe"),r.unpipe(e)}return r.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",c),e.once("close",l),e.once("finish",d),e.emit("pipe",r),o.flowing||(n("pipe resume"),r.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=z(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},S.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,n("on readable",i.length,i.reading),i.length?P(this):i.reading||D.default.nextTick(C,this)),r},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(e,t){var r=o.prototype.removeListener.call(this,e,t);return"readable"===e&&D.default.nextTick(B,this),r},S.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&D.default.nextTick(B,this),t},S.prototype.resume=function(){var e=this._readableState;return e.flowing||(n("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,D.default.nextTick(L,e,t))}(this,e)),e.paused=!1,this},S.prototype.pause=function(){return n("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(n("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;for(var o in e.on("end",(function(){if(n("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){n("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o||!(r.objectMode||o&&o.length)||t.push(o)||(i=!0,e.pause())})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var s=0;s<_.length;s++)e.on(_[s],this.emit.bind(this,_[s]));return this._read=function(t){n("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=kC()),f(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),S._fromList=N,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(e,t){return void 0===c&&(c=PC()),c(S,e,t)})})),y4=H(((e,t)=>{x(),t.exports=h;var r=gh().codes,n=r.ERR_METHOD_NOT_IMPLEMENTED,i=r.ERR_MULTIPLE_CALLBACK,o=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,a=vh();function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new i);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function h(e){if(!(this instanceof h))return new h(e);a.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?c(this,null,null):this._flush((function(t,r){c(e,t,r)}))}function c(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new o;return e.push(null)}He()(h,a),h.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},h.prototype._transform=function(e,t,r){r(new n("_transform()"))},h.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},h.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},h.prototype._destroy=function(e,t){a.prototype._destroy.call(this,e,(function(e){t(e)}))}})),VC=H(((e,t)=>{x(),t.exports=n;var r=y4();function n(e){if(!(this instanceof n))return new n(e);r.call(this,e)}He()(n,r),n.prototype._transform=function(e,t,r){r(null,e)}})),JC=H(((e,t)=>{var r;x();var n=gh().codes,i=n.ERR_MISSING_ARGS,o=n.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function a(e,t,n,i){i=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(i);var s=!1;e.on("close",(function(){s=!0})),void 0===r&&(r=Rb()),r(e,{readable:t,writable:n},(function(e){if(e)return i(e);s=!0,i()}));var a=!1;return function(t){if(!s&&!a){if(a=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e))return e.abort();if("function"==typeof e.destroy)return e.destroy();i(t||new o("pipe"))}}}function u(e){e()}function h(e,t){return e.pipe(t)}function f(e){return e.length&&"function"==typeof e[e.length-1]?e.pop():s}t.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new i("streams");var o,s=t.map((function(e,r){var i=r<t.length-1;return a(e,i,r>0,(function(e){o||(o=e),e&&s.forEach(u),!i&&(s.forEach(u),n(o))}))}));return t.reduce(h)}})),QC=H(((e,t)=>{x(),t.exports=n;var r=Gn().EventEmitter;function n(){r.call(this)}He()(n,r),n.Readable=o4(),n.Writable=r4(),n.Duplex=vh(),n.Transform=y4(),n.PassThrough=VC(),n.finished=Rb(),n.pipeline=JC(),n.Stream=n,n.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),!e._isStdio&&(!t||!1!==t.end)&&(n.on("end",a),n.on("close",u));var s=!1;function a(){s||(s=!0,e.end())}function u(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function h(e){if(f(),0===r.listenerCount(this,"error"))throw e}function f(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",a),n.removeListener("close",u),n.removeListener("error",h),e.removeListener("error",h),n.removeListener("end",f),n.removeListener("close",f),e.removeListener("close",f)}return n.on("error",h),e.on("error",h),n.on("end",f),n.on("close",f),e.on("close",f),e.emit("pipe",n),e}})),vf=H(((e,t)=>{x();var r=_t().Buffer,n=QC().Transform,i=Rs().StringDecoder;function o(e){n.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}He()(o,n),o.prototype.update=function(e,t,n){"string"==typeof e&&(e=r.from(e,t));var i=this._update(e);return this.hashMode?this:(n&&(i=this._toString(i,n)),i)},o.prototype.setAutoPadding=function(){},o.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},o.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},o.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},o.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{r(n)}},o.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},o.prototype._finalOrDigest=function(e){var t=this.__final()||r.alloc(0);return e&&(t=this._toString(t,e,!0)),t},o.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new i(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n},t.exports=o})),Wd=H(((e,t)=>{x();var r=He(),n=mb(),i=gb(),o=_b(),s=vf();function a(e){s.call(this,"digest"),this._hash=e}r(a,s),a.prototype._update=function(e){this._hash.update(e)},a.prototype._final=function(){return this._hash.digest()},t.exports=function(e){return"md5"===(e=e.toLowerCase())?new n:"rmd160"===e||"ripemd160"===e?new i:new a(o(e))}})),aN=H(((e,t)=>{x();var r=He(),n=_t().Buffer,i=vf(),o=n.alloc(128),s=64;function a(e,t){i.call(this,"digest"),"string"==typeof t&&(t=n.from(t)),this._alg=e,this._key=t,t.length>s?t=e(t):t.length<s&&(t=n.concat([t,o],s));for(var r=this._ipad=n.allocUnsafe(s),a=this._opad=n.allocUnsafe(s),u=0;u<s;u++)r[u]=54^t[u],a[u]=92^t[u];this._hash=[r]}r(a,i),a.prototype._update=function(e){this._hash.push(e)},a.prototype._final=function(){var e=this._alg(n.concat(this._hash));return this._alg(n.concat([this._opad,e]))},t.exports=a})),b4=H(((e,t)=>{x();var r=mb();t.exports=function(e){return(new r).update(e).digest()}})),M4=H(((e,t)=>{x();var r=He(),n=aN(),i=vf(),o=_t().Buffer,s=b4(),a=gb(),u=_b(),h=o.alloc(128);function f(e,t){i.call(this,"digest"),"string"==typeof t&&(t=o.from(t));var r="sha512"===e||"sha384"===e?128:64;this._alg=e,this._key=t,t.length>r?t=("rmd160"===e?new a:u(e)).update(t).digest():t.length<r&&(t=o.concat([t,h],r));for(var n=this._ipad=o.allocUnsafe(r),s=this._opad=o.allocUnsafe(r),f=0;f<r;f++)n[f]=54^t[f],s[f]=92^t[f];this._hash="rmd160"===e?new a:u(e),this._hash.update(n)}r(f,i),f.prototype._update=function(e){this._hash.update(e)},f.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new a:u(this._alg)).update(this._opad).update(e).digest()},t.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new f("rmd160",t):"md5"===e?new n(s,t):new f(e,t)}})),x4=H(((e,t)=>{t.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}})),cN=H(((e,t)=>{x(),t.exports=x4()})),E4=H(((e,t)=>{x();var r=Math.pow(2,30)-1;t.exports=function(e,t){if("number"!=typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!=typeof t)throw new TypeError("Key length not a number");if(t<0||t>r||t!=t)throw new TypeError("Bad key length")}})),S4=H(((e,t)=>{var r;x(),r=globalThis.process&&globalThis.process.browser?"utf-8":globalThis.process&&globalThis.process.version?parseInt(D.default.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",t.exports=r})),A4=H(((e,t)=>{x();var r=_t().Buffer;t.exports=function(e,t,n){if(r.isBuffer(e))return e;if("string"==typeof e)return r.from(e,t);if(ArrayBuffer.isView(e))return r.from(e.buffer);throw new TypeError(n+" must be a string, a Buffer, a typed array or a DataView")}})),R4=H(((e,t)=>{x();var r=b4(),n=gb(),i=_b(),o=_t().Buffer,s=E4(),a=S4(),u=A4(),h=o.alloc(128),f={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function c(e,t,s){var a=function(e){return"rmd160"===e||"ripemd160"===e?function(e){return(new n).update(e).digest()}:"md5"===e?r:function(t){return i(e).update(t).digest()}}(e),u="sha512"===e||"sha384"===e?128:64;t.length>u?t=a(t):t.length<u&&(t=o.concat([t,h],u));for(var c=o.allocUnsafe(u+f[e]),l=o.allocUnsafe(u+f[e]),d=0;d<u;d++)c[d]=54^t[d],l[d]=92^t[d];var p=o.allocUnsafe(u+s+4);c.copy(p,0,0,u),this.ipad1=p,this.ipad2=c,this.opad=l,this.alg=e,this.blocksize=u,this.hash=a,this.size=f[e]}c.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(e,t,r,n,i){s(r,n);var h=new c(i=i||"sha1",e=u(e,a,"Password"),(t=u(t,a,"Salt")).length),l=o.allocUnsafe(n),d=o.allocUnsafe(t.length+4);t.copy(d,0,0,t.length);for(var p=0,y=f[i],m=Math.ceil(n/y),g=1;g<=m;g++){d.writeUInt32BE(g,t.length);for(var b=h.run(d,h.ipad1),w=b,v=1;v<r;v++){w=h.run(w,h.ipad2);for(var _=0;_<y;_++)b[_]^=w[_]}b.copy(l,p),p+=y}return l}})),AN=H(((e,t)=>{x();var r,n,i=_t().Buffer,o=E4(),s=S4(),a=R4(),u=A4(),h=globalThis.crypto&&globalThis.crypto.subtle,f={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},c=[];function l(){return n||(n=globalThis.process&&globalThis.process.nextTick?globalThis.process.nextTick:globalThis.queueMicrotask?globalThis.queueMicrotask:globalThis.setImmediate?globalThis.setImmediate:globalThis.setTimeout)}function d(e,t,r,n,o){return h.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then((function(e){return h.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:o}},e,n<<3)})).then((function(e){return i.from(e)}))}t.exports=function(e,t,n,p,y,m){"function"==typeof y&&(m=y,y=void 0);var g=f[(y=y||"sha1").toLowerCase()];if(g&&"function"==typeof globalThis.Promise){if(o(n,p),e=u(e,s,"Password"),t=u(t,s,"Salt"),"function"!=typeof m)throw new Error("No callback provided to pbkdf2");!function(e,t){e.then((function(e){l()((function(){t(null,e)}))}),(function(e){l()((function(){t(e)}))}))}(function(e){if(globalThis.process&&!globalThis.process.browser||!h||!h.importKey||!h.deriveBits)return Promise.resolve(!1);if(void 0!==c[e])return c[e];var t=d(r=r||i.alloc(8),r,10,128,e).then((function(){return!0})).catch((function(){return!1}));return c[e]=t,t}(g).then((function(r){return r?d(e,t,n,p,g):a(e,t,n,p,y)})),m)}else l()((function(){var r;try{r=a(e,t,n,p,y)}catch(e){return m(e)}m(null,r)}))}})),D4=H((e=>{x(),e.pbkdf2=AN(),e.pbkdf2Sync=R4()})),B4=H((e=>{x(),e.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},e.writeUInt32BE=function(e,t,r){e[0+r]=t>>>24,e[1+r]=t>>>16&255,e[2+r]=t>>>8&255,e[3+r]=255&t},e.ip=function(e,t,r,n){for(var i=0,o=0,s=6;s>=0;s-=2){for(var a=0;a<=24;a+=8)i<<=1,i|=t>>>a+s&1;for(a=0;a<=24;a+=8)i<<=1,i|=e>>>a+s&1}for(s=6;s>=0;s-=2){for(a=1;a<=25;a+=8)o<<=1,o|=t>>>a+s&1;for(a=1;a<=25;a+=8)o<<=1,o|=e>>>a+s&1}r[n+0]=i>>>0,r[n+1]=o>>>0},e.rip=function(e,t,r,n){for(var i=0,o=0,s=0;s<4;s++)for(var a=24;a>=0;a-=8)i<<=1,i|=t>>>a+s&1,i<<=1,i|=e>>>a+s&1;for(s=4;s<8;s++)for(a=24;a>=0;a-=8)o<<=1,o|=t>>>a+s&1,o<<=1,o|=e>>>a+s&1;r[n+0]=i>>>0,r[n+1]=o>>>0},e.pc1=function(e,t,r,n){for(var i=0,o=0,s=7;s>=5;s--){for(var a=0;a<=24;a+=8)i<<=1,i|=t>>a+s&1;for(a=0;a<=24;a+=8)i<<=1,i|=e>>a+s&1}for(a=0;a<=24;a+=8)i<<=1,i|=t>>a+s&1;for(s=1;s<=3;s++){for(a=0;a<=24;a+=8)o<<=1,o|=t>>a+s&1;for(a=0;a<=24;a+=8)o<<=1,o|=e>>a+s&1}for(a=0;a<=24;a+=8)o<<=1,o|=e>>a+s&1;r[n+0]=i>>>0,r[n+1]=o>>>0},e.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var t=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];e.pc2=function(e,r,n,i){for(var o=0,s=0,a=t.length>>>1,u=0;u<a;u++)o<<=1,o|=e>>>t[u]&1;for(u=a;u<t.length;u++)s<<=1,s|=r>>>t[u]&1;n[i+0]=o>>>0,n[i+1]=s>>>0},e.expand=function(e,t,r){var n=0,i=0;n=(1&e)<<5|e>>>27;for(var o=23;o>=15;o-=4)n<<=6,n|=e>>>o&63;for(o=11;o>=3;o-=4)i|=e>>>o&63,i<<=6;i|=(31&e)<<1|e>>>31,t[r+0]=n>>>0,t[r+1]=i>>>0};var r=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];e.substitute=function(e,t){for(var n=0,i=0;i<4;i++)n<<=4,n|=r[64*i+(e>>>18-6*i&63)];for(i=0;i<4;i++)n<<=4,n|=r[256+64*i+(t>>>18-6*i&63)];return n>>>0};var n=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];e.permute=function(e){for(var t=0,r=0;r<n.length;r++)t<<=1,t|=e>>>n[r]&1;return t>>>0},e.padSplit=function(e,t,r){for(var n=e.toString(2);n.length<t;)n="0"+n;for(var i=[],o=0;o<t;o+=r)i.push(n.slice(o,o+r));return i.join(" ")}})),xo=H(((e,t)=>{function r(e,t){if(!e)throw new Error(t||"Assertion failed")}x(),t.exports=r,r.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}})),Fb=H(((e,t)=>{x();var r=xo();function n(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}t.exports=n,n.prototype._init=function(){},n.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},n.prototype._buffer=function(e,t){for(var r=Math.min(this.buffer.length-this.bufferOff,e.length-t),n=0;n<r;n++)this.buffer[this.bufferOff+n]=e[t+n];return this.bufferOff+=r,r},n.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},n.prototype._updateEncrypt=function(e){var t=0,r=0,n=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(n*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(i,r)));for(var o=e.length-(e.length-t)%this.blockSize;t<o;t+=this.blockSize)this._update(e,t,i,r),r+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},n.prototype._updateDecrypt=function(e){for(var t=0,r=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(n*this.blockSize);n>0;n--)t+=this._buffer(e,t),r+=this._flushBuffer(i,r);return t+=this._buffer(e,t),i},n.prototype.final=function(e){var t,r;return e&&(t=this.update(e)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(r):r},n.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},n.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},n.prototype._unpad=function(e){return e},n.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}})),O4=H(((e,t)=>{x();var r=xo(),n=He(),i=B4(),o=Fb();function s(){this.tmp=new Array(2),this.keys=null}function a(e){o.call(this,e);var t=new s;this._desState=t,this.deriveKeys(t,e.key)}n(a,o),t.exports=a,a.create=function(e){return new a(e)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];a.prototype.deriveKeys=function(e,t){e.keys=new Array(32),r.equal(t.length,this.blockSize,"Invalid key length");var n=i.readUInt32BE(t,0),o=i.readUInt32BE(t,4);i.pc1(n,o,e.tmp,0),n=e.tmp[0],o=e.tmp[1];for(var s=0;s<e.keys.length;s+=2){var a=u[s>>>1];n=i.r28shl(n,a),o=i.r28shl(o,a),i.pc2(n,o,e.keys,s)}},a.prototype._update=function(e,t,r,n){var o=this._desState,s=i.readUInt32BE(e,t),a=i.readUInt32BE(e,t+4);i.ip(s,a,o.tmp,0),s=o.tmp[0],a=o.tmp[1],"encrypt"===this.type?this._encrypt(o,s,a,o.tmp,0):this._decrypt(o,s,a,o.tmp,0),s=o.tmp[0],a=o.tmp[1],i.writeUInt32BE(r,s,n),i.writeUInt32BE(r,a,n+4)},a.prototype._pad=function(e,t){for(var r=e.length-t,n=t;n<e.length;n++)e[n]=r;return!0},a.prototype._unpad=function(e){for(var t=e[e.length-1],n=e.length-t;n<e.length;n++)r.equal(e[n],t);return e.slice(0,e.length-t)},a.prototype._encrypt=function(e,t,r,n,o){for(var s=t,a=r,u=0;u<e.keys.length;u+=2){var h=e.keys[u],f=e.keys[u+1];i.expand(a,e.tmp,0),h^=e.tmp[0],f^=e.tmp[1];var c=i.substitute(h,f),l=a;a=(s^i.permute(c))>>>0,s=l}i.rip(a,s,n,o)},a.prototype._decrypt=function(e,t,r,n,o){for(var s=r,a=t,u=e.keys.length-2;u>=0;u-=2){var h=e.keys[u],f=e.keys[u+1];i.expand(s,e.tmp,0),h^=e.tmp[0],f^=e.tmp[1];var c=i.substitute(h,f),l=s;s=(a^i.permute(c))>>>0,a=l}i.rip(s,a,n,o)}})),LN=H((e=>{x();var t=xo(),r=He(),n={};function i(e){t.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var r=0;r<this.iv.length;r++)this.iv[r]=e[r]}e.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}r(t,e);for(var i=Object.keys(n),o=0;o<i.length;o++){var s=i[o];t.prototype[s]=n[s]}return t.create=function(e){return new t(e)},t},n._cbcInit=function(){var e=new i(this.options.iv);this._cbcState=e},n._update=function(e,t,r,n){var i=this._cbcState,o=this.constructor.super_.prototype,s=i.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)s[a]^=e[t+a];for(o._update.call(this,s,0,r,n),a=0;a<this.blockSize;a++)s[a]=r[n+a]}else{for(o._update.call(this,e,t,r,n),a=0;a<this.blockSize;a++)r[n+a]^=s[a];for(a=0;a<this.blockSize;a++)s[a]=e[t+a]}}})),UN=H(((e,t)=>{x();var r=xo(),n=He(),i=Fb(),o=O4();function s(e,t){r.equal(t.length,24,"Invalid key length");var n=t.slice(0,8),i=t.slice(8,16),s=t.slice(16,24);this.ciphers="encrypt"===e?[o.create({type:"encrypt",key:n}),o.create({type:"decrypt",key:i}),o.create({type:"encrypt",key:s})]:[o.create({type:"decrypt",key:s}),o.create({type:"encrypt",key:i}),o.create({type:"decrypt",key:n})]}function a(e){i.call(this,e);var t=new s(this.type,this.options.key);this._edeState=t}n(a,i),t.exports=a,a.create=function(e){return new a(e)},a.prototype._update=function(e,t,r,n){var i=this._edeState;i.ciphers[0]._update(e,t,r,n),i.ciphers[1]._update(r,n,r,n),i.ciphers[2]._update(r,n,r,n)},a.prototype._pad=o.prototype._pad,a.prototype._unpad=o.prototype._unpad})),zN=H((e=>{x(),e.utils=B4(),e.Cipher=Fb(),e.DES=O4(),e.CBC=LN(),e.EDE=UN()})),HN=H(((e,t)=>{x();var r=vf(),n=zN(),i=He(),o=_t().Buffer,s={"des-ede3-cbc":n.CBC.instantiate(n.EDE),"des-ede3":n.EDE,"des-ede-cbc":n.CBC.instantiate(n.EDE),"des-ede":n.EDE,"des-cbc":n.CBC.instantiate(n.DES),"des-ecb":n.DES};function a(e){r.call(this);var t,n=e.mode.toLowerCase(),i=s[n];t=e.decrypt?"decrypt":"encrypt";var a=e.key;o.isBuffer(a)||(a=o.from(a)),("des-ede"===n||"des-ede-cbc"===n)&&(a=o.concat([a,a.slice(0,8)]));var u=e.iv;o.isBuffer(u)||(u=o.from(u)),this._des=i.create({key:a,iv:u,type:t})}s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],t.exports=a,i(a,r),a.prototype._update=function(e){return o.from(this._des.update(e))},a.prototype._final=function(){return o.from(this._des.final())}})),WN=H((e=>{x(),e.encrypt=function(e,t){return e._cipher.encryptBlock(t)},e.decrypt=function(e,t){return e._cipher.decryptBlock(t)}})),Gd=H(((e,t)=>{x(),t.exports=function(e,t){for(var r=Math.min(e.length,t.length),n=new L.Buffer(r),i=0;i<r;++i)n[i]=e[i]^t[i];return n}})),GN=H((e=>{x();var t=Gd();e.encrypt=function(e,r){var n=t(r,e._prev);return e._prev=e._cipher.encryptBlock(n),e._prev},e.decrypt=function(e,r){var n=e._prev;e._prev=r;var i=e._cipher.decryptBlock(r);return t(i,n)}})),JN=H((e=>{x();var t=_t().Buffer,r=Gd();function n(e,n,i){var o=n.length,s=r(n,e._cache);return e._cache=e._cache.slice(o),e._prev=t.concat([e._prev,i?n:s]),s}e.encrypt=function(e,r,i){for(var o,s=t.allocUnsafe(0);r.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=t.allocUnsafe(0)),!(e._cache.length<=r.length)){s=t.concat([s,n(e,r,i)]);break}o=e._cache.length,s=t.concat([s,n(e,r.slice(0,o),i)]),r=r.slice(o)}return s}})),QN=H((e=>{x();var t=_t().Buffer;function r(e,r,n){var i=e._cipher.encryptBlock(e._prev)[0]^r;return e._prev=t.concat([e._prev.slice(1),t.from([n?r:i])]),i}e.encrypt=function(e,n,i){for(var o=n.length,s=t.allocUnsafe(o),a=-1;++a<o;)s[a]=r(e,n[a],i);return s}})),tL=H((e=>{x();var t=_t().Buffer;function r(e,t,r){for(var i,o,s=-1,a=0;++s<8;)i=t&1<<7-s?128:0,a+=(128&(o=e._cipher.encryptBlock(e._prev)[0]^i))>>s%8,e._prev=n(e._prev,r?i:o);return a}function n(e,r){var n=e.length,i=-1,o=t.allocUnsafe(e.length);for(e=t.concat([e,t.from([r])]);++i<n;)o[i]=e[i]<<1|e[i+1]>>7;return o}e.encrypt=function(e,n,i){for(var o=n.length,s=t.allocUnsafe(o),a=-1;++a<o;)s[a]=r(e,n[a],i);return s}})),iL=H((e=>{x();var t=Gd();function r(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}e.encrypt=function(e,n){for(;e._cache.length<n.length;)e._cache=L.Buffer.concat([e._cache,r(e)]);var i=e._cache.slice(0,n.length);return e._cache=e._cache.slice(n.length),t(n,i)}})),q4=H(((e,t)=>{x(),t.exports=function(e){for(var t,r=e.length;r--;){if(255!==(t=e.readUInt8(r))){t++,e.writeUInt8(t,r);break}e.writeUInt8(0,r)}}})),U4=H((e=>{x();var t=Gd(),r=_t().Buffer,n=q4();function i(e){var t=e._cipher.encryptBlockRaw(e._prev);return n(e._prev),t}e.encrypt=function(e,n){var o=Math.ceil(n.length/16),s=e._cache.length;e._cache=r.concat([e._cache,r.allocUnsafe(16*o)]);for(var a=0;a<o;a++){var u=i(e),h=s+16*a;e._cache.writeUInt32BE(u[0],h+0),e._cache.writeUInt32BE(u[1],h+4),e._cache.writeUInt32BE(u[2],h+8),e._cache.writeUInt32BE(u[3],h+12)}var f=e._cache.slice(0,n.length);return e._cache=e._cache.slice(n.length),t(n,f)}})),z4=H(((e,t)=>{t.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}})),Kb=H(((e,t)=>{x();var r,n={ECB:WN(),CBC:GN(),CFB:JN(),CFB8:QN(),CFB1:tL(),OFB:iL(),CTR:U4(),GCM:U4()},i=z4();for(r in i)i[r].module=n[i[r].mode];t.exports=i})),dy=H(((e,t)=>{x();var r=_t().Buffer;function n(e){r.isBuffer(e)||(e=r.from(e));for(var t=e.length/4|0,n=new Array(t),i=0;i<t;i++)n[i]=e.readUInt32BE(4*i);return n}function i(e){for(;0<e.length;e++)e[0]=0}function o(e,t,r,n,i){for(var o,s,a,u,h=r[0],f=r[1],c=r[2],l=r[3],d=e[0]^t[0],p=e[1]^t[1],y=e[2]^t[2],m=e[3]^t[3],g=4,b=1;b<i;b++)o=h[d>>>24]^f[p>>>16&255]^c[y>>>8&255]^l[255&m]^t[g++],s=h[p>>>24]^f[y>>>16&255]^c[m>>>8&255]^l[255&d]^t[g++],a=h[y>>>24]^f[m>>>16&255]^c[d>>>8&255]^l[255&p]^t[g++],u=h[m>>>24]^f[d>>>16&255]^c[p>>>8&255]^l[255&y]^t[g++],d=o,p=s,y=a,m=u;return o=(n[d>>>24]<<24|n[p>>>16&255]<<16|n[y>>>8&255]<<8|n[255&m])^t[g++],s=(n[p>>>24]<<24|n[y>>>16&255]<<16|n[m>>>8&255]<<8|n[255&d])^t[g++],a=(n[y>>>24]<<24|n[m>>>16&255]<<16|n[d>>>8&255]<<8|n[255&p])^t[g++],u=(n[m>>>24]<<24|n[d>>>16&255]<<16|n[p>>>8&255]<<8|n[255&y])^t[g++],[o>>>=0,s>>>=0,a>>>=0,u>>>=0]}var s=[0,1,2,4,8,16,32,64,128,27,54],a=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var r=[],n=[],i=[[],[],[],[]],o=[[],[],[],[]],s=0,a=0,u=0;u<256;++u){var h=a^a<<1^a<<2^a<<3^a<<4;h=h>>>8^255&h^99,r[s]=h,n[h]=s;var f=e[s],c=e[f],l=e[c],d=257*e[h]^16843008*h;i[0][s]=d<<24|d>>>8,i[1][s]=d<<16|d>>>16,i[2][s]=d<<8|d>>>24,i[3][s]=d,d=16843009*l^65537*c^257*f^16843008*s,o[0][h]=d<<24|d>>>8,o[1][h]=d<<16|d>>>16,o[2][h]=d<<8|d>>>24,o[3][h]=d,0===s?s=a=1:(s=f^e[e[e[l^f]]],a^=e[e[a]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:o}}();function u(e){this._key=n(e),this._reset()}u.blockSize=16,u.keySize=32,u.prototype.blockSize=u.blockSize,u.prototype.keySize=u.keySize,u.prototype._reset=function(){for(var e=this._key,t=e.length,r=t+6,n=4*(r+1),i=[],o=0;o<t;o++)i[o]=e[o];for(o=t;o<n;o++){var u=i[o-1];o%t==0?(u=u<<8|u>>>24,u=a.SBOX[u>>>24]<<24|a.SBOX[u>>>16&255]<<16|a.SBOX[u>>>8&255]<<8|a.SBOX[255&u],u^=s[o/t|0]<<24):t>6&&o%t==4&&(u=a.SBOX[u>>>24]<<24|a.SBOX[u>>>16&255]<<16|a.SBOX[u>>>8&255]<<8|a.SBOX[255&u]),i[o]=i[o-t]^u}for(var h=[],f=0;f<n;f++){var c=n-f,l=i[c-(f%4?0:4)];h[f]=f<4||c<=4?l:a.INV_SUB_MIX[0][a.SBOX[l>>>24]]^a.INV_SUB_MIX[1][a.SBOX[l>>>16&255]]^a.INV_SUB_MIX[2][a.SBOX[l>>>8&255]]^a.INV_SUB_MIX[3][a.SBOX[255&l]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=h},u.prototype.encryptBlockRaw=function(e){return o(e=n(e),this._keySchedule,a.SUB_MIX,a.SBOX,this._nRounds)},u.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),n=r.allocUnsafe(16);return n.writeUInt32BE(t[0],0),n.writeUInt32BE(t[1],4),n.writeUInt32BE(t[2],8),n.writeUInt32BE(t[3],12),n},u.prototype.decryptBlock=function(e){var t=(e=n(e))[1];e[1]=e[3],e[3]=t;var i=o(e,this._invKeySchedule,a.INV_SUB_MIX,a.INV_SBOX,this._nRounds),s=r.allocUnsafe(16);return s.writeUInt32BE(i[0],0),s.writeUInt32BE(i[3],4),s.writeUInt32BE(i[2],8),s.writeUInt32BE(i[1],12),s},u.prototype.scrub=function(){i(this._keySchedule),i(this._invKeySchedule),i(this._key)},t.exports.AES=u})),cL=H(((e,t)=>{x();var r=_t().Buffer,n=r.alloc(16,0);function i(e){var t=r.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function o(e){this.h=e,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}o.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},o.prototype._multiply=function(){for(var e,t,r=function(e){return[e.readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)]}(this.h),n=[0,0,0,0],o=-1;++o<128;){for(0!=(this.state[~~(o/8)]&1<<7-o%8)&&(n[0]^=r[0],n[1]^=r[1],n[2]^=r[2],n[3]^=r[3]),t=0!=(1&r[3]),e=3;e>0;e--)r[e]=r[e]>>>1|(1&r[e-1])<<31;r[0]=r[0]>>>1,t&&(r[0]=r[0]^225<<24)}this.state=i(n)},o.prototype.update=function(e){this.cache=r.concat([this.cache,e]);for(var t;this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},o.prototype.final=function(e,t){return this.cache.length&&this.ghash(r.concat([this.cache,n],16)),this.ghash(i([0,e,0,t])),this.state},t.exports=o})),W4=H(((e,t)=>{x();var r=dy(),n=_t().Buffer,i=vf(),o=He(),s=cL(),a=Gd(),u=q4();function h(e,t,o,a){i.call(this);var h=n.alloc(4,0);this._cipher=new r.AES(t);var f=this._cipher.encryptBlock(h);this._ghash=new s(f),o=function(e,t,r){if(12===t.length)return e._finID=n.concat([t,n.from([0,0,0,1])]),n.concat([t,n.from([0,0,0,2])]);var i=new s(r),o=t.length,a=o%16;i.update(t),a&&(a=16-a,i.update(n.alloc(a,0))),i.update(n.alloc(8,0));var h=8*o,f=n.alloc(8);f.writeUIntBE(h,0,8),i.update(f),e._finID=i.state;var c=n.from(e._finID);return u(c),c}(this,o,f),this._prev=n.from(o),this._cache=n.allocUnsafe(0),this._secCache=n.allocUnsafe(0),this._decrypt=a,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}o(h,i),h.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=n.alloc(t,0),this._ghash.update(t))}this._called=!0;var r=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(r),this._len+=e.length,r},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=a(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var r=0;e.length!==t.length&&r++;for(var n=Math.min(e.length,t.length),i=0;i<n;++i)r+=e[i]^t[i];return r}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},h.prototype.getAuthTag=function(){if(this._decrypt||!n.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},h.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},h.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},t.exports=h})),K4=H(((e,t)=>{x();var r=dy(),n=_t().Buffer,i=vf();function o(e,t,o,s){i.call(this),this._cipher=new r.AES(t),this._prev=n.from(o),this._cache=n.allocUnsafe(0),this._secCache=n.allocUnsafe(0),this._decrypt=s,this._mode=e}He()(o,i),o.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},o.prototype._final=function(){this._cipher.scrub()},t.exports=o})),my=H(((e,t)=>{x();var r=_t().Buffer,n=mb();t.exports=function(e,t,i,o){if(r.isBuffer(e)||(e=r.from(e,"binary")),t&&(r.isBuffer(t)||(t=r.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var s=i/8,a=r.alloc(s),u=r.alloc(o||0),h=r.alloc(0);s>0||o>0;){var f=new n;f.update(h),f.update(e),t&&f.update(t),h=f.digest();var c=0;if(s>0){var l=a.length-s;c=Math.min(s,h.length),h.copy(a,l,0,c),s-=c}if(c<h.length&&o>0){var d=u.length-o,p=Math.min(o,h.length-c);h.copy(u,d,c,c+p),o-=p}}return h.fill(0),{key:a,iv:u}}})),ML=H((e=>{x();var t=Kb(),r=W4(),n=_t().Buffer,i=K4(),o=vf(),s=dy(),a=my();function u(e,t,r){o.call(this),this._cache=new f,this._cipher=new s.AES(t),this._prev=n.from(r),this._mode=e,this._autopadding=!0}He()(u,o),u.prototype._update=function(e){this._cache.add(e);for(var t,r,i=[];t=this._cache.get();)r=this._mode.encrypt(this,t),i.push(r);return n.concat(i)};var h=n.alloc(16,16);function f(){this.cache=n.allocUnsafe(0)}function c(e,o,s){var a=t[e.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof o&&(o=n.from(o)),o.length!==a.key/8)throw new TypeError("invalid key length "+o.length);if("string"==typeof s&&(s=n.from(s)),"GCM"!==a.mode&&s.length!==a.iv)throw new TypeError("invalid iv length "+s.length);return"stream"===a.type?new i(a.module,o,s):"auth"===a.type?new r(a.module,o,s):new u(a.module,o,s)}u.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},f.prototype.add=function(e){this.cache=n.concat([this.cache,e])},f.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},f.prototype.flush=function(){for(var e=16-this.cache.length,t=n.allocUnsafe(e),r=-1;++r<e;)t.writeUInt8(e,r);return n.concat([this.cache,t])},e.createCipheriv=c,e.createCipher=function(e,r){var n=t[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=a(r,!1,n.key,n.iv);return c(e,i.key,i.iv)}})),TL=H((e=>{x();var t=W4(),r=_t().Buffer,n=Kb(),i=K4(),o=vf(),s=dy(),a=my();function u(e,t,n){o.call(this),this._cache=new h,this._last=void 0,this._cipher=new s.AES(t),this._prev=r.from(n),this._mode=e,this._autopadding=!0}function h(){this.cache=r.allocUnsafe(0)}function f(e,o,s){var a=n[e.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof s&&(s=r.from(s)),"GCM"!==a.mode&&s.length!==a.iv)throw new TypeError("invalid iv length "+s.length);if("string"==typeof o&&(o=r.from(o)),o.length!==a.key/8)throw new TypeError("invalid key length "+o.length);return"stream"===a.type?new i(a.module,o,s,!0):"auth"===a.type?new t(a.module,o,s,!0):new u(a.module,o,s)}He()(u,o),u.prototype._update=function(e){this._cache.add(e);for(var t,n,i=[];t=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,t),i.push(n);return r.concat(i)},u.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");for(var r=-1;++r<t;)if(e[r+(16-t)]!==t)throw new Error("unable to decrypt data");if(16!==t)return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},h.prototype.add=function(e){this.cache=r.concat([this.cache,e])},h.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},e.createDecipher=function(e,t){var r=n[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=a(t,!1,r.key,r.iv);return f(e,i.key,i.iv)},e.createDecipheriv=f})),Xb=H((e=>{x();var t=ML(),r=TL(),n=z4();e.createCipher=e.Cipher=t.createCipher,e.createCipheriv=e.Cipheriv=t.createCipheriv,e.createDecipher=e.Decipher=r.createDecipher,e.createDecipheriv=e.Decipheriv=r.createDecipheriv,e.listCiphers=e.getCiphers=function(){return Object.keys(n)}})),kL=H((e=>{x(),e["des-ecb"]={key:8,iv:0},e["des-cbc"]=e.des={key:8,iv:8},e["des-ede3-cbc"]=e.des3={key:24,iv:8},e["des-ede3"]={key:24,iv:0},e["des-ede-cbc"]={key:16,iv:8},e["des-ede"]={key:16,iv:0}})),OL=H((e=>{x();var t=HN(),r=Xb(),n=Kb(),i=kL(),o=my();function s(e,o,s){if(e=e.toLowerCase(),n[e])return r.createCipheriv(e,o,s);if(i[e])return new t({key:o,iv:s,mode:e});throw new TypeError("invalid suite type")}function a(e,o,s){if(e=e.toLowerCase(),n[e])return r.createDecipheriv(e,o,s);if(i[e])return new t({key:o,iv:s,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}e.createCipher=e.Cipher=function(e,t){var r,a;if(e=e.toLowerCase(),n[e])r=n[e].key,a=n[e].iv;else{if(!i[e])throw new TypeError("invalid suite type");r=8*i[e].key,a=i[e].iv}var u=o(t,!1,r,a);return s(e,u.key,u.iv)},e.createCipheriv=e.Cipheriv=s,e.createDecipher=e.Decipher=function(e,t){var r,s;if(e=e.toLowerCase(),n[e])r=n[e].key,s=n[e].iv;else{if(!i[e])throw new TypeError("invalid suite type");r=8*i[e].key,s=i[e].iv}var u=o(t,!1,r,s);return a(e,u.key,u.iv)},e.createDecipheriv=e.Decipheriv=a,e.listCiphers=e.getCiphers=function(){return Object.keys(i).concat(r.getCiphers())}})),X4=H(((e,t)=>{x(),function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&(("le"===t||"be"===t)&&(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{o=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:St().Buffer}catch{}function s(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function a(e,t,r){var n=s(e,r);return r-1>=t&&(n|=s(e,r-1)<<4),n}function u(e,t,r,n){for(var i=0,o=Math.min(e.length,r),s=t;s<o;s++){var a=e.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=a(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=a(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,h=0,f=r;f<a;f+=n)h=u(e,f,f+n,t),this.imuln(i),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==s){var c=1;for(h=u(e,f,e.length,t),f=0;f<s;f++)c*=t;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],c=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function l(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var h=1;h<n;h++){for(var f=u>>>26,c=67108863&u,l=Math.min(h,t.length-1),d=Math.max(0,h-e.length+1);d<=l;d++){var p=h-d|0;f+=(s=(i=0|e.words[p])*(o=0|t.words[d])+c)/67108864|0,c=67108863&s}r.words[h]=0|c,u=0|f}return 0!==u?r.words[h]=0|u:r.length--,r.strip()}i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);n=0!=(o=a>>>24-i&16777215)||s!==this.length-1?h[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var l=f[e],d=c[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var y=p.modn(d).toString(e);n=(p=p.idivn(d)).isZero()?y+n:h[l-y.length]+y+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){return r(typeof o<"u"),this.toArrayLike(o,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,u="le"===t,h=new e(o),f=this.clone();if(u){for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),h[a]=s;for(;a<o;a++)h[a]=0}else{for(a=0;a<o-i;a++)h[a]=0;for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),h[o-a-1]=s}return h},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var d=function(e,t,r){var n,i,o,s=e.words,a=t.words,u=r.words,h=0,f=0|s[0],c=8191&f,l=f>>>13,d=0|s[1],p=8191&d,y=d>>>13,m=0|s[2],g=8191&m,b=m>>>13,w=0|s[3],v=8191&w,_=w>>>13,E=0|s[4],S=8191&E,M=E>>>13,A=0|s[5],k=8191&A,x=A>>>13,T=0|s[6],P=8191&T,I=T>>>13,R=0|s[7],O=8191&R,B=R>>>13,C=0|s[8],L=8191&C,j=C>>>13,D=0|s[9],N=8191&D,U=D>>>13,H=0|a[0],z=8191&H,F=H>>>13,q=0|a[1],$=8191&q,K=q>>>13,V=0|a[2],W=8191&V,G=V>>>13,Y=0|a[3],J=8191&Y,Z=Y>>>13,X=0|a[4],Q=8191&X,ee=X>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ue=8191&ae,he=ae>>>13,fe=0|a[8],ce=8191&fe,le=fe>>>13,de=0|a[9],pe=8191&de,ye=de>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(h+(n=Math.imul(c,z))|0)+((8191&(i=(i=Math.imul(c,F))+Math.imul(l,z)|0))<<13)|0;h=((o=Math.imul(l,F))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,F))+Math.imul(y,z)|0,o=Math.imul(y,F);var ge=(h+(n=n+Math.imul(c,$)|0)|0)+((8191&(i=(i=i+Math.imul(c,K)|0)+Math.imul(l,$)|0))<<13)|0;h=((o=o+Math.imul(l,K)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,z),i=(i=Math.imul(g,F))+Math.imul(b,z)|0,o=Math.imul(b,F),n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,K)|0;var be=(h+(n=n+Math.imul(c,W)|0)|0)+((8191&(i=(i=i+Math.imul(c,G)|0)+Math.imul(l,W)|0))<<13)|0;h=((o=o+Math.imul(l,G)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,F))+Math.imul(_,z)|0,o=Math.imul(_,F),n=n+Math.imul(g,$)|0,i=(i=i+Math.imul(g,K)|0)+Math.imul(b,$)|0,o=o+Math.imul(b,K)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,G)|0;var we=(h+(n=n+Math.imul(c,J)|0)|0)+((8191&(i=(i=i+Math.imul(c,Z)|0)+Math.imul(l,J)|0))<<13)|0;h=((o=o+Math.imul(l,Z)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,F))+Math.imul(M,z)|0,o=Math.imul(M,F),n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,K)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,K)|0,n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,G)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,Z)|0;var ve=(h+(n=n+Math.imul(c,Q)|0)|0)+((8191&(i=(i=i+Math.imul(c,ee)|0)+Math.imul(l,Q)|0))<<13)|0;h=((o=o+Math.imul(l,ee)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(k,z),i=(i=Math.imul(k,F))+Math.imul(x,z)|0,o=Math.imul(x,F),n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,K)|0,n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,G)|0,n=n+Math.imul(g,J)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0;var _e=(h+(n=n+Math.imul(c,re)|0)|0)+((8191&(i=(i=i+Math.imul(c,ne)|0)+Math.imul(l,re)|0))<<13)|0;h=((o=o+Math.imul(l,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(P,z),i=(i=Math.imul(P,F))+Math.imul(I,z)|0,o=Math.imul(I,F),n=n+Math.imul(k,$)|0,i=(i=i+Math.imul(k,K)|0)+Math.imul(x,$)|0,o=o+Math.imul(x,K)|0,n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,G)|0,n=n+Math.imul(v,J)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,Z)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0;var Ee=(h+(n=n+Math.imul(c,oe)|0)|0)+((8191&(i=(i=i+Math.imul(c,se)|0)+Math.imul(l,oe)|0))<<13)|0;h=((o=o+Math.imul(l,se)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(O,z),i=(i=Math.imul(O,F))+Math.imul(B,z)|0,o=Math.imul(B,F),n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,K)|0,n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(x,W)|0,o=o+Math.imul(x,G)|0,n=n+Math.imul(S,J)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0;var Se=(h+(n=n+Math.imul(c,ue)|0)|0)+((8191&(i=(i=i+Math.imul(c,he)|0)+Math.imul(l,ue)|0))<<13)|0;h=((o=o+Math.imul(l,he)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,F))+Math.imul(j,z)|0,o=Math.imul(j,F),n=n+Math.imul(O,$)|0,i=(i=i+Math.imul(O,K)|0)+Math.imul(B,$)|0,o=o+Math.imul(B,K)|0,n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,G)|0,n=n+Math.imul(k,J)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,Z)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,se)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,se)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,he)|0;var Me=(h+(n=n+Math.imul(c,ce)|0)|0)+((8191&(i=(i=i+Math.imul(c,le)|0)+Math.imul(l,ce)|0))<<13)|0;h=((o=o+Math.imul(l,le)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(N,z),i=(i=Math.imul(N,F))+Math.imul(U,z)|0,o=Math.imul(U,F),n=n+Math.imul(L,$)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(j,$)|0,o=o+Math.imul(j,K)|0,n=n+Math.imul(O,W)|0,i=(i=i+Math.imul(O,G)|0)+Math.imul(B,W)|0,o=o+Math.imul(B,G)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,Z)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(M,re)|0,o=o+Math.imul(M,ne)|0,n=n+Math.imul(v,oe)|0,i=(i=i+Math.imul(v,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,n=n+Math.imul(g,ue)|0,i=(i=i+Math.imul(g,he)|0)+Math.imul(b,ue)|0,o=o+Math.imul(b,he)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,le)|0;var Ae=(h+(n=n+Math.imul(c,pe)|0)|0)+((8191&(i=(i=i+Math.imul(c,ye)|0)+Math.imul(l,pe)|0))<<13)|0;h=((o=o+Math.imul(l,ye)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(N,$),i=(i=Math.imul(N,K))+Math.imul(U,$)|0,o=Math.imul(U,K),n=n+Math.imul(L,W)|0,i=(i=i+Math.imul(L,G)|0)+Math.imul(j,W)|0,o=o+Math.imul(j,G)|0,n=n+Math.imul(O,J)|0,i=(i=i+Math.imul(O,Z)|0)+Math.imul(B,J)|0,o=o+Math.imul(B,Z)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(x,re)|0,o=o+Math.imul(x,ne)|0,n=n+Math.imul(S,oe)|0,i=(i=i+Math.imul(S,se)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,se)|0,n=n+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,he)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,he)|0,n=n+Math.imul(g,ce)|0,i=(i=i+Math.imul(g,le)|0)+Math.imul(b,ce)|0,o=o+Math.imul(b,le)|0;var ke=(h+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;h=((o=o+Math.imul(y,ye)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(N,W),i=(i=Math.imul(N,G))+Math.imul(U,W)|0,o=Math.imul(U,G),n=n+Math.imul(L,J)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(j,J)|0,o=o+Math.imul(j,Z)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,se)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,se)|0,n=n+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,he)|0)+Math.imul(M,ue)|0,o=o+Math.imul(M,he)|0,n=n+Math.imul(v,ce)|0,i=(i=i+Math.imul(v,le)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,le)|0;var xe=(h+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,ye)|0)+Math.imul(b,pe)|0))<<13)|0;h=((o=o+Math.imul(b,ye)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(N,J),i=(i=Math.imul(N,Z))+Math.imul(U,J)|0,o=Math.imul(U,Z),n=n+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,ee)|0)+Math.imul(j,Q)|0,o=o+Math.imul(j,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(B,re)|0,o=o+Math.imul(B,ne)|0,n=n+Math.imul(P,oe)|0,i=(i=i+Math.imul(P,se)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,se)|0,n=n+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,he)|0)+Math.imul(x,ue)|0,o=o+Math.imul(x,he)|0,n=n+Math.imul(S,ce)|0,i=(i=i+Math.imul(S,le)|0)+Math.imul(M,ce)|0,o=o+Math.imul(M,le)|0;var Te=(h+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,ye)|0)+Math.imul(_,pe)|0))<<13)|0;h=((o=o+Math.imul(_,ye)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(N,Q),i=(i=Math.imul(N,ee))+Math.imul(U,Q)|0,o=Math.imul(U,ee),n=n+Math.imul(L,re)|0,i=(i=i+Math.imul(L,ne)|0)+Math.imul(j,re)|0,o=o+Math.imul(j,ne)|0,n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,se)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,se)|0,n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,he)|0)+Math.imul(I,ue)|0,o=o+Math.imul(I,he)|0,n=n+Math.imul(k,ce)|0,i=(i=i+Math.imul(k,le)|0)+Math.imul(x,ce)|0,o=o+Math.imul(x,le)|0;var Pe=(h+(n=n+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ye)|0)+Math.imul(M,pe)|0))<<13)|0;h=((o=o+Math.imul(M,ye)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(N,re),i=(i=Math.imul(N,ne))+Math.imul(U,re)|0,o=Math.imul(U,ne),n=n+Math.imul(L,oe)|0,i=(i=i+Math.imul(L,se)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,se)|0,n=n+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(B,ue)|0,o=o+Math.imul(B,he)|0,n=n+Math.imul(P,ce)|0,i=(i=i+Math.imul(P,le)|0)+Math.imul(I,ce)|0,o=o+Math.imul(I,le)|0;var Ie=(h+(n=n+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ye)|0)+Math.imul(x,pe)|0))<<13)|0;h=((o=o+Math.imul(x,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(N,oe),i=(i=Math.imul(N,se))+Math.imul(U,oe)|0,o=Math.imul(U,se),n=n+Math.imul(L,ue)|0,i=(i=i+Math.imul(L,he)|0)+Math.imul(j,ue)|0,o=o+Math.imul(j,he)|0,n=n+Math.imul(O,ce)|0,i=(i=i+Math.imul(O,le)|0)+Math.imul(B,ce)|0,o=o+Math.imul(B,le)|0;var Re=(h+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,ye)|0)+Math.imul(I,pe)|0))<<13)|0;h=((o=o+Math.imul(I,ye)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(N,ue),i=(i=Math.imul(N,he))+Math.imul(U,ue)|0,o=Math.imul(U,he),n=n+Math.imul(L,ce)|0,i=(i=i+Math.imul(L,le)|0)+Math.imul(j,ce)|0,o=o+Math.imul(j,le)|0;var Oe=(h+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ye)|0)+Math.imul(B,pe)|0))<<13)|0;h=((o=o+Math.imul(B,ye)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(N,ce),i=(i=Math.imul(N,le))+Math.imul(U,ce)|0,o=Math.imul(U,le);var Be=(h+(n=n+Math.imul(L,pe)|0)|0)+((8191&(i=(i=i+Math.imul(L,ye)|0)+Math.imul(j,pe)|0))<<13)|0;h=((o=o+Math.imul(j,ye)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863;var Ce=(h+(n=Math.imul(N,pe))|0)+((8191&(i=(i=Math.imul(N,ye))+Math.imul(U,pe)|0))<<13)|0;return h=((o=Math.imul(U,ye))+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,u[0]=me,u[1]=ge,u[2]=be,u[3]=we,u[4]=ve,u[5]=_e,u[6]=Ee,u[7]=Se,u[8]=Me,u[9]=Ae,u[10]=ke,u[11]=xe,u[12]=Te,u[13]=Pe,u[14]=Ie,u[15]=Re,u[16]=Oe,u[17]=Be,u[18]=Ce,0!==h&&(u[19]=h,r.length++),r};function p(e,t,r){return(new y).mulp(e,t,r)}function y(e,t){this.x=e,this.y=t}Math.imul||(d=l),i.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?d(this,e,t):n<63?l(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,t.length-1),h=Math.max(0,o-e.length+1);h<=u;h++){var f=o-h,c=(0|e.words[f])*(0|t.words[h]),l=67108863&c;a=67108863&(l=l+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):p(this,e,t),r},y.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},y.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},y.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},y.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),h=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var c=u,l=h,d=0;d<s;d++){var p=r[f+d],y=n[f+d],m=r[f+d+s],g=n[f+d+s],b=c*m-l*g;g=c*g+l*m,m=b,r[f+d]=p+m,n[f+d]=y+g,r[f+d+s]=p-m,n[f+d+s]=y-g,d!==a&&(b=u*c-h*l,l=u*l+h*c,c=b)}},y.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},y.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},y.prototype.convert13b=function(e,t,n,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)n[s]=0;r(0===o),r(0==(-8192&o))},y.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},y.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),h=new Array(n),f=new Array(n),c=new Array(n),l=r.words;l.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,h,n),this.transform(s,o,a,u,n,i),this.transform(h,o,f,c,n,i);for(var d=0;d<n;d++){var p=a[d]*f[d]-u[d]*c[d];u[d]=a[d]*c[d]+u[d]*f[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,l,o,n,i),this.conjugate(l,o,n),this.normalize13b(l,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),p(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var o=r.sqr();n<t.length;n++,o=o.sqr())0!==t[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,u=(0|this.words[t])-a<<n;this.words[t]=u|s,s=a>>>26-n}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,u=n;if(i-=s,i=Math.max(0,i),u){for(var h=0;h<s;h++)u.words[h]=this.words[h];u.length=s}if(0!==s)if(this.length>s)for(this.length-=s,h=0;h<this.length;h++)this.words[h]=this.words[h+s];else this.words[0]=0,this.length=1;var f=0;for(h=this.length-1;h>=0&&(0!==f||h>=i);h--){var c=0|this.words[h];this.words[h]=f<<26-o|c>>>o,f=c&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n||!(this.words[n]&i))},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,o=e.length+n;this._expand(o);var s,a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+n])+a;var u=(0|e.words[i])*t;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&s}for(;i<this.length-n;i++)a=(s=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&s;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),o=e,s=0|o.words[o.length-1];0!=(r=26-this._countBits(s))&&(o=o.ushln(r),n.iushln(r),s=0|o.words[o.length-1]);var a,u=n.length-o.length;if("mod"!==t){(a=new i(null)).length=u+1,a.words=new Array(a.length);for(var h=0;h<a.length;h++)a.words[h]=0}var f=n.clone()._ishlnsubmul(o,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var c=u-1;c>=0;c--){var l=67108864*(0|n.words[o.length+c])+(0|n.words[o.length+c-1]);for(l=Math.min(l/s|0,67108863),n._ishlnsubmul(o,l,c);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(o,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=l)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(o=a.div.neg()),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(e)),{div:o,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(o=a.div.neg()),{div:o,mod:a.mod}):this.negative&e.negative?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t);var o,s,a},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},i.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new i(1),s=new i(0),a=new i(0),u=new i(1),h=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++h;for(var f=n.clone(),c=t.clone();!t.isZero();){for(var l=0,d=1;!(t.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(f),s.isub(c)),o.iushrn(1),s.iushrn(1);for(var p=0,y=1;!(n.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(c)),a.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(a),s.isub(u)):(n.isub(t),a.isub(o),u.isub(s))}return{a,b:u,gcd:n.iushln(h)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t,n=this,o=e.clone();n=0!==n.negative?n.umod(e):n.clone();for(var s=new i(1),a=new i(0),u=o.clone();n.cmpn(1)>0&&o.cmpn(1)>0;){for(var h=0,f=1;!(n.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(n.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var c=0,l=1;!(o.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(o.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);n.cmp(o)>=0?(n.isub(o),s.isub(a)):(o.isub(n),a.isub(s))}return(t=0===n.cmpn(1)?s:a).cmpn(0)<0&&t.iadd(e),t},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new E(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function g(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function v(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function S(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},g.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},g.prototype.split=function(e,t){e.iushrn(this.n,0,t)},g.prototype.imulK=function(e){return e.imul(this.k)},n(b,g),b.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(w,g),n(v,g),n(_,g),_.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new w;else if("p192"===e)t=new v;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return m[e]=t,t},E.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new i(1).toRed(this),u=a.redNeg(),h=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);0!==this.pow(f,h).cmp(u);)f.redIAdd(u);for(var c=this.pow(f,o),l=this.pow(e,o.addn(1).iushrn(1)),d=this.pow(e,o),p=s;0!==d.cmp(a);){for(var y=d,m=0;0!==y.cmp(a);m++)y=y.redSqr();r(m<p);var g=this.pow(c,new i(1).iushln(p-m-1));l=l.redMul(g),c=g.redSqr(),d=d.redMul(c),p=m}return l},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var o=r[0],s=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var h=t.words[n],f=u-1;f>=0;f--){var c=h>>f&1;o!==r[0]&&(o=this.sqr(o)),0!==c||0!==s?(s<<=1,s|=c,(4==++a||0===n&&0===f)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0}u=26}return o},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new S(e)},n(S,E),S.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},S.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},S.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},S.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},S.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(typeof t>"u"||t,e)})),LL=H(((e,t)=>{x(),function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&(("le"===t||"be"===t)&&(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{o=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:St().Buffer}catch{}function s(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function a(e,t,r){var n=s(e,r);return r-1>=t&&(n|=s(e,r-1)<<4),n}function u(e,t,r,n){for(var i=0,o=Math.min(e.length,r),s=t;s<o;s++){var a=e.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=a(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=a(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,h=0,f=r;f<a;f+=n)h=u(e,f,f+n,t),this.imuln(i),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==s){var c=1;for(h=u(e,f,e.length,t),f=0;f<s;f++)c*=t;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],c=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function l(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var h=1;h<n;h++){for(var f=u>>>26,c=67108863&u,l=Math.min(h,t.length-1),d=Math.max(0,h-e.length+1);d<=l;d++){var p=h-d|0;f+=(s=(i=0|e.words[p])*(o=0|t.words[d])+c)/67108864|0,c=67108863&s}r.words[h]=0|c,u=0|f}return 0!==u?r.words[h]=0|u:r.length--,r.strip()}i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);n=0!=(o=a>>>24-i&16777215)||s!==this.length-1?h[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var l=f[e],d=c[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var y=p.modn(d).toString(e);n=(p=p.idivn(d)).isZero()?y+n:h[l-y.length]+y+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){return r(typeof o<"u"),this.toArrayLike(o,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,u="le"===t,h=new e(o),f=this.clone();if(u){for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),h[a]=s;for(;a<o;a++)h[a]=0}else{for(a=0;a<o-i;a++)h[a]=0;for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),h[o-a-1]=s}return h},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var d=function(e,t,r){var n,i,o,s=e.words,a=t.words,u=r.words,h=0,f=0|s[0],c=8191&f,l=f>>>13,d=0|s[1],p=8191&d,y=d>>>13,m=0|s[2],g=8191&m,b=m>>>13,w=0|s[3],v=8191&w,_=w>>>13,E=0|s[4],S=8191&E,M=E>>>13,A=0|s[5],k=8191&A,x=A>>>13,T=0|s[6],P=8191&T,I=T>>>13,R=0|s[7],O=8191&R,B=R>>>13,C=0|s[8],L=8191&C,j=C>>>13,D=0|s[9],N=8191&D,U=D>>>13,H=0|a[0],z=8191&H,F=H>>>13,q=0|a[1],$=8191&q,K=q>>>13,V=0|a[2],W=8191&V,G=V>>>13,Y=0|a[3],J=8191&Y,Z=Y>>>13,X=0|a[4],Q=8191&X,ee=X>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ue=8191&ae,he=ae>>>13,fe=0|a[8],ce=8191&fe,le=fe>>>13,de=0|a[9],pe=8191&de,ye=de>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(h+(n=Math.imul(c,z))|0)+((8191&(i=(i=Math.imul(c,F))+Math.imul(l,z)|0))<<13)|0;h=((o=Math.imul(l,F))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,F))+Math.imul(y,z)|0,o=Math.imul(y,F);var ge=(h+(n=n+Math.imul(c,$)|0)|0)+((8191&(i=(i=i+Math.imul(c,K)|0)+Math.imul(l,$)|0))<<13)|0;h=((o=o+Math.imul(l,K)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,z),i=(i=Math.imul(g,F))+Math.imul(b,z)|0,o=Math.imul(b,F),n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,K)|0;var be=(h+(n=n+Math.imul(c,W)|0)|0)+((8191&(i=(i=i+Math.imul(c,G)|0)+Math.imul(l,W)|0))<<13)|0;h=((o=o+Math.imul(l,G)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,F))+Math.imul(_,z)|0,o=Math.imul(_,F),n=n+Math.imul(g,$)|0,i=(i=i+Math.imul(g,K)|0)+Math.imul(b,$)|0,o=o+Math.imul(b,K)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,G)|0;var we=(h+(n=n+Math.imul(c,J)|0)|0)+((8191&(i=(i=i+Math.imul(c,Z)|0)+Math.imul(l,J)|0))<<13)|0;h=((o=o+Math.imul(l,Z)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,F))+Math.imul(M,z)|0,o=Math.imul(M,F),n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,K)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,K)|0,n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,G)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,Z)|0;var ve=(h+(n=n+Math.imul(c,Q)|0)|0)+((8191&(i=(i=i+Math.imul(c,ee)|0)+Math.imul(l,Q)|0))<<13)|0;h=((o=o+Math.imul(l,ee)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(k,z),i=(i=Math.imul(k,F))+Math.imul(x,z)|0,o=Math.imul(x,F),n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,K)|0,n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,G)|0,n=n+Math.imul(g,J)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0;var _e=(h+(n=n+Math.imul(c,re)|0)|0)+((8191&(i=(i=i+Math.imul(c,ne)|0)+Math.imul(l,re)|0))<<13)|0;h=((o=o+Math.imul(l,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(P,z),i=(i=Math.imul(P,F))+Math.imul(I,z)|0,o=Math.imul(I,F),n=n+Math.imul(k,$)|0,i=(i=i+Math.imul(k,K)|0)+Math.imul(x,$)|0,o=o+Math.imul(x,K)|0,n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,G)|0,n=n+Math.imul(v,J)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,Z)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0;var Ee=(h+(n=n+Math.imul(c,oe)|0)|0)+((8191&(i=(i=i+Math.imul(c,se)|0)+Math.imul(l,oe)|0))<<13)|0;h=((o=o+Math.imul(l,se)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(O,z),i=(i=Math.imul(O,F))+Math.imul(B,z)|0,o=Math.imul(B,F),n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,K)|0,n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(x,W)|0,o=o+Math.imul(x,G)|0,n=n+Math.imul(S,J)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0;var Se=(h+(n=n+Math.imul(c,ue)|0)|0)+((8191&(i=(i=i+Math.imul(c,he)|0)+Math.imul(l,ue)|0))<<13)|0;h=((o=o+Math.imul(l,he)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,F))+Math.imul(j,z)|0,o=Math.imul(j,F),n=n+Math.imul(O,$)|0,i=(i=i+Math.imul(O,K)|0)+Math.imul(B,$)|0,o=o+Math.imul(B,K)|0,n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,G)|0,n=n+Math.imul(k,J)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,Z)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,se)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,se)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,he)|0;var Me=(h+(n=n+Math.imul(c,ce)|0)|0)+((8191&(i=(i=i+Math.imul(c,le)|0)+Math.imul(l,ce)|0))<<13)|0;h=((o=o+Math.imul(l,le)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(N,z),i=(i=Math.imul(N,F))+Math.imul(U,z)|0,o=Math.imul(U,F),n=n+Math.imul(L,$)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(j,$)|0,o=o+Math.imul(j,K)|0,n=n+Math.imul(O,W)|0,i=(i=i+Math.imul(O,G)|0)+Math.imul(B,W)|0,o=o+Math.imul(B,G)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,Z)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(M,re)|0,o=o+Math.imul(M,ne)|0,n=n+Math.imul(v,oe)|0,i=(i=i+Math.imul(v,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,n=n+Math.imul(g,ue)|0,i=(i=i+Math.imul(g,he)|0)+Math.imul(b,ue)|0,o=o+Math.imul(b,he)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,le)|0;var Ae=(h+(n=n+Math.imul(c,pe)|0)|0)+((8191&(i=(i=i+Math.imul(c,ye)|0)+Math.imul(l,pe)|0))<<13)|0;h=((o=o+Math.imul(l,ye)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(N,$),i=(i=Math.imul(N,K))+Math.imul(U,$)|0,o=Math.imul(U,K),n=n+Math.imul(L,W)|0,i=(i=i+Math.imul(L,G)|0)+Math.imul(j,W)|0,o=o+Math.imul(j,G)|0,n=n+Math.imul(O,J)|0,i=(i=i+Math.imul(O,Z)|0)+Math.imul(B,J)|0,o=o+Math.imul(B,Z)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(x,re)|0,o=o+Math.imul(x,ne)|0,n=n+Math.imul(S,oe)|0,i=(i=i+Math.imul(S,se)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,se)|0,n=n+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,he)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,he)|0,n=n+Math.imul(g,ce)|0,i=(i=i+Math.imul(g,le)|0)+Math.imul(b,ce)|0,o=o+Math.imul(b,le)|0;var ke=(h+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;h=((o=o+Math.imul(y,ye)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(N,W),i=(i=Math.imul(N,G))+Math.imul(U,W)|0,o=Math.imul(U,G),n=n+Math.imul(L,J)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(j,J)|0,o=o+Math.imul(j,Z)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,se)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,se)|0,n=n+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,he)|0)+Math.imul(M,ue)|0,o=o+Math.imul(M,he)|0,n=n+Math.imul(v,ce)|0,i=(i=i+Math.imul(v,le)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,le)|0;var xe=(h+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,ye)|0)+Math.imul(b,pe)|0))<<13)|0;h=((o=o+Math.imul(b,ye)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(N,J),i=(i=Math.imul(N,Z))+Math.imul(U,J)|0,o=Math.imul(U,Z),n=n+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,ee)|0)+Math.imul(j,Q)|0,o=o+Math.imul(j,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(B,re)|0,o=o+Math.imul(B,ne)|0,n=n+Math.imul(P,oe)|0,i=(i=i+Math.imul(P,se)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,se)|0,n=n+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,he)|0)+Math.imul(x,ue)|0,o=o+Math.imul(x,he)|0,n=n+Math.imul(S,ce)|0,i=(i=i+Math.imul(S,le)|0)+Math.imul(M,ce)|0,o=o+Math.imul(M,le)|0;var Te=(h+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,ye)|0)+Math.imul(_,pe)|0))<<13)|0;h=((o=o+Math.imul(_,ye)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(N,Q),i=(i=Math.imul(N,ee))+Math.imul(U,Q)|0,o=Math.imul(U,ee),n=n+Math.imul(L,re)|0,i=(i=i+Math.imul(L,ne)|0)+Math.imul(j,re)|0,o=o+Math.imul(j,ne)|0,n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,se)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,se)|0,n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,he)|0)+Math.imul(I,ue)|0,o=o+Math.imul(I,he)|0,n=n+Math.imul(k,ce)|0,i=(i=i+Math.imul(k,le)|0)+Math.imul(x,ce)|0,o=o+Math.imul(x,le)|0;var Pe=(h+(n=n+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ye)|0)+Math.imul(M,pe)|0))<<13)|0;h=((o=o+Math.imul(M,ye)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(N,re),i=(i=Math.imul(N,ne))+Math.imul(U,re)|0,o=Math.imul(U,ne),n=n+Math.imul(L,oe)|0,i=(i=i+Math.imul(L,se)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,se)|0,n=n+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(B,ue)|0,o=o+Math.imul(B,he)|0,n=n+Math.imul(P,ce)|0,i=(i=i+Math.imul(P,le)|0)+Math.imul(I,ce)|0,o=o+Math.imul(I,le)|0;var Ie=(h+(n=n+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ye)|0)+Math.imul(x,pe)|0))<<13)|0;h=((o=o+Math.imul(x,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(N,oe),i=(i=Math.imul(N,se))+Math.imul(U,oe)|0,o=Math.imul(U,se),n=n+Math.imul(L,ue)|0,i=(i=i+Math.imul(L,he)|0)+Math.imul(j,ue)|0,o=o+Math.imul(j,he)|0,n=n+Math.imul(O,ce)|0,i=(i=i+Math.imul(O,le)|0)+Math.imul(B,ce)|0,o=o+Math.imul(B,le)|0;var Re=(h+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,ye)|0)+Math.imul(I,pe)|0))<<13)|0;h=((o=o+Math.imul(I,ye)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(N,ue),i=(i=Math.imul(N,he))+Math.imul(U,ue)|0,o=Math.imul(U,he),n=n+Math.imul(L,ce)|0,i=(i=i+Math.imul(L,le)|0)+Math.imul(j,ce)|0,o=o+Math.imul(j,le)|0;var Oe=(h+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ye)|0)+Math.imul(B,pe)|0))<<13)|0;h=((o=o+Math.imul(B,ye)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(N,ce),i=(i=Math.imul(N,le))+Math.imul(U,ce)|0,o=Math.imul(U,le);var Be=(h+(n=n+Math.imul(L,pe)|0)|0)+((8191&(i=(i=i+Math.imul(L,ye)|0)+Math.imul(j,pe)|0))<<13)|0;h=((o=o+Math.imul(j,ye)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863;var Ce=(h+(n=Math.imul(N,pe))|0)+((8191&(i=(i=Math.imul(N,ye))+Math.imul(U,pe)|0))<<13)|0;return h=((o=Math.imul(U,ye))+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,u[0]=me,u[1]=ge,u[2]=be,u[3]=we,u[4]=ve,u[5]=_e,u[6]=Ee,u[7]=Se,u[8]=Me,u[9]=Ae,u[10]=ke,u[11]=xe,u[12]=Te,u[13]=Pe,u[14]=Ie,u[15]=Re,u[16]=Oe,u[17]=Be,u[18]=Ce,0!==h&&(u[19]=h,r.length++),r};function p(e,t,r){return(new y).mulp(e,t,r)}function y(e,t){this.x=e,this.y=t}Math.imul||(d=l),i.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?d(this,e,t):n<63?l(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,t.length-1),h=Math.max(0,o-e.length+1);h<=u;h++){var f=o-h,c=(0|e.words[f])*(0|t.words[h]),l=67108863&c;a=67108863&(l=l+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):p(this,e,t),r},y.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},y.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},y.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},y.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),h=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var c=u,l=h,d=0;d<s;d++){var p=r[f+d],y=n[f+d],m=r[f+d+s],g=n[f+d+s],b=c*m-l*g;g=c*g+l*m,m=b,r[f+d]=p+m,n[f+d]=y+g,r[f+d+s]=p-m,n[f+d+s]=y-g,d!==a&&(b=u*c-h*l,l=u*l+h*c,c=b)}},y.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},y.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},y.prototype.convert13b=function(e,t,n,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)n[s]=0;r(0===o),r(0==(-8192&o))},y.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},y.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),h=new Array(n),f=new Array(n),c=new Array(n),l=r.words;l.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,h,n),this.transform(s,o,a,u,n,i),this.transform(h,o,f,c,n,i);for(var d=0;d<n;d++){var p=a[d]*f[d]-u[d]*c[d];u[d]=a[d]*c[d]+u[d]*f[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,l,o,n,i),this.conjugate(l,o,n),this.normalize13b(l,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),p(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var o=r.sqr();n<t.length;n++,o=o.sqr())0!==t[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,u=(0|this.words[t])-a<<n;this.words[t]=u|s,s=a>>>26-n}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,u=n;if(i-=s,i=Math.max(0,i),u){for(var h=0;h<s;h++)u.words[h]=this.words[h];u.length=s}if(0!==s)if(this.length>s)for(this.length-=s,h=0;h<this.length;h++)this.words[h]=this.words[h+s];else this.words[0]=0,this.length=1;var f=0;for(h=this.length-1;h>=0&&(0!==f||h>=i);h--){var c=0|this.words[h];this.words[h]=f<<26-o|c>>>o,f=c&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n||!(this.words[n]&i))},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,o=e.length+n;this._expand(o);var s,a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+n])+a;var u=(0|e.words[i])*t;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&s}for(;i<this.length-n;i++)a=(s=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&s;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),o=e,s=0|o.words[o.length-1];0!=(r=26-this._countBits(s))&&(o=o.ushln(r),n.iushln(r),s=0|o.words[o.length-1]);var a,u=n.length-o.length;if("mod"!==t){(a=new i(null)).length=u+1,a.words=new Array(a.length);for(var h=0;h<a.length;h++)a.words[h]=0}var f=n.clone()._ishlnsubmul(o,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var c=u-1;c>=0;c--){var l=67108864*(0|n.words[o.length+c])+(0|n.words[o.length+c-1]);for(l=Math.min(l/s|0,67108863),n._ishlnsubmul(o,l,c);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(o,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=l)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(o=a.div.neg()),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(e)),{div:o,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(o=a.div.neg()),{div:o,mod:a.mod}):this.negative&e.negative?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t);var o,s,a},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},i.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new i(1),s=new i(0),a=new i(0),u=new i(1),h=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++h;for(var f=n.clone(),c=t.clone();!t.isZero();){for(var l=0,d=1;!(t.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(f),s.isub(c)),o.iushrn(1),s.iushrn(1);for(var p=0,y=1;!(n.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(c)),a.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(a),s.isub(u)):(n.isub(t),a.isub(o),u.isub(s))}return{a,b:u,gcd:n.iushln(h)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t,n=this,o=e.clone();n=0!==n.negative?n.umod(e):n.clone();for(var s=new i(1),a=new i(0),u=o.clone();n.cmpn(1)>0&&o.cmpn(1)>0;){for(var h=0,f=1;!(n.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(n.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var c=0,l=1;!(o.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(o.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);n.cmp(o)>=0?(n.isub(o),s.isub(a)):(o.isub(n),a.isub(s))}return(t=0===n.cmpn(1)?s:a).cmpn(0)<0&&t.iadd(e),t},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new E(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function g(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function v(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function S(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},g.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},g.prototype.split=function(e,t){e.iushrn(this.n,0,t)},g.prototype.imulK=function(e){return e.imul(this.k)},n(b,g),b.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(w,g),n(v,g),n(_,g),_.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new w;else if("p192"===e)t=new v;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return m[e]=t,t},E.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new i(1).toRed(this),u=a.redNeg(),h=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);0!==this.pow(f,h).cmp(u);)f.redIAdd(u);for(var c=this.pow(f,o),l=this.pow(e,o.addn(1).iushrn(1)),d=this.pow(e,o),p=s;0!==d.cmp(a);){for(var y=d,m=0;0!==y.cmp(a);m++)y=y.redSqr();r(m<p);var g=this.pow(c,new i(1).iushln(p-m-1));l=l.redMul(g),c=g.redSqr(),d=d.redMul(c),p=m}return l},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var o=r[0],s=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var h=t.words[n],f=u-1;f>=0;f--){var c=h>>f&1;o!==r[0]&&(o=this.sqr(o)),0!==c||0!==s?(s<<=1,s|=c,(4==++a||0===n&&0===f)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0}u=26}return o},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new S(e)},n(S,E),S.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},S.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},S.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},S.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},S.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(typeof t>"u"||t,e)})),Qb=H(((e,t)=>{var r,n;function i(e){this.rand=e}if(x(),t.exports=function(e){return r||(r=new i(null)),r.generate(e)},t.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if("function"!=typeof(n=ew()).randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return n.randomBytes(e)}}catch{}})),i8=H(((e,t)=>{x();var r=LL(),n=Qb();function i(e){this.rand=e||new n.Rand}t.exports=i,i.create=function(e){return new i(e)},i.prototype._randbelow=function(e){var t=e.bitLength(),n=Math.ceil(t/8);do{var i=new r(this.rand.generate(n))}while(i.cmp(e)>=0);return i},i.prototype._randrange=function(e,t){var r=t.sub(e);return e.add(this._randbelow(r))},i.prototype.test=function(e,t,n){var i=e.bitLength(),o=r.mont(e),s=new r(1).toRed(o);t||(t=Math.max(1,i/48|0));for(var a=e.subn(1),u=0;!a.testn(u);u++);for(var h=e.shrn(u),f=a.toRed(o);t>0;t--){var c=this._randrange(new r(2),a);n&&n(c);var l=c.toRed(o).redPow(h);if(0!==l.cmp(s)&&0!==l.cmp(f)){for(var d=1;d<u;d++){if(0===(l=l.redSqr()).cmp(s))return!1;if(0===l.cmp(f))break}if(d===u)return!1}}return!0},i.prototype.getDivisor=function(e,t){var n=e.bitLength(),i=r.mont(e),o=new r(1).toRed(i);t||(t=Math.max(1,n/48|0));for(var s=e.subn(1),a=0;!s.testn(a);a++);for(var u=e.shrn(a),h=s.toRed(i);t>0;t--){var f=this._randrange(new r(2),s),c=e.gcd(f);if(0!==c.cmpn(1))return c;var l=f.toRed(i).redPow(u);if(0!==l.cmp(o)&&0!==l.cmp(h)){for(var d=1;d<a;d++){if(0===(l=l.redSqr()).cmp(o))return l.fromRed().subn(1).gcd(e);if(0===l.cmp(h))break}if(d===a)return(l=l.redSqr()).fromRed().subn(1).gcd(e)}}return!1}})),u8=H(((e,t)=>{x();var r=oh();t.exports=m,m.simpleSieve=p,m.fermatTest=y;var n=X4(),i=new n(24),o=new(i8()),s=new n(1),a=new n(2),u=new n(5),h=(new n(16),new n(8),new n(10)),f=new n(3),c=(new n(7),new n(11)),l=new n(4),d=(new n(12),null);function p(e){for(var t=function(){if(null!==d)return d;var e=[];e[0]=2;for(var t=1,r=3;r<1048576;r+=2){for(var n=Math.ceil(Math.sqrt(r)),i=0;i<t&&e[i]<=n&&r%e[i]!=0;i++);t!==i&&e[i]<=n||(e[t++]=r)}return d=e,e}(),r=0;r<t.length;r++)if(0===e.modn(t[r]))return 0===e.cmpn(t[r]);return!0}function y(e){var t=n.mont(e);return 0===a.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function m(e,t){if(e<16)return new n(2===t||5===t?[140,123]:[140,39]);t=new n(t);for(var d,m;;){for(d=new n(r(Math.ceil(e/8)));d.bitLength()>e;)d.ishrn(1);if(d.isEven()&&d.iadd(s),d.testn(1)||d.iadd(a),t.cmp(a)){if(!t.cmp(u))for(;d.mod(h).cmp(f);)d.iadd(l)}else for(;d.mod(i).cmp(c);)d.iadd(l);if(p(m=d.shrn(1))&&p(d)&&y(m)&&y(d)&&o.test(m)&&o.test(d))return d}}})),FL=H(((e,t)=>{t.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}})),VL=H(((e,t)=>{x();var r=X4(),n=new(i8()),i=new r(24),o=new r(11),s=new r(10),a=new r(3),u=new r(7),h=u8(),f=oh();function c(e,t){return t=t||"utf8",L.Buffer.isBuffer(e)||(e=new L.Buffer(e,t)),this._pub=new r(e),this}function l(e,t){return t=t||"utf8",L.Buffer.isBuffer(e)||(e=new L.Buffer(e,t)),this._priv=new r(e),this}t.exports=p;var d={};function p(e,t,n){this.setGenerator(t),this.__prime=new r(e),this._prime=r.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=c,this.setPrivateKey=l):this._primeCode=8}function y(e,t){var r=new L.Buffer(e.toArray());return t?r.toString(t):r}Object.defineProperty(p.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(e,t){var r=t.toString("hex"),f=[r,e.toString(16)].join("_");if(f in d)return d[f];var c,l=0;if(e.isEven()||!h.simpleSieve||!h.fermatTest(e)||!n.test(e))return l+=1,l+="02"===r||"05"===r?8:4,d[f]=l,l;switch(n.test(e.shrn(1))||(l+=2),r){case"02":e.mod(i).cmp(o)&&(l+=8);break;case"05":(c=e.mod(s)).cmp(a)&&c.cmp(u)&&(l+=8);break;default:l+=4}return d[f]=l,l}(this.__prime,this.__gen)),this._primeCode}}),p.prototype.generateKeys=function(){return this._priv||(this._priv=new r(f(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},p.prototype.computeSecret=function(e){var t=(e=(e=new r(e)).toRed(this._prime)).redPow(this._priv).fromRed(),n=new L.Buffer(t.toArray()),i=this.getPrime();if(n.length<i.length){var o=new L.Buffer(i.length-n.length);o.fill(0),n=L.Buffer.concat([o,n])}return n},p.prototype.getPublicKey=function(e){return y(this._pub,e)},p.prototype.getPrivateKey=function(e){return y(this._priv,e)},p.prototype.getPrime=function(e){return y(this.__prime,e)},p.prototype.getGenerator=function(e){return y(this._gen,e)},p.prototype.setGenerator=function(e,t){return t=t||"utf8",L.Buffer.isBuffer(e)||(e=new L.Buffer(e,t)),this.__gen=e,this._gen=new r(e),this}})),ZL=H((e=>{x();var t=u8(),r=FL(),n=VL(),i={binary:!0,hex:!0,base64:!0};e.DiffieHellmanGroup=e.createDiffieHellmanGroup=e.getDiffieHellman=function(e){var t=new L.Buffer(r[e].prime,"hex"),i=new L.Buffer(r[e].gen,"hex");return new n(t,i)},e.createDiffieHellman=e.DiffieHellman=function e(r,o,s,a){return L.Buffer.isBuffer(o)||void 0===i[o]?e(r,"binary",o,s):(o=o||"binary",a=a||"binary",s=s||new L.Buffer([2]),L.Buffer.isBuffer(s)||(s=new L.Buffer(s,a)),"number"==typeof r?new n(t(r,s),s,!0):(L.Buffer.isBuffer(r)||(r=new L.Buffer(r,o)),new n(r,s,!0)))}})),h8=H(((e,t)=>{x(),t.exports=Gn().EventEmitter})),eq=H(((e,t)=>{function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}x();var o=St().Buffer,s=Ea().inspect,a=s&&s.custom||"inspect";function u(e,t,r){o.prototype.copy.call(e,t,r)}t.exports=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.head=null,this.tail=null,this.length=0}return function(e,t,r){t&&i(e.prototype,t)}(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t=o.allocUnsafe(e>>>0),r=this.head,n=0;r;)u(r.data,t,n),n+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,s=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,s),0==(e-=s)){s===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(s));break}++n}return this.length-=n,t}},{key:a,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}]),e}()})),p8=H(((e,t)=>{function r(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}x(),t.exports={destroy:function(e,t){var o=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,D.default.nextTick(i,this,e)):D.default.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?o._writableState?o._writableState.errorEmitted?D.default.nextTick(n,o):(o._writableState.errorEmitted=!0,D.default.nextTick(r,o,e)):D.default.nextTick(r,o,e):t?(D.default.nextTick(n,o),t(e)):D.default.nextTick(n,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}})),Ph=H(((e,t)=>{x();var r={};function n(e,t,n){n||(n=Error);var i=function(e){function r(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(r,e),r}(n);i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function i(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,o;if("string"==typeof t&&function(e,t,r){return e.substr(0,t.length)===t}(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))o="The ".concat(e," ").concat(n," ").concat(i(t,"type"));else{var s=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+".".length>e.length)&&-1!==e.indexOf(".",r)}(e)?"property":"argument";o='The "'.concat(e,'" ').concat(s," ").concat(n," ").concat(i(t,"type"))}return o+". Received type ".concat(typeof r)}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=r})),m8=H(((e,t)=>{x();var r=Ph().codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,n,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}})),v8=H(((e,t)=>{function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var n;x(),t.exports=S,S.WritableState=E;var i,o={deprecate:qm()},s=h8(),a=St().Buffer,u=globalThis.Uint8Array||function(){},h=p8(),f=m8().getHighWaterMark,c=Ph().codes,l=c.ERR_INVALID_ARG_TYPE,d=c.ERR_METHOD_NOT_IMPLEMENTED,p=c.ERR_MULTIPLE_CALLBACK,y=c.ERR_STREAM_CANNOT_PIPE,m=c.ERR_STREAM_DESTROYED,g=c.ERR_STREAM_NULL_VALUES,b=c.ERR_STREAM_WRITE_AFTER_END,w=c.ERR_UNKNOWN_ENCODING,v=h.errorOrDestroy;function _(){}function E(e,t,i){n=n||Dh(),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=f(this,e,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new p;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(D.default.nextTick(i,n),D.default.nextTick(I,e,t),e._writableState.errorEmitted=!0,v(e,n)):(i(n),e._writableState.errorEmitted=!0,v(e,n),I(e,t))}(e,r,n,t,i);else{var o=T(r)||e.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&k(e,r),n?D.default.nextTick(A,e,r,o,i):A(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function S(e){var t=this instanceof(n=n||Dh());if(!t&&!i.call(S,this))return new S(e);this._writableState=new E(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function M(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new m("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function A(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),I(e,t)}function k(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,o=new Array(i),s=t.corkedRequestsFree;s.entry=n;for(var a=0,u=!0;n;)o[a]=n,n.isBuf||(u=!1),n=n.next,a+=1;o.allBuffers=u,M(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var h=n.chunk,f=n.encoding,c=n.callback;if(M(e,t,!1,t.objectMode?1:h.length,h,f,c),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function T(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function P(e,t){e._final((function(r){t.pendingcb--,r&&v(e,r),t.prefinished=!0,e.emit("prefinish"),I(e,t)}))}function I(e,t){var r=T(t);if(r&&(function(e,t){!t.prefinished&&!t.finalCalled&&("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,D.default.nextTick(P,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}He()(S,s),E.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(E.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(i=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(e){return!!i.call(this,e)||this===S&&e&&e._writableState instanceof E}})):i=function(e){return e instanceof this},S.prototype.pipe=function(){v(this,new y)},S.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=!n.objectMode&&function(e){return a.isBuffer(e)||e instanceof u}(e);return o&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=_),n.ending?function(e,t){var r=new b;v(e,r),D.default.nextTick(t,r)}(this,r):(o||function(e,t,r,n){var i;return null===r?i=new g:"string"!=typeof r&&!t.objectMode&&(i=new l("chunk",["string","Buffer"],r)),!i||(v(e,i),D.default.nextTick(n,i),!1)}(this,n,e,r))&&(n.pendingcb++,i=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){return!e.objectMode&&!1!==e.decodeStrings&&"string"==typeof t&&(t=a.from(t,r)),t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var u=t.objectMode?1:n.length;t.length+=u;var h=t.length<t.highWaterMark;if(h||(t.needDrain=!0),t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else M(e,t,!1,u,n,i,o);return h}(this,n,o,e,t,r)),i},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&k(this,e))},S.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(e,t,r){r(new d("_write()"))},S.prototype._writev=null,S.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,I(e,t),r&&(t.finished?D.default.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),S.prototype.destroy=h.destroy,S.prototype._undestroy=h.undestroy,S.prototype._destroy=function(e,t){t(e)}})),Dh=H(((e,t)=>{x();var r=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=u;var n,i,o,s=_8(),a=v8();for(He()(u,s),n=r(a.prototype),o=0;o<n.length;o++)i=n[o],u.prototype[i]||(u.prototype[i]=a.prototype[i]);function u(e){if(!(this instanceof u))return new u(e);s.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||D.default.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})})),uw=H(((e,t)=>{x();var r=Ph().codes.ERR_STREAM_PREMATURE_CLOSE;function n(){}t.exports=function e(t,i,o){if("function"==typeof i)return e(t,null,i);i||(i={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||n);var s=i.readable||!1!==i.readable&&t.readable,a=i.writable||!1!==i.writable&&t.writable,u=function(){t.writable||f()},h=t._writableState&&t._writableState.finished,f=function(){a=!1,h=!0,s||o.call(t)},c=t._readableState&&t._readableState.endEmitted,l=function(){s=!1,c=!0,a||o.call(t)},d=function(e){o.call(t,e)},p=function(){var e;return s&&!c?((!t._readableState||!t._readableState.ended)&&(e=new r),o.call(t,e)):a&&!h?((!t._writableState||!t._writableState.ended)&&(e=new r),o.call(t,e)):void 0},y=function(){t.req.on("finish",f)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",f),t.on("abort",p),t.req?y():t.on("request",y)):a&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",l),t.on("finish",f),!1!==i.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",f),t.removeListener("abort",p),t.removeListener("request",y),t.req&&t.req.removeListener("finish",f),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",f),t.removeListener("end",l),t.removeListener("error",d),t.removeListener("close",p)}}})),bq=H(((e,t)=>{var r;function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}x();var i=uw(),o=Symbol("lastResolve"),s=Symbol("lastReject"),a=Symbol("error"),u=Symbol("ended"),h=Symbol("lastPromise"),f=Symbol("handlePromise"),c=Symbol("stream");function l(e,t){return{value:e,done:t}}function d(e){var t=e[o];if(null!==t){var r=e[c].read();null!==r&&(e[h]=null,e[o]=null,e[s]=null,t(l(r,!1)))}}function p(e){D.default.nextTick(d,e)}var y=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((n(r={get stream(){return this[c]},next:function(){var e=this,t=this[a];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(l(void 0,!0));if(this[c].destroyed)return new Promise((function(t,r){D.default.nextTick((function(){e[a]?r(e[a]):t(l(void 0,!0))}))}));var r,n=this[h];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[u]?r(l(void 0,!0)):t[f](r,n)}),n)}}(n,this));else{var i=this[c].read();if(null!==i)return Promise.resolve(l(i,!1));r=new Promise(this[f])}return this[h]=r,r}},Symbol.asyncIterator,(function(){return this})),n(r,"return",(function(){var e=this;return new Promise((function(t,r){e[c].destroy(null,(function(e){e?r(e):t(l(void 0,!0))}))}))})),r),y);t.exports=function(e){var t,r=Object.create(m,(n(t={},c,{value:e,writable:!0}),n(t,o,{value:null,writable:!0}),n(t,s,{value:null,writable:!0}),n(t,a,{value:null,writable:!0}),n(t,u,{value:e._readableState.endEmitted,writable:!0}),n(t,f,{value:function(e,t){var n=r[c].read();n?(r[h]=null,r[o]=null,r[s]=null,e(l(n,!1))):(r[o]=e,r[s]=t)},writable:!0}),t));return r[h]=null,i(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[s];return null!==t&&(r[h]=null,r[o]=null,r[s]=null,t(e)),void(r[a]=e)}var n=r[o];null!==n&&(r[h]=null,r[o]=null,r[s]=null,n(l(void 0,!0))),r[u]=!0})),e.on("readable",p.bind(null,r)),r}})),_q=H(((e,t)=>{x(),t.exports=function(){throw new Error("Readable.from is not available in the browser")}})),_8=H(((e,t)=>{var r;x(),t.exports=S,S.ReadableState=E,Gn().EventEmitter;var n,i=function(e,t){return e.listeners(t).length},o=h8(),s=St().Buffer,a=globalThis.Uint8Array||function(){},u=Ea();n=u&&u.debuglog?u.debuglog("stream"):function(){};var h,f,c,l=eq(),d=p8(),p=m8().getHighWaterMark,y=Ph().codes,m=y.ERR_INVALID_ARG_TYPE,g=y.ERR_STREAM_PUSH_AFTER_EOF,b=y.ERR_METHOD_NOT_IMPLEMENTED,w=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;He()(S,o);var v=d.errorOrDestroy,_=["error","close","destroy","pause","resume"];function E(e,t,n){r=r||Dh(),e=e||{},"boolean"!=typeof n&&(n=t instanceof r),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=p(this,e,"readableHighWaterMark",n),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=Rs().StringDecoder),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function S(e){if(r=r||Dh(),!(this instanceof S))return new S(e);var t=this instanceof r;this._readableState=new E(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function M(e,t,r,i,o){n("readableAddChunk",t);var u,h=e._readableState;if(null===t)h.reading=!1,function(e,t){if(n("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?P(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,I(e)))}}(e,h);else if(o||(u=function(e,t){var r;return!function(e){return s.isBuffer(e)||e instanceof a}(t)&&"string"!=typeof t&&void 0!==t&&!e.objectMode&&(r=new m("chunk",["string","Buffer","Uint8Array"],t)),r}(h,t)),u)v(e,u);else if(h.objectMode||t&&t.length>0)if("string"!=typeof t&&!h.objectMode&&Object.getPrototypeOf(t)!==s.prototype&&(t=function(e){return s.from(e)}(t)),i)h.endEmitted?v(e,new w):A(e,h,t,!0);else if(h.ended)v(e,new g);else{if(h.destroyed)return!1;h.reading=!1,h.decoder&&!r?(t=h.decoder.write(t),h.objectMode||0!==t.length?A(e,h,t,!1):R(e,h)):A(e,h,t,!1)}else i||(h.reading=!1,R(e,h));return!h.ended&&(h.length<h.highWaterMark||0===h.length)}function A(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&P(e)),R(e,t)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=d.destroy,S.prototype._undestroy=d.undestroy,S.prototype._destroy=function(e,t){t(e)},S.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),r=!0),M(this,e,t,!1,r)},S.prototype.unshift=function(e){return M(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(e){h||(h=Rs().StringDecoder);var t=new h(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var k=1073741824;function T(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=k?e=k:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function P(e){var t=e._readableState;n("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(n("emitReadable",t.flowing),t.emittedReadable=!0,D.default.nextTick(I,e))}function I(e){var t=e._readableState;n("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,j(e)}function R(e,t){t.readingMore||(t.readingMore=!0,D.default.nextTick(O,e,t))}function O(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(n("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function B(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function C(e){n("readable nexttick read 0"),e.read(0)}function L(e,t){n("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),j(e),t.flowing&&!t.reading&&e.read(0)}function j(e){var t=e._readableState;for(n("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function U(e){var t=e._readableState;n("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,D.default.nextTick(H,t,e))}function H(e,t){if(n("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function z(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}S.prototype.read=function(e){n("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return n("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):P(this),null;if(0===(e=T(e,t))&&t.ended)return 0===t.length&&U(this),null;var i,o=t.needReadable;return n("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&n("length less than watermark",o=!0),t.ended||t.reading?n("reading or ended",o=!1):o&&(n("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=T(r,t))),null===(i=e>0?N(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&U(this)),null!==i&&this.emit("data",i),i},S.prototype._read=function(e){v(this,new b("_read()"))},S.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,n("pipe count=%d opts=%j",o.pipesCount,t);var s=t&&!1===t.end||e===D.default.stdout||e===D.default.stderr?p:a;function a(){n("onend"),e.end()}o.endEmitted?D.default.nextTick(s):r.once("end",s),e.on("unpipe",(function t(i,s){n("onunpipe"),i===r&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,n("cleanup"),e.removeListener("close",l),e.removeListener("finish",d),e.removeListener("drain",u),e.removeListener("error",c),e.removeListener("unpipe",t),r.removeListener("end",a),r.removeListener("end",p),r.removeListener("data",f),h=!0,o.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&u())}));var u=function(e){return function(){var t=e._readableState;n("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,j(e))}}(r);e.on("drain",u);var h=!1;function f(t){n("ondata");var i=e.write(t);n("dest.write",i),!1===i&&((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==z(o.pipes,e))&&!h&&(n("false write response, pause",o.awaitDrain),o.awaitDrain++),r.pause())}function c(t){n("onerror",t),p(),e.removeListener("error",c),0===i(e,"error")&&v(e,t)}function l(){e.removeListener("finish",d),p()}function d(){n("onfinish"),e.removeListener("close",l),p()}function p(){n("unpipe"),r.unpipe(e)}return r.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",c),e.once("close",l),e.once("finish",d),e.emit("pipe",r),o.flowing||(n("pipe resume"),r.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=z(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},S.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,n("on readable",i.length,i.reading),i.length?P(this):i.reading||D.default.nextTick(C,this)),r},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(e,t){var r=o.prototype.removeListener.call(this,e,t);return"readable"===e&&D.default.nextTick(B,this),r},S.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&D.default.nextTick(B,this),t},S.prototype.resume=function(){var e=this._readableState;return e.flowing||(n("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,D.default.nextTick(L,e,t))}(this,e)),e.paused=!1,this},S.prototype.pause=function(){return n("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(n("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;for(var o in e.on("end",(function(){if(n("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){n("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o||!(r.objectMode||o&&o.length)||t.push(o)||(i=!0,e.pause())})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var s=0;s<_.length;s++)e.on(_[s],this.emit.bind(this,_[s]));return this._read=function(t){n("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=bq()),f(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),S._fromList=N,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(e,t){return void 0===c&&(c=_q()),c(S,e,t)})})),D8=H(((e,t)=>{x(),t.exports=h;var r=Ph().codes,n=r.ERR_METHOD_NOT_IMPLEMENTED,i=r.ERR_MULTIPLE_CALLBACK,o=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,a=Dh();function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new i);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function h(e){if(!(this instanceof h))return new h(e);a.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?c(this,null,null):this._flush((function(t,r){c(e,t,r)}))}function c(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new o;return e.push(null)}He()(h,a),h.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},h.prototype._transform=function(e,t,r){r(new n("_transform()"))},h.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},h.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},h.prototype._destroy=function(e,t){a.prototype._destroy.call(this,e,(function(e){t(e)}))}})),Nq=H(((e,t)=>{x(),t.exports=n;var r=D8();function n(e){if(!(this instanceof n))return new n(e);r.call(this,e)}He()(n,r),n.prototype._transform=function(e,t,r){r(null,e)}})),zq=H(((e,t)=>{var r;x();var n=Ph().codes,i=n.ERR_MISSING_ARGS,o=n.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function a(e,t,n,i){i=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(i);var s=!1;e.on("close",(function(){s=!0})),void 0===r&&(r=uw()),r(e,{readable:t,writable:n},(function(e){if(e)return i(e);s=!0,i()}));var a=!1;return function(t){if(!s&&!a){if(a=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e))return e.abort();if("function"==typeof e.destroy)return e.destroy();i(t||new o("pipe"))}}}function u(e){e()}function h(e,t){return e.pipe(t)}function f(e){return e.length&&"function"==typeof e[e.length-1]?e.pop():s}t.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new i("streams");var o,s=t.map((function(e,r){var i=r<t.length-1;return a(e,i,r>0,(function(e){o||(o=e),e&&s.forEach(u),!i&&(s.forEach(u),n(o))}))}));return t.reduce(h)}})),$q=H(((e,t)=>{x(),(e=t.exports=_8()).Stream=e,e.Readable=e,e.Writable=v8(),e.Duplex=Dh(),e.Transform=D8(),e.PassThrough=Nq(),e.finished=uw(),e.pipeline=zq()})),gw=H(((e,t)=>{x(),function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&(("le"===t||"be"===t)&&(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{o=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:St().Buffer}catch{}function s(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+e)}function a(e,t,r){var n=s(e,r);return r-1>=t&&(n|=s(e,r-1)<<4),n}function u(e,t,n,i){for(var o=0,s=0,a=Math.min(e.length,n),u=t;u<a;u++){var h=e.charCodeAt(u)-48;o*=i,s=h>=49?h-49+10:h>=17?h-17+10:h,r(h>=0&&s<i,"Invalid character"),o+=s}return o}function h(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=a(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=a(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,h=0,f=r;f<a;f+=n)h=u(e,f,f+n,t),this.imuln(i),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==s){var c=1;for(h=u(e,f,e.length,t),f=0;f<s;f++)c*=t;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype._move=function(e){h(e,this)},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},typeof Symbol<"u"&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{i.prototype.inspect=f}else i.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function p(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var h=1;h<n;h++){for(var f=u>>>26,c=67108863&u,l=Math.min(h,t.length-1),d=Math.max(0,h-e.length+1);d<=l;d++){var p=h-d|0;f+=(s=(i=0|e.words[p])*(o=0|t.words[d])+c)/67108864|0,c=67108863&s}r.words[h]=0|c,u=0|f}return 0!==u?r.words[h]=0|u:r.length--,r._strip()}i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),n=0!==o||s!==this.length-1?c[6-u.length]+u+n:u+n}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var h=l[e],f=d[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var y=p.modrn(f).toString(e);n=(p=p.idivn(f)).isZero()?y+n:c[h-y.length]+y+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(e,t){return this.toArrayLike(o,e,t)}),i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,i),s},i.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r++]=255&s,r<e.length&&(e[r++]=s>>8&255),r<e.length&&(e[r++]=s>>16&255),6===o?(r<e.length&&(e[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},i.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r--]=255&s,r>=0&&(e[r--]=s>>8&255),r>=0&&(e[r--]=s>>16&255),6===o?(r>=0&&(e[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var y=function(e,t,r){var n,i,o,s=e.words,a=t.words,u=r.words,h=0,f=0|s[0],c=8191&f,l=f>>>13,d=0|s[1],p=8191&d,y=d>>>13,m=0|s[2],g=8191&m,b=m>>>13,w=0|s[3],v=8191&w,_=w>>>13,E=0|s[4],S=8191&E,M=E>>>13,A=0|s[5],k=8191&A,x=A>>>13,T=0|s[6],P=8191&T,I=T>>>13,R=0|s[7],O=8191&R,B=R>>>13,C=0|s[8],L=8191&C,j=C>>>13,D=0|s[9],N=8191&D,U=D>>>13,H=0|a[0],z=8191&H,F=H>>>13,q=0|a[1],$=8191&q,K=q>>>13,V=0|a[2],W=8191&V,G=V>>>13,Y=0|a[3],J=8191&Y,Z=Y>>>13,X=0|a[4],Q=8191&X,ee=X>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ue=8191&ae,he=ae>>>13,fe=0|a[8],ce=8191&fe,le=fe>>>13,de=0|a[9],pe=8191&de,ye=de>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(h+(n=Math.imul(c,z))|0)+((8191&(i=(i=Math.imul(c,F))+Math.imul(l,z)|0))<<13)|0;h=((o=Math.imul(l,F))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,F))+Math.imul(y,z)|0,o=Math.imul(y,F);var ge=(h+(n=n+Math.imul(c,$)|0)|0)+((8191&(i=(i=i+Math.imul(c,K)|0)+Math.imul(l,$)|0))<<13)|0;h=((o=o+Math.imul(l,K)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,z),i=(i=Math.imul(g,F))+Math.imul(b,z)|0,o=Math.imul(b,F),n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,K)|0;var be=(h+(n=n+Math.imul(c,W)|0)|0)+((8191&(i=(i=i+Math.imul(c,G)|0)+Math.imul(l,W)|0))<<13)|0;h=((o=o+Math.imul(l,G)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,F))+Math.imul(_,z)|0,o=Math.imul(_,F),n=n+Math.imul(g,$)|0,i=(i=i+Math.imul(g,K)|0)+Math.imul(b,$)|0,o=o+Math.imul(b,K)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,G)|0;var we=(h+(n=n+Math.imul(c,J)|0)|0)+((8191&(i=(i=i+Math.imul(c,Z)|0)+Math.imul(l,J)|0))<<13)|0;h=((o=o+Math.imul(l,Z)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,F))+Math.imul(M,z)|0,o=Math.imul(M,F),n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,K)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,K)|0,n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,G)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,Z)|0;var ve=(h+(n=n+Math.imul(c,Q)|0)|0)+((8191&(i=(i=i+Math.imul(c,ee)|0)+Math.imul(l,Q)|0))<<13)|0;h=((o=o+Math.imul(l,ee)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(k,z),i=(i=Math.imul(k,F))+Math.imul(x,z)|0,o=Math.imul(x,F),n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,K)|0,n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,G)|0,n=n+Math.imul(g,J)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0;var _e=(h+(n=n+Math.imul(c,re)|0)|0)+((8191&(i=(i=i+Math.imul(c,ne)|0)+Math.imul(l,re)|0))<<13)|0;h=((o=o+Math.imul(l,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(P,z),i=(i=Math.imul(P,F))+Math.imul(I,z)|0,o=Math.imul(I,F),n=n+Math.imul(k,$)|0,i=(i=i+Math.imul(k,K)|0)+Math.imul(x,$)|0,o=o+Math.imul(x,K)|0,n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,G)|0,n=n+Math.imul(v,J)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,Z)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0;var Ee=(h+(n=n+Math.imul(c,oe)|0)|0)+((8191&(i=(i=i+Math.imul(c,se)|0)+Math.imul(l,oe)|0))<<13)|0;h=((o=o+Math.imul(l,se)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(O,z),i=(i=Math.imul(O,F))+Math.imul(B,z)|0,o=Math.imul(B,F),n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,K)|0,n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(x,W)|0,o=o+Math.imul(x,G)|0,n=n+Math.imul(S,J)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0;var Se=(h+(n=n+Math.imul(c,ue)|0)|0)+((8191&(i=(i=i+Math.imul(c,he)|0)+Math.imul(l,ue)|0))<<13)|0;h=((o=o+Math.imul(l,he)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,F))+Math.imul(j,z)|0,o=Math.imul(j,F),n=n+Math.imul(O,$)|0,i=(i=i+Math.imul(O,K)|0)+Math.imul(B,$)|0,o=o+Math.imul(B,K)|0,n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,G)|0,n=n+Math.imul(k,J)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,Z)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,se)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,se)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,he)|0;var Me=(h+(n=n+Math.imul(c,ce)|0)|0)+((8191&(i=(i=i+Math.imul(c,le)|0)+Math.imul(l,ce)|0))<<13)|0;h=((o=o+Math.imul(l,le)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(N,z),i=(i=Math.imul(N,F))+Math.imul(U,z)|0,o=Math.imul(U,F),n=n+Math.imul(L,$)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(j,$)|0,o=o+Math.imul(j,K)|0,n=n+Math.imul(O,W)|0,i=(i=i+Math.imul(O,G)|0)+Math.imul(B,W)|0,o=o+Math.imul(B,G)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,Z)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(M,re)|0,o=o+Math.imul(M,ne)|0,n=n+Math.imul(v,oe)|0,i=(i=i+Math.imul(v,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,n=n+Math.imul(g,ue)|0,i=(i=i+Math.imul(g,he)|0)+Math.imul(b,ue)|0,o=o+Math.imul(b,he)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,le)|0;var Ae=(h+(n=n+Math.imul(c,pe)|0)|0)+((8191&(i=(i=i+Math.imul(c,ye)|0)+Math.imul(l,pe)|0))<<13)|0;h=((o=o+Math.imul(l,ye)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(N,$),i=(i=Math.imul(N,K))+Math.imul(U,$)|0,o=Math.imul(U,K),n=n+Math.imul(L,W)|0,i=(i=i+Math.imul(L,G)|0)+Math.imul(j,W)|0,o=o+Math.imul(j,G)|0,n=n+Math.imul(O,J)|0,i=(i=i+Math.imul(O,Z)|0)+Math.imul(B,J)|0,o=o+Math.imul(B,Z)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(x,re)|0,o=o+Math.imul(x,ne)|0,n=n+Math.imul(S,oe)|0,i=(i=i+Math.imul(S,se)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,se)|0,n=n+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,he)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,he)|0,n=n+Math.imul(g,ce)|0,i=(i=i+Math.imul(g,le)|0)+Math.imul(b,ce)|0,o=o+Math.imul(b,le)|0;var ke=(h+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;h=((o=o+Math.imul(y,ye)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(N,W),i=(i=Math.imul(N,G))+Math.imul(U,W)|0,o=Math.imul(U,G),n=n+Math.imul(L,J)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(j,J)|0,o=o+Math.imul(j,Z)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,se)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,se)|0,n=n+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,he)|0)+Math.imul(M,ue)|0,o=o+Math.imul(M,he)|0,n=n+Math.imul(v,ce)|0,i=(i=i+Math.imul(v,le)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,le)|0;var xe=(h+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,ye)|0)+Math.imul(b,pe)|0))<<13)|0;h=((o=o+Math.imul(b,ye)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(N,J),i=(i=Math.imul(N,Z))+Math.imul(U,J)|0,o=Math.imul(U,Z),n=n+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,ee)|0)+Math.imul(j,Q)|0,o=o+Math.imul(j,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(B,re)|0,o=o+Math.imul(B,ne)|0,n=n+Math.imul(P,oe)|0,i=(i=i+Math.imul(P,se)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,se)|0,n=n+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,he)|0)+Math.imul(x,ue)|0,o=o+Math.imul(x,he)|0,n=n+Math.imul(S,ce)|0,i=(i=i+Math.imul(S,le)|0)+Math.imul(M,ce)|0,o=o+Math.imul(M,le)|0;var Te=(h+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,ye)|0)+Math.imul(_,pe)|0))<<13)|0;h=((o=o+Math.imul(_,ye)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(N,Q),i=(i=Math.imul(N,ee))+Math.imul(U,Q)|0,o=Math.imul(U,ee),n=n+Math.imul(L,re)|0,i=(i=i+Math.imul(L,ne)|0)+Math.imul(j,re)|0,o=o+Math.imul(j,ne)|0,n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,se)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,se)|0,n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,he)|0)+Math.imul(I,ue)|0,o=o+Math.imul(I,he)|0,n=n+Math.imul(k,ce)|0,i=(i=i+Math.imul(k,le)|0)+Math.imul(x,ce)|0,o=o+Math.imul(x,le)|0;var Pe=(h+(n=n+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ye)|0)+Math.imul(M,pe)|0))<<13)|0;h=((o=o+Math.imul(M,ye)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(N,re),i=(i=Math.imul(N,ne))+Math.imul(U,re)|0,o=Math.imul(U,ne),n=n+Math.imul(L,oe)|0,i=(i=i+Math.imul(L,se)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,se)|0,n=n+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(B,ue)|0,o=o+Math.imul(B,he)|0,n=n+Math.imul(P,ce)|0,i=(i=i+Math.imul(P,le)|0)+Math.imul(I,ce)|0,o=o+Math.imul(I,le)|0;var Ie=(h+(n=n+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ye)|0)+Math.imul(x,pe)|0))<<13)|0;h=((o=o+Math.imul(x,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(N,oe),i=(i=Math.imul(N,se))+Math.imul(U,oe)|0,o=Math.imul(U,se),n=n+Math.imul(L,ue)|0,i=(i=i+Math.imul(L,he)|0)+Math.imul(j,ue)|0,o=o+Math.imul(j,he)|0,n=n+Math.imul(O,ce)|0,i=(i=i+Math.imul(O,le)|0)+Math.imul(B,ce)|0,o=o+Math.imul(B,le)|0;var Re=(h+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,ye)|0)+Math.imul(I,pe)|0))<<13)|0;h=((o=o+Math.imul(I,ye)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(N,ue),i=(i=Math.imul(N,he))+Math.imul(U,ue)|0,o=Math.imul(U,he),n=n+Math.imul(L,ce)|0,i=(i=i+Math.imul(L,le)|0)+Math.imul(j,ce)|0,o=o+Math.imul(j,le)|0;var Oe=(h+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ye)|0)+Math.imul(B,pe)|0))<<13)|0;h=((o=o+Math.imul(B,ye)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(N,ce),i=(i=Math.imul(N,le))+Math.imul(U,ce)|0,o=Math.imul(U,le);var Be=(h+(n=n+Math.imul(L,pe)|0)|0)+((8191&(i=(i=i+Math.imul(L,ye)|0)+Math.imul(j,pe)|0))<<13)|0;h=((o=o+Math.imul(j,ye)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863;var Ce=(h+(n=Math.imul(N,pe))|0)+((8191&(i=(i=Math.imul(N,ye))+Math.imul(U,pe)|0))<<13)|0;return h=((o=Math.imul(U,ye))+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,u[0]=me,u[1]=ge,u[2]=be,u[3]=we,u[4]=ve,u[5]=_e,u[6]=Ee,u[7]=Se,u[8]=Me,u[9]=Ae,u[10]=ke,u[11]=xe,u[12]=Te,u[13]=Pe,u[14]=Ie,u[15]=Re,u[16]=Oe,u[17]=Be,u[18]=Ce,0!==h&&(u[19]=h,r.length++),r};function m(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,t.length-1),h=Math.max(0,o-e.length+1);h<=u;h++){var f=o-h,c=(0|e.words[f])*(0|t.words[h]),l=67108863&c;a=67108863&(l=l+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function g(e,t,r){return m(e,t,r)}function b(e,t){this.x=e,this.y=t}Math.imul||(y=p),i.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?y(this,e,t):r<63?p(this,e,t):r<1024?m(this,e,t):g(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},b.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},b.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},b.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),h=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var c=u,l=h,d=0;d<s;d++){var p=r[f+d],y=n[f+d],m=r[f+d+s],g=n[f+d+s],b=c*m-l*g;g=c*g+l*m,m=b,r[f+d]=p+m,n[f+d]=y+g,r[f+d+s]=p-m,n[f+d+s]=y-g,d!==a&&(b=u*c-h*l,l=u*l+h*c,c=b)}},b.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},b.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},b.prototype.convert13b=function(e,t,n,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)n[s]=0;r(0===o),r(0==(-8192&o))},b.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},b.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),h=new Array(n),f=new Array(n),c=new Array(n),l=r.words;l.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,h,n),this.transform(s,o,a,u,n,i),this.transform(h,o,f,c,n,i);for(var d=0;d<n;d++){var p=a[d]*f[d]-u[d]*c[d];u[d]=a[d]*c[d]+u[d]*f[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,l,o,n,i),this.conjugate(l,o,n),this.normalize13b(l,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),g(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"==typeof e),r(e<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,s=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=s>>>26,this.words[i]=67108863&s}return 0!==n&&(this.words[i]=n,this.length++),t?this.ineg():this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var o=r.sqr();n<t.length;n++,o=o.sqr())0!==t[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,u=(0|this.words[t])-a<<n;this.words[t]=u|s,s=a>>>26-n}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,u=n;if(i-=s,i=Math.max(0,i),u){for(var h=0;h<s;h++)u.words[h]=this.words[h];u.length=s}if(0!==s)if(this.length>s)for(this.length-=s,h=0;h<this.length;h++)this.words[h]=this.words[h+s];else this.words[0]=0,this.length=1;var f=0;for(h=this.length-1;h>=0&&(0!==f||h>=i);h--){var c=0|this.words[h];this.words[h]=f<<26-o|c>>>o,f=c&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n||!(this.words[n]&i))},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,o=e.length+n;this._expand(o);var s,a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+n])+a;var u=(0|e.words[i])*t;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&s}for(;i<this.length-n;i++)a=(s=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&s;if(0===a)return this._strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this._strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),o=e,s=0|o.words[o.length-1];0!=(r=26-this._countBits(s))&&(o=o.ushln(r),n.iushln(r),s=0|o.words[o.length-1]);var a,u=n.length-o.length;if("mod"!==t){(a=new i(null)).length=u+1,a.words=new Array(a.length);for(var h=0;h<a.length;h++)a.words[h]=0}var f=n.clone()._ishlnsubmul(o,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var c=u-1;c>=0;c--){var l=67108864*(0|n.words[o.length+c])+(0|n.words[o.length+c-1]);for(l=Math.min(l/s|0,67108863),n._ishlnsubmul(o,l,c);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(o,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=l)}return a&&a._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(o=a.div.neg()),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(e)),{div:o,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(o=a.div.neg()),{div:o,mod:a.mod}):this.negative&e.negative?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modrn(e.words[0]))}:this._wordDiv(e,t);var o,s,a},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%e;return t?-i:i},i.prototype.modn=function(e){return this.modrn(e)},i.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/e|0,n=o%e}return this._strip(),t?this.ineg():this},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new i(1),s=new i(0),a=new i(0),u=new i(1),h=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++h;for(var f=n.clone(),c=t.clone();!t.isZero();){for(var l=0,d=1;!(t.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(f),s.isub(c)),o.iushrn(1),s.iushrn(1);for(var p=0,y=1;!(n.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(c)),a.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(a),s.isub(u)):(n.isub(t),a.isub(o),u.isub(s))}return{a,b:u,gcd:n.iushln(h)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t,n=this,o=e.clone();n=0!==n.negative?n.umod(e):n.clone();for(var s=new i(1),a=new i(0),u=o.clone();n.cmpn(1)>0&&o.cmpn(1)>0;){for(var h=0,f=1;!(n.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(n.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var c=0,l=1;!(o.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(o.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);n.cmp(o)>=0?(n.isub(o),s.isub(a)):(o.isub(n),a.isub(s))}return(t=0===n.cmpn(1)?s:a).cmpn(0)<0&&t.iadd(e),t},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new A(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var w={k256:null,p224:null,p192:null,p25519:null};function v(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){A.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},v.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(e,t){e.iushrn(this.n,0,t)},v.prototype.imulK=function(e){return e.imul(this.k)},n(_,v),_.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},_.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(E,v),n(S,v),n(M,v),M.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(w[e])return w[e];var t;if("k256"===e)t=new _;else if("p224"===e)t=new E;else if("p192"===e)t=new S;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new M}return w[e]=t,t},A.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},A.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},A.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(h(e,e.umod(this.m)._forceRed(this)),e)},A.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},A.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},A.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},A.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},A.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},A.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},A.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},A.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},A.prototype.isqr=function(e){return this.imul(e,e.clone())},A.prototype.sqr=function(e){return this.mul(e,e)},A.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new i(1).toRed(this),u=a.redNeg(),h=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);0!==this.pow(f,h).cmp(u);)f.redIAdd(u);for(var c=this.pow(f,o),l=this.pow(e,o.addn(1).iushrn(1)),d=this.pow(e,o),p=s;0!==d.cmp(a);){for(var y=d,m=0;0!==y.cmp(a);m++)y=y.redSqr();r(m<p);var g=this.pow(c,new i(1).iushln(p-m-1));l=l.redMul(g),c=g.redSqr(),d=d.redMul(c),p=m}return l},A.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},A.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var o=r[0],s=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var h=t.words[n],f=u-1;f>=0;f--){var c=h>>f&1;o!==r[0]&&(o=this.sqr(o)),0!==c||0!==s?(s<<=1,s|=c,(4==++a||0===n&&0===f)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0}u=26}return o},A.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},A.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new k(e)},n(k,A),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},k.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(typeof t>"u"||t,e)})),vw=H(((e,t)=>{x();var r=gw(),n=oh();function i(e){var t,i=e.modulus.byteLength();do{t=new r(n(i))}while(t.cmp(e.modulus)>=0||!t.umod(e.prime1)||!t.umod(e.prime2));return t}function o(e,t){var n=function(e){var t=i(e);return{blinder:t.toRed(r.mont(e.modulus)).redPow(new r(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(t),o=t.modulus.byteLength(),s=new r(e).mul(n.blinder).umod(t.modulus),a=s.toRed(r.mont(t.prime1)),u=s.toRed(r.mont(t.prime2)),h=t.coefficient,f=t.prime1,c=t.prime2,l=a.redPow(t.exponent1).fromRed(),d=u.redPow(t.exponent2).fromRed(),p=l.isub(d).imul(h).umod(f).imul(c);return d.iadd(p).imul(n.unblinder).umod(t.modulus).toArrayLike(L.Buffer,"be",o)}o.getr=i,t.exports=o})),Gq=H(((e,t)=>{t.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}})),ka=H(((e,t)=>{x(),function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&(("le"===t||"be"===t)&&(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{o=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:St().Buffer}catch{}function s(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function a(e,t,r){var n=s(e,r);return r-1>=t&&(n|=s(e,r-1)<<4),n}function u(e,t,r,n){for(var i=0,o=Math.min(e.length,r),s=t;s<o;s++){var a=e.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=a(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=a(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,h=0,f=r;f<a;f+=n)h=u(e,f,f+n,t),this.imuln(i),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==s){var c=1;for(h=u(e,f,e.length,t),f=0;f<s;f++)c*=t;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],c=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function l(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var h=1;h<n;h++){for(var f=u>>>26,c=67108863&u,l=Math.min(h,t.length-1),d=Math.max(0,h-e.length+1);d<=l;d++){var p=h-d|0;f+=(s=(i=0|e.words[p])*(o=0|t.words[d])+c)/67108864|0,c=67108863&s}r.words[h]=0|c,u=0|f}return 0!==u?r.words[h]=0|u:r.length--,r.strip()}i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);n=0!=(o=a>>>24-i&16777215)||s!==this.length-1?h[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var l=f[e],d=c[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var y=p.modn(d).toString(e);n=(p=p.idivn(d)).isZero()?y+n:h[l-y.length]+y+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){return r(typeof o<"u"),this.toArrayLike(o,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,u="le"===t,h=new e(o),f=this.clone();if(u){for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),h[a]=s;for(;a<o;a++)h[a]=0}else{for(a=0;a<o-i;a++)h[a]=0;for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),h[o-a-1]=s}return h},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var d=function(e,t,r){var n,i,o,s=e.words,a=t.words,u=r.words,h=0,f=0|s[0],c=8191&f,l=f>>>13,d=0|s[1],p=8191&d,y=d>>>13,m=0|s[2],g=8191&m,b=m>>>13,w=0|s[3],v=8191&w,_=w>>>13,E=0|s[4],S=8191&E,M=E>>>13,A=0|s[5],k=8191&A,x=A>>>13,T=0|s[6],P=8191&T,I=T>>>13,R=0|s[7],O=8191&R,B=R>>>13,C=0|s[8],L=8191&C,j=C>>>13,D=0|s[9],N=8191&D,U=D>>>13,H=0|a[0],z=8191&H,F=H>>>13,q=0|a[1],$=8191&q,K=q>>>13,V=0|a[2],W=8191&V,G=V>>>13,Y=0|a[3],J=8191&Y,Z=Y>>>13,X=0|a[4],Q=8191&X,ee=X>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ue=8191&ae,he=ae>>>13,fe=0|a[8],ce=8191&fe,le=fe>>>13,de=0|a[9],pe=8191&de,ye=de>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(h+(n=Math.imul(c,z))|0)+((8191&(i=(i=Math.imul(c,F))+Math.imul(l,z)|0))<<13)|0;h=((o=Math.imul(l,F))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,F))+Math.imul(y,z)|0,o=Math.imul(y,F);var ge=(h+(n=n+Math.imul(c,$)|0)|0)+((8191&(i=(i=i+Math.imul(c,K)|0)+Math.imul(l,$)|0))<<13)|0;h=((o=o+Math.imul(l,K)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,z),i=(i=Math.imul(g,F))+Math.imul(b,z)|0,o=Math.imul(b,F),n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,K)|0;var be=(h+(n=n+Math.imul(c,W)|0)|0)+((8191&(i=(i=i+Math.imul(c,G)|0)+Math.imul(l,W)|0))<<13)|0;h=((o=o+Math.imul(l,G)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,F))+Math.imul(_,z)|0,o=Math.imul(_,F),n=n+Math.imul(g,$)|0,i=(i=i+Math.imul(g,K)|0)+Math.imul(b,$)|0,o=o+Math.imul(b,K)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,G)|0;var we=(h+(n=n+Math.imul(c,J)|0)|0)+((8191&(i=(i=i+Math.imul(c,Z)|0)+Math.imul(l,J)|0))<<13)|0;h=((o=o+Math.imul(l,Z)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,F))+Math.imul(M,z)|0,o=Math.imul(M,F),n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,K)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,K)|0,n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,G)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,Z)|0;var ve=(h+(n=n+Math.imul(c,Q)|0)|0)+((8191&(i=(i=i+Math.imul(c,ee)|0)+Math.imul(l,Q)|0))<<13)|0;h=((o=o+Math.imul(l,ee)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(k,z),i=(i=Math.imul(k,F))+Math.imul(x,z)|0,o=Math.imul(x,F),n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,K)|0,n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,G)|0,n=n+Math.imul(g,J)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0;var _e=(h+(n=n+Math.imul(c,re)|0)|0)+((8191&(i=(i=i+Math.imul(c,ne)|0)+Math.imul(l,re)|0))<<13)|0;h=((o=o+Math.imul(l,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(P,z),i=(i=Math.imul(P,F))+Math.imul(I,z)|0,o=Math.imul(I,F),n=n+Math.imul(k,$)|0,i=(i=i+Math.imul(k,K)|0)+Math.imul(x,$)|0,o=o+Math.imul(x,K)|0,n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,G)|0,n=n+Math.imul(v,J)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,Z)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0;var Ee=(h+(n=n+Math.imul(c,oe)|0)|0)+((8191&(i=(i=i+Math.imul(c,se)|0)+Math.imul(l,oe)|0))<<13)|0;h=((o=o+Math.imul(l,se)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(O,z),i=(i=Math.imul(O,F))+Math.imul(B,z)|0,o=Math.imul(B,F),n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,K)|0,n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(x,W)|0,o=o+Math.imul(x,G)|0,n=n+Math.imul(S,J)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0;var Se=(h+(n=n+Math.imul(c,ue)|0)|0)+((8191&(i=(i=i+Math.imul(c,he)|0)+Math.imul(l,ue)|0))<<13)|0;h=((o=o+Math.imul(l,he)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,F))+Math.imul(j,z)|0,o=Math.imul(j,F),n=n+Math.imul(O,$)|0,i=(i=i+Math.imul(O,K)|0)+Math.imul(B,$)|0,o=o+Math.imul(B,K)|0,n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,G)|0,n=n+Math.imul(k,J)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,Z)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,se)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,se)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,he)|0;var Me=(h+(n=n+Math.imul(c,ce)|0)|0)+((8191&(i=(i=i+Math.imul(c,le)|0)+Math.imul(l,ce)|0))<<13)|0;h=((o=o+Math.imul(l,le)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(N,z),i=(i=Math.imul(N,F))+Math.imul(U,z)|0,o=Math.imul(U,F),n=n+Math.imul(L,$)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(j,$)|0,o=o+Math.imul(j,K)|0,n=n+Math.imul(O,W)|0,i=(i=i+Math.imul(O,G)|0)+Math.imul(B,W)|0,o=o+Math.imul(B,G)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,Z)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(M,re)|0,o=o+Math.imul(M,ne)|0,n=n+Math.imul(v,oe)|0,i=(i=i+Math.imul(v,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,n=n+Math.imul(g,ue)|0,i=(i=i+Math.imul(g,he)|0)+Math.imul(b,ue)|0,o=o+Math.imul(b,he)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,le)|0;var Ae=(h+(n=n+Math.imul(c,pe)|0)|0)+((8191&(i=(i=i+Math.imul(c,ye)|0)+Math.imul(l,pe)|0))<<13)|0;h=((o=o+Math.imul(l,ye)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(N,$),i=(i=Math.imul(N,K))+Math.imul(U,$)|0,o=Math.imul(U,K),n=n+Math.imul(L,W)|0,i=(i=i+Math.imul(L,G)|0)+Math.imul(j,W)|0,o=o+Math.imul(j,G)|0,n=n+Math.imul(O,J)|0,i=(i=i+Math.imul(O,Z)|0)+Math.imul(B,J)|0,o=o+Math.imul(B,Z)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(x,re)|0,o=o+Math.imul(x,ne)|0,n=n+Math.imul(S,oe)|0,i=(i=i+Math.imul(S,se)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,se)|0,n=n+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,he)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,he)|0,n=n+Math.imul(g,ce)|0,i=(i=i+Math.imul(g,le)|0)+Math.imul(b,ce)|0,o=o+Math.imul(b,le)|0;var ke=(h+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;h=((o=o+Math.imul(y,ye)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(N,W),i=(i=Math.imul(N,G))+Math.imul(U,W)|0,o=Math.imul(U,G),n=n+Math.imul(L,J)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(j,J)|0,o=o+Math.imul(j,Z)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,se)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,se)|0,n=n+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,he)|0)+Math.imul(M,ue)|0,o=o+Math.imul(M,he)|0,n=n+Math.imul(v,ce)|0,i=(i=i+Math.imul(v,le)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,le)|0;var xe=(h+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,ye)|0)+Math.imul(b,pe)|0))<<13)|0;h=((o=o+Math.imul(b,ye)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(N,J),i=(i=Math.imul(N,Z))+Math.imul(U,J)|0,o=Math.imul(U,Z),n=n+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,ee)|0)+Math.imul(j,Q)|0,o=o+Math.imul(j,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(B,re)|0,o=o+Math.imul(B,ne)|0,n=n+Math.imul(P,oe)|0,i=(i=i+Math.imul(P,se)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,se)|0,n=n+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,he)|0)+Math.imul(x,ue)|0,o=o+Math.imul(x,he)|0,n=n+Math.imul(S,ce)|0,i=(i=i+Math.imul(S,le)|0)+Math.imul(M,ce)|0,o=o+Math.imul(M,le)|0;var Te=(h+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,ye)|0)+Math.imul(_,pe)|0))<<13)|0;h=((o=o+Math.imul(_,ye)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(N,Q),i=(i=Math.imul(N,ee))+Math.imul(U,Q)|0,o=Math.imul(U,ee),n=n+Math.imul(L,re)|0,i=(i=i+Math.imul(L,ne)|0)+Math.imul(j,re)|0,o=o+Math.imul(j,ne)|0,n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,se)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,se)|0,n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,he)|0)+Math.imul(I,ue)|0,o=o+Math.imul(I,he)|0,n=n+Math.imul(k,ce)|0,i=(i=i+Math.imul(k,le)|0)+Math.imul(x,ce)|0,o=o+Math.imul(x,le)|0;var Pe=(h+(n=n+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ye)|0)+Math.imul(M,pe)|0))<<13)|0;h=((o=o+Math.imul(M,ye)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(N,re),i=(i=Math.imul(N,ne))+Math.imul(U,re)|0,o=Math.imul(U,ne),n=n+Math.imul(L,oe)|0,i=(i=i+Math.imul(L,se)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,se)|0,n=n+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(B,ue)|0,o=o+Math.imul(B,he)|0,n=n+Math.imul(P,ce)|0,i=(i=i+Math.imul(P,le)|0)+Math.imul(I,ce)|0,o=o+Math.imul(I,le)|0;var Ie=(h+(n=n+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ye)|0)+Math.imul(x,pe)|0))<<13)|0;h=((o=o+Math.imul(x,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(N,oe),i=(i=Math.imul(N,se))+Math.imul(U,oe)|0,o=Math.imul(U,se),n=n+Math.imul(L,ue)|0,i=(i=i+Math.imul(L,he)|0)+Math.imul(j,ue)|0,o=o+Math.imul(j,he)|0,n=n+Math.imul(O,ce)|0,i=(i=i+Math.imul(O,le)|0)+Math.imul(B,ce)|0,o=o+Math.imul(B,le)|0;var Re=(h+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,ye)|0)+Math.imul(I,pe)|0))<<13)|0;h=((o=o+Math.imul(I,ye)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(N,ue),i=(i=Math.imul(N,he))+Math.imul(U,ue)|0,o=Math.imul(U,he),n=n+Math.imul(L,ce)|0,i=(i=i+Math.imul(L,le)|0)+Math.imul(j,ce)|0,o=o+Math.imul(j,le)|0;var Oe=(h+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ye)|0)+Math.imul(B,pe)|0))<<13)|0;h=((o=o+Math.imul(B,ye)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(N,ce),i=(i=Math.imul(N,le))+Math.imul(U,ce)|0,o=Math.imul(U,le);var Be=(h+(n=n+Math.imul(L,pe)|0)|0)+((8191&(i=(i=i+Math.imul(L,ye)|0)+Math.imul(j,pe)|0))<<13)|0;h=((o=o+Math.imul(j,ye)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863;var Ce=(h+(n=Math.imul(N,pe))|0)+((8191&(i=(i=Math.imul(N,ye))+Math.imul(U,pe)|0))<<13)|0;return h=((o=Math.imul(U,ye))+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,u[0]=me,u[1]=ge,u[2]=be,u[3]=we,u[4]=ve,u[5]=_e,u[6]=Ee,u[7]=Se,u[8]=Me,u[9]=Ae,u[10]=ke,u[11]=xe,u[12]=Te,u[13]=Pe,u[14]=Ie,u[15]=Re,u[16]=Oe,u[17]=Be,u[18]=Ce,0!==h&&(u[19]=h,r.length++),r};function p(e,t,r){return(new y).mulp(e,t,r)}function y(e,t){this.x=e,this.y=t}Math.imul||(d=l),i.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?d(this,e,t):n<63?l(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,t.length-1),h=Math.max(0,o-e.length+1);h<=u;h++){var f=o-h,c=(0|e.words[f])*(0|t.words[h]),l=67108863&c;a=67108863&(l=l+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):p(this,e,t),r},y.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},y.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},y.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},y.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),h=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var c=u,l=h,d=0;d<s;d++){var p=r[f+d],y=n[f+d],m=r[f+d+s],g=n[f+d+s],b=c*m-l*g;g=c*g+l*m,m=b,r[f+d]=p+m,n[f+d]=y+g,r[f+d+s]=p-m,n[f+d+s]=y-g,d!==a&&(b=u*c-h*l,l=u*l+h*c,c=b)}},y.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},y.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},y.prototype.convert13b=function(e,t,n,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)n[s]=0;r(0===o),r(0==(-8192&o))},y.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},y.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),h=new Array(n),f=new Array(n),c=new Array(n),l=r.words;l.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,h,n),this.transform(s,o,a,u,n,i),this.transform(h,o,f,c,n,i);for(var d=0;d<n;d++){var p=a[d]*f[d]-u[d]*c[d];u[d]=a[d]*c[d]+u[d]*f[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,l,o,n,i),this.conjugate(l,o,n),this.normalize13b(l,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),p(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var o=r.sqr();n<t.length;n++,o=o.sqr())0!==t[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,u=(0|this.words[t])-a<<n;this.words[t]=u|s,s=a>>>26-n}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,u=n;if(i-=s,i=Math.max(0,i),u){for(var h=0;h<s;h++)u.words[h]=this.words[h];u.length=s}if(0!==s)if(this.length>s)for(this.length-=s,h=0;h<this.length;h++)this.words[h]=this.words[h+s];else this.words[0]=0,this.length=1;var f=0;for(h=this.length-1;h>=0&&(0!==f||h>=i);h--){var c=0|this.words[h];this.words[h]=f<<26-o|c>>>o,f=c&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n||!(this.words[n]&i))},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,o=e.length+n;this._expand(o);var s,a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+n])+a;var u=(0|e.words[i])*t;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&s}for(;i<this.length-n;i++)a=(s=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&s;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),o=e,s=0|o.words[o.length-1];0!=(r=26-this._countBits(s))&&(o=o.ushln(r),n.iushln(r),s=0|o.words[o.length-1]);var a,u=n.length-o.length;if("mod"!==t){(a=new i(null)).length=u+1,a.words=new Array(a.length);for(var h=0;h<a.length;h++)a.words[h]=0}var f=n.clone()._ishlnsubmul(o,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var c=u-1;c>=0;c--){var l=67108864*(0|n.words[o.length+c])+(0|n.words[o.length+c-1]);for(l=Math.min(l/s|0,67108863),n._ishlnsubmul(o,l,c);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(o,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=l)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(o=a.div.neg()),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(e)),{div:o,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(o=a.div.neg()),{div:o,mod:a.mod}):this.negative&e.negative?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t);var o,s,a},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},i.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new i(1),s=new i(0),a=new i(0),u=new i(1),h=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++h;for(var f=n.clone(),c=t.clone();!t.isZero();){for(var l=0,d=1;!(t.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(f),s.isub(c)),o.iushrn(1),s.iushrn(1);for(var p=0,y=1;!(n.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(c)),a.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(a),s.isub(u)):(n.isub(t),a.isub(o),u.isub(s))}return{a,b:u,gcd:n.iushln(h)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t,n=this,o=e.clone();n=0!==n.negative?n.umod(e):n.clone();for(var s=new i(1),a=new i(0),u=o.clone();n.cmpn(1)>0&&o.cmpn(1)>0;){for(var h=0,f=1;!(n.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(n.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var c=0,l=1;!(o.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(o.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);n.cmp(o)>=0?(n.isub(o),s.isub(a)):(o.isub(n),a.isub(s))}return(t=0===n.cmpn(1)?s:a).cmpn(0)<0&&t.iadd(e),t},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new E(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function g(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function v(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function S(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},g.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},g.prototype.split=function(e,t){e.iushrn(this.n,0,t)},g.prototype.imulK=function(e){return e.imul(this.k)},n(b,g),b.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(w,g),n(v,g),n(_,g),_.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new w;else if("p192"===e)t=new v;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return m[e]=t,t},E.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new i(1).toRed(this),u=a.redNeg(),h=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);0!==this.pow(f,h).cmp(u);)f.redIAdd(u);for(var c=this.pow(f,o),l=this.pow(e,o.addn(1).iushrn(1)),d=this.pow(e,o),p=s;0!==d.cmp(a);){for(var y=d,m=0;0!==y.cmp(a);m++)y=y.redSqr();r(m<p);var g=this.pow(c,new i(1).iushln(p-m-1));l=l.redMul(g),c=g.redSqr(),d=d.redMul(c),p=m}return l},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var o=r[0],s=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var h=t.words[n],f=u-1;f>=0;f--){var c=h>>f&1;o!==r[0]&&(o=this.sqr(o)),0!==c||0!==s?(s<<=1,s|=c,(4==++a||0===n&&0===f)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0}u=26}return o},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new S(e)},n(S,E),S.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},S.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},S.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},S.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},S.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(typeof t>"u"||t,e)})),N8=H((e=>{x();var t=e;function r(e){return 1===e.length?"0"+e:e}function n(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16));else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},t.zero2=r,t.toHex=n,t.encode=function(e,t){return"hex"===t?n(e):e}})),Eo=H((e=>{x();var t=e,r=ka(),n=xo(),i=N8();t.assert=n,t.toArray=i.toArray,t.zero2=i.zero2,t.toHex=i.toHex,t.encode=i.encode,t.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),s=0;s<n.length;s++){var a,u=o.andln(i-1);o.isOdd()?(a=u>(i>>1)-1?(i>>1)-u:u,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},t.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var s,a,u=e.andln(3)+i&3,h=t.andln(3)+o&3;3===u&&(u=-1),3===h&&(h=-1),s=1&u?3!=(n=e.andln(7)+i&7)&&5!==n||2!==h?u:-u:0,r[0].push(s),a=1&h?3!=(n=t.andln(7)+o&7)&&5!==n||2!==u?h:-h:0,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},t.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},t.parseBytes=function(e){return"string"==typeof e?t.toArray(e,"hex"):e},t.intFromLE=function(e){return new r(e,"hex","le")}})),Sy=H(((e,t)=>{x();var r=ka(),n=Eo(),i=n.getNAF,o=n.getJSF,s=n.assert;function a(e,t){this.type=e,this.p=new r(t.p,16),this.red=t.prime?r.red(t.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=t.n&&new r(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(e,t){this.curve=e,this.type=t,this.precomputed=null}t.exports=a,a.prototype.point=function(){throw new Error("Not implemented")},a.prototype.validate=function(){throw new Error("Not implemented")},a.prototype._fixedNafMul=function(e,t){s(e.precomputed);var r=e._getDoubles(),n=i(t,1,this._bitLength),o=(1<<r.step+1)-(r.step%2==0?2:1);o/=3;var a,u,h=[];for(a=0;a<n.length;a+=r.step){u=0;for(var f=a+r.step-1;f>=a;f--)u=(u<<1)+n[f];h.push(u)}for(var c=this.jpoint(null,null,null),l=this.jpoint(null,null,null),d=o;d>0;d--){for(a=0;a<h.length;a++)(u=h[a])===d?l=l.mixedAdd(r.points[a]):u===-d&&(l=l.mixedAdd(r.points[a].neg()));c=c.add(l)}return c.toP()},a.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var o=n.points,a=i(t,r,this._bitLength),u=this.jpoint(null,null,null),h=a.length-1;h>=0;h--){for(var f=0;h>=0&&0===a[h];h--)f++;if(h>=0&&f++,u=u.dblp(f),h<0)break;var c=a[h];s(0!==c),u="affine"===e.type?c>0?u.mixedAdd(o[c-1>>1]):u.mixedAdd(o[-c-1>>1].neg()):c>0?u.add(o[c-1>>1]):u.add(o[-c-1>>1].neg())}return"affine"===e.type?u.toP():u},a.prototype._wnafMulAdd=function(e,t,r,n,s){var a,u,h,f=this._wnafT1,c=this._wnafT2,l=this._wnafT3,d=0;for(a=0;a<n;a++){var p=(h=t[a])._getNAFPoints(e);f[a]=p.wnd,c[a]=p.points}for(a=n-1;a>=1;a-=2){var y=a-1,m=a;if(1===f[y]&&1===f[m]){var g=[t[y],null,null,t[m]];0===t[y].y.cmp(t[m].y)?(g[1]=t[y].add(t[m]),g[2]=t[y].toJ().mixedAdd(t[m].neg())):0===t[y].y.cmp(t[m].y.redNeg())?(g[1]=t[y].toJ().mixedAdd(t[m]),g[2]=t[y].add(t[m].neg())):(g[1]=t[y].toJ().mixedAdd(t[m]),g[2]=t[y].toJ().mixedAdd(t[m].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],w=o(r[y],r[m]);for(d=Math.max(w[0].length,d),l[y]=new Array(d),l[m]=new Array(d),u=0;u<d;u++){var v=0|w[0][u],_=0|w[1][u];l[y][u]=b[3*(v+1)+(_+1)],l[m][u]=0,c[y]=g}}else l[y]=i(r[y],f[y],this._bitLength),l[m]=i(r[m],f[m],this._bitLength),d=Math.max(l[y].length,d),d=Math.max(l[m].length,d)}var E=this.jpoint(null,null,null),S=this._wnafT4;for(a=d;a>=0;a--){for(var M=0;a>=0;){var A=!0;for(u=0;u<n;u++)S[u]=0|l[u][a],0!==S[u]&&(A=!1);if(!A)break;M++,a--}if(a>=0&&M++,E=E.dblp(M),a<0)break;for(u=0;u<n;u++){var k=S[u];0!==k&&(k>0?h=c[u][k-1>>1]:k<0&&(h=c[u][-k-1>>1].neg()),E="affine"===h.type?E.mixedAdd(h):E.add(h))}}for(a=0;a<n;a++)c[a]=null;return s?E:E.toP()},a.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},a.prototype.decodePoint=function(e,t){e=n.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?s(e[e.length-1]%2==0):7===e[0]&&s(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(e){return this.encode(e,!0)},u.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},u.prototype.encode=function(e,t){return n.encode(this._encode(t),e)},u.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},u.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},u.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},u.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}})),rj=H(((e,t)=>{x();var r=Eo(),n=ka(),i=He(),o=Sy(),s=r.assert;function a(e){o.call(this,"short",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(e,t,r,i){o.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new n(t,16),this.y=new n(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(e,t,r,i){o.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new n(0)):(this.x=new n(t,16),this.y=new n(r,16),this.z=new n(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}i(a,o),t.exports=a,a.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new n(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=(t=i[0].cmp(i[1])<0?i[0]:i[1]).toRed(this.red)}if(e.lambda)r=new n(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?r=o[0]:(r=o[1],s(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new n(e.a,16),b:new n(e.b,16)}})):this._getEndoBasis(r)}}},a.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:n.mont(e),r=new n(2).toRed(t).redInvm(),i=r.redNeg(),o=new n(3).toRed(t).redNeg().redSqrt().redMul(r);return[i.redAdd(o).fromRed(),i.redSub(o).fromRed()]},a.prototype._getEndoBasis=function(e){for(var t,r,i,o,s,a,u,h,f,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=e,d=this.n.clone(),p=new n(1),y=new n(0),m=new n(0),g=new n(1),b=0;0!==l.cmpn(0);){var w=d.div(l);h=d.sub(w.mul(l)),f=m.sub(w.mul(p));var v=g.sub(w.mul(y));if(!i&&h.cmp(c)<0)t=u.neg(),r=p,i=h.neg(),o=f;else if(i&&2==++b)break;u=h,d=l,l=h,m=p,p=f,g=y,y=v}s=h.neg(),a=f;var _=i.sqr().add(o.sqr());return s.sqr().add(a.sqr()).cmp(_)>=0&&(s=t,a=r),i.negative&&(i=i.neg(),o=o.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:i,b:o},{a:s,b:a}]},a.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),u=i.mul(r.b),h=o.mul(n.b);return{k1:e.sub(s).sub(a),k2:u.add(h).neg()}},a.prototype.pointFromX=function(e,t){(e=new n(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(0!==i.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var o=i.fromRed().isOdd();return(t&&!o||!t&&o)&&(i=i.redNeg()),this.point(e,i)},a.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},a.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],u=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*o]=a,n[2*o+1]=u,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var h=this._wnafMulAdd(1,n,i,2*o,r),f=0;f<2*o;f++)n[f]=null,i[f]=null;return h},i(u,o.BasePoint),a.prototype.point=function(e,t,r){return new u(this,e,t,r)},a.prototype.pointFromJSON=function(e,t){return u.fromJSON(this,e,t)},u.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},u.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(e){return e=new n(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},u.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},u.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},u.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},i(h,o.BasePoint),a.prototype.jpoint=function(e,t,r){return new h(this,e,t,r)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=a.redSqr(),f=h.redMul(a),c=n.redMul(h),l=u.redSqr().redIAdd(f).redISub(c).redISub(c),d=u.redMul(c.redISub(l)).redISub(o.redMul(f)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(l,d,p)},h.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),h=u.redMul(s),f=r.redMul(u),c=a.redSqr().redIAdd(h).redISub(f).redISub(f),l=a.redMul(f.redISub(c)).redISub(i.redMul(h)),d=this.z.redMul(s);return this.curve.jpoint(c,l,d)},h.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),h=s.redAdd(s);for(t=0;t<e;t++){var f=o.redSqr(),c=h.redSqr(),l=c.redSqr(),d=f.redAdd(f).redIAdd(f).redIAdd(n.redMul(u)),p=o.redMul(c),y=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(y),g=d.redMul(m);g=g.redIAdd(g).redISub(l);var b=h.redMul(a);t+1<e&&(u=u.redMul(l)),o=y,a=b,h=g}return this.curve.jpoint(o,h.redMul(i),a)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),h=o.redIAdd(o);h=(h=h.redIAdd(h)).redIAdd(h),e=u,t=a.redMul(s.redISub(u)).redISub(h),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),c=this.y.redSqr(),l=c.redSqr(),d=this.x.redAdd(c).redSqr().redISub(f).redISub(l);d=d.redIAdd(d);var p=f.redAdd(f).redIAdd(f),y=p.redSqr(),m=l.redIAdd(l);m=(m=m.redIAdd(m)).redIAdd(m),e=y.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},h.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);e=u;var h=o.redIAdd(o);h=(h=h.redIAdd(h)).redIAdd(h),t=a.redMul(s.redISub(u)).redISub(h),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),c=this.y.redSqr(),l=this.x.redMul(c),d=this.x.redSub(f).redMul(this.x.redAdd(f));d=d.redAdd(d).redIAdd(d);var p=l.redIAdd(l),y=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(y),r=this.y.redAdd(this.z).redSqr().redISub(c).redISub(f);var m=c.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=d.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},h.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),u=t.redAdd(t),h=(u=u.redIAdd(u)).redMul(s),f=a.redSqr().redISub(h.redAdd(h)),c=h.redISub(f),l=s.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=a.redMul(c).redISub(l),p=r.redAdd(r).redMul(n);return this.curve.jpoint(f,d,p)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var h=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),f=t.redMul(h);f=(f=f.redIAdd(f)).redIAdd(f);var c=this.x.redMul(a).redISub(f);c=(c=c.redIAdd(c)).redIAdd(c);var l=this.y.redMul(h.redMul(u.redISub(h)).redISub(s.redMul(a)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(c,l,d)},h.prototype.mul=function(e,t){return e=new n(e,t),this.curve._wnafMul(this,e)},h.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},h.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}})),oj=H(((e,t)=>{x();var r=ka(),n=He(),i=Sy(),o=Eo();function s(e){i.call(this,"mont",e),this.a=new r(e.a,16).toRed(this.red),this.b=new r(e.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function a(e,t,n){i.BasePoint.call(this,e,"projective"),null===t&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(t,16),this.z=new r(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}n(s,i),t.exports=s,s.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},n(a,i.BasePoint),s.prototype.decodePoint=function(e,t){return this.point(o.toArray(e,t),1)},s.prototype.point=function(e,t){return new a(this,e,t)},s.prototype.pointFromJSON=function(e){return a.fromJSON(this,e)},a.prototype.precompute=function(){},a.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},a.fromJSON=function(e,t){return new a(e,t[0],t[1]||e.one)},a.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},a.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},a.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},a.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},a.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),s=i.redMul(n),a=t.z.redMul(o.redAdd(s).redSqr()),u=t.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,u)},a.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},a.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},a.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},a.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},a.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},a.prototype.getX=function(){return this.normalize(),this.x.fromRed()}})),fj=H(((e,t)=>{x();var r=Eo(),n=ka(),i=He(),o=Sy(),s=r.assert;function a(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,o.call(this,"edwards",e),this.a=new n(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new n(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new n(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function u(e,t,r,i,s){o.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===i?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new n(t,16),this.y=new n(r,16),this.z=i?new n(i,16):this.curve.one,this.t=s&&new n(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}i(a,o),t.exports=a,a.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},a.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},a.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},a.prototype.pointFromX=function(e,t){(e=new n(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),i=this.c2.redSub(this.a.redMul(r)),o=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=i.redMul(o.redInvm()),a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var u=a.fromRed().isOdd();return(t&&!u||!t&&u)&&(a=a.redNeg()),this.point(e,a)},a.prototype.pointFromY=function(e,t){(e=new n(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),i=r.redSub(this.c2),o=r.redMul(this.d).redMul(this.c2).redSub(this.a),s=i.redMul(o.redInvm());if(0===s.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},a.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},i(u,o.BasePoint),a.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},a.prototype.point=function(e,t,r,n){return new u(this,e,t,r,n)},u.fromJSON=function(e,t){return new u(e,t[0],t[1],t[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),s=o.redSub(r),a=n.redSub(t),u=i.redMul(s),h=o.redMul(a),f=i.redMul(a),c=s.redMul(o);return this.curve.point(u,h,c,f)},u.prototype._projDbl=function(){var e,t,r,n,i,o,s=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),u=this.y.redSqr();if(this.curve.twisted){var h=(n=this.curve._mulA(a)).redAdd(u);this.zOne?(e=s.redSub(a).redSub(u).redMul(h.redSub(this.curve.two)),t=h.redMul(n.redSub(u)),r=h.redSqr().redSub(h).redSub(h)):(i=this.z.redSqr(),o=h.redSub(i).redISub(i),e=s.redSub(a).redISub(u).redMul(o),t=h.redMul(n.redSub(u)),r=h.redMul(o))}else n=a.redAdd(u),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),e=this.curve._mulC(s.redISub(n)).redMul(o),t=this.curve._mulC(n).redMul(a.redISub(u)),r=n.redMul(o);return this.curve.point(e,t,r)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),s=i.redSub(n),a=i.redAdd(n),u=r.redAdd(t),h=o.redMul(s),f=a.redMul(u),c=o.redMul(u),l=s.redMul(a);return this.curve.point(h,f,l,c)},u.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),o=this.x.redMul(e.x),s=this.y.redMul(e.y),a=this.curve.d.redMul(o).redMul(s),u=i.redSub(a),h=i.redAdd(a),f=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(s),c=n.redMul(u).redMul(f);return this.curve.twisted?(t=n.redMul(h).redMul(s.redSub(this.curve._mulA(o))),r=u.redMul(h)):(t=n.redMul(h).redMul(s.redSub(o)),r=this.curve._mulC(u).redMul(h)),this.curve.point(c,t,r)},u.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},u.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},u.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},u.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add})),q8=H((e=>{x();var t=e;t.base=Sy(),t.short=rj(),t.mont=oj(),t.edwards=fj()})),Bs=H((e=>{x();var t=xo(),r=He();function n(e,t){return!(55296!=(64512&e.charCodeAt(t))||t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1))}function i(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function o(e){return 1===e.length?"0"+e:e}function s(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}e.inherits=r,e.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),o=0;o<e.length;o+=2)r.push(parseInt(e[o]+e[o+1],16))}else for(var i=0,o=0;o<e.length;o++){var s=e.charCodeAt(o);s<128?r[i++]=s:s<2048?(r[i++]=s>>6|192,r[i++]=63&s|128):n(e,o)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++o)),r[i++]=s>>18|240,r[i++]=s>>12&63|128,r[i++]=s>>6&63|128,r[i++]=63&s|128):(r[i++]=s>>12|224,r[i++]=s>>6&63|128,r[i++]=63&s|128)}else for(o=0;o<e.length;o++)r[o]=0|e[o];return r},e.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=o(e[r].toString(16));return t},e.htonl=i,e.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var o=e[n];"little"===t&&(o=i(o)),r+=s(o.toString(16))}return r},e.zero2=o,e.zero8=s,e.join32=function(e,r,n,i){var o=n-r;t(o%4==0);for(var s=new Array(o/4),a=0,u=r;a<s.length;a++,u+=4){var h;h="big"===i?e[u]<<24|e[u+1]<<16|e[u+2]<<8|e[u+3]:e[u+3]<<24|e[u+2]<<16|e[u+1]<<8|e[u],s[a]=h>>>0}return s},e.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},e.rotr32=function(e,t){return e>>>t|e<<32-t},e.rotl32=function(e,t){return e<<t|e>>>32-t},e.sum32=function(e,t){return e+t>>>0},e.sum32_3=function(e,t,r){return e+t+r>>>0},e.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},e.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},e.sum64=function(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,s=(o<n?1:0)+r+i;e[t]=s>>>0,e[t+1]=o},e.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},e.sum64_lo=function(e,t,r,n){return t+n>>>0},e.sum64_4_hi=function(e,t,r,n,i,o,s,a){var u=0,h=t;return u+=(h=h+n>>>0)<t?1:0,u+=(h=h+o>>>0)<o?1:0,e+r+i+s+(u+=(h=h+a>>>0)<a?1:0)>>>0},e.sum64_4_lo=function(e,t,r,n,i,o,s,a){return t+n+o+a>>>0},e.sum64_5_hi=function(e,t,r,n,i,o,s,a,u,h){var f=0,c=t;return f+=(c=c+n>>>0)<t?1:0,f+=(c=c+o>>>0)<o?1:0,f+=(c=c+a>>>0)<a?1:0,e+r+i+s+u+(f+=(c=c+h>>>0)<h?1:0)>>>0},e.sum64_5_lo=function(e,t,r,n,i,o,s,a,u,h){return t+n+o+a+h>>>0},e.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},e.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},e.shr64_hi=function(e,t,r){return e>>>r},e.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}})),s0=H((e=>{x();var t=Bs(),r=xo();function n(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=n,n.prototype.update=function(e,r){if(e=t.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=t.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},n.prototype.digest=function(e){return this.update(this._pad()),r(null===this.pending),this._digest(e)},n.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n}})),j8=H((e=>{x();var t=Bs().rotr32;function r(e,t,r){return e&t^~e&r}function n(e,t,r){return e&t^e&r^t&r}function i(e,t,r){return e^t^r}e.ft_1=function(e,t,o,s){return 0===e?r(t,o,s):1===e||3===e?i(t,o,s):2===e?n(t,o,s):void 0},e.ch32=r,e.maj32=n,e.p32=i,e.s0_256=function(e){return t(e,2)^t(e,13)^t(e,22)},e.s1_256=function(e){return t(e,6)^t(e,11)^t(e,25)},e.g0_256=function(e){return t(e,7)^t(e,18)^e>>>3},e.g1_256=function(e){return t(e,17)^t(e,19)^e>>>10}})),wj=H(((e,t)=>{x();var r=Bs(),n=s0(),i=j8(),o=r.rotl32,s=r.sum32,a=r.sum32_5,u=i.ft_1,h=n.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function c(){if(!(this instanceof c))return new c;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(c,h),t.exports=c,c.blockSize=512,c.outSize=160,c.hmacStrength=80,c.padLength=64,c.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=o(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],h=this.h[1],c=this.h[2],l=this.h[3],d=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),y=a(o(i,5),u(p,h,c,l),d,r[n],f[p]);d=l,l=c,c=o(h,30),h=i,i=y}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],h),this.h[2]=s(this.h[2],c),this.h[3]=s(this.h[3],l),this.h[4]=s(this.h[4],d)},c.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}})),z8=H(((e,t)=>{x();var r=Bs(),n=s0(),i=j8(),o=xo(),s=r.sum32,a=r.sum32_4,u=r.sum32_5,h=i.ch32,f=i.maj32,c=i.s0_256,l=i.s1_256,d=i.g0_256,p=i.g1_256,y=n.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function g(){if(!(this instanceof g))return new g;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}r.inherits(g,y),t.exports=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=a(p(r[n-2]),r[n-7],d(r[n-15]),r[n-16]);var i=this.h[0],y=this.h[1],m=this.h[2],g=this.h[3],b=this.h[4],w=this.h[5],v=this.h[6],_=this.h[7];for(o(this.k.length===r.length),n=0;n<r.length;n++){var E=u(_,l(b),h(b,w,v),this.k[n],r[n]),S=s(c(i),f(i,y,m));_=v,v=w,w=b,b=s(g,E),g=m,m=y,y=i,i=s(E,S)}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],y),this.h[2]=s(this.h[2],m),this.h[3]=s(this.h[3],g),this.h[4]=s(this.h[4],b),this.h[5]=s(this.h[5],w),this.h[6]=s(this.h[6],v),this.h[7]=s(this.h[7],_)},g.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}})),Sj=H(((e,t)=>{x();var r=Bs(),n=z8();function i(){if(!(this instanceof i))return new i;n.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(i,n),t.exports=i,i.blockSize=512,i.outSize=224,i.hmacStrength=192,i.padLength=64,i.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}})),W8=H(((e,t)=>{x();var r=Bs(),n=s0(),i=xo(),o=r.rotr64_hi,s=r.rotr64_lo,a=r.shr64_hi,u=r.shr64_lo,h=r.sum64,f=r.sum64_hi,c=r.sum64_lo,l=r.sum64_4_hi,d=r.sum64_4_lo,p=r.sum64_5_hi,y=r.sum64_5_lo,m=n.BlockHash,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g,this.W=new Array(160)}function w(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function v(e,t,r,n,i,o){var s=t&n^~t&o;return s<0&&(s+=4294967296),s}function _(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function E(e,t,r,n,i,o){var s=t&n^t&o^n&o;return s<0&&(s+=4294967296),s}function S(e,t){var r=o(e,t,28)^o(t,e,2)^o(t,e,7);return r<0&&(r+=4294967296),r}function M(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}function A(e,t){var r=o(e,t,14)^o(e,t,18)^o(t,e,9);return r<0&&(r+=4294967296),r}function k(e,t){var r=s(e,t,14)^s(e,t,18)^s(t,e,9);return r<0&&(r+=4294967296),r}function T(e,t){var r=o(e,t,1)^o(e,t,8)^a(e,t,7);return r<0&&(r+=4294967296),r}function P(e,t){var r=s(e,t,1)^s(e,t,8)^u(e,t,7);return r<0&&(r+=4294967296),r}function I(e,t){var r=o(e,t,19)^o(t,e,29)^a(e,t,6);return r<0&&(r+=4294967296),r}function R(e,t){var r=s(e,t,19)^s(t,e,29)^u(e,t,6);return r<0&&(r+=4294967296),r}r.inherits(b,m),t.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=I(r[n-4],r[n-3]),o=R(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],u=T(r[n-30],r[n-29]),h=P(r[n-30],r[n-29]),f=r[n-32],c=r[n-31];r[n]=l(i,o,s,a,u,h,f,c),r[n+1]=d(i,o,s,a,u,h,f,c)}},b.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],u=this.h[4],l=this.h[5],d=this.h[6],m=this.h[7],g=this.h[8],b=this.h[9],x=this.h[10],T=this.h[11],P=this.h[12],I=this.h[13],R=this.h[14],O=this.h[15];i(this.k.length===r.length);for(var B=0;B<r.length;B+=2){var C=R,L=O,j=A(g,b),D=k(g,b),N=w(g,0,x,0,P),U=v(0,b,0,T,0,I),H=this.k[B],z=this.k[B+1],F=r[B],q=r[B+1],$=p(C,L,j,D,N,U,H,z,F,q),K=y(C,L,j,D,N,U,H,z,F,q);C=S(n,o),L=M(n,o),j=_(n,0,s,0,u),D=E(0,o,0,a,0,l);var V=f(C,L,j,D),W=c(C,L,j,D);R=P,O=I,P=x,I=T,x=g,T=b,g=f(d,m,$,K),b=c(m,m,$,K),d=u,m=l,u=s,l=a,s=n,a=o,n=f($,K,V,W),o=c($,K,V,W)}h(this.h,0,n,o),h(this.h,2,s,a),h(this.h,4,u,l),h(this.h,6,d,m),h(this.h,8,g,b),h(this.h,10,x,T),h(this.h,12,P,I),h(this.h,14,R,O)},b.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}})),Dj=H(((e,t)=>{x();var r=Bs(),n=W8();function i(){if(!(this instanceof i))return new i;n.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(i,n),t.exports=i,i.blockSize=1024,i.outSize=384,i.hmacStrength=192,i.padLength=128,i.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}})),Bj=H((e=>{x(),e.sha1=wj(),e.sha224=Sj(),e.sha256=z8(),e.sha384=Dj(),e.sha512=W8()})),jj=H((e=>{x();var t=Bs(),r=s0(),n=t.rotl32,i=t.sum32,o=t.sum32_3,s=t.sum32_4,a=r.BlockHash;function u(){if(!(this instanceof u))return new u;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function f(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}t.inherits(u,a),e.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(e,t){for(var r=this.h[0],a=this.h[1],u=this.h[2],y=this.h[3],m=this.h[4],g=r,b=a,w=u,v=y,_=m,E=0;E<80;E++){var S=i(n(s(r,h(E,a,u,y),e[c[E]+t],(M=E)<=15?0:M<=31?1518500249:M<=47?1859775393:M<=63?2400959708:2840853838),d[E]),m);r=m,m=y,y=n(u,10),u=a,a=S,S=i(n(s(g,h(79-E,b,w,v),e[l[E]+t],f(E)),p[E]),_),g=_,_=v,v=n(w,10),w=b,b=S}var M;S=o(this.h[1],u,v),this.h[1]=o(this.h[2],y,_),this.h[2]=o(this.h[3],m,g),this.h[3]=o(this.h[4],r,b),this.h[4]=o(this.h[0],a,w),this.h[0]=S},u.prototype._digest=function(e){return"hex"===e?t.toHex32(this.h,"little"):t.split32(this.h,"little")};var c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],d=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],p=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]})),zj=H(((e,t)=>{x();var r=Bs(),n=xo();function i(e,t,n){if(!(this instanceof i))return new i(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(t,n))}t.exports=i,i.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),n(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},i.prototype.update=function(e,t){return this.inner.update(e,t),this},i.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}})),Rw=H((e=>{x();var t=e;t.utils=Bs(),t.common=s0(),t.sha=Bj(),t.ripemd=jj(),t.hmac=zj(),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160})),Hj=H(((e,t)=>{x(),t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}})),kw=H((e=>{x();var t,r=e,n=Rw(),i=q8(),o=Eo().assert;function s(e){"short"===e.type?this.curve=new i.short(e):"edwards"===e.type?this.curve=new i.edwards(e):this.curve=new i.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function a(e,t){Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:function(){var n=new s(t);return Object.defineProperty(r,e,{configurable:!0,enumerable:!0,value:n}),n}})}r.PresetCurve=s,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:n.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:n.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:n.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:n.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:n.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{t=Hj()}catch{t=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:n.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",t]})})),Yj=H(((e,t)=>{x();var r=Rw(),n=N8(),i=xo();function o(e){if(!(this instanceof o))return new o(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=n.toArray(e.entropy,e.entropyEnc||"hex"),r=n.toArray(e.nonce,e.nonceEnc||"hex"),s=n.toArray(e.pers,e.persEnc||"hex");i(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,s)}t.exports=o,o.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},o.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(e,t,r,o){"string"!=typeof t&&(o=r,r=t,t=null),e=n.toArray(e,t),r=n.toArray(r,o),i(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},o.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(i=r,r=t,t=null),r&&(r=n.toArray(r,i||"hex"),this._update(r));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(r),this._reseed++,n.encode(s,t)}})),Xj=H(((e,t)=>{x();var r=ka(),n=Eo().assert;function i(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}t.exports=i,i.fromPublic=function(e,t,r){return t instanceof i?t:new i(e,{pub:t,pubEnc:r})},i.fromPrivate=function(e,t,r){return t instanceof i?t:new i(e,{priv:t,privEnc:r})},i.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},i.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},i.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},i.prototype._importPrivate=function(e,t){this.priv=new r(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},i.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?n(e.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&n(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},i.prototype.derive=function(e){return e.validate()||n(e.validate(),"public point not validated"),e.mul(this.priv).getX()},i.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},i.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},i.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}})),tU=H(((e,t)=>{x();var r=ka(),n=Eo(),i=n.assert;function o(e,t){if(e instanceof o)return e;this._importDER(e,t)||(i(e.r&&e.s,"Signature without r or s"),this.r=new r(e.r,16),this.s=new r(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function s(){this.place=0}function a(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function u(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function h(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}t.exports=o,o.prototype._importDER=function(e,t){e=n.toArray(e,t);var i=new s;if(48!==e[i.place++])return!1;var o=a(e,i);if(!1===o||o+i.place!==e.length||2!==e[i.place++])return!1;var u=a(e,i);if(!1===u)return!1;var h=e.slice(i.place,u+i.place);if(i.place+=u,2!==e[i.place++])return!1;var f=a(e,i);if(!1===f||e.length!==f+i.place)return!1;var c=e.slice(i.place,f+i.place);if(0===h[0]){if(!(128&h[1]))return!1;h=h.slice(1)}if(0===c[0]){if(!(128&c[1]))return!1;c=c.slice(1)}return this.r=new r(h),this.s=new r(c),this.recoveryParam=null,!0},o.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=u(t),r=u(r);!(r[0]||128&r[1]);)r=r.slice(1);var i=[2];h(i,t.length),(i=i.concat(t)).push(2),h(i,r.length);var o=i.concat(r),s=[48];return h(s,o.length),s=s.concat(o),n.encode(s,e)}})),oU=H(((e,t)=>{x();var r=ka(),n=Yj(),i=Eo(),o=kw(),s=Qb(),a=i.assert,u=Xj(),h=tU();function f(e){if(!(this instanceof f))return new f(e);"string"==typeof e&&(a(Object.prototype.hasOwnProperty.call(o,e),"Unknown curve "+e),e=o[e]),e instanceof o.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}t.exports=f,f.prototype.keyPair=function(e){return new u(this,e)},f.prototype.keyFromPrivate=function(e,t){return u.fromPrivate(this,e,t)},f.prototype.keyFromPublic=function(e,t){return u.fromPublic(this,e,t)},f.prototype.genKeyPair=function(e){e||(e={});for(var t=new n({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),o=this.n.sub(new r(2));;){var a=new r(t.generate(i));if(!(a.cmp(o)>0))return a.iaddn(1),this.keyFromPrivate(a)}},f.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},f.prototype.sign=function(e,t,i,o){"object"==typeof i&&(o=i,i=null),o||(o={}),t=this.keyFromPrivate(t,i),e=this._truncateToN(new r(e,16));for(var s=this.n.byteLength(),a=t.getPrivate().toArray("be",s),u=e.toArray("be",s),f=new n({hash:this.hash,entropy:a,nonce:u,pers:o.pers,persEnc:o.persEnc||"utf8"}),c=this.n.sub(new r(1)),l=0;;l++){var d=o.k?o.k(l):new r(f.generate(this.n.byteLength()));if(!((d=this._truncateToN(d,!0)).cmpn(1)<=0||d.cmp(c)>=0)){var p=this.g.mul(d);if(!p.isInfinity()){var y=p.getX(),m=y.umod(this.n);if(0!==m.cmpn(0)){var g=d.invm(this.n).mul(m.mul(t.getPrivate()).iadd(e));if(0!==(g=g.umod(this.n)).cmpn(0)){var b=(p.getY().isOdd()?1:0)|(0!==y.cmp(m)?2:0);return o.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),b^=1),new h({r:m,s:g,recoveryParam:b})}}}}}},f.prototype.verify=function(e,t,n,i){e=this._truncateToN(new r(e,16)),n=this.keyFromPublic(n,i);var o=(t=new h(t,"hex")).r,s=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a,u=s.invm(this.n),f=u.mul(e).umod(this.n),c=u.mul(o).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(f,n.getPublic(),c)).isInfinity()&&a.eqXToP(o):!(a=this.g.mulAdd(f,n.getPublic(),c)).isInfinity()&&0===a.getX().umod(this.n).cmp(o)},f.prototype.recoverPubKey=function(e,t,n,i){a((3&n)===n,"The recovery param is more than two bits"),t=new h(t,i);var o=this.n,s=new r(e),u=t.r,f=t.s,c=1&n,l=n>>1;if(u.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");u=l?this.curve.pointFromX(u.add(this.curve.n),c):this.curve.pointFromX(u,c);var d=t.r.invm(o),p=o.sub(s).mul(d).umod(o),y=f.mul(d).umod(o);return this.g.mulAdd(p,u,y)},f.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new h(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch{continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}})),uU=H(((e,t)=>{x();var r=Eo(),n=r.assert,i=r.parseBytes,o=r.cachedProperty;function s(e,t){this.eddsa=e,this._secret=i(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=i(t.pub)}s.fromPublic=function(e,t){return t instanceof s?t:new s(e,{pub:t})},s.fromSecret=function(e,t){return t instanceof s?t:new s(e,{secret:t})},s.prototype.secret=function(){return this._secret},o(s,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),o(s,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),o(s,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),o(s,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),o(s,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),o(s,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),s.prototype.sign=function(e){return n(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},s.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},s.prototype.getSecret=function(e){return n(this._secret,"KeyPair is public only"),r.encode(this.secret(),e)},s.prototype.getPublic=function(e){return r.encode(this.pubBytes(),e)},t.exports=s})),hU=H(((e,t)=>{x();var r=ka(),n=Eo(),i=n.assert,o=n.cachedProperty,s=n.parseBytes;function a(e,t){this.eddsa=e,"object"!=typeof t&&(t=s(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),i(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof r&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}o(a,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),o(a,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),o(a,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),o(a,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),a.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},a.prototype.toHex=function(){return n.encode(this.toBytes(),"hex").toUpperCase()},t.exports=a})),yU=H(((e,t)=>{x();var r=Rw(),n=kw(),i=Eo(),o=i.assert,s=i.parseBytes,a=uU(),u=hU();function h(e){if(o("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof h))return new h(e);e=n[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=r.sha512}t.exports=h,h.prototype.sign=function(e,t){e=s(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),o=this.encodePoint(i),a=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),u=n.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:u,Rencoded:o})},h.prototype.verify=function(e,t,r){e=s(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(o)},h.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return i.intFromLE(e.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(e){return a.fromPublic(this,e)},h.prototype.keyFromSecret=function(e){return a.fromSecret(this,e)},h.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},h.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},h.prototype.decodePoint=function(e){var t=(e=i.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),o=i.intFromLE(r);return this.curve.pointFromY(o,n)},h.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(e){return i.intFromLE(e)},h.prototype.isPoint=function(e){return e instanceof this.pointClass}})),Cw=H((e=>{x();var t=e;t.version=Gq().version,t.utils=Eo(),t.rand=Qb(),t.curve=q8(),t.curves=kw(),t.ec=oU(),t.eddsa=yU()})),iS=H(((e,t)=>{x(),function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&(("le"===t||"be"===t)&&(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{o=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:St().Buffer}catch{}function s(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function a(e,t,r){var n=s(e,r);return r-1>=t&&(n|=s(e,r-1)<<4),n}function u(e,t,r,n){for(var i=0,o=Math.min(e.length,r),s=t;s<o;s++){var a=e.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=a(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=a(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,h=0,f=r;f<a;f+=n)h=u(e,f,f+n,t),this.imuln(i),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==s){var c=1;for(h=u(e,f,e.length,t),f=0;f<s;f++)c*=t;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],c=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function l(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var h=1;h<n;h++){for(var f=u>>>26,c=67108863&u,l=Math.min(h,t.length-1),d=Math.max(0,h-e.length+1);d<=l;d++){var p=h-d|0;f+=(s=(i=0|e.words[p])*(o=0|t.words[d])+c)/67108864|0,c=67108863&s}r.words[h]=0|c,u=0|f}return 0!==u?r.words[h]=0|u:r.length--,r.strip()}i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);n=0!=(o=a>>>24-i&16777215)||s!==this.length-1?h[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var l=f[e],d=c[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var y=p.modn(d).toString(e);n=(p=p.idivn(d)).isZero()?y+n:h[l-y.length]+y+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){return r(typeof o<"u"),this.toArrayLike(o,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,u="le"===t,h=new e(o),f=this.clone();if(u){for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),h[a]=s;for(;a<o;a++)h[a]=0}else{for(a=0;a<o-i;a++)h[a]=0;for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),h[o-a-1]=s}return h},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var d=function(e,t,r){var n,i,o,s=e.words,a=t.words,u=r.words,h=0,f=0|s[0],c=8191&f,l=f>>>13,d=0|s[1],p=8191&d,y=d>>>13,m=0|s[2],g=8191&m,b=m>>>13,w=0|s[3],v=8191&w,_=w>>>13,E=0|s[4],S=8191&E,M=E>>>13,A=0|s[5],k=8191&A,x=A>>>13,T=0|s[6],P=8191&T,I=T>>>13,R=0|s[7],O=8191&R,B=R>>>13,C=0|s[8],L=8191&C,j=C>>>13,D=0|s[9],N=8191&D,U=D>>>13,H=0|a[0],z=8191&H,F=H>>>13,q=0|a[1],$=8191&q,K=q>>>13,V=0|a[2],W=8191&V,G=V>>>13,Y=0|a[3],J=8191&Y,Z=Y>>>13,X=0|a[4],Q=8191&X,ee=X>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ue=8191&ae,he=ae>>>13,fe=0|a[8],ce=8191&fe,le=fe>>>13,de=0|a[9],pe=8191&de,ye=de>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(h+(n=Math.imul(c,z))|0)+((8191&(i=(i=Math.imul(c,F))+Math.imul(l,z)|0))<<13)|0;h=((o=Math.imul(l,F))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,F))+Math.imul(y,z)|0,o=Math.imul(y,F);var ge=(h+(n=n+Math.imul(c,$)|0)|0)+((8191&(i=(i=i+Math.imul(c,K)|0)+Math.imul(l,$)|0))<<13)|0;h=((o=o+Math.imul(l,K)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,z),i=(i=Math.imul(g,F))+Math.imul(b,z)|0,o=Math.imul(b,F),n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,K)|0;var be=(h+(n=n+Math.imul(c,W)|0)|0)+((8191&(i=(i=i+Math.imul(c,G)|0)+Math.imul(l,W)|0))<<13)|0;h=((o=o+Math.imul(l,G)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,F))+Math.imul(_,z)|0,o=Math.imul(_,F),n=n+Math.imul(g,$)|0,i=(i=i+Math.imul(g,K)|0)+Math.imul(b,$)|0,o=o+Math.imul(b,K)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,G)|0;var we=(h+(n=n+Math.imul(c,J)|0)|0)+((8191&(i=(i=i+Math.imul(c,Z)|0)+Math.imul(l,J)|0))<<13)|0;h=((o=o+Math.imul(l,Z)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,F))+Math.imul(M,z)|0,o=Math.imul(M,F),n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,K)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,K)|0,n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,G)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,Z)|0;var ve=(h+(n=n+Math.imul(c,Q)|0)|0)+((8191&(i=(i=i+Math.imul(c,ee)|0)+Math.imul(l,Q)|0))<<13)|0;h=((o=o+Math.imul(l,ee)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(k,z),i=(i=Math.imul(k,F))+Math.imul(x,z)|0,o=Math.imul(x,F),n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,K)|0,n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,G)|0,n=n+Math.imul(g,J)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0;var _e=(h+(n=n+Math.imul(c,re)|0)|0)+((8191&(i=(i=i+Math.imul(c,ne)|0)+Math.imul(l,re)|0))<<13)|0;h=((o=o+Math.imul(l,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(P,z),i=(i=Math.imul(P,F))+Math.imul(I,z)|0,o=Math.imul(I,F),n=n+Math.imul(k,$)|0,i=(i=i+Math.imul(k,K)|0)+Math.imul(x,$)|0,o=o+Math.imul(x,K)|0,n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,G)|0,n=n+Math.imul(v,J)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,Z)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0;var Ee=(h+(n=n+Math.imul(c,oe)|0)|0)+((8191&(i=(i=i+Math.imul(c,se)|0)+Math.imul(l,oe)|0))<<13)|0;h=((o=o+Math.imul(l,se)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(O,z),i=(i=Math.imul(O,F))+Math.imul(B,z)|0,o=Math.imul(B,F),n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,K)|0,n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(x,W)|0,o=o+Math.imul(x,G)|0,n=n+Math.imul(S,J)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0;var Se=(h+(n=n+Math.imul(c,ue)|0)|0)+((8191&(i=(i=i+Math.imul(c,he)|0)+Math.imul(l,ue)|0))<<13)|0;h=((o=o+Math.imul(l,he)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,F))+Math.imul(j,z)|0,o=Math.imul(j,F),n=n+Math.imul(O,$)|0,i=(i=i+Math.imul(O,K)|0)+Math.imul(B,$)|0,o=o+Math.imul(B,K)|0,n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,G)|0,n=n+Math.imul(k,J)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,Z)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,se)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,se)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,he)|0;var Me=(h+(n=n+Math.imul(c,ce)|0)|0)+((8191&(i=(i=i+Math.imul(c,le)|0)+Math.imul(l,ce)|0))<<13)|0;h=((o=o+Math.imul(l,le)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(N,z),i=(i=Math.imul(N,F))+Math.imul(U,z)|0,o=Math.imul(U,F),n=n+Math.imul(L,$)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(j,$)|0,o=o+Math.imul(j,K)|0,n=n+Math.imul(O,W)|0,i=(i=i+Math.imul(O,G)|0)+Math.imul(B,W)|0,o=o+Math.imul(B,G)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,Z)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(M,re)|0,o=o+Math.imul(M,ne)|0,n=n+Math.imul(v,oe)|0,i=(i=i+Math.imul(v,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,n=n+Math.imul(g,ue)|0,i=(i=i+Math.imul(g,he)|0)+Math.imul(b,ue)|0,o=o+Math.imul(b,he)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,le)|0;var Ae=(h+(n=n+Math.imul(c,pe)|0)|0)+((8191&(i=(i=i+Math.imul(c,ye)|0)+Math.imul(l,pe)|0))<<13)|0;h=((o=o+Math.imul(l,ye)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(N,$),i=(i=Math.imul(N,K))+Math.imul(U,$)|0,o=Math.imul(U,K),n=n+Math.imul(L,W)|0,i=(i=i+Math.imul(L,G)|0)+Math.imul(j,W)|0,o=o+Math.imul(j,G)|0,n=n+Math.imul(O,J)|0,i=(i=i+Math.imul(O,Z)|0)+Math.imul(B,J)|0,o=o+Math.imul(B,Z)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(x,re)|0,o=o+Math.imul(x,ne)|0,n=n+Math.imul(S,oe)|0,i=(i=i+Math.imul(S,se)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,se)|0,n=n+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,he)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,he)|0,n=n+Math.imul(g,ce)|0,i=(i=i+Math.imul(g,le)|0)+Math.imul(b,ce)|0,o=o+Math.imul(b,le)|0;var ke=(h+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;h=((o=o+Math.imul(y,ye)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(N,W),i=(i=Math.imul(N,G))+Math.imul(U,W)|0,o=Math.imul(U,G),n=n+Math.imul(L,J)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(j,J)|0,o=o+Math.imul(j,Z)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,se)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,se)|0,n=n+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,he)|0)+Math.imul(M,ue)|0,o=o+Math.imul(M,he)|0,n=n+Math.imul(v,ce)|0,i=(i=i+Math.imul(v,le)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,le)|0;var xe=(h+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,ye)|0)+Math.imul(b,pe)|0))<<13)|0;h=((o=o+Math.imul(b,ye)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(N,J),i=(i=Math.imul(N,Z))+Math.imul(U,J)|0,o=Math.imul(U,Z),n=n+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,ee)|0)+Math.imul(j,Q)|0,o=o+Math.imul(j,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(B,re)|0,o=o+Math.imul(B,ne)|0,n=n+Math.imul(P,oe)|0,i=(i=i+Math.imul(P,se)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,se)|0,n=n+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,he)|0)+Math.imul(x,ue)|0,o=o+Math.imul(x,he)|0,n=n+Math.imul(S,ce)|0,i=(i=i+Math.imul(S,le)|0)+Math.imul(M,ce)|0,o=o+Math.imul(M,le)|0;var Te=(h+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,ye)|0)+Math.imul(_,pe)|0))<<13)|0;h=((o=o+Math.imul(_,ye)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(N,Q),i=(i=Math.imul(N,ee))+Math.imul(U,Q)|0,o=Math.imul(U,ee),n=n+Math.imul(L,re)|0,i=(i=i+Math.imul(L,ne)|0)+Math.imul(j,re)|0,o=o+Math.imul(j,ne)|0,n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,se)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,se)|0,n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,he)|0)+Math.imul(I,ue)|0,o=o+Math.imul(I,he)|0,n=n+Math.imul(k,ce)|0,i=(i=i+Math.imul(k,le)|0)+Math.imul(x,ce)|0,o=o+Math.imul(x,le)|0;var Pe=(h+(n=n+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ye)|0)+Math.imul(M,pe)|0))<<13)|0;h=((o=o+Math.imul(M,ye)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(N,re),i=(i=Math.imul(N,ne))+Math.imul(U,re)|0,o=Math.imul(U,ne),n=n+Math.imul(L,oe)|0,i=(i=i+Math.imul(L,se)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,se)|0,n=n+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(B,ue)|0,o=o+Math.imul(B,he)|0,n=n+Math.imul(P,ce)|0,i=(i=i+Math.imul(P,le)|0)+Math.imul(I,ce)|0,o=o+Math.imul(I,le)|0;var Ie=(h+(n=n+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ye)|0)+Math.imul(x,pe)|0))<<13)|0;h=((o=o+Math.imul(x,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(N,oe),i=(i=Math.imul(N,se))+Math.imul(U,oe)|0,o=Math.imul(U,se),n=n+Math.imul(L,ue)|0,i=(i=i+Math.imul(L,he)|0)+Math.imul(j,ue)|0,o=o+Math.imul(j,he)|0,n=n+Math.imul(O,ce)|0,i=(i=i+Math.imul(O,le)|0)+Math.imul(B,ce)|0,o=o+Math.imul(B,le)|0;var Re=(h+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,ye)|0)+Math.imul(I,pe)|0))<<13)|0;h=((o=o+Math.imul(I,ye)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(N,ue),i=(i=Math.imul(N,he))+Math.imul(U,ue)|0,o=Math.imul(U,he),n=n+Math.imul(L,ce)|0,i=(i=i+Math.imul(L,le)|0)+Math.imul(j,ce)|0,o=o+Math.imul(j,le)|0;var Oe=(h+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ye)|0)+Math.imul(B,pe)|0))<<13)|0;h=((o=o+Math.imul(B,ye)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(N,ce),i=(i=Math.imul(N,le))+Math.imul(U,ce)|0,o=Math.imul(U,le);var Be=(h+(n=n+Math.imul(L,pe)|0)|0)+((8191&(i=(i=i+Math.imul(L,ye)|0)+Math.imul(j,pe)|0))<<13)|0;h=((o=o+Math.imul(j,ye)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863;var Ce=(h+(n=Math.imul(N,pe))|0)+((8191&(i=(i=Math.imul(N,ye))+Math.imul(U,pe)|0))<<13)|0;return h=((o=Math.imul(U,ye))+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,u[0]=me,u[1]=ge,u[2]=be,u[3]=we,u[4]=ve,u[5]=_e,u[6]=Ee,u[7]=Se,u[8]=Me,u[9]=Ae,u[10]=ke,u[11]=xe,u[12]=Te,u[13]=Pe,u[14]=Ie,u[15]=Re,u[16]=Oe,u[17]=Be,u[18]=Ce,0!==h&&(u[19]=h,r.length++),r};function p(e,t,r){return(new y).mulp(e,t,r)}function y(e,t){this.x=e,this.y=t}Math.imul||(d=l),i.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?d(this,e,t):n<63?l(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,t.length-1),h=Math.max(0,o-e.length+1);h<=u;h++){var f=o-h,c=(0|e.words[f])*(0|t.words[h]),l=67108863&c;a=67108863&(l=l+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):p(this,e,t),r},y.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},y.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},y.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},y.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),h=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var c=u,l=h,d=0;d<s;d++){var p=r[f+d],y=n[f+d],m=r[f+d+s],g=n[f+d+s],b=c*m-l*g;g=c*g+l*m,m=b,r[f+d]=p+m,n[f+d]=y+g,r[f+d+s]=p-m,n[f+d+s]=y-g,d!==a&&(b=u*c-h*l,l=u*l+h*c,c=b)}},y.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},y.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},y.prototype.convert13b=function(e,t,n,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)n[s]=0;r(0===o),r(0==(-8192&o))},y.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},y.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),h=new Array(n),f=new Array(n),c=new Array(n),l=r.words;l.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,h,n),this.transform(s,o,a,u,n,i),this.transform(h,o,f,c,n,i);for(var d=0;d<n;d++){var p=a[d]*f[d]-u[d]*c[d];u[d]=a[d]*c[d]+u[d]*f[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,l,o,n,i),this.conjugate(l,o,n),this.normalize13b(l,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),p(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var o=r.sqr();n<t.length;n++,o=o.sqr())0!==t[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,u=(0|this.words[t])-a<<n;this.words[t]=u|s,s=a>>>26-n}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,u=n;if(i-=s,i=Math.max(0,i),u){for(var h=0;h<s;h++)u.words[h]=this.words[h];u.length=s}if(0!==s)if(this.length>s)for(this.length-=s,h=0;h<this.length;h++)this.words[h]=this.words[h+s];else this.words[0]=0,this.length=1;var f=0;for(h=this.length-1;h>=0&&(0!==f||h>=i);h--){var c=0|this.words[h];this.words[h]=f<<26-o|c>>>o,f=c&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n||!(this.words[n]&i))},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,o=e.length+n;this._expand(o);var s,a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+n])+a;var u=(0|e.words[i])*t;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&s}for(;i<this.length-n;i++)a=(s=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&s;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),o=e,s=0|o.words[o.length-1];0!=(r=26-this._countBits(s))&&(o=o.ushln(r),n.iushln(r),s=0|o.words[o.length-1]);var a,u=n.length-o.length;if("mod"!==t){(a=new i(null)).length=u+1,a.words=new Array(a.length);for(var h=0;h<a.length;h++)a.words[h]=0}var f=n.clone()._ishlnsubmul(o,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var c=u-1;c>=0;c--){var l=67108864*(0|n.words[o.length+c])+(0|n.words[o.length+c-1]);for(l=Math.min(l/s|0,67108863),n._ishlnsubmul(o,l,c);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(o,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=l)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(o=a.div.neg()),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(e)),{div:o,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(o=a.div.neg()),{div:o,mod:a.mod}):this.negative&e.negative?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t);var o,s,a},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},i.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new i(1),s=new i(0),a=new i(0),u=new i(1),h=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++h;for(var f=n.clone(),c=t.clone();!t.isZero();){for(var l=0,d=1;!(t.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(f),s.isub(c)),o.iushrn(1),s.iushrn(1);for(var p=0,y=1;!(n.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(c)),a.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(a),s.isub(u)):(n.isub(t),a.isub(o),u.isub(s))}return{a,b:u,gcd:n.iushln(h)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t,n=this,o=e.clone();n=0!==n.negative?n.umod(e):n.clone();for(var s=new i(1),a=new i(0),u=o.clone();n.cmpn(1)>0&&o.cmpn(1)>0;){for(var h=0,f=1;!(n.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(n.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var c=0,l=1;!(o.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(o.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);n.cmp(o)>=0?(n.isub(o),s.isub(a)):(o.isub(n),a.isub(s))}return(t=0===n.cmpn(1)?s:a).cmpn(0)<0&&t.iadd(e),t},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new E(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function g(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function v(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function S(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},g.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},g.prototype.split=function(e,t){e.iushrn(this.n,0,t)},g.prototype.imulK=function(e){return e.imul(this.k)},n(b,g),b.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(w,g),n(v,g),n(_,g),_.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new w;else if("p192"===e)t=new v;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return m[e]=t,t},E.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new i(1).toRed(this),u=a.redNeg(),h=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);0!==this.pow(f,h).cmp(u);)f.redIAdd(u);for(var c=this.pow(f,o),l=this.pow(e,o.addn(1).iushrn(1)),d=this.pow(e,o),p=s;0!==d.cmp(a);){for(var y=d,m=0;0!==y.cmp(a);m++)y=y.redSqr();r(m<p);var g=this.pow(c,new i(1).iushln(p-m-1));l=l.redMul(g),c=g.redSqr(),d=d.redMul(c),p=m}return l},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var o=r[0],s=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var h=t.words[n],f=u-1;f>=0;f--){var c=h>>f&1;o!==r[0]&&(o=this.sqr(o)),0!==c||0!==s?(s<<=1,s|=c,(4==++a||0===n&&0===f)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0}u=26}return o},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new S(e)},n(S,E),S.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},S.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},S.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},S.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},S.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(typeof t>"u"||t,e)})),Lw=H(((e,t)=>{x();var r,n=St(),i=n.Buffer,o={};for(r in n)n.hasOwnProperty(r)&&("SlowBuffer"===r||"Buffer"===r||(o[r]=n[r]));var s=o.Buffer={};for(r in i)i.hasOwnProperty(r)&&("allocUnsafe"===r||"allocUnsafeSlow"===r||(s[r]=i[r]));if(o.Buffer.prototype=i.prototype,(!s.from||s.from===Uint8Array.from)&&(s.from=function(e,t,r){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&typeof e.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return i(e,t,r)}),s.alloc||(s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=i(e);return t&&0!==t.length?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n}),!o.kStringMaxLength)try{o.kStringMaxLength=D.default.binding("buffer").kStringMaxLength}catch{}o.constants||(o.constants={MAX_LENGTH:o.kMaxLength},o.kStringMaxLength&&(o.constants.MAX_STRING_LENGTH=o.kStringMaxLength)),t.exports=o})),qw=H((e=>{x();var t=He();function r(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function n(e,t){this.path=e,this.rethrow(t)}e.Reporter=r,r.prototype.isError=function(e){return e instanceof n},r.prototype.save=function(){let e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},r.prototype.restore=function(e){let t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},r.prototype.enterKey=function(e){return this._reporterState.path.push(e)},r.prototype.exitKey=function(e){let t=this._reporterState;t.path=t.path.slice(0,e-1)},r.prototype.leaveKey=function(e,t,r){let n=this._reporterState;this.exitKey(e),null!==n.obj&&(n.obj[t]=r)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){let e=this._reporterState,t=e.obj;return e.obj={},t},r.prototype.leaveObject=function(e){let t=this._reporterState,r=t.obj;return t.obj=e,r},r.prototype.error=function(e){let t,r=this._reporterState,i=e instanceof n;if(t=i?e:new n(r.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!r.options.partial)throw t;return i||r.errors.push(t),t},r.prototype.wrapResult=function(e){let t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},t(n,Error),n.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,n),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}})),b0=H((e=>{x();var t=He(),r=qw().Reporter,n=Lw().Buffer;function i(e,t){r.call(this,t),n.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function o(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return o.isEncoderBuffer(e)||(e=new o(e,t)),this.length+=e.length,e}),this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=n.byteLength(e);else{if(!n.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}t(i,r),e.DecoderBuffer=i,i.isDecoderBuffer=function(e){return e instanceof i||"object"==typeof e&&n.isBuffer(e.base)&&"DecoderBuffer"===e.constructor.name&&"number"==typeof e.offset&&"number"==typeof e.length&&"function"==typeof e.save&&"function"==typeof e.restore&&"function"==typeof e.isEmpty&&"function"==typeof e.readUInt8&&"function"==typeof e.skip&&"function"==typeof e.raw},i.prototype.save=function(){return{offset:this.offset,reporter:r.prototype.save.call(this)}},i.prototype.restore=function(e){let t=new i(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,r.prototype.restore.call(this,e.reporter),t},i.prototype.isEmpty=function(){return this.offset===this.length},i.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},i.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");let r=new i(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},i.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},e.EncoderBuffer=o,o.isEncoderBuffer=function(e){return e instanceof o||"object"==typeof e&&"EncoderBuffer"===e.constructor.name&&"number"==typeof e.length&&"function"==typeof e.join},o.prototype.join=function(e,t){return e||(e=n.alloc(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(r){r.join(e,t),t+=r.length})):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):n.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e}})),Uw=H(((e,t)=>{x();var r=qw().Reporter,n=b0().EncoderBuffer,i=b0().DecoderBuffer,o=xo(),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],a=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s);function u(e,t,r){let n={};this._baseState=n,n.name=r,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}t.exports=u;var h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];u.prototype.clone=function(){let e=this._baseState,t={};h.forEach((function(r){t[r]=e[r]}));let r=new this.constructor(t.parent);return r._baseState=t,r},u.prototype._wrap=function(){let e=this._baseState;a.forEach((function(t){this[t]=function(){let r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}}),this)},u.prototype._init=function(e){let t=this._baseState;o(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),o.equal(t.children.length,1,"Root node can have only one child")},u.prototype._useArgs=function(e){let t=this._baseState,r=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==r.length&&(o(null===t.children),t.children=r,r.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(o(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!=typeof e||e.constructor!==Object)return e;let t={};return Object.keys(e).forEach((function(r){r==(0|r)&&(r|=0);let n=e[r];t[n]=r})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){u.prototype[e]=function(){let t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),s.forEach((function(e){u.prototype[e]=function(){let t=this._baseState,r=Array.prototype.slice.call(arguments);return o(null===t.tag),t.tag=e,this._useArgs(r),this}})),u.prototype.use=function(e){o(e);let t=this._baseState;return o(null===t.use),t.use=e,this},u.prototype.optional=function(){return this._baseState.optional=!0,this},u.prototype.def=function(e){let t=this._baseState;return o(null===t.default),t.default=e,t.optional=!0,this},u.prototype.explicit=function(e){let t=this._baseState;return o(null===t.explicit&&null===t.implicit),t.explicit=e,this},u.prototype.implicit=function(e){let t=this._baseState;return o(null===t.explicit&&null===t.implicit),t.implicit=e,this},u.prototype.obj=function(){let e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},u.prototype.key=function(e){let t=this._baseState;return o(null===t.key),t.key=e,this},u.prototype.any=function(){return this._baseState.any=!0,this},u.prototype.choice=function(e){let t=this._baseState;return o(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},u.prototype.contains=function(e){let t=this._baseState;return o(null===t.use),t.contains=e,this},u.prototype._decode=function(e,t){let r=this._baseState;if(null===r.parent)return e.wrapResult(r.children[0]._decode(e,t));let n,o=r.default,s=!0,a=null;if(null!==r.key&&(a=e.enterKey(r.key)),r.optional){let n=null;if(null!==r.explicit?n=r.explicit:null!==r.implicit?n=r.implicit:null!==r.tag&&(n=r.tag),null!==n||r.any){if(s=this._peekTag(e,n,r.any),e.isError(s))return s}else{let n=e.save();try{null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),s=!0}catch{s=!1}e.restore(n)}}if(r.obj&&s&&(n=e.enterObject()),s){if(null!==r.explicit){let t=this._decodeTag(e,r.explicit);if(e.isError(t))return t;e=t}let n=e.offset;if(null===r.use&&null===r.choice){let t;r.any&&(t=e.save());let n=this._decodeTag(e,null!==r.implicit?r.implicit:r.tag,r.any);if(e.isError(n))return n;r.any?o=e.raw(t):e=n}if(t&&t.track&&null!==r.tag&&t.track(e.path(),n,e.length,"tagged"),t&&t.track&&null!==r.tag&&t.track(e.path(),e.offset,e.length,"content"),r.any||(o=null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t)),e.isError(o))return o;if(!r.any&&null===r.choice&&null!==r.children&&r.children.forEach((function(r){r._decode(e,t)})),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){let n=new i(o);o=this._getUse(r.contains,e._reporterState.obj)._decode(n,t)}}return r.obj&&s&&(o=e.leaveObject(n)),null===r.key||null===o&&!0!==s?null!==a&&e.exitKey(a):e.leaveKey(a,r.key,o),o},u.prototype._decodeGeneric=function(e,t,r){let n=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,n.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&n.args?this._decodeObjid(t,n.args[0],n.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},u.prototype._getUse=function(e,t){let r=this._baseState;return r.useDecoder=this._use(e,t),o(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},u.prototype._decodeChoice=function(e,t){let r=this._baseState,n=null,i=!1;return Object.keys(r.choice).some((function(o){let s=e.save(),a=r.choice[o];try{let r=a._decode(e,t);if(e.isError(r))return!1;n={type:o,value:r},i=!0}catch{return e.restore(s),!1}return!0}),this),i?n:e.error("Choice not matched")},u.prototype._createEncoderBuffer=function(e){return new n(e,this.reporter)},u.prototype._encode=function(e,t,r){let n=this._baseState;if(null!==n.default&&n.default===e)return;let i=this._encodeValue(e,t,r);return void 0===i||this._skipDefault(i,t,r)?void 0:i},u.prototype._encodeValue=function(e,t,n){let i=this._baseState;if(null===i.parent)return i.children[0]._encode(e,t||new r);let o=null;if(this.reporter=t,i.optional&&void 0===e){if(null===i.default)return;e=i.default}let s=null,a=!1;if(i.any)o=this._createEncoderBuffer(e);else if(i.choice)o=this._encodeChoice(e,t);else if(i.contains)s=this._getUse(i.contains,n)._encode(e,t),a=!0;else if(i.children)s=i.children.map((function(r){if("null_"===r._baseState.tag)return r._encode(null,t,e);if(null===r._baseState.key)return t.error("Child should have a key");let n=t.enterKey(r._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");let i=r._encode(e[r._baseState.key],t,e);return t.leaveKey(n),i}),this).filter((function(e){return e})),s=this._createEncoderBuffer(s);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return t.error("Too many args for : "+i.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");let r=this.clone();r._baseState.implicit=null,s=this._createEncoderBuffer(e.map((function(r){let n=this._baseState;return this._getUse(n.args[0],e)._encode(r,t)}),r))}else null!==i.use?o=this._getUse(i.use,n)._encode(e,t):(s=this._encodePrimitive(i.tag,e),a=!0);if(!i.any&&null===i.choice){let e=null!==i.implicit?i.implicit:i.tag,r=null===i.implicit?"universal":"context";null===e?null===i.use&&t.error("Tag could be omitted only for .use()"):null===i.use&&(o=this._encodeComposite(e,a,r,s))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o},u.prototype._encodeChoice=function(e,t){let r=this._baseState,n=r.choice[e.type];return n||o(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(e.value,t)},u.prototype._encodePrimitive=function(e,t){let r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},u.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},u.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}})),zw=H((e=>{function t(e){let t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0);let n=e[r];t[n]=r})),t}x(),e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=t(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=t(e.tag)})),sS=H(((e,t)=>{x();var r=He(),n=Lw().Buffer,i=Uw(),o=zw();function s(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new a,this.tree._init(e.body)}function a(e){i.call(this,"der",e)}function u(e){return e<10?"0"+e:e}t.exports=s,s.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},r(a,i),a.prototype._encodeComposite=function(e,t,r,i){let s=function(e,t,r,n){let i;if("seqof"===e?e="seq":"setof"===e&&(e="set"),o.tagByName.hasOwnProperty(e))i=o.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);i=e}return i>=31?n.error("Multi-octet tag encoding unsupported"):(t||(i|=32),i|=o.tagClassByName[r||"universal"]<<6,i)}(e,t,r,this.reporter);if(i.length<128){let e=n.alloc(2);return e[0]=s,e[1]=i.length,this._createEncoderBuffer([e,i])}let a=1;for(let e=i.length;e>=256;e>>=8)a++;let u=n.alloc(2+a);u[0]=s,u[1]=128|a;for(let e=1+a,t=i.length;t>0;e--,t>>=8)u[e]=255&t;return this._createEncoderBuffer([u,i])},a.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){let t=n.alloc(2*e.length);for(let r=0;r<e.length;r++)t.writeUInt16BE(e.charCodeAt(r),2*r);return this._createEncoderBuffer(t)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)||"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},a.prototype._encodeObjid=function(e,t,r){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s.]+/g);for(let t=0;t<e.length;t++)e[t]|=0}else if(Array.isArray(e)){e=e.slice();for(let t=0;t<e.length;t++)e[t]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!r){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}let i=0;for(let t=0;t<e.length;t++){let r=e[t];for(i++;r>=128;r>>=7)i++}let o=n.alloc(i),s=o.length-1;for(let t=e.length-1;t>=0;t--){let r=e[t];for(o[s--]=127&r;(r>>=7)>0;)o[s--]=128|127&r}return this._createEncoderBuffer(o)},a.prototype._encodeTime=function(e,t){let r,n=new Date(e);return"gentime"===t?r=[u(n.getUTCFullYear()),u(n.getUTCMonth()+1),u(n.getUTCDate()),u(n.getUTCHours()),u(n.getUTCMinutes()),u(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?r=[u(n.getUTCFullYear()%100),u(n.getUTCMonth()+1),u(n.getUTCDate()),u(n.getUTCHours()),u(n.getUTCMinutes()),u(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},a.prototype._encodeNull=function(){return this._createEncoderBuffer("")},a.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!n.isBuffer(e)){let t=e.toArray();!e.sign&&128&t[0]&&t.unshift(0),e=n.from(t)}if(n.isBuffer(e)){let t=e.length;0===e.length&&t++;let r=n.alloc(t);return e.copy(r),0===e.length&&(r[0]=0),this._createEncoderBuffer(r)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let r=1;for(let t=e;t>=256;t>>=8)r++;let i=new Array(r);for(let t=i.length-1;t>=0;t--)i[t]=255&e,e>>=8;return 128&i[0]&&i.unshift(0),this._createEncoderBuffer(n.from(i))},a.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},a.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},a.prototype._skipDefault=function(e,t,r){let n,i=this._baseState;if(null===i.default)return!1;let o=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,t,r).join()),o.length!==i.defaultBuffer.length)return!1;for(n=0;n<o.length;n++)if(o[n]!==i.defaultBuffer[n])return!1;return!0}})),RU=H(((e,t)=>{x();var r=He(),n=sS();function i(e){n.call(this,e),this.enc="pem"}r(i,n),t.exports=i,i.prototype.encode=function(e,t){let r=n.prototype.encode.call(this,e).toString("base64"),i=["-----BEGIN "+t.label+"-----"];for(let e=0;e<r.length;e+=64)i.push(r.slice(e,e+64));return i.push("-----END "+t.label+"-----"),i.join("\n")}})),uS=H((e=>{x();var t=e;t.der=sS(),t.pem=RU()})),hS=H(((e,t)=>{x();var r=He(),n=iS(),i=b0().DecoderBuffer,o=Uw(),s=zw();function a(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){o.call(this,"der",e)}function h(e,t){let r=e.readUInt8(t);if(e.isError(r))return r;let n=s.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){let n=r;for(r=0;128==(128&n);){if(n=e.readUInt8(t),e.isError(n))return n;r<<=7,r|=127&n}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:s.tag[r]}}function f(e,t,r){let n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&128===n)return null;if(!(128&n))return n;let i=127&n;if(i>4)return e.error("length octect is too long");n=0;for(let t=0;t<i;t++){n<<=8;let t=e.readUInt8(r);if(e.isError(t))return t;n|=t}return n}t.exports=a,a.prototype.decode=function(e,t){return i.isDecoderBuffer(e)||(e=new i(e,t)),this.tree._decode(e,t)},r(u,o),u.prototype._peekTag=function(e,t,r){if(e.isEmpty())return!1;let n=e.save(),i=h(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(n),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||r)},u.prototype._decodeTag=function(e,t,r){let n=h(e,'Failed to decode tag of "'+t+'"');if(e.isError(n))return n;let i=f(e,n.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!r&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(n.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');let o=e.save(),s=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(s)?s:(i=e.offset-o.offset,e.restore(o),e.skip(i,'Failed to match body of: "'+t+'"'))},u.prototype._skipUntilEnd=function(e,t){for(;;){let r=h(e,t);if(e.isError(r))return r;let n,i=f(e,r.primitive,t);if(e.isError(i))return i;if(n=r.primitive||null!==i?e.skip(i):this._skipUntilEnd(e,t),e.isError(n))return n;if("end"===r.tagStr)break}},u.prototype._decodeList=function(e,t,r,n){let i=[];for(;!e.isEmpty();){let t=this._peekTag(e,"end");if(e.isError(t))return t;let o=r.decode(e,"der",n);if(e.isError(o)&&t)break;i.push(o)}return i},u.prototype._decodeStr=function(e,t){if("bitstr"===t){let t=e.readUInt8();return e.isError(t)?t:{unused:t,data:e.raw()}}if("bmpstr"===t){let t=e.raw();if(t.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");let r="";for(let e=0;e<t.length/2;e++)r+=String.fromCharCode(t.readUInt16BE(2*e));return r}if("numstr"===t){let t=e.raw().toString("ascii");return this._isNumstr(t)?t:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){let t=e.raw().toString("ascii");return this._isPrintstr(t)?t:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},u.prototype._decodeObjid=function(e,t,r){let n,i=[],o=0,s=0;for(;!e.isEmpty();)s=e.readUInt8(),o<<=7,o|=127&s,128&s||(i.push(o),o=0);128&s&&i.push(o);let a=i[0]/40|0,u=i[0]%40;if(n=r?i:[a,u].concat(i.slice(1)),t){let e=t[n.join(" ")];void 0===e&&(e=t[n.join(".")]),void 0!==e&&(n=e)}return n},u.prototype._decodeTime=function(e,t){let r,n,i,o,s,a,u=e.raw().toString();if("gentime"===t)r=0|u.slice(0,4),n=0|u.slice(4,6),i=0|u.slice(6,8),o=0|u.slice(8,10),s=0|u.slice(10,12),a=0|u.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");r=0|u.slice(0,2),n=0|u.slice(2,4),i=0|u.slice(4,6),o=0|u.slice(6,8),s=0|u.slice(8,10),a=0|u.slice(10,12),r=r<70?2e3+r:1900+r}return Date.UTC(r,n-1,i,o,s,a,0)},u.prototype._decodeNull=function(){return null},u.prototype._decodeBool=function(e){let t=e.readUInt8();return e.isError(t)?t:0!==t},u.prototype._decodeInt=function(e,t){let r=e.raw(),i=new n(r);return t&&(i=t[i.toString(10)]||i),i},u.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}})),qU=H(((e,t)=>{x();var r=He(),n=Lw().Buffer,i=hS();function o(e){i.call(this,e),this.enc="pem"}r(o,i),t.exports=o,o.prototype.decode=function(e,t){let r=e.toString().split(/[\r\n]+/g),o=t.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,a=-1,u=-1;for(let e=0;e<r.length;e++){let t=r[e].match(s);if(null!==t&&t[2]===o){if(-1!==a){if("END"!==t[1])break;u=e;break}if("BEGIN"!==t[1])break;a=e}}if(-1===a||-1===u)throw new Error("PEM section not found for: "+o);let h=r.slice(a+1,u).join("");h.replace(/[^a-z0-9+/=]+/gi,"");let f=n.from(h,"base64");return i.prototype.decode.call(this,f,t)}})),pS=H((e=>{x();var t=e;t.der=hS(),t.pem=qU()})),FU=H((e=>{x();var t=uS(),r=pS(),n=He();function i(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}e.define=function(e,t){return new i(e,t)},i.prototype._createNamed=function(e){let t=this.name;function r(e){this._initNamed(e,t)}return n(r,e),r.prototype._initNamed=function(t,r){e.call(this,t,r)},new r(this)},i.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(r[e])),this.decoders[e]},i.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},i.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(t[e])),this.encoders[e]},i.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}})),HU=H((e=>{x();var t=e;t.Reporter=qw().Reporter,t.DecoderBuffer=b0().DecoderBuffer,t.EncoderBuffer=b0().EncoderBuffer,t.Node=Uw()})),KU=H((e=>{x();var t=e;t._reverse=function(e){let t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0);let n=e[r];t[n]=r})),t},t.der=zw()})),mS=H((e=>{x();var t=e;t.bignum=iS(),t.define=FU().define,t.base=HU(),t.constants=KU(),t.decoders=pS(),t.encoders=uS()})),XU=H(((e,t)=>{x();var r=mS(),n=r.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),i=r.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),o=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),s=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())})),a=r.define("RelativeDistinguishedName",(function(){this.setof(i)})),u=r.define("RDNSequence",(function(){this.seqof(a)})),h=r.define("Name",(function(){this.choice({rdnSequence:this.use(u)})})),f=r.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(n),this.key("notAfter").use(n))})),c=r.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),l=r.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(o),this.key("issuer").use(h),this.key("validity").use(f),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(c).optional())})),d=r.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(l),this.key("signatureAlgorithm").use(o),this.key("signatureValue").bitstr())}));t.exports=d})),ez=H((e=>{x();var t=mS();e.certificate=XU();var r=t.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));e.RSAPrivateKey=r;var n=t.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));e.RSAPublicKey=n;var i=t.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())}));e.PublicKey=i;var o=t.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),s=t.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(o),this.key("subjectPrivateKey").octstr())}));e.PrivateKey=s;var a=t.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));e.EncryptedPrivateKey=a;var u=t.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));e.DSAPrivateKey=u,e.DSAparam=t.define("DSAparam",(function(){this.int()}));var h=t.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(f),this.key("publicKey").optional().explicit(1).bitstr())}));e.ECPrivateKey=h;var f=t.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));e.signature=t.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))})),tz=H(((e,t)=>{t.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}})),iz=H(((e,t)=>{x();var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,n=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,o=my(),s=Xb(),a=_t().Buffer;t.exports=function(e,t){var u,h=e.toString(),f=h.match(r);if(f){var c="aes"+f[1],l=a.from(f[2],"hex"),d=a.from(f[3].replace(/[\r\n]/g,""),"base64"),p=o(t,l.slice(0,8),parseInt(f[1],10)).key,y=[],m=s.createDecipheriv(c,p,l);y.push(m.update(d)),y.push(m.final()),u=a.concat(y)}else{var g=h.match(i);u=a.from(g[2].replace(/[\r\n]/g,""),"base64")}return{tag:h.match(n)[1],data:u}}})),ky=H(((e,t)=>{x();var r=ez(),n=tz(),i=iz(),o=Xb(),s=D4(),a=_t().Buffer;function u(e){var t;"object"==typeof e&&!a.isBuffer(e)&&(t=e.passphrase,e=e.key),"string"==typeof e&&(e=a.from(e));var u,h,f=i(e,t),c=f.tag,l=f.data;switch(c){case"CERTIFICATE":h=r.certificate.decode(l,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(h||(h=r.PublicKey.decode(l,"der")),u=h.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(h.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return h.subjectPrivateKey=h.subjectPublicKey,{type:"ec",data:h};case"1.2.840.10040.4.1":return h.algorithm.params.pub_key=r.DSAparam.decode(h.subjectPublicKey.data,"der"),{type:"dsa",data:h.algorithm.params};default:throw new Error("unknown key id "+u)}case"ENCRYPTED PRIVATE KEY":l=function(e,t){var r=e.algorithm.decrypt.kde.kdeparams.salt,i=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),u=n[e.algorithm.decrypt.cipher.algo.join(".")],h=e.algorithm.decrypt.cipher.iv,f=e.subjectPrivateKey,c=parseInt(u.split("-")[1],10)/8,l=s.pbkdf2Sync(t,r,i,c,"sha1"),d=o.createDecipheriv(u,l,h),p=[];return p.push(d.update(f)),p.push(d.final()),a.concat(p)}(l=r.EncryptedPrivateKey.decode(l,"der"),t);case"PRIVATE KEY":switch(u=(h=r.PrivateKey.decode(l,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(h.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:h.algorithm.curve,privateKey:r.ECPrivateKey.decode(h.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return h.algorithm.params.priv_key=r.DSAparam.decode(h.subjectPrivateKey,"der"),{type:"dsa",params:h.algorithm.params};default:throw new Error("unknown key id "+u)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(l,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(l,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(l,"der")};case"EC PRIVATE KEY":return{curve:(l=r.ECPrivateKey.decode(l,"der")).parameters.value,privateKey:l.privateKey};default:throw new Error("unknown key type "+c)}}t.exports=u,u.signature=r.signature})),vS=H(((e,t)=>{t.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}})),fz=H(((e,t)=>{x();var r=_t().Buffer,n=M4(),i=vw(),o=Cw().ec,s=gw(),a=ky(),u=vS();function h(e,t,i,o){if((e=r.from(e.toArray())).length<t.byteLength()){var s=r.alloc(t.byteLength()-e.length);e=r.concat([s,e])}var a=i.length,u=function(e,t){e=(e=f(e,t)).mod(t);var n=r.from(e.toArray());if(n.length<t.byteLength()){var i=r.alloc(t.byteLength()-n.length);n=r.concat([i,n])}return n}(i,t),h=r.alloc(a);h.fill(1);var c=r.alloc(a);return c=n(o,c).update(h).update(r.from([0])).update(e).update(u).digest(),h=n(o,c).update(h).digest(),{k:c=n(o,c).update(h).update(r.from([1])).update(e).update(u).digest(),v:h=n(o,c).update(h).digest()}}function f(e,t){var r=new s(e),n=(e.length<<3)-t.bitLength();return n>0&&r.ishrn(n),r}function c(e,t,i){var o,s;do{for(o=r.alloc(0);8*o.length<e.bitLength();)t.v=n(i,t.k).update(t.v).digest(),o=r.concat([o,t.v]);s=f(o,e),t.k=n(i,t.k).update(t.v).update(r.from([0])).digest(),t.v=n(i,t.k).update(t.v).digest()}while(-1!==s.cmp(e));return s}function l(e,t,r,n){return e.toRed(s.mont(r)).redPow(t).fromRed().mod(n)}t.exports=function(e,t,n,d,p){var y=a(t);if(y.curve){if("ecdsa"!==d&&"ecdsa/rsa"!==d)throw new Error("wrong private key type");return function(e,t){var n=u[t.curve.join(".")];if(!n)throw new Error("unknown curve "+t.curve.join("."));var i=new o(n).keyFromPrivate(t.privateKey).sign(e);return r.from(i.toDER())}(e,y)}if("dsa"===y.type){if("dsa"!==d)throw new Error("wrong private key type");return function(e,t,n){for(var i,o=t.params.priv_key,a=t.params.p,u=t.params.q,d=t.params.g,p=new s(0),y=f(e,u).mod(u),m=!1,g=h(o,u,e,n);!1===m;)p=l(d,i=c(u,g,n),a,u),0===(m=i.invm(u).imul(y.add(o.mul(p))).mod(u)).cmpn(0)&&(m=!1,p=new s(0));return function(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e)),128&t[0]&&(t=[0].concat(t));var n=[48,e.length+t.length+4,2,e.length];return n=n.concat(e,[2,t.length],t),r.from(n)}(p,m)}(e,y,n)}if("rsa"!==d&&"ecdsa/rsa"!==d)throw new Error("wrong private key type");e=r.concat([p,e]);for(var m=y.modulus.byteLength(),g=[0,1];e.length+g.length+1<m;)g.push(255);g.push(0);for(var b=-1;++b<e.length;)g.push(e[b]);return i(g,y)},t.exports.getKey=h,t.exports.makeKey=c})),cz=H(((e,t)=>{x();var r=_t().Buffer,n=gw(),i=Cw().ec,o=ky(),s=vS();function a(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}t.exports=function(e,t,u,h,f){var c=o(u);if("ec"===c.type){if("ecdsa"!==h&&"ecdsa/rsa"!==h)throw new Error("wrong public key type");return function(e,t,r){var n=s[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var o=new i(n),a=r.data.subjectPrivateKey.data;return o.verify(t,e,a)}(e,t,c)}if("dsa"===c.type){if("dsa"!==h)throw new Error("wrong public key type");return function(e,t,r){var i=r.data.p,s=r.data.q,u=r.data.g,h=r.data.pub_key,f=o.signature.decode(e,"der"),c=f.s,l=f.r;a(c,s),a(l,s);var d=n.mont(i),p=c.invm(s);return 0===u.toRed(d).redPow(new n(t).mul(p).mod(s)).fromRed().mul(h.toRed(d).redPow(l.mul(p).mod(s)).fromRed()).mod(i).mod(s).cmp(l)}(e,t,c)}if("rsa"!==h&&"ecdsa/rsa"!==h)throw new Error("wrong public key type");t=r.concat([f,t]);for(var l=c.modulus.byteLength(),d=[1],p=0;t.length+d.length+2<l;)d.push(255),p++;d.push(0);for(var y=-1;++y<t.length;)d.push(t[y]);d=r.from(d);var m=n.mont(c.modulus);e=(e=new n(e).toRed(m)).redPow(new n(c.publicExponent)),e=r.from(e.fromRed().toArray());var g=p<8?1:0;for(l=Math.min(e.length,d.length),e.length!==d.length&&(g=1),y=-1;++y<l;)g|=e[y]^d[y];return 0===g}})),vz=H(((e,t)=>{x();var r=_t().Buffer,n=Wd(),i=$q(),o=He(),s=fz(),a=cz(),u=x4();function h(e){i.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=n(t.hash),this._tag=t.id,this._signType=t.sign}function f(e){i.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hash=n(t.hash),this._tag=t.id,this._signType=t.sign}function c(e){return new h(e)}function l(e){return new f(e)}Object.keys(u).forEach((function(e){u[e].id=r.from(u[e].id,"hex"),u[e.toLowerCase()]=u[e]})),o(h,i.Writable),h.prototype._write=function(e,t,r){this._hash.update(e),r()},h.prototype.update=function(e,t){return"string"==typeof e&&(e=r.from(e,t)),this._hash.update(e),this},h.prototype.sign=function(e,t){this.end();var r=this._hash.digest(),n=s(r,e,this._hashType,this._signType,this._tag);return t?n.toString(t):n},o(f,i.Writable),f.prototype._write=function(e,t,r){this._hash.update(e),r()},f.prototype.update=function(e,t){return"string"==typeof e&&(e=r.from(e,t)),this._hash.update(e),this},f.prototype.verify=function(e,t,n){"string"==typeof t&&(t=r.from(t,n)),this.end();var i=this._hash.digest();return a(t,i,e,this._signType,this._tag)},t.exports={Sign:c,Verify:l,createSign:c,createVerify:l}})),wz=H(((e,t)=>{x(),function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&(("le"===t||"be"===t)&&(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{o=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:St().Buffer}catch{}function s(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function a(e,t,r){var n=s(e,r);return r-1>=t&&(n|=s(e,r-1)<<4),n}function u(e,t,r,n){for(var i=0,o=Math.min(e.length,r),s=t;s<o;s++){var a=e.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=a(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=a(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,h=0,f=r;f<a;f+=n)h=u(e,f,f+n,t),this.imuln(i),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==s){var c=1;for(h=u(e,f,e.length,t),f=0;f<s;f++)c*=t;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],c=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function l(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var h=1;h<n;h++){for(var f=u>>>26,c=67108863&u,l=Math.min(h,t.length-1),d=Math.max(0,h-e.length+1);d<=l;d++){var p=h-d|0;f+=(s=(i=0|e.words[p])*(o=0|t.words[d])+c)/67108864|0,c=67108863&s}r.words[h]=0|c,u=0|f}return 0!==u?r.words[h]=0|u:r.length--,r.strip()}i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);n=0!=(o=a>>>24-i&16777215)||s!==this.length-1?h[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var l=f[e],d=c[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var y=p.modn(d).toString(e);n=(p=p.idivn(d)).isZero()?y+n:h[l-y.length]+y+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){return r(typeof o<"u"),this.toArrayLike(o,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,u="le"===t,h=new e(o),f=this.clone();if(u){for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),h[a]=s;for(;a<o;a++)h[a]=0}else{for(a=0;a<o-i;a++)h[a]=0;for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),h[o-a-1]=s}return h},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var d=function(e,t,r){var n,i,o,s=e.words,a=t.words,u=r.words,h=0,f=0|s[0],c=8191&f,l=f>>>13,d=0|s[1],p=8191&d,y=d>>>13,m=0|s[2],g=8191&m,b=m>>>13,w=0|s[3],v=8191&w,_=w>>>13,E=0|s[4],S=8191&E,M=E>>>13,A=0|s[5],k=8191&A,x=A>>>13,T=0|s[6],P=8191&T,I=T>>>13,R=0|s[7],O=8191&R,B=R>>>13,C=0|s[8],L=8191&C,j=C>>>13,D=0|s[9],N=8191&D,U=D>>>13,H=0|a[0],z=8191&H,F=H>>>13,q=0|a[1],$=8191&q,K=q>>>13,V=0|a[2],W=8191&V,G=V>>>13,Y=0|a[3],J=8191&Y,Z=Y>>>13,X=0|a[4],Q=8191&X,ee=X>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ue=8191&ae,he=ae>>>13,fe=0|a[8],ce=8191&fe,le=fe>>>13,de=0|a[9],pe=8191&de,ye=de>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(h+(n=Math.imul(c,z))|0)+((8191&(i=(i=Math.imul(c,F))+Math.imul(l,z)|0))<<13)|0;h=((o=Math.imul(l,F))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,F))+Math.imul(y,z)|0,o=Math.imul(y,F);var ge=(h+(n=n+Math.imul(c,$)|0)|0)+((8191&(i=(i=i+Math.imul(c,K)|0)+Math.imul(l,$)|0))<<13)|0;h=((o=o+Math.imul(l,K)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,z),i=(i=Math.imul(g,F))+Math.imul(b,z)|0,o=Math.imul(b,F),n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,K)|0;var be=(h+(n=n+Math.imul(c,W)|0)|0)+((8191&(i=(i=i+Math.imul(c,G)|0)+Math.imul(l,W)|0))<<13)|0;h=((o=o+Math.imul(l,G)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,F))+Math.imul(_,z)|0,o=Math.imul(_,F),n=n+Math.imul(g,$)|0,i=(i=i+Math.imul(g,K)|0)+Math.imul(b,$)|0,o=o+Math.imul(b,K)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,G)|0;var we=(h+(n=n+Math.imul(c,J)|0)|0)+((8191&(i=(i=i+Math.imul(c,Z)|0)+Math.imul(l,J)|0))<<13)|0;h=((o=o+Math.imul(l,Z)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,F))+Math.imul(M,z)|0,o=Math.imul(M,F),n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,K)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,K)|0,n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,G)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,Z)|0;var ve=(h+(n=n+Math.imul(c,Q)|0)|0)+((8191&(i=(i=i+Math.imul(c,ee)|0)+Math.imul(l,Q)|0))<<13)|0;h=((o=o+Math.imul(l,ee)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(k,z),i=(i=Math.imul(k,F))+Math.imul(x,z)|0,o=Math.imul(x,F),n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,K)|0,n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,G)|0,n=n+Math.imul(g,J)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0;var _e=(h+(n=n+Math.imul(c,re)|0)|0)+((8191&(i=(i=i+Math.imul(c,ne)|0)+Math.imul(l,re)|0))<<13)|0;h=((o=o+Math.imul(l,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(P,z),i=(i=Math.imul(P,F))+Math.imul(I,z)|0,o=Math.imul(I,F),n=n+Math.imul(k,$)|0,i=(i=i+Math.imul(k,K)|0)+Math.imul(x,$)|0,o=o+Math.imul(x,K)|0,n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,G)|0,n=n+Math.imul(v,J)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,Z)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0;var Ee=(h+(n=n+Math.imul(c,oe)|0)|0)+((8191&(i=(i=i+Math.imul(c,se)|0)+Math.imul(l,oe)|0))<<13)|0;h=((o=o+Math.imul(l,se)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(O,z),i=(i=Math.imul(O,F))+Math.imul(B,z)|0,o=Math.imul(B,F),n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,K)|0,n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(x,W)|0,o=o+Math.imul(x,G)|0,n=n+Math.imul(S,J)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0;var Se=(h+(n=n+Math.imul(c,ue)|0)|0)+((8191&(i=(i=i+Math.imul(c,he)|0)+Math.imul(l,ue)|0))<<13)|0;h=((o=o+Math.imul(l,he)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,F))+Math.imul(j,z)|0,o=Math.imul(j,F),n=n+Math.imul(O,$)|0,i=(i=i+Math.imul(O,K)|0)+Math.imul(B,$)|0,o=o+Math.imul(B,K)|0,n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,G)|0,n=n+Math.imul(k,J)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,Z)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,se)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,se)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,he)|0;var Me=(h+(n=n+Math.imul(c,ce)|0)|0)+((8191&(i=(i=i+Math.imul(c,le)|0)+Math.imul(l,ce)|0))<<13)|0;h=((o=o+Math.imul(l,le)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(N,z),i=(i=Math.imul(N,F))+Math.imul(U,z)|0,o=Math.imul(U,F),n=n+Math.imul(L,$)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(j,$)|0,o=o+Math.imul(j,K)|0,n=n+Math.imul(O,W)|0,i=(i=i+Math.imul(O,G)|0)+Math.imul(B,W)|0,o=o+Math.imul(B,G)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,Z)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(M,re)|0,o=o+Math.imul(M,ne)|0,n=n+Math.imul(v,oe)|0,i=(i=i+Math.imul(v,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,n=n+Math.imul(g,ue)|0,i=(i=i+Math.imul(g,he)|0)+Math.imul(b,ue)|0,o=o+Math.imul(b,he)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,le)|0;var Ae=(h+(n=n+Math.imul(c,pe)|0)|0)+((8191&(i=(i=i+Math.imul(c,ye)|0)+Math.imul(l,pe)|0))<<13)|0;h=((o=o+Math.imul(l,ye)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(N,$),i=(i=Math.imul(N,K))+Math.imul(U,$)|0,o=Math.imul(U,K),n=n+Math.imul(L,W)|0,i=(i=i+Math.imul(L,G)|0)+Math.imul(j,W)|0,o=o+Math.imul(j,G)|0,n=n+Math.imul(O,J)|0,i=(i=i+Math.imul(O,Z)|0)+Math.imul(B,J)|0,o=o+Math.imul(B,Z)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(x,re)|0,o=o+Math.imul(x,ne)|0,n=n+Math.imul(S,oe)|0,i=(i=i+Math.imul(S,se)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,se)|0,n=n+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,he)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,he)|0,n=n+Math.imul(g,ce)|0,i=(i=i+Math.imul(g,le)|0)+Math.imul(b,ce)|0,o=o+Math.imul(b,le)|0;var ke=(h+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;h=((o=o+Math.imul(y,ye)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(N,W),i=(i=Math.imul(N,G))+Math.imul(U,W)|0,o=Math.imul(U,G),n=n+Math.imul(L,J)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(j,J)|0,o=o+Math.imul(j,Z)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,se)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,se)|0,n=n+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,he)|0)+Math.imul(M,ue)|0,o=o+Math.imul(M,he)|0,n=n+Math.imul(v,ce)|0,i=(i=i+Math.imul(v,le)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,le)|0;var xe=(h+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,ye)|0)+Math.imul(b,pe)|0))<<13)|0;h=((o=o+Math.imul(b,ye)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(N,J),i=(i=Math.imul(N,Z))+Math.imul(U,J)|0,o=Math.imul(U,Z),n=n+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,ee)|0)+Math.imul(j,Q)|0,o=o+Math.imul(j,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(B,re)|0,o=o+Math.imul(B,ne)|0,n=n+Math.imul(P,oe)|0,i=(i=i+Math.imul(P,se)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,se)|0,n=n+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,he)|0)+Math.imul(x,ue)|0,o=o+Math.imul(x,he)|0,n=n+Math.imul(S,ce)|0,i=(i=i+Math.imul(S,le)|0)+Math.imul(M,ce)|0,o=o+Math.imul(M,le)|0;var Te=(h+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,ye)|0)+Math.imul(_,pe)|0))<<13)|0;h=((o=o+Math.imul(_,ye)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(N,Q),i=(i=Math.imul(N,ee))+Math.imul(U,Q)|0,o=Math.imul(U,ee),n=n+Math.imul(L,re)|0,i=(i=i+Math.imul(L,ne)|0)+Math.imul(j,re)|0,o=o+Math.imul(j,ne)|0,n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,se)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,se)|0,n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,he)|0)+Math.imul(I,ue)|0,o=o+Math.imul(I,he)|0,n=n+Math.imul(k,ce)|0,i=(i=i+Math.imul(k,le)|0)+Math.imul(x,ce)|0,o=o+Math.imul(x,le)|0;var Pe=(h+(n=n+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ye)|0)+Math.imul(M,pe)|0))<<13)|0;h=((o=o+Math.imul(M,ye)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(N,re),i=(i=Math.imul(N,ne))+Math.imul(U,re)|0,o=Math.imul(U,ne),n=n+Math.imul(L,oe)|0,i=(i=i+Math.imul(L,se)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,se)|0,n=n+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(B,ue)|0,o=o+Math.imul(B,he)|0,n=n+Math.imul(P,ce)|0,i=(i=i+Math.imul(P,le)|0)+Math.imul(I,ce)|0,o=o+Math.imul(I,le)|0;var Ie=(h+(n=n+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ye)|0)+Math.imul(x,pe)|0))<<13)|0;h=((o=o+Math.imul(x,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(N,oe),i=(i=Math.imul(N,se))+Math.imul(U,oe)|0,o=Math.imul(U,se),n=n+Math.imul(L,ue)|0,i=(i=i+Math.imul(L,he)|0)+Math.imul(j,ue)|0,o=o+Math.imul(j,he)|0,n=n+Math.imul(O,ce)|0,i=(i=i+Math.imul(O,le)|0)+Math.imul(B,ce)|0,o=o+Math.imul(B,le)|0;var Re=(h+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,ye)|0)+Math.imul(I,pe)|0))<<13)|0;h=((o=o+Math.imul(I,ye)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(N,ue),i=(i=Math.imul(N,he))+Math.imul(U,ue)|0,o=Math.imul(U,he),n=n+Math.imul(L,ce)|0,i=(i=i+Math.imul(L,le)|0)+Math.imul(j,ce)|0,o=o+Math.imul(j,le)|0;var Oe=(h+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ye)|0)+Math.imul(B,pe)|0))<<13)|0;h=((o=o+Math.imul(B,ye)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(N,ce),i=(i=Math.imul(N,le))+Math.imul(U,ce)|0,o=Math.imul(U,le);var Be=(h+(n=n+Math.imul(L,pe)|0)|0)+((8191&(i=(i=i+Math.imul(L,ye)|0)+Math.imul(j,pe)|0))<<13)|0;h=((o=o+Math.imul(j,ye)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863;var Ce=(h+(n=Math.imul(N,pe))|0)+((8191&(i=(i=Math.imul(N,ye))+Math.imul(U,pe)|0))<<13)|0;return h=((o=Math.imul(U,ye))+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,u[0]=me,u[1]=ge,u[2]=be,u[3]=we,u[4]=ve,u[5]=_e,u[6]=Ee,u[7]=Se,u[8]=Me,u[9]=Ae,u[10]=ke,u[11]=xe,u[12]=Te,u[13]=Pe,u[14]=Ie,u[15]=Re,u[16]=Oe,u[17]=Be,u[18]=Ce,0!==h&&(u[19]=h,r.length++),r};function p(e,t,r){return(new y).mulp(e,t,r)}function y(e,t){this.x=e,this.y=t}Math.imul||(d=l),i.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?d(this,e,t):n<63?l(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,t.length-1),h=Math.max(0,o-e.length+1);h<=u;h++){var f=o-h,c=(0|e.words[f])*(0|t.words[h]),l=67108863&c;a=67108863&(l=l+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):p(this,e,t),r},y.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},y.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},y.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},y.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),h=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var c=u,l=h,d=0;d<s;d++){var p=r[f+d],y=n[f+d],m=r[f+d+s],g=n[f+d+s],b=c*m-l*g;g=c*g+l*m,m=b,r[f+d]=p+m,n[f+d]=y+g,r[f+d+s]=p-m,n[f+d+s]=y-g,d!==a&&(b=u*c-h*l,l=u*l+h*c,c=b)}},y.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},y.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},y.prototype.convert13b=function(e,t,n,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)n[s]=0;r(0===o),r(0==(-8192&o))},y.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},y.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),h=new Array(n),f=new Array(n),c=new Array(n),l=r.words;l.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,h,n),this.transform(s,o,a,u,n,i),this.transform(h,o,f,c,n,i);for(var d=0;d<n;d++){var p=a[d]*f[d]-u[d]*c[d];u[d]=a[d]*c[d]+u[d]*f[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,l,o,n,i),this.conjugate(l,o,n),this.normalize13b(l,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),p(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var o=r.sqr();n<t.length;n++,o=o.sqr())0!==t[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,u=(0|this.words[t])-a<<n;this.words[t]=u|s,s=a>>>26-n}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,u=n;if(i-=s,i=Math.max(0,i),u){for(var h=0;h<s;h++)u.words[h]=this.words[h];u.length=s}if(0!==s)if(this.length>s)for(this.length-=s,h=0;h<this.length;h++)this.words[h]=this.words[h+s];else this.words[0]=0,this.length=1;var f=0;for(h=this.length-1;h>=0&&(0!==f||h>=i);h--){var c=0|this.words[h];this.words[h]=f<<26-o|c>>>o,f=c&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n||!(this.words[n]&i))},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,o=e.length+n;this._expand(o);var s,a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+n])+a;var u=(0|e.words[i])*t;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&s}for(;i<this.length-n;i++)a=(s=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&s;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),o=e,s=0|o.words[o.length-1];0!=(r=26-this._countBits(s))&&(o=o.ushln(r),n.iushln(r),s=0|o.words[o.length-1]);var a,u=n.length-o.length;if("mod"!==t){(a=new i(null)).length=u+1,a.words=new Array(a.length);for(var h=0;h<a.length;h++)a.words[h]=0}var f=n.clone()._ishlnsubmul(o,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var c=u-1;c>=0;c--){var l=67108864*(0|n.words[o.length+c])+(0|n.words[o.length+c-1]);for(l=Math.min(l/s|0,67108863),n._ishlnsubmul(o,l,c);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(o,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=l)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(o=a.div.neg()),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(e)),{div:o,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(o=a.div.neg()),{div:o,mod:a.mod}):this.negative&e.negative?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t);var o,s,a},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},i.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new i(1),s=new i(0),a=new i(0),u=new i(1),h=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++h;for(var f=n.clone(),c=t.clone();!t.isZero();){for(var l=0,d=1;!(t.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(f),s.isub(c)),o.iushrn(1),s.iushrn(1);for(var p=0,y=1;!(n.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(c)),a.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(a),s.isub(u)):(n.isub(t),a.isub(o),u.isub(s))}return{a,b:u,gcd:n.iushln(h)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t,n=this,o=e.clone();n=0!==n.negative?n.umod(e):n.clone();for(var s=new i(1),a=new i(0),u=o.clone();n.cmpn(1)>0&&o.cmpn(1)>0;){for(var h=0,f=1;!(n.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(n.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var c=0,l=1;!(o.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(o.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);n.cmp(o)>=0?(n.isub(o),s.isub(a)):(o.isub(n),a.isub(s))}return(t=0===n.cmpn(1)?s:a).cmpn(0)<0&&t.iadd(e),t},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new E(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function g(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function v(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function S(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},g.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},g.prototype.split=function(e,t){e.iushrn(this.n,0,t)},g.prototype.imulK=function(e){return e.imul(this.k)},n(b,g),b.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(w,g),n(v,g),n(_,g),_.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new w;else if("p192"===e)t=new v;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return m[e]=t,t},E.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new i(1).toRed(this),u=a.redNeg(),h=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);0!==this.pow(f,h).cmp(u);)f.redIAdd(u);for(var c=this.pow(f,o),l=this.pow(e,o.addn(1).iushrn(1)),d=this.pow(e,o),p=s;0!==d.cmp(a);){for(var y=d,m=0;0!==y.cmp(a);m++)y=y.redSqr();r(m<p);var g=this.pow(c,new i(1).iushln(p-m-1));l=l.redMul(g),c=g.redSqr(),d=d.redMul(c),p=m}return l},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var o=r[0],s=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var h=t.words[n],f=u-1;f>=0;f--){var c=h>>f&1;o!==r[0]&&(o=this.sqr(o)),0!==c||0!==s?(s<<=1,s|=c,(4==++a||0===n&&0===f)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0}u=26}return o},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new S(e)},n(S,E),S.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},S.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},S.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},S.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},S.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(typeof t>"u"||t,e)})),Mz=H(((e,t)=>{x();var r=Cw(),n=wz();t.exports=function(e){return new o(e)};var i={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function o(e){this.curveType=i[e],this.curveType||(this.curveType={name:e}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}function s(e,t,r){Array.isArray(e)||(e=e.toArray());var n=new L.Buffer(e);if(r&&n.length<r){var i=new L.Buffer(r-n.length);i.fill(0),n=L.Buffer.concat([i,n])}return t?n.toString(t):n}i.p224=i.secp224r1,i.p256=i.secp256r1=i.prime256v1,i.p192=i.secp192r1=i.prime192v1,i.p384=i.secp384r1,i.p521=i.secp521r1,o.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},o.prototype.computeSecret=function(e,t,r){return t=t||"utf8",L.Buffer.isBuffer(e)||(e=new L.Buffer(e,t)),s(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},o.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(r[r.length-1]%2?r[0]=7:r[0]=6),s(r,e)},o.prototype.getPrivateKey=function(e){return s(this.keys.getPrivate(),e)},o.prototype.setPublicKey=function(e,t){return t=t||"utf8",L.Buffer.isBuffer(e)||(e=new L.Buffer(e,t)),this.keys._importPublic(e),this},o.prototype.setPrivateKey=function(e,t){t=t||"utf8",L.Buffer.isBuffer(e)||(e=new L.Buffer(e,t));var r=new n(e);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}})),ES=H(((e,t)=>{x();var r=Wd(),n=_t().Buffer;function i(e){var t=n.allocUnsafe(4);return t.writeUInt32BE(e,0),t}t.exports=function(e,t){for(var o,s=n.alloc(0),a=0;s.length<t;)o=i(a++),s=n.concat([s,r("sha1").update(e).update(o).digest()]);return s.slice(0,t)}})),SS=H(((e,t)=>{x(),t.exports=function(e,t){for(var r=e.length,n=-1;++n<r;)e[n]^=t[n];return e}})),Gw=H(((e,t)=>{x(),function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&(("le"===t||"be"===t)&&(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{o=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:St().Buffer}catch{}function s(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function a(e,t,r){var n=s(e,r);return r-1>=t&&(n|=s(e,r-1)<<4),n}function u(e,t,r,n){for(var i=0,o=Math.min(e.length,r),s=t;s<o;s++){var a=e.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=a(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=a(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,h=0,f=r;f<a;f+=n)h=u(e,f,f+n,t),this.imuln(i),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==s){var c=1;for(h=u(e,f,e.length,t),f=0;f<s;f++)c*=t;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],c=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function l(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var h=1;h<n;h++){for(var f=u>>>26,c=67108863&u,l=Math.min(h,t.length-1),d=Math.max(0,h-e.length+1);d<=l;d++){var p=h-d|0;f+=(s=(i=0|e.words[p])*(o=0|t.words[d])+c)/67108864|0,c=67108863&s}r.words[h]=0|c,u=0|f}return 0!==u?r.words[h]=0|u:r.length--,r.strip()}i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);n=0!=(o=a>>>24-i&16777215)||s!==this.length-1?h[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var l=f[e],d=c[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var y=p.modn(d).toString(e);n=(p=p.idivn(d)).isZero()?y+n:h[l-y.length]+y+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){return r(typeof o<"u"),this.toArrayLike(o,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,u="le"===t,h=new e(o),f=this.clone();if(u){for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),h[a]=s;for(;a<o;a++)h[a]=0}else{for(a=0;a<o-i;a++)h[a]=0;for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),h[o-a-1]=s}return h},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var d=function(e,t,r){var n,i,o,s=e.words,a=t.words,u=r.words,h=0,f=0|s[0],c=8191&f,l=f>>>13,d=0|s[1],p=8191&d,y=d>>>13,m=0|s[2],g=8191&m,b=m>>>13,w=0|s[3],v=8191&w,_=w>>>13,E=0|s[4],S=8191&E,M=E>>>13,A=0|s[5],k=8191&A,x=A>>>13,T=0|s[6],P=8191&T,I=T>>>13,R=0|s[7],O=8191&R,B=R>>>13,C=0|s[8],L=8191&C,j=C>>>13,D=0|s[9],N=8191&D,U=D>>>13,H=0|a[0],z=8191&H,F=H>>>13,q=0|a[1],$=8191&q,K=q>>>13,V=0|a[2],W=8191&V,G=V>>>13,Y=0|a[3],J=8191&Y,Z=Y>>>13,X=0|a[4],Q=8191&X,ee=X>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ue=8191&ae,he=ae>>>13,fe=0|a[8],ce=8191&fe,le=fe>>>13,de=0|a[9],pe=8191&de,ye=de>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(h+(n=Math.imul(c,z))|0)+((8191&(i=(i=Math.imul(c,F))+Math.imul(l,z)|0))<<13)|0;h=((o=Math.imul(l,F))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,F))+Math.imul(y,z)|0,o=Math.imul(y,F);var ge=(h+(n=n+Math.imul(c,$)|0)|0)+((8191&(i=(i=i+Math.imul(c,K)|0)+Math.imul(l,$)|0))<<13)|0;h=((o=o+Math.imul(l,K)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,z),i=(i=Math.imul(g,F))+Math.imul(b,z)|0,o=Math.imul(b,F),n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,K)|0;var be=(h+(n=n+Math.imul(c,W)|0)|0)+((8191&(i=(i=i+Math.imul(c,G)|0)+Math.imul(l,W)|0))<<13)|0;h=((o=o+Math.imul(l,G)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,F))+Math.imul(_,z)|0,o=Math.imul(_,F),n=n+Math.imul(g,$)|0,i=(i=i+Math.imul(g,K)|0)+Math.imul(b,$)|0,o=o+Math.imul(b,K)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,G)|0;var we=(h+(n=n+Math.imul(c,J)|0)|0)+((8191&(i=(i=i+Math.imul(c,Z)|0)+Math.imul(l,J)|0))<<13)|0;h=((o=o+Math.imul(l,Z)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,F))+Math.imul(M,z)|0,o=Math.imul(M,F),n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,K)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,K)|0,n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,G)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,Z)|0;var ve=(h+(n=n+Math.imul(c,Q)|0)|0)+((8191&(i=(i=i+Math.imul(c,ee)|0)+Math.imul(l,Q)|0))<<13)|0;h=((o=o+Math.imul(l,ee)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(k,z),i=(i=Math.imul(k,F))+Math.imul(x,z)|0,o=Math.imul(x,F),n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,K)|0,n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,G)|0,n=n+Math.imul(g,J)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0;var _e=(h+(n=n+Math.imul(c,re)|0)|0)+((8191&(i=(i=i+Math.imul(c,ne)|0)+Math.imul(l,re)|0))<<13)|0;h=((o=o+Math.imul(l,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(P,z),i=(i=Math.imul(P,F))+Math.imul(I,z)|0,o=Math.imul(I,F),n=n+Math.imul(k,$)|0,i=(i=i+Math.imul(k,K)|0)+Math.imul(x,$)|0,o=o+Math.imul(x,K)|0,n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,G)|0,n=n+Math.imul(v,J)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,Z)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0;var Ee=(h+(n=n+Math.imul(c,oe)|0)|0)+((8191&(i=(i=i+Math.imul(c,se)|0)+Math.imul(l,oe)|0))<<13)|0;h=((o=o+Math.imul(l,se)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(O,z),i=(i=Math.imul(O,F))+Math.imul(B,z)|0,o=Math.imul(B,F),n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,K)|0,n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(x,W)|0,o=o+Math.imul(x,G)|0,n=n+Math.imul(S,J)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0;var Se=(h+(n=n+Math.imul(c,ue)|0)|0)+((8191&(i=(i=i+Math.imul(c,he)|0)+Math.imul(l,ue)|0))<<13)|0;h=((o=o+Math.imul(l,he)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,F))+Math.imul(j,z)|0,o=Math.imul(j,F),n=n+Math.imul(O,$)|0,i=(i=i+Math.imul(O,K)|0)+Math.imul(B,$)|0,o=o+Math.imul(B,K)|0,n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,G)|0,n=n+Math.imul(k,J)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,Z)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,se)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,se)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,he)|0;var Me=(h+(n=n+Math.imul(c,ce)|0)|0)+((8191&(i=(i=i+Math.imul(c,le)|0)+Math.imul(l,ce)|0))<<13)|0;h=((o=o+Math.imul(l,le)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(N,z),i=(i=Math.imul(N,F))+Math.imul(U,z)|0,o=Math.imul(U,F),n=n+Math.imul(L,$)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(j,$)|0,o=o+Math.imul(j,K)|0,n=n+Math.imul(O,W)|0,i=(i=i+Math.imul(O,G)|0)+Math.imul(B,W)|0,o=o+Math.imul(B,G)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,Z)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(M,re)|0,o=o+Math.imul(M,ne)|0,n=n+Math.imul(v,oe)|0,i=(i=i+Math.imul(v,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,n=n+Math.imul(g,ue)|0,i=(i=i+Math.imul(g,he)|0)+Math.imul(b,ue)|0,o=o+Math.imul(b,he)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,le)|0;var Ae=(h+(n=n+Math.imul(c,pe)|0)|0)+((8191&(i=(i=i+Math.imul(c,ye)|0)+Math.imul(l,pe)|0))<<13)|0;h=((o=o+Math.imul(l,ye)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(N,$),i=(i=Math.imul(N,K))+Math.imul(U,$)|0,o=Math.imul(U,K),n=n+Math.imul(L,W)|0,i=(i=i+Math.imul(L,G)|0)+Math.imul(j,W)|0,o=o+Math.imul(j,G)|0,n=n+Math.imul(O,J)|0,i=(i=i+Math.imul(O,Z)|0)+Math.imul(B,J)|0,o=o+Math.imul(B,Z)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(x,re)|0,o=o+Math.imul(x,ne)|0,n=n+Math.imul(S,oe)|0,i=(i=i+Math.imul(S,se)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,se)|0,n=n+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,he)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,he)|0,n=n+Math.imul(g,ce)|0,i=(i=i+Math.imul(g,le)|0)+Math.imul(b,ce)|0,o=o+Math.imul(b,le)|0;var ke=(h+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;h=((o=o+Math.imul(y,ye)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(N,W),i=(i=Math.imul(N,G))+Math.imul(U,W)|0,o=Math.imul(U,G),n=n+Math.imul(L,J)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(j,J)|0,o=o+Math.imul(j,Z)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,se)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,se)|0,n=n+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,he)|0)+Math.imul(M,ue)|0,o=o+Math.imul(M,he)|0,n=n+Math.imul(v,ce)|0,i=(i=i+Math.imul(v,le)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,le)|0;var xe=(h+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,ye)|0)+Math.imul(b,pe)|0))<<13)|0;h=((o=o+Math.imul(b,ye)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(N,J),i=(i=Math.imul(N,Z))+Math.imul(U,J)|0,o=Math.imul(U,Z),n=n+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,ee)|0)+Math.imul(j,Q)|0,o=o+Math.imul(j,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(B,re)|0,o=o+Math.imul(B,ne)|0,n=n+Math.imul(P,oe)|0,i=(i=i+Math.imul(P,se)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,se)|0,n=n+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,he)|0)+Math.imul(x,ue)|0,o=o+Math.imul(x,he)|0,n=n+Math.imul(S,ce)|0,i=(i=i+Math.imul(S,le)|0)+Math.imul(M,ce)|0,o=o+Math.imul(M,le)|0;var Te=(h+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,ye)|0)+Math.imul(_,pe)|0))<<13)|0;h=((o=o+Math.imul(_,ye)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(N,Q),i=(i=Math.imul(N,ee))+Math.imul(U,Q)|0,o=Math.imul(U,ee),n=n+Math.imul(L,re)|0,i=(i=i+Math.imul(L,ne)|0)+Math.imul(j,re)|0,o=o+Math.imul(j,ne)|0,n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,se)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,se)|0,n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,he)|0)+Math.imul(I,ue)|0,o=o+Math.imul(I,he)|0,n=n+Math.imul(k,ce)|0,i=(i=i+Math.imul(k,le)|0)+Math.imul(x,ce)|0,o=o+Math.imul(x,le)|0;var Pe=(h+(n=n+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ye)|0)+Math.imul(M,pe)|0))<<13)|0;h=((o=o+Math.imul(M,ye)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(N,re),i=(i=Math.imul(N,ne))+Math.imul(U,re)|0,o=Math.imul(U,ne),n=n+Math.imul(L,oe)|0,i=(i=i+Math.imul(L,se)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,se)|0,n=n+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(B,ue)|0,o=o+Math.imul(B,he)|0,n=n+Math.imul(P,ce)|0,i=(i=i+Math.imul(P,le)|0)+Math.imul(I,ce)|0,o=o+Math.imul(I,le)|0;var Ie=(h+(n=n+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ye)|0)+Math.imul(x,pe)|0))<<13)|0;h=((o=o+Math.imul(x,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(N,oe),i=(i=Math.imul(N,se))+Math.imul(U,oe)|0,o=Math.imul(U,se),n=n+Math.imul(L,ue)|0,i=(i=i+Math.imul(L,he)|0)+Math.imul(j,ue)|0,o=o+Math.imul(j,he)|0,n=n+Math.imul(O,ce)|0,i=(i=i+Math.imul(O,le)|0)+Math.imul(B,ce)|0,o=o+Math.imul(B,le)|0;var Re=(h+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,ye)|0)+Math.imul(I,pe)|0))<<13)|0;h=((o=o+Math.imul(I,ye)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(N,ue),i=(i=Math.imul(N,he))+Math.imul(U,ue)|0,o=Math.imul(U,he),n=n+Math.imul(L,ce)|0,i=(i=i+Math.imul(L,le)|0)+Math.imul(j,ce)|0,o=o+Math.imul(j,le)|0;var Oe=(h+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ye)|0)+Math.imul(B,pe)|0))<<13)|0;h=((o=o+Math.imul(B,ye)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(N,ce),i=(i=Math.imul(N,le))+Math.imul(U,ce)|0,o=Math.imul(U,le);var Be=(h+(n=n+Math.imul(L,pe)|0)|0)+((8191&(i=(i=i+Math.imul(L,ye)|0)+Math.imul(j,pe)|0))<<13)|0;h=((o=o+Math.imul(j,ye)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863;var Ce=(h+(n=Math.imul(N,pe))|0)+((8191&(i=(i=Math.imul(N,ye))+Math.imul(U,pe)|0))<<13)|0;return h=((o=Math.imul(U,ye))+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,u[0]=me,u[1]=ge,u[2]=be,u[3]=we,u[4]=ve,u[5]=_e,u[6]=Ee,u[7]=Se,u[8]=Me,u[9]=Ae,u[10]=ke,u[11]=xe,u[12]=Te,u[13]=Pe,u[14]=Ie,u[15]=Re,u[16]=Oe,u[17]=Be,u[18]=Ce,0!==h&&(u[19]=h,r.length++),r};function p(e,t,r){return(new y).mulp(e,t,r)}function y(e,t){this.x=e,this.y=t}Math.imul||(d=l),i.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?d(this,e,t):n<63?l(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,t.length-1),h=Math.max(0,o-e.length+1);h<=u;h++){var f=o-h,c=(0|e.words[f])*(0|t.words[h]),l=67108863&c;a=67108863&(l=l+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):p(this,e,t),r},y.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},y.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},y.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},y.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),h=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var c=u,l=h,d=0;d<s;d++){var p=r[f+d],y=n[f+d],m=r[f+d+s],g=n[f+d+s],b=c*m-l*g;g=c*g+l*m,m=b,r[f+d]=p+m,n[f+d]=y+g,r[f+d+s]=p-m,n[f+d+s]=y-g,d!==a&&(b=u*c-h*l,l=u*l+h*c,c=b)}},y.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},y.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},y.prototype.convert13b=function(e,t,n,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)n[s]=0;r(0===o),r(0==(-8192&o))},y.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},y.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),h=new Array(n),f=new Array(n),c=new Array(n),l=r.words;l.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,h,n),this.transform(s,o,a,u,n,i),this.transform(h,o,f,c,n,i);for(var d=0;d<n;d++){var p=a[d]*f[d]-u[d]*c[d];u[d]=a[d]*c[d]+u[d]*f[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,l,o,n,i),this.conjugate(l,o,n),this.normalize13b(l,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),p(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var o=r.sqr();n<t.length;n++,o=o.sqr())0!==t[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,u=(0|this.words[t])-a<<n;this.words[t]=u|s,s=a>>>26-n}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,u=n;if(i-=s,i=Math.max(0,i),u){for(var h=0;h<s;h++)u.words[h]=this.words[h];u.length=s}if(0!==s)if(this.length>s)for(this.length-=s,h=0;h<this.length;h++)this.words[h]=this.words[h+s];else this.words[0]=0,this.length=1;var f=0;for(h=this.length-1;h>=0&&(0!==f||h>=i);h--){var c=0|this.words[h];this.words[h]=f<<26-o|c>>>o,f=c&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n||!(this.words[n]&i))},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,o=e.length+n;this._expand(o);var s,a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+n])+a;var u=(0|e.words[i])*t;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&s}for(;i<this.length-n;i++)a=(s=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&s;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),o=e,s=0|o.words[o.length-1];0!=(r=26-this._countBits(s))&&(o=o.ushln(r),n.iushln(r),s=0|o.words[o.length-1]);var a,u=n.length-o.length;if("mod"!==t){(a=new i(null)).length=u+1,a.words=new Array(a.length);for(var h=0;h<a.length;h++)a.words[h]=0}var f=n.clone()._ishlnsubmul(o,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var c=u-1;c>=0;c--){var l=67108864*(0|n.words[o.length+c])+(0|n.words[o.length+c-1]);for(l=Math.min(l/s|0,67108863),n._ishlnsubmul(o,l,c);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(o,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=l)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(o=a.div.neg()),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(e)),{div:o,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(o=a.div.neg()),{div:o,mod:a.mod}):this.negative&e.negative?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t);var o,s,a},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},i.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new i(1),s=new i(0),a=new i(0),u=new i(1),h=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++h;for(var f=n.clone(),c=t.clone();!t.isZero();){for(var l=0,d=1;!(t.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(f),s.isub(c)),o.iushrn(1),s.iushrn(1);for(var p=0,y=1;!(n.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(c)),a.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(a),s.isub(u)):(n.isub(t),a.isub(o),u.isub(s))}return{a,b:u,gcd:n.iushln(h)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t,n=this,o=e.clone();n=0!==n.negative?n.umod(e):n.clone();for(var s=new i(1),a=new i(0),u=o.clone();n.cmpn(1)>0&&o.cmpn(1)>0;){for(var h=0,f=1;!(n.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(n.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var c=0,l=1;!(o.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(o.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);n.cmp(o)>=0?(n.isub(o),s.isub(a)):(o.isub(n),a.isub(s))}return(t=0===n.cmpn(1)?s:a).cmpn(0)<0&&t.iadd(e),t},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new E(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function g(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function v(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function S(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},g.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},g.prototype.split=function(e,t){e.iushrn(this.n,0,t)},g.prototype.imulK=function(e){return e.imul(this.k)},n(b,g),b.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(w,g),n(v,g),n(_,g),_.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new w;else if("p192"===e)t=new v;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return m[e]=t,t},E.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new i(1).toRed(this),u=a.redNeg(),h=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);0!==this.pow(f,h).cmp(u);)f.redIAdd(u);for(var c=this.pow(f,o),l=this.pow(e,o.addn(1).iushrn(1)),d=this.pow(e,o),p=s;0!==d.cmp(a);){for(var y=d,m=0;0!==y.cmp(a);m++)y=y.redSqr();r(m<p);var g=this.pow(c,new i(1).iushln(p-m-1));l=l.redMul(g),c=g.redSqr(),d=d.redMul(c),p=m}return l},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var o=r[0],s=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var h=t.words[n],f=u-1;f>=0;f--){var c=h>>f&1;o!==r[0]&&(o=this.sqr(o)),0!==c||0!==s?(s<<=1,s|=c,(4==++a||0===n&&0===f)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0}u=26}return o},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new S(e)},n(S,E),S.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},S.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},S.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},S.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},S.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(typeof t>"u"||t,e)})),AS=H(((e,t)=>{x();var r=Gw(),n=_t().Buffer;t.exports=function(e,t){return n.from(e.toRed(r.mont(t.modulus)).redPow(new r(t.publicExponent)).fromRed().toArray())}})),Pz=H(((e,t)=>{x();var r=ky(),n=oh(),i=Wd(),o=ES(),s=SS(),a=Gw(),u=AS(),h=vw(),f=_t().Buffer;t.exports=function(e,t,c){var l;l=e.padding?e.padding:c?1:4;var d,p=r(e);if(4===l)d=function(e,t){var r=e.modulus.byteLength(),u=t.length,h=i("sha1").update(f.alloc(0)).digest(),c=h.length,l=2*c;if(u>r-l-2)throw new Error("message too long");var d=f.alloc(r-u-l-2),p=r-c-1,y=n(c),m=s(f.concat([h,d,f.alloc(1,1),t],p),o(y,p)),g=s(y,o(m,c));return new a(f.concat([f.alloc(1),g,m],r))}(p,t);else if(1===l)d=function(e,t,r){var i,o=t.length,s=e.modulus.byteLength();if(o>s-11)throw new Error("message too long");return i=r?f.alloc(s-o-3,255):function(e){for(var t,r=f.allocUnsafe(e),i=0,o=n(2*e),s=0;i<e;)s===o.length&&(o=n(2*e),s=0),(t=o[s++])&&(r[i++]=t);return r}(s-o-3),new a(f.concat([f.from([0,r?1:2]),i,f.alloc(1),t],s))}(p,t,c);else{if(3!==l)throw new Error("unknown padding");if((d=new a(t)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return c?h(d,p):u(d,p)}})),Nz=H(((e,t)=>{x();var r=ky(),n=ES(),i=SS(),o=Gw(),s=vw(),a=Wd(),u=AS(),h=_t().Buffer;t.exports=function(e,t,f){var c;c=e.padding?e.padding:f?1:4;var l,d=r(e),p=d.modulus.byteLength();if(t.length>p||new o(t).cmp(d.modulus)>=0)throw new Error("decryption error");l=f?u(new o(t),d):s(t,d);var y=h.alloc(p-l.length);if(l=h.concat([y,l],p),4===c)return function(e,t){var r=e.modulus.byteLength(),o=a("sha1").update(h.alloc(0)).digest(),s=o.length;if(0!==t[0])throw new Error("decryption error");var u=t.slice(1,s+1),f=t.slice(s+1),c=i(u,n(f,s)),l=i(f,n(c,r-s-1));if(function(e,t){e=h.from(e),t=h.from(t);var r=0,n=e.length;e.length!==t.length&&(r++,n=Math.min(e.length,t.length));for(var i=-1;++i<n;)r+=e[i]^t[i];return r}(o,l.slice(0,s)))throw new Error("decryption error");for(var d=s;0===l[d];)d++;if(1!==l[d++])throw new Error("decryption error");return l.slice(d)}(d,l);if(1===c)return function(e,t,r){for(var n=t.slice(0,2),i=2,o=0;0!==t[i++];)if(i>=t.length){o++;break}var s=t.slice(2,i-1);if(("0002"!==n.toString("hex")&&!r||"0001"!==n.toString("hex")&&r)&&o++,s.length<8&&o++,o)throw new Error("decryption error");return t.slice(i)}(0,l,f);if(3===c)return l;throw new Error("unknown padding")}})),Lz=H((e=>{x(),e.publicEncrypt=Pz(),e.privateDecrypt=Nz(),e.privateEncrypt=function(t,r){return e.publicEncrypt(t,r,!0)},e.publicDecrypt=function(t,r){return e.privateDecrypt(t,r,!0)}})),Kz=H((e=>{function t(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}x();var r=_t(),n=oh(),i=r.Buffer,o=r.kMaxLength,s=globalThis.crypto||globalThis.msCrypto,a=Math.pow(2,32)-1;function u(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>a||e<0)throw new TypeError("offset must be a uint32");if(e>o||e>t)throw new RangeError("offset out of range")}function h(e,t,r){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>a||e<0)throw new TypeError("size must be a uint32");if(e+t>r||e>o)throw new RangeError("buffer too small")}function f(e,t,r,i){if(D.default.browser){var o=e.buffer,a=new Uint8Array(o,t,r);return s.getRandomValues(a),i?void D.default.nextTick((function(){i(null,e)})):e}if(!i)return n(r).copy(e,t),e;n(r,(function(r,n){if(r)return i(r);n.copy(e,t),i(null,e)}))}s&&s.getRandomValues||!D.default.browser?(e.randomFill=function(e,t,r,n){if(!(i.isBuffer(e)||e instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof t)n=t,t=0,r=e.length;else if("function"==typeof r)n=r,r=e.length-t;else if("function"!=typeof n)throw new TypeError('"cb" argument must be a function');return u(t,e.length),h(r,t,e.length),f(e,t,r,n)},e.randomFillSync=function(e,t,r){if(typeof t>"u"&&(t=0),!(i.isBuffer(e)||e instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return u(t,e.length),void 0===r&&(r=e.length-t),h(r,t,e.length),f(e,t,r)}):(e.randomFill=t,e.randomFillSync=t)})),ew=H((e=>{x(),e.randomBytes=e.rng=e.pseudoRandomBytes=e.prng=oh(),e.createHash=e.Hash=Wd(),e.createHmac=e.Hmac=M4();var t=cN(),r=Object.keys(t),n=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(r);e.getHashes=function(){return n};var i=D4();e.pbkdf2=i.pbkdf2,e.pbkdf2Sync=i.pbkdf2Sync;var o=OL();e.Cipher=o.Cipher,e.createCipher=o.createCipher,e.Cipheriv=o.Cipheriv,e.createCipheriv=o.createCipheriv,e.Decipher=o.Decipher,e.createDecipher=o.createDecipher,e.Decipheriv=o.Decipheriv,e.createDecipheriv=o.createDecipheriv,e.getCiphers=o.getCiphers,e.listCiphers=o.listCiphers;var s=ZL();e.DiffieHellmanGroup=s.DiffieHellmanGroup,e.createDiffieHellmanGroup=s.createDiffieHellmanGroup,e.getDiffieHellman=s.getDiffieHellman,e.createDiffieHellman=s.createDiffieHellman,e.DiffieHellman=s.DiffieHellman;var a=vz();e.createSign=a.createSign,e.Sign=a.Sign,e.createVerify=a.createVerify,e.Verify=a.Verify,e.createECDH=Mz();var u=Lz();e.publicEncrypt=u.publicEncrypt,e.privateEncrypt=u.privateEncrypt,e.publicDecrypt=u.publicDecrypt,e.privateDecrypt=u.privateDecrypt;var h=Kz();e.randomFill=h.randomFill,e.randomFillSync=h.randomFillSync,e.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},e.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}})),SF=H(((e,t)=>{x();var r="object"==typeof globalThis&&globalThis&&globalThis.Object===Object&&globalThis;t.exports=r})),AF=H(((e,t)=>{x();var r=SF(),n="object"==typeof self&&self&&self.Object===Object&&self,i=r||n||Function("return this")();t.exports=i})),$S=H(((e,t)=>{x();var r=AF().Symbol;t.exports=r})),DF=H(((e,t)=>{x();var r=$S(),n=Object.prototype,i=n.hasOwnProperty,o=n.toString,s=r?r.toStringTag:void 0;t.exports=function(e){var t=i.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch{}var a=o.call(e);return n&&(t?e[s]=r:delete e[s]),a}})),OF=H(((e,t)=>{x();var r=Object.prototype.toString;t.exports=function(e){return r.call(e)}})),qF=H(((e,t)=>{x();var r=$S(),n=DF(),i=OF(),o=r?r.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?n(e):i(e)}})),UF=H(((e,t)=>{x(),t.exports=function(e,t){return function(r){return e(t(r))}}})),FF=H(((e,t)=>{x();var r=UF()(Object.getPrototypeOf,Object);t.exports=r})),HF=H(((e,t)=>{x(),t.exports=function(e){return null!=e&&"object"==typeof e}})),HS=H(((e,t)=>{x();var r=qF(),n=FF(),i=HF(),o=Function.prototype,s=Object.prototype,a=o.toString,u=s.hasOwnProperty,h=a.call(Object);t.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=n(e);if(null===t)return!0;var o=u.call(t,"constructor")&&t.constructor;return"function"==typeof o&&o instanceof o&&a.call(o)==h}})),i5=H(((e,t)=>{x();var r="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,n="function"==typeof AbortController?AbortController:class{constructor(){this.signal=new s}abort(){this.signal.dispatchEvent("abort")}},i="function"==typeof AbortSignal,o="function"==typeof n.AbortSignal,s=i?AbortSignal:o?n.AbortController:class{constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(e){if("abort"===e){this.aborted=!0;let t={type:e,target:this};this.onabort(t),this._listeners.forEach((e=>e(t)),this)}}onabort(){}addEventListener(e,t){"abort"===e&&this._listeners.push(t)}removeEventListener(e,t){"abort"===e&&(this._listeners=this._listeners.filter((e=>e!==t)))}},a=new Set,u=(e,t)=>{let r=`LRU_CACHE_OPTION_${e}`;c(r)&&l(r,`${e} option`,`options.${t}`,m)},h=(e,t)=>{let r=`LRU_CACHE_METHOD_${e}`;if(c(r)){let{prototype:n}=m,{get:i}=Object.getOwnPropertyDescriptor(n,e);l(r,`${e} method`,`cache.${t}()`,i)}},f=(...e)=>{"object"==typeof D.default&&D.default&&"function"==typeof D.default.emitWarning?D.default.emitWarning(...e):console.error(...e)},c=e=>!a.has(e),l=(e,t,r,n)=>{a.add(e),f(`The ${t} is deprecated. Please use ${r} instead.`,"DeprecationWarning",e,n)},d=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),p=e=>d(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?y:null:null,y=class extends Array{constructor(e){super(e),this.fill(0)}},m=class{constructor(e={}){let{max:t=0,ttl:r,ttlResolution:n=1,ttlAutopurge:i,updateAgeOnGet:o,updateAgeOnHas:s,allowStale:h,dispose:l,disposeAfter:y,noDisposeOnSet:g,noUpdateTTL:b,maxSize:w=0,sizeCalculation:v,fetchMethod:_,fetchContext:E,noDeleteOnFetchRejection:S,noDeleteOnStaleGet:M}=e,{length:A,maxAge:k,stale:x}=e instanceof m?{}:e;if(0!==t&&!d(t))throw new TypeError("max option must be a nonnegative integer");let T=t?p(t):Array;if(!T)throw new Error("invalid max value: "+t);if(this.max=t,this.maxSize=w,this.sizeCalculation=v||A,this.sizeCalculation){if(!this.maxSize)throw new TypeError("cannot set sizeCalculation without setting maxSize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=_||null,this.fetchMethod&&"function"!=typeof this.fetchMethod)throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=E,!this.fetchMethod&&void 0!==E)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(t).fill(null),this.valList=new Array(t).fill(null),this.next=new T(t),this.prev=new T(t),this.head=0,this.tail=0,this.free=new class{constructor(e){if(0===e)return[];let t=p(e);this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}(t),this.initialFill=1,this.size=0,"function"==typeof l&&(this.dispose=l),"function"==typeof y?(this.disposeAfter=y,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!g,this.noUpdateTTL=!!b,this.noDeleteOnFetchRejection=!!S,0!==this.maxSize){if(!d(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!h||!!x,this.noDeleteOnStaleGet=!!M,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!s,this.ttlResolution=d(n)||0===n?n:1,this.ttlAutopurge=!!i,this.ttl=r||k||0,this.ttl){if(!d(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(0===this.max&&0===this.ttl&&0===this.maxSize)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let e="LRU_CACHE_UNBOUNDED";c(e)&&(a.add(e),f("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",e,m))}x&&u("stale","allowStale"),k&&u("maxAge","ttl"),A&&u("length","sizeCalculation")}getRemainingTTL(e){return this.has(e,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new y(this.max),this.starts=new y(this.max),this.setItemTTL=(e,t,n=r.now())=>{if(this.starts[e]=0!==t?n:0,this.ttls[e]=t,0!==t&&this.ttlAutopurge){let r=setTimeout((()=>{this.isStale(e)&&this.delete(this.keyList[e])}),t+1);r.unref&&r.unref()}},this.updateItemAge=e=>{this.starts[e]=0!==this.ttls[e]?r.now():0};let e=0,t=()=>{let t=r.now();if(this.ttlResolution>0){e=t;let r=setTimeout((()=>e=0),this.ttlResolution);r.unref&&r.unref()}return t};this.getRemainingTTL=r=>{let n=this.keyMap.get(r);return void 0===n?0:0===this.ttls[n]||0===this.starts[n]?1/0:this.starts[n]+this.ttls[n]-(e||t())},this.isStale=r=>0!==this.ttls[r]&&0!==this.starts[r]&&(e||t())-this.starts[r]>this.ttls[r]}updateItemAge(e){}setItemTTL(e,t,r){}isStale(e){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new y(this.max),this.removeItemSize=e=>this.calculatedSize-=this.sizes[e],this.requireSize=(e,t,r,n)=>{if(!d(r)){if(!n)throw new TypeError("invalid size value (must be positive integer)");if("function"!=typeof n)throw new TypeError("sizeCalculation must be a function");if(r=n(t,e),!d(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return r},this.addItemSize=(e,t,r,n)=>{this.sizes[e]=n;let i=this.maxSize-this.sizes[e];for(;this.calculatedSize>i;)this.evict(!0);this.calculatedSize+=this.sizes[e]}}removeItemSize(e){}addItemSize(e,t,r,n){}requireSize(e,t,r,n){if(r||n)throw new TypeError("cannot set size without setting maxSize on cache")}*indexes({allowStale:e=this.allowStale}={}){if(this.size)for(let t=this.tail;this.isValidIndex(t)&&((e||!this.isStale(t))&&(yield t),t!==this.head);)t=this.prev[t]}*rindexes({allowStale:e=this.allowStale}={}){if(this.size)for(let t=this.head;this.isValidIndex(t)&&((e||!this.isStale(t))&&(yield t),t!==this.tail);)t=this.next[t]}isValidIndex(e){return this.keyMap.get(this.keyList[e])===e}*entries(){for(let e of this.indexes())yield[this.keyList[e],this.valList[e]]}*rentries(){for(let e of this.rindexes())yield[this.keyList[e],this.valList[e]]}*keys(){for(let e of this.indexes())yield this.keyList[e]}*rkeys(){for(let e of this.rindexes())yield this.keyList[e]}*values(){for(let e of this.indexes())yield this.valList[e]}*rvalues(){for(let e of this.rindexes())yield this.valList[e]}[Symbol.iterator](){return this.entries()}find(e,t={}){for(let r of this.indexes())if(e(this.valList[r],this.keyList[r],this))return this.get(this.keyList[r],t)}forEach(e,t=this){for(let r of this.indexes())e.call(t,this.valList[r],this.keyList[r],this)}rforEach(e,t=this){for(let r of this.rindexes())e.call(t,this.valList[r],this.keyList[r],this)}get prune(){return h("prune","purgeStale"),this.purgeStale}purgeStale(){let e=!1;for(let t of this.rindexes({allowStale:!0}))this.isStale(t)&&(this.delete(this.keyList[t]),e=!0);return e}dump(){let e=[];for(let t of this.indexes({allowStale:!0})){let n=this.keyList[t],i=this.valList[t],o={value:this.isBackgroundFetch(i)?i.__staleWhileFetching:i};if(this.ttls){o.ttl=this.ttls[t];let e=r.now()-this.starts[t];o.start=Math.floor(Date.now()-e)}this.sizes&&(o.size=this.sizes[t]),e.unshift([n,o])}return e}load(e){this.clear();for(let[t,n]of e){if(n.start){let e=Date.now()-n.start;n.start=r.now()-e}this.set(t,n.value,n)}}dispose(e,t,r){}set(e,t,{ttl:r=this.ttl,start:n,noDisposeOnSet:i=this.noDisposeOnSet,size:o=0,sizeCalculation:s=this.sizeCalculation,noUpdateTTL:a=this.noUpdateTTL}={}){o=this.requireSize(e,t,o,s);let u=0===this.size?void 0:this.keyMap.get(e);if(void 0===u)u=this.newIndex(),this.keyList[u]=e,this.valList[u]=t,this.keyMap.set(e,u),this.next[this.tail]=u,this.prev[u]=this.tail,this.tail=u,this.size++,this.addItemSize(u,t,e,o),a=!1;else{let r=this.valList[u];t!==r&&(this.isBackgroundFetch(r)?r.__abortController.abort():i||(this.dispose(r,e,"set"),this.disposeAfter&&this.disposed.push([r,e,"set"])),this.removeItemSize(u),this.valList[u]=t,this.addItemSize(u,t,e,o)),this.moveToTail(u)}if(0!==r&&0===this.ttl&&!this.ttls&&this.initializeTTLTracking(),a||this.setItemTTL(u,r,n),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return 0===this.size?this.tail:this.size===this.max&&0!==this.max?this.evict(!1):0!==this.free.length?this.free.pop():this.initialFill++}pop(){if(this.size){let e=this.valList[this.head];return this.evict(!0),e}}evict(e){let t=this.head,r=this.keyList[t],n=this.valList[t];return this.isBackgroundFetch(n)?n.__abortController.abort():(this.dispose(n,r,"evict"),this.disposeAfter&&this.disposed.push([n,r,"evict"])),this.removeItemSize(t),e&&(this.keyList[t]=null,this.valList[t]=null,this.free.push(t)),this.head=this.next[t],this.keyMap.delete(r),this.size--,t}has(e,{updateAgeOnHas:t=this.updateAgeOnHas}={}){let r=this.keyMap.get(e);return void 0!==r&&!this.isStale(r)&&(t&&this.updateItemAge(r),!0)}peek(e,{allowStale:t=this.allowStale}={}){let r=this.keyMap.get(e);if(void 0!==r&&(t||!this.isStale(r)))return this.valList[r]}backgroundFetch(e,t,r,i){let o=void 0===t?void 0:this.valList[t];if(this.isBackgroundFetch(o))return o;let s=new n,a={signal:s.signal,options:r,context:i},u=new Promise((t=>t(this.fetchMethod(e,o,a)))).then((t=>(s.signal.aborted||this.set(e,t,a.options),t)),(n=>{if(this.valList[t]===u&&(r.noDeleteOnFetchRejection&&void 0!==u.__staleWhileFetching?this.valList[t]=u.__staleWhileFetching:this.delete(e)),u.__returned===u)throw n}));return u.__abortController=s,u.__staleWhileFetching=o,u.__returned=null,void 0===t?(this.set(e,u,a.options),t=this.keyMap.get(e)):this.valList[t]=u,u}isBackgroundFetch(e){return e&&"object"==typeof e&&"function"==typeof e.then&&Object.prototype.hasOwnProperty.call(e,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(e,"__returned")&&(e.__returned===e||null===e.__returned)}async fetch(e,{allowStale:t=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,ttl:i=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:s=0,sizeCalculation:a=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:h=this.noDeleteOnFetchRejection,fetchContext:f=this.fetchContext}={}){if(!this.fetchMethod)return this.get(e,{allowStale:t,updateAgeOnGet:r,noDeleteOnStaleGet:n});let c={allowStale:t,updateAgeOnGet:r,noDeleteOnStaleGet:n,ttl:i,noDisposeOnSet:o,size:s,sizeCalculation:a,noUpdateTTL:u,noDeleteOnFetchRejection:h},l=this.keyMap.get(e);if(void 0===l){let t=this.backgroundFetch(e,l,c,f);return t.__returned=t}{let n=this.valList[l];if(this.isBackgroundFetch(n))return t&&void 0!==n.__staleWhileFetching?n.__staleWhileFetching:n.__returned=n;if(!this.isStale(l))return this.moveToTail(l),r&&this.updateItemAge(l),n;let i=this.backgroundFetch(e,l,c,f);return t&&void 0!==i.__staleWhileFetching?i.__staleWhileFetching:i.__returned=i}}get(e,{allowStale:t=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet}={}){let i=this.keyMap.get(e);if(void 0!==i){let o=this.valList[i],s=this.isBackgroundFetch(o);return this.isStale(i)?s?t?o.__staleWhileFetching:void 0:(n||this.delete(e),t?o:void 0):s?void 0:(this.moveToTail(i),r&&this.updateItemAge(i),o)}}connect(e,t){this.prev[t]=e,this.next[e]=t}moveToTail(e){e!==this.tail&&(e===this.head?this.head=this.next[e]:this.connect(this.prev[e],this.next[e]),this.connect(this.tail,e),this.tail=e)}get del(){return h("del","delete"),this.delete}delete(e){let t=!1;if(0!==this.size){let r=this.keyMap.get(e);if(void 0!==r)if(t=!0,1===this.size)this.clear();else{this.removeItemSize(r);let t=this.valList[r];this.isBackgroundFetch(t)?t.__abortController.abort():(this.dispose(t,e,"delete"),this.disposeAfter&&this.disposed.push([t,e,"delete"])),this.keyMap.delete(e),this.keyList[r]=null,this.valList[r]=null,r===this.tail?this.tail=this.prev[r]:r===this.head?this.head=this.next[r]:(this.next[this.prev[r]]=this.next[r],this.prev[this.next[r]]=this.prev[r]),this.size--,this.free.push(r)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return t}clear(){for(let e of this.rindexes({allowStale:!0})){let t=this.valList[e];if(this.isBackgroundFetch(t))t.__abortController.abort();else{let r=this.keyList[e];this.dispose(t,r,"delete"),this.disposeAfter&&this.disposed.push([t,r,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return h("reset","clear"),this.clear}get length(){return((e,t)=>{let r=`LRU_CACHE_PROPERTY_${e}`;if(c(r)){let{prototype:t}=m,{get:n}=Object.getOwnPropertyDescriptor(t,e);l(r,`${e} property`,"cache.size",n)}})("length"),this.size}static get AbortController(){return n}static get AbortSignal(){return s}};t.exports=m})),zi=H(((e,t)=>{x(),t.exports={ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,r)=>e.slice(t,r),Error,FunctionPrototypeCall:(e,t,...r)=>e.call(t,...r),FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,r)=>Object.defineProperty(e,t,r),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,r)=>e.then(t,r),PromiseReject:e=>Promise.reject(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String,StringPrototypeSlice:(e,t,r)=>e.slice(t,r),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(e,t,r)=>e.set(t,r),Uint8Array}})),Fa=H(((e,t)=>{x();var r=St(),n=Object.getPrototypeOf((async function(){})).constructor,i=globalThis.Blob||r.Blob,o=typeof i<"u"?function(e){return e instanceof i}:function(e){return!1},s=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t="";for(let r=0;r<e.length;r++)t+=`    ${e[r].stack}\n`;super(t),this.name="AggregateError",this.errors=e}};t.exports={AggregateError:s,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...r){t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){let e,t;return{promise:new Promise(((r,n)=>{e=r,t=n})),resolve:e,reject:t}},promisify:e=>new Promise(((t,r)=>{e(((e,...n)=>e?r(e):t(...n)))})),debuglog:()=>function(){},format:(e,...t)=>e.replace(/%([sdifj])/g,(function(...[e,r]){let n=t.shift();return"f"===r?n.toFixed(6):"j"===r?JSON.stringify(n):"s"===r&&"object"==typeof n?`${n.constructor!==Object?n.constructor.name:""} {}`.trim():n.toString()})),inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}},types:{isAsyncFunction:e=>e instanceof n,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:o},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})),y2=H(((e,t)=>{x();var{AbortController:r,AbortSignal:n}=typeof self<"u"?self:typeof window<"u"?window:void 0;t.exports=r,t.exports.AbortSignal=n,t.exports.default=r})),Jn=H(((e,t)=>{x();var{format:r,inspect:n,AggregateError:i}=Fa(),o=globalThis.AggregateError||i,s=Symbol("kIsNodeError"),a=["string","function","number","object","Function","Object","boolean","bigint","symbol"],u=/^([A-Z][a-z0-9]*)+$/,h={};function f(e,t){if(!e)throw new h.ERR_INTERNAL_ASSERTION(t)}function c(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function l(e,t,n){n||(n=Error);class i extends n{constructor(...n){super(function(e,t,n){if("function"==typeof t)return f(t.length<=n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${t.length}).`),t(...n);let i=(t.match(/%[dfijoOs]/g)||[]).length;return f(i===n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${i}).`),0===n.length?t:r(t,...n)}(e,t,n))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:n.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=e,i.prototype[s]=!0,h[e]=i}function d(e){let t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}var p=class extends Error{constructor(e="The operation was aborted",t){if(void 0!==t&&"object"!=typeof t)throw new h.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}};l("ERR_ASSERTION","%s",Error),l("ERR_INVALID_ARG_TYPE",((e,t,r)=>{f("string"==typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let i="The ";e.endsWith(" argument")?i+=`${e} `:i+=`"${e}" ${e.includes(".")?"property":"argument"} `,i+="must be ";let o=[],s=[],h=[];for(let e of t)f("string"==typeof e,"All expected entries have to be of type string"),a.includes(e)?o.push(e.toLowerCase()):u.test(e)?s.push(e):(f("object"!==e,'The value "object" should be written as "Object"'),h.push(e));if(s.length>0){let e=o.indexOf("object");-1!==e&&(o.splice(o,e,1),s.push("Object"))}if(o.length>0){switch(o.length){case 1:i+=`of type ${o[0]}`;break;case 2:i+=`one of type ${o[0]} or ${o[1]}`;break;default:{let e=o.pop();i+=`one of type ${o.join(", ")}, or ${e}`}}(s.length>0||h.length>0)&&(i+=" or ")}if(s.length>0){switch(s.length){case 1:i+=`an instance of ${s[0]}`;break;case 2:i+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let e=s.pop();i+=`an instance of ${s.join(", ")}, or ${e}`}}h.length>0&&(i+=" or ")}switch(h.length){case 0:break;case 1:h[0].toLowerCase()!==h[0]&&(i+="an "),i+=`${h[0]}`;break;case 2:i+=`one of ${h[0]} or ${h[1]}`;break;default:{let e=h.pop();i+=`one of ${h.join(", ")}, or ${e}`}}if(null==r)i+=`. Received ${r}`;else if("function"==typeof r&&r.name)i+=`. Received function ${r.name}`;else if("object"==typeof r){var c;null!==(c=r.constructor)&&void 0!==c&&c.name?i+=`. Received an instance of ${r.constructor.name}`:i+=`. Received ${n(r,{depth:-1})}`}else{let e=n(r,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),i+=`. Received type ${typeof r} (${e})`}return i}),TypeError),l("ERR_INVALID_ARG_VALUE",((e,t,r="is invalid")=>{let i=n(t);return i.length>128&&(i=i.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${i}`}),TypeError),l("ERR_INVALID_RETURN_VALUE",((e,t,r)=>{var n;return`Expected ${e} to be returned from the "${t}" function but got ${null!=r&&null!==(n=r.constructor)&&void 0!==n&&n.name?`instance of ${r.constructor.name}`:"type "+typeof r}.`}),TypeError),l("ERR_MISSING_ARGS",((...e)=>{f(e.length>0,"At least one arg needs to be specified");let t,r=e.length;switch(e=(Array.isArray(e)?e:[e]).map((e=>`"${e}"`)).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{let r=e.pop();t+=`The ${e.join(", ")}, and ${r} arguments`}}return`${t} must be specified`}),TypeError),l("ERR_OUT_OF_RANGE",((e,t,r)=>{let i;return f(t,'Missing "range" argument'),Number.isInteger(r)&&Math.abs(r)>2**32?i=c(String(r)):"bigint"==typeof r?(i=String(r),(r>2n**32n||r<-(2n**32n))&&(i=c(i)),i+="n"):i=n(r),`The value of "${e}" is out of range. It must be ${t}. Received ${i}`}),RangeError),l("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),l("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),l("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),l("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),l("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),l("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),l("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),l("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),l("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),l("ERR_STREAM_WRITE_AFTER_END","write after end",Error),l("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),t.exports={AbortError:p,aggregateTwoErrors:d((function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;let r=new o([t,e],t.message);return r.code=t.code,r}return e||t})),hideStackFrames:d,codes:h}})),Zy=H(((e,t)=>{x();var{ArrayIsArray:r,ArrayPrototypeIncludes:n,ArrayPrototypeJoin:i,ArrayPrototypeMap:o,NumberIsInteger:s,NumberIsNaN:a,NumberMAX_SAFE_INTEGER:u,NumberMIN_SAFE_INTEGER:h,NumberParseInt:f,ObjectPrototypeHasOwnProperty:c,RegExpPrototypeExec:l,String:d,StringPrototypeToUpperCase:p,StringPrototypeTrim:y}=zi(),{hideStackFrames:m,codes:{ERR_SOCKET_BAD_PORT:g,ERR_INVALID_ARG_TYPE:b,ERR_INVALID_ARG_VALUE:w,ERR_OUT_OF_RANGE:v,ERR_UNKNOWN_SIGNAL:_}}=Jn(),{normalizeEncoding:E}=Fa(),{isAsyncFunction:S,isArrayBufferView:M}=Fa().types,A={},k=/^[0-7]+$/,T=m(((e,t,r=h,n=u)=>{if("number"!=typeof e)throw new b(t,"number",e);if(!s(e))throw new v(t,"an integer",e);if(e<r||e>n)throw new v(t,`>= ${r} && <= ${n}`,e)})),P=m(((e,t,r=-2147483648,n=2147483647)=>{if("number"!=typeof e)throw new b(t,"number",e);if(!s(e))throw new v(t,"an integer",e);if(e<r||e>n)throw new v(t,`>= ${r} && <= ${n}`,e)})),I=m(((e,t,r=!1)=>{if("number"!=typeof e)throw new b(t,"number",e);if(!s(e))throw new v(t,"an integer",e);let n=r?1:0,i=4294967295;if(e<n||e>i)throw new v(t,`>= ${n} && <= ${i}`,e)}));function R(e,t){if("string"!=typeof e)throw new b(t,"string",e)}var O=m(((e,t,r)=>{if(!n(r,e)){let n="must be one of: "+i(o(r,(e=>"string"==typeof e?`'${e}'`:d(e))),", ");throw new w(t,e,n)}}));function B(e,t,r){return null!=e&&c(e,t)?e[t]:r}var C=m(((e,t,n=null)=>{let i=B(n,"allowArray",!1),o=B(n,"allowFunction",!1);if(!B(n,"nullable",!1)&&null===e||!i&&r(e)||"object"!=typeof e&&(!o||"function"!=typeof e))throw new b(t,"Object",e)})),L=m(((e,t,n=0)=>{if(!r(e))throw new b(t,"Array",e);if(e.length<n)throw new w(t,e,`must be longer than ${n}`)})),j=m(((e,t="buffer")=>{if(!M(e))throw new b(t,["Buffer","TypedArray","DataView"],e)})),D=m(((e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new b(t,"AbortSignal",e)})),N=m(((e,t)=>{if("function"!=typeof e)throw new b(t,"Function",e)})),U=m(((e,t)=>{if("function"!=typeof e||S(e))throw new b(t,"Function",e)})),H=m(((e,t)=>{if(void 0!==e)throw new b(t,"undefined",e)}));t.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,r){if(typeof e>"u"&&(e=r),"string"==typeof e){if(null===l(k,e))throw new w(t,e,"must be a 32-bit unsigned integer or an octal string");e=f(e,8)}return I(e,t),e},validateArray:L,validateBoolean:function(e,t){if("boolean"!=typeof e)throw new b(t,"boolean",e)},validateBuffer:j,validateEncoding:function(e,t){let r=E(t),n=e.length;if("hex"===r&&n%2!=0)throw new w("encoding",t,`is invalid for data of length ${n}`)},validateFunction:N,validateInt32:P,validateInteger:T,validateNumber:function(e,t,r,n){if("number"!=typeof e)throw new b(t,"number",e);if(null!=r&&e<r||null!=n&&e>n||(null!=r||null!=n)&&a(e))throw new v(t,`${null!=r?`>= ${r}`:""}${null!=r&&null!=n?" && ":""}${null!=n?`<= ${n}`:""}`,e)},validateObject:C,validateOneOf:O,validatePlainFunction:U,validatePort:function(e,t="Port",r=!0){if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===y(e).length||+e!=+e>>>0||e>65535||0===e&&!r)throw new g(t,e,r);return 0|e},validateSignalName:function(e,t="signal"){if(R(e,t),void 0===A[e])throw void 0!==A[p(e)]?new _(e+" (signals must use all capital letters)"):new _(e)},validateString:R,validateUint32:I,validateUndefined:H,validateUnion:function(e,t,r){if(!n(r,e))throw new b(t,`('${i(r,"|")}')`,e)},validateAbortSignal:D}})),Ju=H(((e,t)=>{x();var{Symbol:r,SymbolAsyncIterator:n,SymbolIterator:i}=zi(),o=r("kDestroyed"),s=r("kIsErrored"),a=r("kIsReadable"),u=r("kIsDisturbed");function h(e,t=!1){var r;return!(!e||"function"!=typeof e.pipe||"function"!=typeof e.on||t&&("function"!=typeof e.pause||"function"!=typeof e.resume)||e._writableState&&!1===(null===(r=e._readableState)||void 0===r?void 0:r.readable)||e._writableState&&!e._readableState)}function f(e){var t;return!(!e||"function"!=typeof e.write||"function"!=typeof e.on||e._readableState&&!1===(null===(t=e._writableState)||void 0===t?void 0:t.writable))}function c(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function l(e){if(!c(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[o]||null!=n&&n.destroyed)}function d(e){if(!f(e))return null;if(!0===e.writableEnded)return!0;let t=e._writableState;return(null==t||!t.errored)&&("boolean"!=typeof t?.ended?null:t.ended)}function p(e,t){if(!h(e))return null;let r=e._readableState;return(null==r||!r.errored)&&("boolean"!=typeof r?.endEmitted?null:!!(r.endEmitted||!1===t&&!0===r.ended&&0===r.length))}function y(e){return e&&null!=e[a]?e[a]:"boolean"!=typeof e?.readable?null:!l(e)&&h(e)&&e.readable&&!p(e)}function m(e){return"boolean"!=typeof e?.writable?null:!l(e)&&f(e)&&e.writable&&!d(e)}function g(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function b(e){return"boolean"==typeof e._sent100&&g(e)}t.exports={kDestroyed:o,isDisturbed:function(e){var t;return!(!e||!(null!==(t=e[u])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:u,isErrored:function(e){var t,r,n,i,o,a,u,h,f,c;return!(!e||!(null!==(t=null!==(r=null!==(n=null!==(i=null!==(o=null!==(a=e[s])&&void 0!==a?a:e.readableErrored)&&void 0!==o?o:e.writableErrored)&&void 0!==i?i:null===(u=e._readableState)||void 0===u?void 0:u.errorEmitted)&&void 0!==n?n:null===(h=e._writableState)||void 0===h?void 0:h.errorEmitted)&&void 0!==r?r:null===(f=e._readableState)||void 0===f?void 0:f.errored)&&void 0!==t?t:null!==(c=e._writableState)&&void 0!==c&&c.errored))},kIsErrored:s,isReadable:y,kIsReadable:a,isClosed:function(e){if(!c(e))return null;if("boolean"==typeof e.closed)return e.closed;let t=e._writableState,r=e._readableState;return"boolean"==typeof t?.closed||"boolean"==typeof r?.closed?t?.closed||r?.closed:"boolean"==typeof e._closed&&g(e)?e._closed:null},isDestroyed:l,isDuplexNodeStream:function(e){return!(!e||"function"!=typeof e.pipe||!e._readableState||"function"!=typeof e.on||"function"!=typeof e.write)},isFinished:function(e,t){return c(e)?!!l(e)||!(!1!==t?.readable&&y(e)||!1!==t?.writable&&m(e)):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"==typeof e[n]:!1===t?"function"==typeof e[i]:"function"==typeof e[n]||"function"==typeof e[i])},isReadableNodeStream:h,isReadableEnded:function(e){if(!h(e))return null;if(!0===e.readableEnded)return!0;let t=e._readableState;return!(!t||t.errored)&&("boolean"!=typeof t?.ended?null:t.ended)},isReadableFinished:p,isReadableErrored:function(e){var t,r;return c(e)?e.readableErrored?e.readableErrored:null!==(t=null===(r=e._readableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isNodeStream:c,isWritable:m,isWritableNodeStream:f,isWritableEnded:d,isWritableFinished:function(e,t){if(!f(e))return null;if(!0===e.writableFinished)return!0;let r=e._writableState;return(null==r||!r.errored)&&("boolean"!=typeof r?.finished?null:!!(r.finished||!1===t&&!0===r.ended&&0===r.length))},isWritableErrored:function(e){var t,r;return c(e)?e.writableErrored?e.writableErrored:null!==(t=null===(r=e._writableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&void 0===(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)},isServerResponse:b,willEmitClose:function(e){if(!c(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!n&&b(e)||!!(n&&n.autoDestroy&&n.emitClose&&!1===n.closed)}}})),Xu=H(((e,t)=>{x();var r=rf(),{AbortError:n,codes:i}=Jn(),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_PREMATURE_CLOSE:s}=i,{kEmptyObject:a,once:u}=Fa(),{validateAbortSignal:h,validateFunction:f,validateObject:c}=Zy(),{Promise:l}=zi(),{isClosed:d,isReadable:p,isReadableNodeStream:y,isReadableFinished:m,isReadableErrored:g,isWritable:b,isWritableNodeStream:w,isWritableFinished:v,isWritableErrored:_,isNodeStream:E,willEmitClose:S}=Ju();function M(e){return e.setHeader&&"function"==typeof e.abort}var A=()=>{};function k(e,t,i){var l,k;2===arguments.length?(i=t,t=a):null==t?t=a:c(t,"options"),f(i,"callback"),h(t.signal,"options.signal"),i=u(i);let x=null!==(l=t.readable)&&void 0!==l?l:y(e),T=null!==(k=t.writable)&&void 0!==k?k:w(e);if(!E(e))throw new o("stream","Stream",e);let P=e._writableState,I=e._readableState,R=()=>{e.writable||C()},O=S(e)&&y(e)===x&&w(e)===T,B=v(e,!1),C=()=>{B=!0,e.destroyed&&(O=!1),(!O||e.readable&&!x)&&(!x||L)&&i.call(e)},L=m(e,!1),j=()=>{L=!0,e.destroyed&&(O=!1),(!O||e.writable&&!T)&&(!T||B)&&i.call(e)},D=t=>{i.call(e,t)},N=d(e),U=()=>{N=!0;let t=_(e)||g(e);return t&&"boolean"!=typeof t?i.call(e,t):x&&!L&&y(e,!0)&&!m(e,!1)?i.call(e,new s):!T||B||v(e,!1)?void i.call(e):i.call(e,new s)},H=()=>{e.req.on("finish",C)};M(e)?(e.on("complete",C),O||e.on("abort",U),e.req?H():e.on("request",H)):T&&!P&&(e.on("end",R),e.on("close",R)),!O&&"boolean"==typeof e.aborted&&e.on("aborted",U),e.on("end",j),e.on("finish",C),!1!==t.error&&e.on("error",D),e.on("close",U),N?r.nextTick(U):null!=P&&P.errorEmitted||null!=I&&I.errorEmitted?O||r.nextTick(U):(!x&&(!O||p(e))&&(B||!1===b(e))||!T&&(!O||b(e))&&(L||!1===p(e))||I&&e.req&&e.aborted)&&r.nextTick(U);let z=()=>{i=A,e.removeListener("aborted",U),e.removeListener("complete",C),e.removeListener("abort",U),e.removeListener("request",H),e.req&&e.req.removeListener("finish",C),e.removeListener("end",R),e.removeListener("close",R),e.removeListener("finish",C),e.removeListener("end",j),e.removeListener("error",D),e.removeListener("close",U)};if(t.signal&&!N){let o=()=>{let r=i;z(),r.call(e,new n(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)r.nextTick(o);else{let r=i;i=u(((...n)=>{t.signal.removeEventListener("abort",o),r.apply(e,n)})),t.signal.addEventListener("abort",o)}}return z}t.exports=k,t.exports.finished=function(e,t){return new l(((r,n)=>{k(e,t,(e=>{e?n(e):r()}))}))}})),Z$=H(((e,t)=>{x();var r=globalThis.AbortController||y2().AbortController,{codes:{ERR_INVALID_ARG_TYPE:n,ERR_MISSING_ARGS:i,ERR_OUT_OF_RANGE:o},AbortError:s}=Jn(),{validateAbortSignal:a,validateInteger:u,validateObject:h}=Zy(),f=zi().Symbol("kWeak"),{finished:c}=Xu(),{ArrayPrototypePush:l,MathFloor:d,Number:p,NumberIsNaN:y,Promise:m,PromiseReject:g,PromisePrototypeThen:b,Symbol:w}=zi(),v=w("kEmpty"),_=w("kEof");function E(e,t){if("function"!=typeof e)throw new n("fn",["Function","AsyncFunction"],e);null!=t&&h(t,"options"),null!=t?.signal&&a(t.signal,"options.signal");let i=1;return null!=t?.concurrency&&(i=d(t.concurrency)),u(i,"concurrency",1),async function*(){var n,o;let a=new r,u=this,h=[],f=a.signal,c={signal:f},l=()=>a.abort();null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted&&l(),null==t||null===(o=t.signal)||void 0===o||o.addEventListener("abort",l);let d,p,y=!1;function w(){y=!0}!async function(){try{for await(let t of u){var r;if(y)return;if(f.aborted)throw new s;try{t=e(t,c)}catch(e){t=g(e)}t!==v&&("function"==typeof(null===(r=t)||void 0===r?void 0:r.catch)&&t.catch(w),h.push(t),d&&(d(),d=null),!y&&h.length&&h.length>=i&&await new m((e=>{p=e})))}h.push(_)}catch(e){let t=g(e);b(t,void 0,w),h.push(t)}finally{var n;y=!0,d&&(d(),d=null),null==t||null===(n=t.signal)||void 0===n||n.removeEventListener("abort",l)}}();try{for(;;){for(;h.length>0;){let e=await h[0];if(e===_)return;if(f.aborted)throw new s;e!==v&&(yield e),h.shift(),p&&(p(),p=null)}await new m((e=>{d=e}))}}finally{a.abort(),y=!0,p&&(p(),p=null)}}.call(this)}async function S(e,t){for await(let r of M.call(this,e,t))return!0;return!1}function M(e,t){if("function"!=typeof e)throw new n("fn",["Function","AsyncFunction"],e);return E.call(this,(async function(t,r){return await e(t,r)?t:v}),t)}var A=class extends i{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};function k(e){if(e=p(e),y(e))return 0;if(e<0)throw new o("number",">= 0",e);return e}t.exports.streamReturningOperators={asIndexedPairs:function(e){return null!=e&&h(e,"options"),null!=e?.signal&&a(e.signal,"options.signal"),async function*(){let t=0;for await(let n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new s({cause:e.signal.reason});yield[t++,n]}}.call(this)},drop:function(e,t){return null!=t&&h(t,"options"),null!=t?.signal&&a(t.signal,"options.signal"),e=k(e),async function*(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new s;for await(let r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new s;e--<=0&&(yield r)}}.call(this)},filter:M,flatMap:function(e,t){let r=E.call(this,e,t);return async function*(){for await(let e of r)yield*e}.call(this)},map:E,take:function(e,t){return null!=t&&h(t,"options"),null!=t?.signal&&a(t.signal,"options.signal"),e=k(e),async function*(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new s;for await(let r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new s;if(!(e-- >0))return;yield r}}.call(this)}},t.exports.promiseReturningOperators={every:async function(e,t){if("function"!=typeof e)throw new n("fn",["Function","AsyncFunction"],e);return!await S.call(this,(async(...t)=>!await e(...t)),t)},forEach:async function(e,t){if("function"!=typeof e)throw new n("fn",["Function","AsyncFunction"],e);for await(let r of E.call(this,(async function(t,r){return await e(t,r),v}),t));},reduce:async function(e,t,i){var o;if("function"!=typeof e)throw new n("reducer",["Function","AsyncFunction"],e);null!=i&&h(i,"options"),null!=i?.signal&&a(i.signal,"options.signal");let u=arguments.length>1;if(null!=i&&null!==(o=i.signal)&&void 0!==o&&o.aborted){let e=new s(void 0,{cause:i.signal.reason});throw this.once("error",(()=>{})),await c(this.destroy(e)),e}let l=new r,d=l.signal;if(null!=i&&i.signal){let e={once:!0,[f]:this};i.signal.addEventListener("abort",(()=>l.abort()),e)}let p=!1;try{for await(let r of this){var y;if(p=!0,null!=i&&null!==(y=i.signal)&&void 0!==y&&y.aborted)throw new s;u?t=await e(t,r,{signal:d}):(t=r,u=!0)}if(!p&&!u)throw new A}finally{l.abort()}return t},toArray:async function(e){null!=e&&h(e,"options"),null!=e?.signal&&a(e.signal,"options.signal");let t=[];for await(let n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new s(void 0,{cause:e.signal.reason});l(t,n)}return t},some:S,find:async function(e,t){for await(let r of M.call(this,e,t))return r}}})),ec=H(((e,t)=>{x();var r=rf(),{aggregateTwoErrors:n,codes:{ERR_MULTIPLE_CALLBACK:i},AbortError:o}=Jn(),{Symbol:s}=zi(),{kDestroyed:a,isDestroyed:u,isFinished:h,isServerRequest:f}=Ju(),c=s("kDestroy"),l=s("kConstruct");function d(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function p(e,t,n){let i=!1;function o(t){if(i)return;i=!0;let o=e._readableState,s=e._writableState;d(t,s,o),s&&(s.closed=!0),o&&(o.closed=!0),"function"==typeof n&&n(t),t?r.nextTick(y,e,t):r.nextTick(m,e)}try{e._destroy(t||null,o)}catch(e){o(e)}}function y(e,t){g(e,t),m(e)}function m(e){let t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(r&&r.emitClose||t&&t.emitClose)&&e.emit("close")}function g(e,t){let r=e._readableState,n=e._writableState;n&&n.errorEmitted||r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function b(e,t,n){let i=e._readableState,o=e._writableState;if(o&&o.destroyed||i&&i.destroyed)return this;i&&i.autoDestroy||o&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),i&&!i.errored&&(i.errored=t),n?r.nextTick(g,e,t):g(e,t))}function w(e){let t=!1;function n(n){if(t)return void b(e,n??new i);t=!0;let o=e._readableState,s=e._writableState,a=s||o;o&&(o.constructed=!0),s&&(s.constructed=!0),a.destroyed?e.emit(c,n):n?b(e,n,!0):r.nextTick(v,e)}try{e._construct(n)}catch(e){n(e)}}function v(e){e.emit(l)}function _(e){return e&&e.setHeader&&"function"==typeof e.abort}function E(e){e.emit("close")}function S(e,t){e.emit("error",t),r.nextTick(E,e)}t.exports={construct:function(e,t){if("function"!=typeof e._construct)return;let n=e._readableState,i=e._writableState;n&&(n.constructed=!1),i&&(i.constructed=!1),e.once(l,t),!(e.listenerCount(l)>1)&&r.nextTick(w,e)},destroyer:function(e,t){!e||u(e)||(!t&&!h(e)&&(t=new o),f(e)?(e.socket=null,e.destroy(t)):_(e)?e.abort():_(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(t):"function"==typeof e.close?e.close():t?r.nextTick(S,e,t):r.nextTick(E,e),e.destroyed||(e[a]=!0))},destroy:function(e,t){let r=this._readableState,i=this._writableState,o=i||r;return i&&i.destroyed||r&&r.destroyed?("function"==typeof t&&t(),this):(d(e,i,r),i&&(i.destroyed=!0),r&&(r.destroyed=!0),o.constructed?p(this,e,t):this.once(c,(function(r){p(this,n(r,e),t)})),this)},undestroy:function(){let e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:b}})),R2=H(((e,t)=>{x();var{ArrayIsArray:r,ObjectSetPrototypeOf:n}=zi(),{EventEmitter:i}=Gn();function o(e){i.call(this,e)}function s(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?r(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}n(o.prototype,i.prototype),n(o,i),o.prototype.pipe=function(e,t){let r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",o),!e._isStdio&&(!t||!1!==t.end)&&(r.on("end",u),r.on("close",h));let a=!1;function u(){a||(a=!0,e.end())}function h(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function f(e){c(),0===i.listenerCount(this,"error")&&this.emit("error",e)}function c(){r.removeListener("data",n),e.removeListener("drain",o),r.removeListener("end",u),r.removeListener("close",h),r.removeListener("error",f),e.removeListener("error",f),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return s(r,"error",f),s(e,"error",f),r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e},t.exports={Stream:o,prependListener:s}})),I2=H(((e,t)=>{x();var{AbortError:r,codes:n}=Jn(),i=Xu(),{ERR_INVALID_ARG_TYPE:o}=n;t.exports.addAbortSignal=function(e,r){if(((e,t)=>{if("object"!=typeof e||!("aborted"in e))throw new o("signal","AbortSignal",e)})(e),!(n=r)||"function"!=typeof n.pipe)throw new o("stream","stream.Stream",r);var n;return t.exports.addAbortSignalNoValidate(e,r)},t.exports.addAbortSignalNoValidate=function(e,t){if("object"!=typeof e||!("aborted"in e))return t;let n=()=>{t.destroy(new r(void 0,{cause:e.reason}))};return e.aborted?n():(e.addEventListener("abort",n),i(t,(()=>e.removeEventListener("abort",n)))),t}})),uH=H(((e,t)=>{x();var{StringPrototypeSlice:r,SymbolIterator:n,TypedArrayPrototypeSet:i,Uint8Array:o}=zi(),{Buffer:s}=St(),{inspect:a}=Fa();t.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){let t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;let e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,r=""+t.data;for(;null!==(t=t.next);)r+=e+t.data;return r}concat(e){if(0===this.length)return s.alloc(0);let t=s.allocUnsafe(e>>>0),r=this.head,n=0;for(;r;)i(t,r.data,n),n+=r.data.length,r=r.next;return t}consume(e,t){let r=this.head.data;if(e<r.length){let t=r.slice(0,e);return this.head.data=r.slice(e),t}return e===r.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[n](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",n=this.head,i=0;do{let o=n.data;if(!(e>o.length)){e===o.length?(t+=o,++i,n.next?this.head=n.next:this.head=this.tail=null):(t+=r(o,0,e),this.head=n,n.data=r(o,e));break}t+=o,e-=o.length,++i}while(null!==(n=n.next));return this.length-=i,t}_getBuffer(e){let t=s.allocUnsafe(e),r=e,n=this.head,a=0;do{let s=n.data;if(!(e>s.length)){e===s.length?(i(t,s,r-e),++a,n.next?this.head=n.next:this.head=this.tail=null):(i(t,new o(s.buffer,s.byteOffset,e),r-e),this.head=n,n.data=s.slice(e));break}i(t,s,r-e),e-=s.length,++a}while(null!==(n=n.next));return this.length-=a,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return a(this,{...t,depth:0,customInspect:!1})}}})),D2=H(((e,t)=>{x();var{MathFloor:r,NumberIsInteger:n}=zi(),{ERR_INVALID_ARG_VALUE:i}=Jn().codes;function o(e){return e?16:16384}t.exports={getHighWaterMark:function(e,t,s,a){let u=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,a,s);if(null!=u){if(!n(u)||u<0)throw new i(a?`options.${s}`:"options.highWaterMark",u);return r(u)}return o(e.objectMode)},getDefaultHighWaterMark:o}})),_5=H(((e,t)=>{x();var r=rf(),{PromisePrototypeThen:n,SymbolAsyncIterator:i,SymbolIterator:o}=zi(),{Buffer:s}=St(),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_NULL_VALUES:u}=Jn().codes;t.exports=function(e,t,h){let f,c;if("string"==typeof t||t instanceof s)return new e({objectMode:!0,...h,read(){this.push(t),this.push(null)}});if(t&&t[i])c=!0,f=t[i]();else{if(!t||!t[o])throw new a("iterable",["Iterable"],t);c=!1,f=t[o]()}let l=new e({objectMode:!0,highWaterMark:1,...h}),d=!1;return l._read=function(){d||(d=!0,async function(){for(;;){try{let{value:e,done:t}=c?await f.next():f.next();if(t)l.push(null);else{let t=e&&"function"==typeof e.then?await e:e;if(null===t)throw d=!1,new u;if(l.push(t))continue;d=!1}}catch(e){l.destroy(e)}break}}())},l._destroy=function(e,t){n(async function(e){let t=null!=e,r="function"==typeof f.throw;if(t&&r){let{value:t,done:r}=await f.throw(e);if(await t,r)return}if("function"==typeof f.return){let{value:e}=await f.return();await e}}(e),(()=>r.nextTick(t,e)),(n=>r.nextTick(t,n||e)))},l}})),Jy=H(((e,t)=>{x();var r=rf(),{ArrayPrototypeIndexOf:n,NumberIsInteger:i,NumberIsNaN:o,NumberParseInt:s,ObjectDefineProperties:a,ObjectKeys:u,ObjectSetPrototypeOf:h,Promise:f,SafeSet:c,SymbolAsyncIterator:l,Symbol:d}=zi();t.exports=H,H.ReadableState=U;var{EventEmitter:p}=Gn(),{Stream:y,prependListener:m}=R2(),{Buffer:g}=St(),{addAbortSignal:b}=I2(),w=Xu(),v=Fa().debuglog("stream",(e=>{v=e})),_=uH(),E=ec(),{getHighWaterMark:S,getDefaultHighWaterMark:M}=D2(),{aggregateTwoErrors:A,codes:{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:T,ERR_OUT_OF_RANGE:P,ERR_STREAM_PUSH_AFTER_EOF:I,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:R}}=Jn(),{validateObject:O}=Zy(),B=d("kPaused"),{StringDecoder:C}=Rs(),L=_5();h(H.prototype,y.prototype),h(H,y);var j,D=()=>{},{errorOrDestroy:N}=E;function U(e,t,r){"boolean"!=typeof r&&(r=t instanceof Ha()),this.objectMode=!(!e||!e.objectMode),r&&(this.objectMode=this.objectMode||!(!e||!e.readableObjectMode)),this.highWaterMark=e?S(this,e,"readableHighWaterMark",r):M(!1),this.buffer=new _,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[B]=null,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new C(e.encoding),this.encoding=e.encoding)}function H(e){if(!(this instanceof H))return new H(e);let t=this instanceof Ha();this._readableState=new U(e,this,t),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&b(e.signal,this)),y.call(this,e),E.construct(this,(()=>{this._readableState.needReadable&&V(this,this._readableState)}))}function z(e,t,r,n){v("readableAddChunk",t);let i,o=e._readableState;if(o.objectMode||("string"==typeof t?(r=r||o.defaultEncoding,o.encoding!==r&&(n&&o.encoding?t=g.from(t,r).toString(o.encoding):(t=g.from(t,r),r=""))):t instanceof g?r="":y._isUint8Array(t)?(t=y._uint8ArrayToBuffer(t),r=""):null!=t&&(i=new k("chunk",["string","Buffer","Uint8Array"],t))),i)N(e,i);else if(null===t)o.reading=!1,function(e,t){if(v("onEofChunk"),!t.ended){if(t.decoder){let e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?$(e):(t.needReadable=!1,t.emittedReadable=!0,K(e))}}(e,o);else if(o.objectMode||t&&t.length>0)if(n)if(o.endEmitted)N(e,new R);else{if(o.destroyed||o.errored)return!1;F(e,o,t,!0)}else if(o.ended)N(e,new I);else{if(o.destroyed||o.errored)return!1;o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?F(e,o,t,!1):V(e,o)):F(e,o,t,!1)}else n||(o.reading=!1,V(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function F(e,t,r,n){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?(t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&$(e)),V(e,t)}function q(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:o(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function $(e){let t=e._readableState;v("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(v("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(K,e))}function K(e){let t=e._readableState;v("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&!t.errored&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,Z(e)}function V(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,r.nextTick(W,e,t))}function W(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){let r=t.length;if(v("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function G(e){let t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[B]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function Y(e){v("readable nexttick read 0"),e.read(0)}function J(e,t){v("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),Z(e),t.flowing&&!t.reading&&e.read(0)}function Z(e){let t=e._readableState;for(v("flow",t.flowing);t.flowing&&null!==e.read(););}function X(e,t){"function"!=typeof e.read&&(e=H.wrap(e,{objectMode:!0}));let r=async function*(e,t){let r=D;function n(t){this===e?(r(),r=D):r=t}e.on("readable",n);let i,o=w(e,{writable:!1},(e=>{i=e?A(i,e):null,r(),r=D}));try{for(;;){let t=e.destroyed?null:e.read();if(null!==t)yield t;else{if(i)throw i;if(null===i)return;await new f(n)}}}catch(e){throw i=A(i,e),i}finally{!i&&!1===t?.destroyOnReturn||void 0!==i&&!e._readableState.autoDestroy?(e.off("readable",n),o()):E.destroyer(e,null)}}(e,t);return r.stream=e,r}function Q(e,t){if(0===t.length)return null;let r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function ee(e){let t=e._readableState;v("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(te,t,e))}function te(e,t){if(v("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)r.nextTick(re,t);else if(e.autoDestroy){let e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}function re(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}function ne(){return void 0===j&&(j={}),j}H.prototype.destroy=E.destroy,H.prototype._undestroy=E.undestroy,H.prototype._destroy=function(e,t){t(e)},H.prototype[p.captureRejectionSymbol]=function(e){this.destroy(e)},H.prototype.push=function(e,t){return z(this,e,t,!1)},H.prototype.unshift=function(e,t){return z(this,e,t,!0)},H.prototype.isPaused=function(){let e=this._readableState;return!0===e[B]||!1===e.flowing},H.prototype.setEncoding=function(e){let t=new C(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let e of r)n+=t.write(e);return r.clear(),""!==n&&r.push(n),this._readableState.length=n.length,this},H.prototype.read=function(e){v("read",e),void 0===e?e=NaN:i(e)||(e=s(e,10));let t=this._readableState,r=e;if(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>1073741824)throw new P("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return v("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?ee(this):$(this),null;if(0===(e=q(e,t))&&t.ended)return 0===t.length&&ee(this),null;let n,o=t.needReadable;if(v("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&(o=!0,v("length less than watermark",o)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)o=!1,v("reading, ended or constructing",o);else if(o){v("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0);try{this._read(t.highWaterMark)}catch(e){N(this,e)}t.sync=!1,t.reading||(e=q(r,t))}return n=e>0?Q(e,t):null,null===n?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&ee(this)),null!==n&&!t.errorEmitted&&!t.closeEmitted&&(t.dataEmitted=!0,this.emit("data",n)),n},H.prototype._read=function(e){throw new T("_read()")},H.prototype.pipe=function(e,t){let n=this,i=this._readableState;1===i.pipes.length&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new c(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(e),v("pipe count=%d opts=%j",i.pipes.length,t);let o=t&&!1===t.end||e===r.stdout||e===r.stderr?y:s;function s(){v("onend"),e.end()}i.endEmitted?r.nextTick(o):n.once("end",o),e.on("unpipe",(function t(r,o){v("onunpipe"),r===n&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,v("cleanup"),e.removeListener("close",d),e.removeListener("finish",p),a&&e.removeListener("drain",a),e.removeListener("error",l),e.removeListener("unpipe",t),n.removeListener("end",s),n.removeListener("end",y),n.removeListener("data",f),u=!0,a&&i.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&a())}));let a,u=!1;function h(){u||(1===i.pipes.length&&i.pipes[0]===e?(v("false write response, pause",0),i.awaitDrainWriters=e,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(e)&&(v("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(e)),n.pause()),a||(a=function(e,t){return function(){let r=e._readableState;r.awaitDrainWriters===t?(v("pipeOnDrain",1),r.awaitDrainWriters=null):r.multiAwaitDrain&&(v("pipeOnDrain",r.awaitDrainWriters.size),r.awaitDrainWriters.delete(t)),(!r.awaitDrainWriters||0===r.awaitDrainWriters.size)&&e.listenerCount("data")&&e.resume()}}(n,e),e.on("drain",a))}function f(t){v("ondata");let r=e.write(t);v("dest.write",r),!1===r&&h()}function l(t){if(v("onerror",t),y(),e.removeListener("error",l),0===e.listenerCount("error")){let r=e._writableState||e._readableState;r&&!r.errorEmitted?N(e,t):e.emit("error",t)}}function d(){e.removeListener("finish",p),y()}function p(){v("onfinish"),e.removeListener("close",d),y()}function y(){v("unpipe"),n.unpipe(e)}return n.on("data",f),m(e,"error",l),e.once("close",d),e.once("finish",p),e.emit("pipe",n),!0===e.writableNeedDrain?i.flowing&&h():i.flowing||(v("pipe resume"),n.resume()),e},H.prototype.unpipe=function(e){let t=this._readableState;if(0===t.pipes.length)return this;if(!e){let e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}let r=n(t.pipes,e);return-1===r||(t.pipes.splice(r,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},H.prototype.on=function(e,t){let n=y.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,v("on readable",i.length,i.reading),i.length?$(this):i.reading||r.nextTick(Y,this)),n},H.prototype.addListener=H.prototype.on,H.prototype.removeListener=function(e,t){let n=y.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(G,this),n},H.prototype.off=H.prototype.removeListener,H.prototype.removeAllListeners=function(e){let t=y.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&r.nextTick(G,this),t},H.prototype.resume=function(){let e=this._readableState;return e.flowing||(v("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(J,e,t))}(this,e)),e[B]=!1,this},H.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[B]=!0,this},H.prototype.wrap=function(e){let t=!1;e.on("data",(r=>{!this.push(r)&&e.pause&&(t=!0,e.pause())})),e.on("end",(()=>{this.push(null)})),e.on("error",(e=>{N(this,e)})),e.on("close",(()=>{this.destroy()})),e.on("destroy",(()=>{this.destroy()})),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};let r=u(e);for(let t=1;t<r.length;t++){let n=r[t];void 0===this[n]&&"function"==typeof e[n]&&(this[n]=e[n].bind(e))}return this},H.prototype[l]=function(){return X(this)},H.prototype.iterator=function(e){return void 0!==e&&O(e,"options"),X(this,e)},a(H.prototype,{readable:{__proto__:null,get(){let e=this._readableState;return!(!e||!1===e.readable||e.destroyed||e.errorEmitted||e.endEmitted)},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),a(U.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[B]},set(e){this[B]=!!e}}}),H._fromList=Q,H.from=function(e,t){return L(H,e,t)},H.fromWeb=function(e,t){return ne().newStreamReadableFromReadableStream(e,t)},H.toWeb=function(e,t){return ne().newReadableStreamFromStreamReadable(e,t)},H.wrap=function(e,t){var r,n;return new H({objectMode:null===(r=null!==(n=e.readableObjectMode)&&void 0!==n?n:e.objectMode)||void 0===r||r,...t,destroy(t,r){E.destroyer(e,t),r(t)}}).wrap(e)}})),O5=H(((e,t)=>{x();var r=rf(),{ArrayPrototypeSlice:n,Error:i,FunctionPrototypeSymbolHasInstance:o,ObjectDefineProperty:s,ObjectDefineProperties:a,ObjectSetPrototypeOf:u,StringPrototypeToLowerCase:h,Symbol:f,SymbolHasInstance:c}=zi();t.exports=C,C.WritableState=O;var{EventEmitter:l}=Gn(),d=R2().Stream,{Buffer:p}=St(),y=ec(),{addAbortSignal:m}=I2(),{getHighWaterMark:g,getDefaultHighWaterMark:b}=D2(),{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:v,ERR_MULTIPLE_CALLBACK:_,ERR_STREAM_CANNOT_PIPE:E,ERR_STREAM_DESTROYED:S,ERR_STREAM_ALREADY_FINISHED:M,ERR_STREAM_NULL_VALUES:A,ERR_STREAM_WRITE_AFTER_END:k,ERR_UNKNOWN_ENCODING:T}=Jn().codes,{errorOrDestroy:P}=y;function I(){}u(C.prototype,d.prototype),u(C,d);var R=f("kOnFinished");function O(e,t,r){"boolean"!=typeof r&&(r=t instanceof Ha()),this.objectMode=!(!e||!e.objectMode),r&&(this.objectMode=this.objectMode||!(!e||!e.writableObjectMode)),this.highWaterMark=e?g(this,e,"writableHighWaterMark",r):b(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!(!e||!1!==e.decodeStrings);this.decodeStrings=!n,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=N.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,B(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[R]=[]}function B(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function C(e){let t=this instanceof Ha();if(!t&&!o(C,this))return new C(e);this._writableState=new O(e,this,t),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&m(e.signal,this)),d.call(this,e),y.construct(this,(()=>{let e=this._writableState;e.writing||F(this,e),$(this,e)}))}function L(e,t,n,i){let o,s=e._writableState;if("function"==typeof n)i=n,n=s.defaultEncoding;else{if(n){if("buffer"!==n&&!p.isEncoding(n))throw new T(n)}else n=s.defaultEncoding;"function"!=typeof i&&(i=I)}if(null===t)throw new A;if(!s.objectMode)if("string"==typeof t)!1!==s.decodeStrings&&(t=p.from(t,n),n="buffer");else if(t instanceof p)n="buffer";else{if(!d._isUint8Array(t))throw new w("chunk",["string","Buffer","Uint8Array"],t);t=d._uint8ArrayToBuffer(t),n="buffer"}return s.ending?o=new k:s.destroyed&&(o=new S("write")),o?(r.nextTick(i,o),P(e,o,!0),o):(s.pendingcb++,function(e,t,r,n,i){let o=t.objectMode?1:r.length;t.length+=o;let s=t.length<t.highWaterMark;return s||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:i}),t.allBuffers&&"buffer"!==n&&(t.allBuffers=!1),t.allNoop&&i!==I&&(t.allNoop=!1)):(t.writelen=o,t.writecb=i,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1),s&&!t.errored&&!t.destroyed}(e,s,t,n,i))}function j(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new S("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function D(e,t,r,n){--t.pendingcb,n(r),z(t),P(e,r)}function N(e,t){let n=e._writableState,i=n.sync,o=n.writecb;"function"==typeof o?(n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0,t?(t.stack,n.errored||(n.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),i?r.nextTick(D,e,n,t,o):D(e,n,t,o)):(n.buffered.length>n.bufferedIndex&&F(e,n),i?null!==n.afterWriteTickInfo&&n.afterWriteTickInfo.cb===o?n.afterWriteTickInfo.count++:(n.afterWriteTickInfo={count:1,cb:o,stream:e,state:n},r.nextTick(U,n.afterWriteTickInfo)):H(e,n,1,o))):P(e,new _)}function U({stream:e,state:t,count:r,cb:n}){return t.afterWriteTickInfo=null,H(e,t,r,n)}function H(e,t,r,n){for(!t.ending&&!e.destroyed&&0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&z(t),$(e,t)}function z(e){if(e.writing)return;for(let r=e.bufferedIndex;r<e.buffered.length;++r){var t;let{chunk:n,callback:i}=e.buffered[r],o=e.objectMode?1:n.length;e.length-=o,i(null!==(t=e.errored)&&void 0!==t?t:new S("write"))}let r=e[R].splice(0);for(let t=0;t<r.length;t++){var n;r[t](null!==(n=e.errored)&&void 0!==n?n:new S("end"))}B(e)}function F(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;let{buffered:r,bufferedIndex:i,objectMode:o}=t,s=r.length-i;if(!s)return;let a=i;if(t.bufferProcessing=!0,s>1&&e._writev){t.pendingcb-=s-1;let i=t.allNoop?I:e=>{for(let t=a;t<r.length;++t)r[t].callback(e)},o=t.allNoop&&0===a?r:n(r,a);o.allBuffers=t.allBuffers,j(e,t,!0,t.length,o,"",i),B(t)}else{do{let{chunk:n,encoding:i,callback:s}=r[a];r[a++]=null,j(e,t,!1,o?1:n.length,n,i,s)}while(a<r.length&&!t.writing);a===r.length?B(t):a>256?(r.splice(0,a),t.bufferedIndex=0):t.bufferedIndex=a}t.bufferProcessing=!1}function q(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function $(e,t,n){q(t)&&(function(e,t){!t.prefinished&&!t.finalCalled&&("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let n=!1;function i(i){if(n)P(e,i??_());else if(n=!0,t.pendingcb--,i){let r=t[R].splice(0);for(let e=0;e<r.length;e++)r[e](i);P(e,i,t.sync)}else q(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,r.nextTick(K,e,t))}t.sync=!0,t.pendingcb++;try{e._final(i)}catch(e){i(e)}t.sync=!1}(e,t)))}(e,t),0===t.pendingcb&&(n?(t.pendingcb++,r.nextTick(((e,t)=>{q(t)?K(e,t):t.pendingcb--}),e,t)):q(t)&&(t.pendingcb++,K(e,t))))}function K(e,t){t.pendingcb--,t.finished=!0;let r=t[R].splice(0);for(let e=0;e<r.length;e++)r[e]();if(e.emit("finish"),t.autoDestroy){let t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}O.prototype.getBuffer=function(){return n(this.buffered,this.bufferedIndex)},s(O.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),s(C,c,{__proto__:null,value:function(e){return!!o(this,e)||this===C&&e&&e._writableState instanceof O}}),C.prototype.pipe=function(){P(this,new E)},C.prototype.write=function(e,t,r){return!0===L(this,e,t,r)},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){let e=this._writableState;e.corked&&(e.corked--,e.writing||F(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=h(e)),!p.isEncoding(e))throw new T(e);return this._writableState.defaultEncoding=e,this},C.prototype._write=function(e,t,r){if(!this._writev)throw new v("_write()");this._writev([{chunk:e,encoding:t}],r)},C.prototype._writev=null,C.prototype.end=function(e,t,n){let o,s=this._writableState;if("function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e){let r=L(this,e,t);r instanceof i&&(o=r)}return s.corked&&(s.corked=1,this.uncork()),o||(s.errored||s.ending?s.finished?o=new M("end"):s.destroyed&&(o=new S("end")):(s.ending=!0,$(this,s,!0),s.ended=!0)),"function"==typeof n&&(o||s.finished?r.nextTick(n,o):s[R].push(n)),this},a(C.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){let e=this._writableState;return!(!e||!1===e.writable||e.destroyed||e.errored||e.ending||e.ended)},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){let e=this._writableState;return!!e&&!e.destroyed&&!e.ending&&e.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});var V,W=y.destroy;function G(){return void 0===V&&(V={}),V}C.prototype.destroy=function(e,t){let n=this._writableState;return!n.destroyed&&(n.bufferedIndex<n.buffered.length||n[R].length)&&r.nextTick(z,n),W.call(this,e,t),this},C.prototype._undestroy=y.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype[l.captureRejectionSymbol]=function(e){this.destroy(e)},C.fromWeb=function(e,t){return G().newStreamWritableFromWritableStream(e,t)},C.toWeb=function(e){return G().newWritableStreamFromStreamWritable(e)}})),XH=H(((e,t)=>{x();var r=rf(),n=St(),{isReadable:i,isWritable:o,isIterable:s,isNodeStream:a,isReadableNodeStream:u,isWritableNodeStream:h,isDuplexNodeStream:f}=Ju(),c=Xu(),{AbortError:l,codes:{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_RETURN_VALUE:p}}=Jn(),{destroyer:y}=ec(),m=Ha(),g=Jy(),{createDeferredPromise:b}=Fa(),w=_5(),v=globalThis.Blob||n.Blob,_=typeof v<"u"?function(e){return e instanceof v}:function(e){return!1},E=globalThis.AbortController||y2().AbortController,{FunctionPrototypeCall:S}=zi(),M=class extends m{constructor(e){super(e),!1===e?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};function A(e){let t,r,n,s,a,u=e.readable&&"function"!=typeof e.readable.read?g.wrap(e.readable):e.readable,h=e.writable,f=!!i(u),d=!!o(h);function p(e){let t=s;s=null,t?t(e):e?a.destroy(e):!f&&!d&&a.destroy()}return a=new M({readableObjectMode:!(null==u||!u.readableObjectMode),writableObjectMode:!(null==h||!h.writableObjectMode),readable:f,writable:d}),d&&(c(h,(e=>{d=!1,e&&y(u,e),p(e)})),a._write=function(e,r,n){h.write(e,r)?n():t=n},a._final=function(e){h.end(),r=e},h.on("drain",(function(){if(t){let e=t;t=null,e()}})),h.on("finish",(function(){if(r){let e=r;r=null,e()}}))),f&&(c(u,(e=>{f=!1,e&&y(u,e),p(e)})),u.on("readable",(function(){if(n){let e=n;n=null,e()}})),u.on("end",(function(){a.push(null)})),a._read=function(){for(;;){let e=u.read();if(null===e)return void(n=a._read);if(!a.push(e))return}}),a._destroy=function(e,i){!e&&null!==s&&(e=new l),n=null,t=null,r=null,null===s?i(e):(s=i,y(h,e),y(u,e))},a}t.exports=function e(t,n){if(f(t))return t;if(u(t))return A({readable:t});if(h(t))return A({writable:t});if(a(t))return A({writable:!1,readable:!1});if("function"==typeof t){let{value:e,write:i,final:o,destroy:a}=function(e){let{promise:t,resolve:n}=b(),i=new E,o=i.signal;return{value:e(async function*(){for(;;){let e=t;t=null;let{chunk:i,done:s,cb:a}=await e;if(r.nextTick(a),s)return;if(o.aborted)throw new l(void 0,{cause:o.reason});({promise:t,resolve:n}=b()),yield i}}(),{signal:o}),write(e,t,r){let i=n;n=null,i({chunk:e,done:!1,cb:r})},final(e){let t=n;n=null,t({done:!0,cb:e})},destroy(e,t){i.abort(),t(e)}}}(t);if(s(e))return w(M,e,{objectMode:!0,write:i,final:o,destroy:a});let u=e?.then;if("function"==typeof u){let t,n=S(u,e,(e=>{if(null!=e)throw new p("nully","body",e)}),(e=>{y(t,e)}));return t=new M({objectMode:!0,readable:!1,write:i,final(e){o((async()=>{try{await n,r.nextTick(e,null)}catch(t){r.nextTick(e,t)}}))},destroy:a})}throw new p("Iterable, AsyncIterable or AsyncFunction",n,e)}if(_(t))return e(t.arrayBuffer());if(s(t))return w(M,t,{objectMode:!0,writable:!1});if("object"==typeof t?.writable||"object"==typeof t?.readable)return A({readable:null!=t&&t.readable?u(t?.readable)?t?.readable:e(t.readable):void 0,writable:null!=t&&t.writable?h(t?.writable)?t?.writable:e(t.writable):void 0});let i=t?.then;if("function"==typeof i){let e;return S(i,t,(t=>{null!=t&&e.push(t),e.push(null)}),(t=>{y(e,t)})),e=new M({objectMode:!0,writable:!1,read(){}})}throw new d(n,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}})),Ha=H(((e,t)=>{x();var{ObjectDefineProperties:r,ObjectGetOwnPropertyDescriptor:n,ObjectKeys:i,ObjectSetPrototypeOf:o}=zi();t.exports=f;var s,a,u=Jy(),h=O5();o(f.prototype,u.prototype),o(f,u);{let e=i(h.prototype);for(let t=0;t<e.length;t++){let r=e[t];f.prototype[r]||(f.prototype[r]=h.prototype[r])}}function f(e){if(!(this instanceof f))return new f(e);u.call(this,e),h.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}function c(){return void 0===s&&(s={}),s}r(f.prototype,{writable:{__proto__:null,...n(h.prototype,"writable")},writableHighWaterMark:{__proto__:null,...n(h.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...n(h.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...n(h.prototype,"writableBuffer")},writableLength:{__proto__:null,...n(h.prototype,"writableLength")},writableFinished:{__proto__:null,...n(h.prototype,"writableFinished")},writableCorked:{__proto__:null,...n(h.prototype,"writableCorked")},writableEnded:{__proto__:null,...n(h.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...n(h.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),f.fromWeb=function(e,t){return c().newStreamDuplexFromReadableWritablePair(e,t)},f.toWeb=function(e){return c().newReadableWritablePairFromDuplex(e)},f.from=function(e){return a||(a=XH()),a(e,"body")}})),z5=H(((e,t)=>{x();var{ObjectSetPrototypeOf:r,Symbol:n}=zi();t.exports=u;var{ERR_METHOD_NOT_IMPLEMENTED:i}=Jn().codes,o=Ha(),{getHighWaterMark:s}=D2();r(u.prototype,o.prototype),r(u,o);var a=n("kCallback");function u(e){if(!(this instanceof u))return new u(e);let t=e?s(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),o.call(this,e),this._readableState.sync=!1,this[a]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function h(e){"function"!=typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush(((t,r)=>{t?e?e(t):this.destroy(t):(null!=r&&this.push(r),this.push(null),e&&e())}))}function f(){this._final!==h&&h.call(this)}u.prototype._final=h,u.prototype._transform=function(e,t,r){throw new i("_transform()")},u.prototype._write=function(e,t,r){let n=this._readableState,i=this._writableState,o=n.length;this._transform(e,t,((e,t)=>{e?r(e):(null!=t&&this.push(t),i.ended||o===n.length||n.length<n.highWaterMark?r():this[a]=r)}))},u.prototype._read=function(){if(this[a]){let e=this[a];this[a]=null,e()}}})),$5=H(((e,t)=>{x();var{ObjectSetPrototypeOf:r}=zi();t.exports=i;var n=z5();function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(i.prototype,n.prototype),r(i,n),i.prototype._transform=function(e,t,r){r(null,e)}})),F2=H(((e,t)=>{x();var r,n,i=rf(),{ArrayIsArray:o,Promise:s,SymbolAsyncIterator:a}=zi(),u=Xu(),{once:h}=Fa(),f=ec(),c=Ha(),{aggregateTwoErrors:l,codes:{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_RETURN_VALUE:p,ERR_MISSING_ARGS:y,ERR_STREAM_DESTROYED:m,ERR_STREAM_PREMATURE_CLOSE:g},AbortError:b}=Jn(),{validateFunction:w,validateAbortSignal:v}=Zy(),{isIterable:_,isReadable:E,isReadableNodeStream:S,isNodeStream:M}=Ju(),A=globalThis.AbortController||y2().AbortController;function k(e,t,r){let n=!1;return e.on("close",(()=>{n=!0})),{destroy:t=>{n||(n=!0,f.destroyer(e,t||new m("pipe")))},cleanup:u(e,{readable:t,writable:r},(e=>{n=!e}))}}function T(e){if(_(e))return e;if(S(e))return async function*(e){n||(n=Jy()),yield*n.prototype[a].call(e)}(e);throw new d("val",["Readable","Iterable","AsyncIterable"],e)}async function P(e,t,r,{end:n}){let i,o=null,a=e=>{if(e&&(i=e),o){let e=o;o=null,e()}},h=()=>new s(((e,t)=>{i?t(i):o=()=>{i?t(i):e()}}));t.on("drain",a);let f=u(t,{readable:!1},a);try{t.writableNeedDrain&&await h();for await(let r of e)t.write(r)||await h();n&&t.end(),await h(),r()}catch(e){r(i!==e?l(i,e):e)}finally{f(),t.off("drain",a)}}function I(e,t,n){if(1===e.length&&o(e[0])&&(e=e[0]),e.length<2)throw new y("streams");let s=new A,a=s.signal,u=n?.signal,h=[];function f(){O(new b)}v(u,"options.signal"),u?.addEventListener("abort",f);let l,m,g,w=[],x=0;function I(e){O(e,0==--x)}function O(e,r){if(e&&(!l||"ERR_STREAM_PREMATURE_CLOSE"===l.code)&&(l=e),l||r){for(;w.length;)w.shift()(l);u?.removeEventListener("abort",f),s.abort(),r&&(l||h.forEach((e=>e())),i.nextTick(t,l,m))}}for(let t=0;t<e.length;t++){let o=e[t],s=t<e.length-1,u=t>0,f=s||!1!==n?.end,l=t===e.length-1;if(M(o)){let e=function(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&I(e)};if(f){let{destroy:e,cleanup:t}=k(o,s,u);w.push(e),E(o)&&l&&h.push(t)}o.on("error",e),E(o)&&l&&h.push((()=>{o.removeListener("error",e)}))}if(0===t)if("function"==typeof o){if(g=o({signal:a}),!_(g))throw new p("Iterable, AsyncIterable or Stream","source",g)}else g=_(o)||S(o)?o:c.from(o);else if("function"==typeof o)if(g=T(g),g=o(g,{signal:a}),s){if(!_(g,!0))throw new p("AsyncIterable",`transform[${t-1}]`,g)}else{var B;r||(r=$5());let e=new r({objectMode:!0}),t=null===(B=g)||void 0===B?void 0:B.then;if("function"==typeof t)x++,t.call(g,(t=>{m=t,null!=t&&e.write(t),f&&e.end(),i.nextTick(I)}),(t=>{e.destroy(t),i.nextTick(I,t)}));else{if(!_(g,!0))throw new p("AsyncIterable or Promise","destination",g);x++,P(g,e,I,{end:f})}g=e;let{destroy:n,cleanup:o}=k(g,!1,!0);w.push(n),l&&h.push(o)}else if(M(o)){if(S(g)){x+=2;let e=R(g,o,I,{end:f});E(o)&&l&&h.push(e)}else{if(!_(g))throw new d("val",["Readable","Iterable","AsyncIterable"],g);x++,P(g,o,I,{end:f})}g=o}else g=c.from(o)}return(null!=a&&a.aborted||null!=u&&u.aborted)&&i.nextTick(f),g}function R(e,t,r,{end:n}){let i=!1;return t.on("close",(()=>{i||r(new g)})),e.pipe(t,{end:n}),n?e.once("end",(()=>{i=!0,t.end()})):r(),u(e,{readable:!0,writable:!1},(t=>{let n=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&n&&n.ended&&!n.errored&&!n.errorEmitted?e.once("end",r).once("error",r):r(t)})),u(t,{readable:!1,writable:!0},r)}t.exports={pipelineImpl:I,pipeline:function(...e){return I(e,h(function(e){return w(e[e.length-1],"streams[stream.length - 1]"),e.pop()}(e)))}}})),gW=H(((e,t)=>{x();var{pipeline:r}=F2(),n=Ha(),{destroyer:i}=ec(),{isNodeStream:o,isReadable:s,isWritable:a}=Ju(),{AbortError:u,codes:{ERR_INVALID_ARG_VALUE:h,ERR_MISSING_ARGS:f}}=Jn();t.exports=function(...e){if(0===e.length)throw new f("streams");if(1===e.length)return n.from(e[0]);let t,c,l,d,p,y=[...e];if("function"==typeof e[0]&&(e[0]=n.from(e[0])),"function"==typeof e[e.length-1]){let t=e.length-1;e[t]=n.from(e[t])}for(let t=0;t<e.length;++t)if(o(e[t])){if(t<e.length-1&&!s(e[t]))throw new h(`streams[${t}]`,y[t],"must be readable");if(t>0&&!a(e[t]))throw new h(`streams[${t}]`,y[t],"must be writable")}let m=e[0],g=r(e,(function(e){let t=d;d=null,t?t(e):e?p.destroy(e):!w&&!b&&p.destroy()})),b=!!a(m),w=!!s(g);return p=new n({writableObjectMode:!(null==m||!m.writableObjectMode),readableObjectMode:!(null==g||!g.writableObjectMode),writable:b,readable:w}),b&&(p._write=function(e,r,n){m.write(e,r)?n():t=n},p._final=function(e){m.end(),c=e},m.on("drain",(function(){if(t){let e=t;t=null,e()}})),g.on("finish",(function(){if(c){let e=c;c=null,e()}}))),w&&(g.on("readable",(function(){if(l){let e=l;l=null,e()}})),g.on("end",(function(){p.push(null)})),p._read=function(){for(;;){let e=g.read();if(null===e)return void(l=p._read);if(!p.push(e))return}}),p._destroy=function(e,r){!e&&null!==d&&(e=new u),l=null,t=null,c=null,null===d?r(e):(d=r,i(g,e))},p}})),Z5=H(((e,t)=>{x();var{ArrayPrototypePop:r,Promise:n}=zi(),{isIterable:i,isNodeStream:o}=Ju(),{pipelineImpl:s}=F2(),{finished:a}=Xu();t.exports={finished:a,pipeline:function(...e){return new n(((t,n)=>{let a,u,h=e[e.length-1];if(h&&"object"==typeof h&&!o(h)&&!i(h)){let t=r(e);a=t.signal,u=t.end}s(e,((e,r)=>{e?n(e):t(r)}),{signal:a,end:u})}))}}})),RW=H(((e,t)=>{x();var{Buffer:r}=St(),{ObjectDefineProperty:n,ObjectKeys:i,ReflectApply:o}=zi(),{promisify:{custom:s}}=Fa(),{streamReturningOperators:a,promiseReturningOperators:u}=Z$(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:h}}=Jn(),f=gW(),{pipeline:c}=F2(),{destroyer:l}=ec(),d=Xu(),p=Z5(),y=Ju(),m=t.exports=R2().Stream;m.isDisturbed=y.isDisturbed,m.isErrored=y.isErrored,m.isReadable=y.isReadable,m.Readable=Jy();for(let e of i(a)){let t=function(...e){if(new.target)throw h();return m.Readable.from(o(r,this,e))},r=a[e];n(t,"name",{__proto__:null,value:r.name}),n(t,"length",{__proto__:null,value:r.length}),n(m.Readable.prototype,e,{__proto__:null,value:t,enumerable:!1,configurable:!0,writable:!0})}for(let e of i(u)){let t=function(...e){if(new.target)throw h();return o(r,this,e)},r=u[e];n(t,"name",{__proto__:null,value:r.name}),n(t,"length",{__proto__:null,value:r.length}),n(m.Readable.prototype,e,{__proto__:null,value:t,enumerable:!1,configurable:!0,writable:!0})}m.Writable=O5(),m.Duplex=Ha(),m.Transform=z5(),m.PassThrough=$5(),m.pipeline=c;var{addAbortSignal:g}=I2();m.addAbortSignal=g,m.finished=d,m.destroy=l,m.compose=f,n(m,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>p}),n(c,s,{__proto__:null,enumerable:!0,get:()=>p.pipeline}),n(d,s,{__proto__:null,enumerable:!0,get:()=>p.finished}),m.Stream=m,m._isUint8Array=function(e){return e instanceof Uint8Array},m._uint8ArrayToBuffer=function(e){return r.from(e.buffer,e.byteOffset,e.byteLength)}})),X5=H(((e,t)=>{x();var r=RW(),n=Z5(),i=r.Readable.destroy;t.exports=r.Readable,t.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,t.exports._isUint8Array=r._isUint8Array,t.exports.isDisturbed=r.isDisturbed,t.exports.isErrored=r.isErrored,t.exports.isReadable=r.isReadable,t.exports.Readable=r.Readable,t.exports.Writable=r.Writable,t.exports.Duplex=r.Duplex,t.exports.Transform=r.Transform,t.exports.PassThrough=r.PassThrough,t.exports.addAbortSignal=r.addAbortSignal,t.exports.finished=r.finished,t.exports.destroy=r.destroy,t.exports.destroy=i,t.exports.pipeline=r.pipeline,t.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get:()=>n}),t.exports.Stream=r.Stream,t.exports.default=t.exports})),DW=H(((e,t)=>{x(),t.exports=function e(t,n,i){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw e.bytes=0,new RangeError("Could not encode varint");n=n||[];for(var o=i=i||0;t>=r;)n[i++]=255&t|128,t/=128;for(;-128&t;)n[i++]=255&t|128,t>>>=7;return n[i]=0|t,e.bytes=i-o+1,n};var r=Math.pow(2,31)})),CW=H(((e,t)=>{x(),t.exports=function e(t,r){var n,i=0,o=0,s=r=r||0,a=t.length;do{if(s>=a||o>49)throw e.bytes=0,new RangeError("Could not decode varint");n=t[s++],i+=o<28?(127&n)<<o:(127&n)*Math.pow(2,o),o+=7}while(n>=128);return e.bytes=s-r,i}})),LW=H(((e,t)=>{x();var r=Math.pow(2,7),n=Math.pow(2,14),i=Math.pow(2,21),o=Math.pow(2,28),s=Math.pow(2,35),a=Math.pow(2,42),u=Math.pow(2,49),h=Math.pow(2,56),f=Math.pow(2,63);t.exports=function(e){return e<r?1:e<n?2:e<i?3:e<o?4:e<s?5:e<a?6:e<u?7:e<h?8:e<f?9:10}})),jW=H(((e,t)=>{x(),t.exports={encode:DW(),decode:CW(),encodingLength:LW()}})),FW=H(((e,t)=>{x();var r,n=typeof self<"u"?self:e,i=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();r=i,function(e){var t="URLSearchParams"in r,n="Symbol"in r&&"iterator"in Symbol,i="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch{return!1}}(),o="FormData"in r,s="ArrayBuffer"in r;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function h(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function f(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function l(e){this.map={},e instanceof l?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function d(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function y(e){var t=new FileReader,r=p(t);return t.readAsArrayBuffer(e),r}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:t&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&function(e){return e&&DataView.prototype.isPrototypeOf(e)}(e)?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=p(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=h(e),t=f(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},l.prototype.delete=function(e){delete this.map[h(e)]},l.prototype.get=function(e){return e=h(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(h(e))},l.prototype.set=function(e,t){this.map[h(e)]=f(t)},l.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},l.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),c(e)},l.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),c(e)},l.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),c(e)},n&&(l.prototype[Symbol.iterator]=l.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(e,t){var r=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!r&&null!=e._bodyInit&&(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new l(t.headers)),this.method=function(e){var t=e.toUpperCase();return b.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function v(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function _(e){var t=new l;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t}function E(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},g.call(w.prototype),g.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},E.error=function(){var e=new E(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];E.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new E(null,{status:t,headers:{location:e}})},e.DOMException=r.DOMException;try{new e.DOMException}catch{e.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function M(t,r){return new Promise((function(n,o){var s=new w(t,r);if(s.signal&&s.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:_(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;n(new E(t,e))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send(typeof s._bodyInit>"u"?null:s._bodyInit)}))}M.polyfill=!0,r.fetch||(r.fetch=M,r.Headers=l,r.Request=w,r.Response=E),e.Headers=l,e.Request=w,e.Response=E,e.fetch=M,Object.defineProperty(e,"__esModule",{value:!0})}({}),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var o=i;(e=o.fetch).default=o.fetch,e.fetch=o.fetch,e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response,t.exports=e})),WW=H((e=>{x(),e.supports=function(...e){let t=e.reduce(((e,t)=>Object.assign(e,t)),{});return Object.assign(t,{snapshots:t.snapshots||!1,permanence:t.permanence||!1,seek:t.seek||!1,clear:t.clear||!1,getMany:t.getMany||!1,keyIterator:t.keyIterator||!1,valueIterator:t.valueIterator||!1,iteratorNextv:t.iteratorNextv||!1,iteratorAll:t.iteratorAll||!1,status:t.status||!1,createIfMissing:t.createIfMissing||!1,errorIfExists:t.errorIfExists||!1,deferredOpen:t.deferredOpen||!1,promises:t.promises||!1,streams:t.streams||!1,encodings:Object.assign({},t.encodings),events:Object.assign({},t.events),additionalMethods:Object.assign({},t.additionalMethods)})}})),Vs=H(((e,t)=>{x(),t.exports=class extends Error{constructor(e,t){super(e||""),"object"==typeof t&&null!==t&&(t.code&&(this.code=String(t.code)),t.expected&&(this.expected=!0),t.transient&&(this.transient=!0),t.cause&&(this.cause=t.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}})),iT=H(((e,t)=>{x();var r=null;t.exports=function(){return null===r&&(r={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),r}})),sT=H((e=>{x();var t=Vs(),r=new Set(["buffer","view","utf8"]);e.Encoding=class{constructor(e){if(this.encode=e.encode||this.encode,this.decode=e.decode||this.decode,this.name=e.name||this.name,this.format=e.format||this.format,"function"!=typeof this.encode)throw new TypeError("The 'encode' property must be a function");if("function"!=typeof this.decode)throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),"string"!=typeof this.name||""===this.name)throw new TypeError("The 'name' property must be a string");if("string"!=typeof this.format||!r.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");e.createViewTranscoder&&(this.createViewTranscoder=e.createViewTranscoder),e.createBufferTranscoder&&(this.createBufferTranscoder=e.createBufferTranscoder),e.createUTF8Transcoder&&(this.createUTF8Transcoder=e.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new t(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new t(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new t(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}}})),lT=H((e=>{x();var{Buffer:t}=St()||{},{Encoding:r}=sT(),n=iT(),i=class extends r{constructor(e){super({...e,format:"buffer"})}createViewTranscoder(){return new o({encode:this.encode,decode:e=>this.decode(t.from(e.buffer,e.byteOffset,e.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}},o=class extends r{constructor(e){super({...e,format:"view"})}createBufferTranscoder(){return new i({encode:e=>{let r=this.encode(e);return t.from(r.buffer,r.byteOffset,r.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}};e.BufferFormat=i,e.ViewFormat=o,e.UTF8Format=class extends r{constructor(e){super({...e,format:"utf8"})}createBufferTranscoder(){return new i({encode:e=>t.from(this.encode(e),"utf8"),decode:e=>this.decode(e.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){let{textEncoder:e,textDecoder:t}=n();return new o({encode:t=>e.encode(this.encode(t)),decode:e=>this.decode(t.decode(e)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}}})),XW=H((e=>{x();var{Buffer:t}=St()||{Buffer:{isBuffer:()=>!1}},{textEncoder:r,textDecoder:n}=iT()(),{BufferFormat:i,ViewFormat:o,UTF8Format:s}=lT(),a=e=>e;e.utf8=new s({encode:function(e){return t.isBuffer(e)?e.toString("utf8"):ArrayBuffer.isView(e)?n.decode(e):String(e)},decode:a,name:"utf8",createViewTranscoder(){return new o({encode:function(e){return ArrayBuffer.isView(e)?e:r.encode(e)},decode:function(e){return n.decode(e)},name:`${this.name}+view`})},createBufferTranscoder(){return new i({encode:function(e){return t.isBuffer(e)?e:ArrayBuffer.isView(e)?t.from(e.buffer,e.byteOffset,e.byteLength):t.from(String(e),"utf8")},decode:function(e){return e.toString("utf8")},name:`${this.name}+buffer`})}}),e.json=new s({encode:JSON.stringify,decode:JSON.parse,name:"json"}),e.buffer=new i({encode:function(e){return t.isBuffer(e)?e:ArrayBuffer.isView(e)?t.from(e.buffer,e.byteOffset,e.byteLength):t.from(String(e),"utf8")},decode:a,name:"buffer",createViewTranscoder(){return new o({encode:function(e){return ArrayBuffer.isView(e)?e:t.from(String(e),"utf8")},decode:function(e){return t.from(e.buffer,e.byteOffset,e.byteLength)},name:`${this.name}+view`})}}),e.view=new o({encode:function(e){return ArrayBuffer.isView(e)?e:r.encode(e)},decode:a,name:"view",createBufferTranscoder(){return new i({encode:function(e){return t.isBuffer(e)?e:ArrayBuffer.isView(e)?t.from(e.buffer,e.byteOffset,e.byteLength):t.from(String(e),"utf8")},decode:a,name:`${this.name}+buffer`})}}),e.hex=new i({encode:function(e){return t.isBuffer(e)?e:t.from(String(e),"hex")},decode:function(e){return e.toString("hex")},name:"hex"}),e.base64=new i({encode:function(e){return t.isBuffer(e)?e:t.from(String(e),"base64")},decode:function(e){return e.toString("base64")},name:"base64"})})),tV=H((e=>{x();var t=Vs(),r=XW(),{Encoding:n}=sT(),{BufferFormat:i,ViewFormat:o,UTF8Format:s}=lT(),a=Symbol("formats"),u=Symbol("encodings"),h=new Set(["buffer","view","utf8"]);e.Transcoder=class{constructor(e){if(!Array.isArray(e))throw new TypeError("The first argument 'formats' must be an array");if(!e.every((e=>h.has(e))))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'");this[u]=new Map,this[a]=new Set(e);for(let e in r)try{this.encoding(e)}catch(e){if("LEVEL_ENCODING_NOT_SUPPORTED"!==e.code)throw e}}encodings(){return Array.from(new Set(this[u].values()))}encoding(e){let r=this[u].get(e);if(void 0===r){if("string"==typeof e&&""!==e){if(r=c[e],!r)throw new t(`Encoding '${e}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if("object"!=typeof e||null===e)throw new TypeError("First argument 'encoding' must be a string or object");r=function(e){if(e instanceof n)return e;let t="type"in e&&"string"==typeof e.type?e.type:void 0,r=e.name||t||"anonymous-"+l++;switch(function(e){return"format"in e&&void 0!==e.format?e.format:"buffer"in e&&"boolean"==typeof e.buffer?e.buffer?"buffer":"utf8":"code"in e&&Number.isInteger(e.code)?"view":"buffer"}(e)){case"view":return new o({...e,name:r});case"utf8":return new s({...e,name:r});case"buffer":return new i({...e,name:r});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}(e)}let{name:h,format:f}=r;if(!this[a].has(f))if(this[a].has("view"))r=r.createViewTranscoder();else if(this[a].has("buffer"))r=r.createBufferTranscoder();else{if(!this[a].has("utf8"))throw new t(`Encoding '${h}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});r=r.createUTF8Transcoder()}for(let t of[e,h,r.name,r.commonName])this[u].set(t,r)}return r}};var f={binary:r.buffer,"utf-8":r.utf8},c={...r,...f},l=0})),iV=H(((e,t)=>{x(),t.exports="function"==typeof queueMicrotask?queueMicrotask:e=>Promise.resolve().then(e)})),il=H((e=>{x();var t=iV();e.fromCallback=function(e,t){if(void 0===e){var r=new Promise((function(t,r){e=function(e,n){e?r(e):t(n)}}));e[void 0!==t?t:"promise"]=r}else if("function"!=typeof e)throw new TypeError("Callback must be a function");return e},e.fromPromise=function(e,r){if(void 0===r)return e;e.then((function(e){t((()=>r(null,e)))})).catch((function(e){t((()=>r(e)))}))}})),Z2=H((e=>{x(),e.getCallback=function(e,t){return"function"==typeof e?e:t},e.getOptions=function(e,t){return"object"==typeof e&&null!==e?e:void 0!==t?t:{}}})),ul=H((e=>{x();var{fromCallback:t}=il(),r=Vs(),{getOptions:n,getCallback:i}=Z2(),o=Symbol("promise"),s=Symbol("callback"),a=Symbol("working"),u=Symbol("handleOne"),h=Symbol("handleMany"),f=Symbol("autoClose"),c=Symbol("finishWork"),l=Symbol("returnMany"),d=Symbol("closing"),p=Symbol("handleClose"),y=Symbol("closed"),m=Symbol("closeCallbacks"),g=Symbol("keyEncoding"),b=Symbol("valueEncoding"),w=Symbol("abortOnClose"),v=Symbol("legacy"),_=Symbol("keys"),E=Symbol("values"),S=Symbol("limit"),M=Symbol("count"),A=Object.freeze({}),k=()=>{},T=!1,P=class{constructor(e,t,r){if("object"!=typeof e||null===e)throw new TypeError("The first argument must be an abstract-level database, received "+(null===e?"null":typeof e));if("object"!=typeof t||null===t)throw new TypeError("The second argument must be an options object");this[y]=!1,this[m]=[],this[a]=!1,this[d]=!1,this[f]=!1,this[s]=null,this[u]=this[u].bind(this),this[h]=this[h].bind(this),this[p]=this[p].bind(this),this[g]=t[g],this[b]=t[b],this[v]=r,this[S]=Number.isInteger(t.limit)&&t.limit>=0?t.limit:1/0,this[M]=0,this[w]=!!t.abortOnClose,this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get count(){return this[M]}get limit(){return this[S]}next(e){let t;if(void 0===e)t=new Promise(((t,r)=>{e=(e,n,i)=>{e?r(e):this[v]?void 0===n&&void 0===i?t():t([n,i]):t(n)}}));else if("function"!=typeof e)throw new TypeError("Callback must be a function");return this[d]?this.nextTick(e,new r("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[a]?this.nextTick(e,new r("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[a]=!0,this[s]=e,this[M]>=this[S]?this.nextTick(this[u],null):this._next(this[u])),t}_next(e){this.nextTick(e)}nextv(e,u,f){return f=i(u,f),f=t(f,o),u=n(u,A),Number.isInteger(e)?(this[d]?this.nextTick(f,new r("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[a]?this.nextTick(f,new r("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(e<1&&(e=1),this[S]<1/0&&(e=Math.min(e,this[S]-this[M])),this[a]=!0,this[s]=f,e<=0?this.nextTick(this[h],null,[]):this._nextv(e,u,this[h])),f[o]):(this.nextTick(f,new TypeError("The first argument 'size' must be an integer")),f[o])}_nextv(e,t,r){let n=[],i=(t,o,s)=>t?r(t):(this[v]?void 0===o&&void 0===s:void 0===o)?r(null,n):(n.push(this[v]?[o,s]:o),void(n.length===e?r(null,n):this._next(i)));this._next(i)}all(e,u){return u=i(e,u),u=t(u,o),e=n(e,A),this[d]?this.nextTick(u,new r("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[a]?this.nextTick(u,new r("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[a]=!0,this[s]=u,this[f]=!0,this[M]>=this[S]?this.nextTick(this[h],null,[]):this._all(e,this[h])),u[o]}_all(e,t){let r=this[M],n=[],i=()=>{let e=this[S]<1/0?Math.min(1e3,this[S]-r):1e3;e<=0?this.nextTick(t,null,n):this._nextv(e,A,o)},o=(e,o)=>{e?t(e):0===o.length?t(null,n):(n.push.apply(n,o),r+=o.length,i())};i()}[c](){let e=this[s];return this[w]&&null===e?k:(this[a]=!1,this[s]=null,this[d]&&this._close(this[p]),e)}[l](e,t,r){this[f]?this.close(e.bind(null,t,r)):e(t,r)}seek(e,t){if(t=n(t,A),!this[d]){if(this[a])throw new r("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{let r=this.db.keyEncoding(t.keyEncoding||this[g]),n=r.format;t.keyEncoding!==n&&(t={...t,keyEncoding:n});let i=this.db.prefixKey(r.encode(e),n);this._seek(i,t)}}}_seek(e,t){throw new r("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(e){return e=t(e,o),this[y]?this.nextTick(e):this[d]?this[m].push(e):(this[d]=!0,this[m].push(e),this[a]?this[w]&&this[c]()(new r("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[p])),e[o]}_close(e){this.nextTick(e)}[p](){this[y]=!0,this.db.detachResource(this);let e=this[m];this[m]=[];for(let t of e)t()}async*[Symbol.asyncIterator](){try{let e;for(;void 0!==(e=await this.next());)yield e}finally{this[y]||await this.close()}}},I=class extends P{constructor(e,t){super(e,t,!0),this[_]=!1!==t.keys,this[E]=!1!==t.values}[u](e,t,r){let n=this[c]();if(e)return n(e);try{t=this[_]&&void 0!==t?this[g].decode(t):void 0,r=this[E]&&void 0!==r?this[b].decode(r):void 0}catch(e){return n(new R("entry",e))}void 0===t&&void 0===r||this[M]++,n(null,t,r)}[h](e,t){let r=this[c]();if(e)return this[l](r,e);try{for(let e of t){let t=e[0],r=e[1];e[0]=this[_]&&void 0!==t?this[g].decode(t):void 0,e[1]=this[E]&&void 0!==r?this[b].decode(r):void 0}}catch(e){return this[l](r,new R("entries",e))}this[M]+=t.length,this[l](r,null,t)}end(e){return!T&&typeof console<"u"&&(T=!0,console.warn(new r("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(e)}},R=class extends r{constructor(e,t){super(`Iterator could not decode ${e}`,{code:"LEVEL_DECODE_ERROR",cause:t})}};for(let e of["_ended property","_nexting property","_end method"])Object.defineProperty(I.prototype,e.split(" ")[0],{get(){throw new r(`The ${e} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new r(`The ${e} has been removed`,{code:"LEVEL_LEGACY"})}});I.keyEncoding=g,I.valueEncoding=b,e.AbstractIterator=I,e.AbstractKeyIterator=class extends P{constructor(e,t){super(e,t,!1)}[u](e,t){let r=this[c]();if(e)return r(e);try{t=void 0!==t?this[g].decode(t):void 0}catch(e){return r(new R("key",e))}void 0!==t&&this[M]++,r(null,t)}[h](e,t){let r=this[c]();if(e)return this[l](r,e);try{for(let e=0;e<t.length;e++){let r=t[e];t[e]=void 0!==r?this[g].decode(r):void 0}}catch(e){return this[l](r,new R("keys",e))}this[M]+=t.length,this[l](r,null,t)}},e.AbstractValueIterator=class extends P{constructor(e,t){super(e,t,!1)}[u](e,t){let r=this[c]();if(e)return r(e);try{t=void 0!==t?this[b].decode(t):void 0}catch(e){return r(new R("value",e))}void 0!==t&&this[M]++,r(null,t)}[h](e,t){let r=this[c]();if(e)return this[l](r,e);try{for(let e=0;e<t.length;e++){let r=t[e];t[e]=void 0!==r?this[b].decode(r):void 0}}catch(e){return this[l](r,new R("values",e))}this[M]+=t.length,this[l](r,null,t)}}})),aV=H((e=>{x();var{AbstractKeyIterator:t,AbstractValueIterator:r}=ul(),n=Symbol("iterator"),i=Symbol("callback"),o=Symbol("handleOne"),s=Symbol("handleMany"),a=class extends t{constructor(e,t){super(e,t),this[n]=e.iterator({...t,keys:!0,values:!1}),this[o]=this[o].bind(this),this[s]=this[s].bind(this)}},u=class extends r{constructor(e,t){super(e,t),this[n]=e.iterator({...t,keys:!1,values:!0}),this[o]=this[o].bind(this),this[s]=this[s].bind(this)}};for(let e of[a,u]){let t=e===a,r=t?e=>e[0]:e=>e[1];e.prototype._next=function(e){this[i]=e,this[n].next(this[o])},e.prototype[o]=function(e,r,n){let o=this[i];e?o(e):o(null,t?r:n)},e.prototype._nextv=function(e,t,r){this[i]=r,this[n].nextv(e,t,this[s])},e.prototype._all=function(e,t){this[i]=t,this[n].all(e,this[s])},e.prototype[s]=function(e,t){let n=this[i];e?n(e):n(null,t.map(r))},e.prototype._seek=function(e,t){this[n].seek(e,t)},e.prototype._close=function(e){this[n].close(e)}}e.DefaultKeyIterator=a,e.DefaultValueIterator=u})),fV=H((e=>{x();var{AbstractIterator:t,AbstractKeyIterator:r,AbstractValueIterator:n}=ul(),i=Vs(),o=Symbol("nut"),s=Symbol("undefer"),a=Symbol("factory"),u=class extends t{constructor(e,t){super(e,t),this[o]=null,this[a]=()=>e.iterator(t),this.db.defer((()=>this[s]()))}},h=class extends r{constructor(e,t){super(e,t),this[o]=null,this[a]=()=>e.keys(t),this.db.defer((()=>this[s]()))}},f=class extends n{constructor(e,t){super(e,t),this[o]=null,this[a]=()=>e.values(t),this.db.defer((()=>this[s]()))}};for(let e of[u,h,f])e.prototype[s]=function(){"open"===this.db.status&&(this[o]=this[a]())},e.prototype._next=function(e){null!==this[o]?this[o].next(e):"opening"===this.db.status?this.db.defer((()=>this._next(e))):this.nextTick(e,new i("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},e.prototype._nextv=function(e,t,r){null!==this[o]?this[o].nextv(e,t,r):"opening"===this.db.status?this.db.defer((()=>this._nextv(e,t,r))):this.nextTick(r,new i("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},e.prototype._all=function(e,t){null!==this[o]?this[o].all(t):"opening"===this.db.status?this.db.defer((()=>this._all(e,t))):this.nextTick(t,new i("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},e.prototype._seek=function(e,t){null!==this[o]?this[o]._seek(e,t):"opening"===this.db.status&&this.db.defer((()=>this._seek(e,t)))},e.prototype._close=function(e){null!==this[o]?this[o].close(e):"opening"===this.db.status?this.db.defer((()=>this._close(e))):this.nextTick(e)};e.DeferredIterator=u,e.DeferredKeyIterator=h,e.DeferredValueIterator=f})),TT=H((e=>{x();var{fromCallback:t}=il(),r=Vs(),{getCallback:n,getOptions:i}=Z2(),o=Symbol("promise"),s=Symbol("status"),a=Symbol("operations"),u=Symbol("finishClose"),h=Symbol("closeCallbacks");e.AbstractChainedBatch=class{constructor(e){if("object"!=typeof e||null===e)throw new TypeError("The first argument must be an abstract-level database, received "+(null===e?"null":typeof e));this[a]=[],this[h]=[],this[s]="open",this[u]=this[u].bind(this),this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get length(){return this[a].length}put(e,t,n){if("open"!==this[s])throw new r("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let i=this.db._checkKey(e)||this.db._checkValue(t);if(i)throw i;let o=n&&null!=n.sublevel?n.sublevel:this.db,u=n,h=o.keyEncoding(n&&n.keyEncoding),f=o.valueEncoding(n&&n.valueEncoding),c=h.format;n={...n,keyEncoding:c,valueEncoding:f.format},o!==this.db&&(n.sublevel=null);let l=o.prefixKey(h.encode(e),c),d=f.encode(t);return this._put(l,d,n),this[a].push({...u,type:"put",key:e,value:t}),this}_put(e,t,r){}del(e,t){if("open"!==this[s])throw new r("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let n=this.db._checkKey(e);if(n)throw n;let i=t&&null!=t.sublevel?t.sublevel:this.db,o=t,u=i.keyEncoding(t&&t.keyEncoding),h=u.format;return t={...t,keyEncoding:h},i!==this.db&&(t.sublevel=null),this._del(i.prefixKey(u.encode(e),h),t),this[a].push({...o,type:"del",key:e}),this}_del(e,t){}clear(){if("open"!==this[s])throw new r("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[a]=[],this}_clear(){}write(e,f){return f=n(e,f),f=t(f,o),e=i(e),"open"!==this[s]?this.nextTick(f,new r("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):0===this.length?this.close(f):(this[s]="writing",this._write(e,(e=>{this[s]="closing",this[h].push((()=>f(e))),e||this.db.emit("batch",this[a]),this._close(this[u])}))),f[o]}_write(e,t){}close(e){return e=t(e,o),"closing"===this[s]?this[h].push(e):"closed"===this[s]?this.nextTick(e):(this[h].push(e),"writing"!==this[s]&&(this[s]="closing",this._close(this[u]))),e[o]}_close(e){this.nextTick(e)}[u](){this[s]="closed",this.db.detachResource(this);let e=this[h];this[h]=[];for(let t of e)t()}}})),cV=H((e=>{x();var{AbstractChainedBatch:t}=TT(),r=Vs(),n=Symbol("encoded");e.DefaultChainedBatch=class extends t{constructor(e){super(e),this[n]=[]}_put(e,t,r){this[n].push({...r,type:"put",key:e,value:t})}_del(e,t){this[n].push({...t,type:"del",key:e})}_clear(){this[n]=[]}_write(e,t){"opening"===this.db.status?this.db.defer((()=>this._write(e,t))):"open"===this.db.status?0===this[n].length?this.nextTick(t):this.db._batch(this[n],e,t):this.nextTick(t,new r("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}}})),mV=H(((e,t)=>{x();var r=Vs(),n=Object.prototype.hasOwnProperty,i=new Set(["lt","lte","gt","gte"]);t.exports=function(e,t){let o={};for(let s in e)if(n.call(e,s)&&"keyEncoding"!==s&&"valueEncoding"!==s){if("start"===s||"end"===s)throw new r(`The legacy range option '${s}' has been removed`,{code:"LEVEL_LEGACY"});if("encoding"===s)throw new r("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});i.has(s)?o[s]=t.encode(e[s]):o[s]=e[s]}return o.reverse=!!o.reverse,o.limit=Number.isInteger(o.limit)&&o.limit>=0?o.limit:-1,o}})),pg=H(((e,t)=>{var r;x(),t.exports="function"==typeof queueMicrotask?queueMicrotask.bind(typeof window<"u"?window:globalThis):e=>(r||(r=Promise.resolve())).then(e).catch((e=>setTimeout((()=>{throw e}),0)))})),wV=H(((e,t)=>{x();var r=pg();t.exports=function(e,...t){0===t.length?r(e):r((()=>e(...t)))}})),_V=H((e=>{x();var{AbstractIterator:t,AbstractKeyIterator:r,AbstractValueIterator:n}=ul(),i=Symbol("unfix"),o=Symbol("iterator"),s=Symbol("handleOne"),a=Symbol("handleMany"),u=Symbol("callback"),h=class extends t{constructor(e,t,r,n){super(e,t),this[o]=r,this[i]=n,this[s]=this[s].bind(this),this[a]=this[a].bind(this),this[u]=null}[s](e,t,r){let n=this[u];if(e)return n(e);void 0!==t&&(t=this[i](t)),n(e,t,r)}[a](e,t){let r=this[u];if(e)return r(e);for(let e of t){let t=e[0];void 0!==t&&(e[0]=this[i](t))}r(e,t)}},f=class extends r{constructor(e,t,r,n){super(e,t),this[o]=r,this[i]=n,this[s]=this[s].bind(this),this[a]=this[a].bind(this),this[u]=null}[s](e,t){let r=this[u];if(e)return r(e);void 0!==t&&(t=this[i](t)),r(e,t)}[a](e,t){let r=this[u];if(e)return r(e);for(let e=0;e<t.length;e++){let r=t[e];void 0!==r&&(t[e]=this[i](r))}r(e,t)}},c=class extends n{constructor(e,t,r){super(e,t),this[o]=r}};for(let e of[h,f])e.prototype._next=function(e){this[u]=e,this[o].next(this[s])},e.prototype._nextv=function(e,t,r){this[u]=r,this[o].nextv(e,t,this[a])},e.prototype._all=function(e,t){this[u]=t,this[o].all(e,this[a])};for(let e of[c])e.prototype._next=function(e){this[o].next(e)},e.prototype._nextv=function(e,t,r){this[o].nextv(e,t,r)},e.prototype._all=function(e,t){this[o].all(e,t)};for(let e of[h,f,c])e.prototype._seek=function(e,t){this[o].seek(e,t)},e.prototype._close=function(e){this[o].close(e)};e.AbstractSublevelIterator=h,e.AbstractSublevelKeyIterator=f,e.AbstractSublevelValueIterator=c})),SV=H(((e,t)=>{x();var r=Vs(),{Buffer:n}=St()||{},{AbstractSublevelIterator:i,AbstractSublevelKeyIterator:o,AbstractSublevelValueIterator:s}=_V(),a=Symbol("prefix"),u=Symbol("upperBound"),h=Symbol("prefixRange"),f=Symbol("parent"),c=Symbol("unfix"),l=new TextEncoder,d={separator:"!"};t.exports=function({AbstractLevel:e}){class t extends e{static defaults(e){if("string"==typeof e)throw new r("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(e&&e.open)throw new r("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return null==e?d:e.separator?e:{...e,separator:"!"}}constructor(e,n,i){let{separator:o,manifest:s,...h}=t.defaults(i);n=b(n,o);let d=o.charCodeAt(0)+1,y=e[f]||e;if(!l.encode(n).every((e=>e>d&&e<127)))throw new r(`Prefix must use bytes > ${d} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(p(y,s),h);let w=(e.prefix||"")+o+n+o,v=w.slice(0,-1)+String.fromCharCode(d);this[f]=y,this[a]=new m(w),this[u]=new m(v),this[c]=new g,this.nextTick=y.nextTick}prefixKey(e,t){if("utf8"===t)return this[a].utf8+e;if(0===e.byteLength)return this[a][t];if("view"===t){let t=this[a].view,r=new Uint8Array(t.byteLength+e.byteLength);return r.set(t,0),r.set(e,t.byteLength),r}{let t=this[a].buffer;return n.concat([t,e],t.byteLength+e.byteLength)}}[h](e,t){void 0!==e.gte?e.gte=this.prefixKey(e.gte,t):void 0!==e.gt?e.gt=this.prefixKey(e.gt,t):e.gte=this[a][t],void 0!==e.lte?e.lte=this.prefixKey(e.lte,t):void 0!==e.lt?e.lt=this.prefixKey(e.lt,t):e.lte=this[u][t]}get prefix(){return this[a].utf8}get db(){return this[f]}_open(e,t){this[f].open({passive:!0},t)}_put(e,t,r,n){this[f].put(e,t,r,n)}_get(e,t,r){this[f].get(e,t,r)}_getMany(e,t,r){this[f].getMany(e,t,r)}_del(e,t,r){this[f].del(e,t,r)}_batch(e,t,r){this[f].batch(e,t,r)}_clear(e,t){this[h](e,e.keyEncoding),this[f].clear(e,t)}_iterator(e){this[h](e,e.keyEncoding);let t=this[f].iterator(e),r=this[c].get(this[a].utf8.length,e.keyEncoding);return new i(this,e,t,r)}_keys(e){this[h](e,e.keyEncoding);let t=this[f].keys(e),r=this[c].get(this[a].utf8.length,e.keyEncoding);return new o(this,e,t,r)}_values(e){this[h](e,e.keyEncoding);let t=this[f].values(e);return new s(this,e,t)}}return{AbstractSublevel:t}};var p=function(e,t){return{...e.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...t,encodings:{utf8:y(e,"utf8"),buffer:y(e,"buffer"),view:y(e,"view")}}},y=function(e,t){return!!e.supports.encodings[t]&&e.keyEncoding(t).name===t},m=class{constructor(e){this.utf8=e,this.view=l.encode(e),this.buffer=n?n.from(this.view.buffer,0,this.view.byteLength):{}}},g=class{constructor(){this.cache=new Map}get(e,t){let r=this.cache.get(t);return void 0===r&&(r="view"===t?function(e,t){return t.subarray(e)}.bind(null,e):function(e,t){return t.slice(e)}.bind(null,e),this.cache.set(t,r)),r}},b=function(e,t){let r=0,n=e.length;for(;r<n&&e[r]===t;)r++;for(;n>r&&e[n-1]===t;)n--;return e.slice(r,n)}})),LT=H((e=>{x();var{supports:t}=WW(),{Transcoder:r}=tV(),{EventEmitter:n}=Gn(),{fromCallback:i}=il(),o=Vs(),{AbstractIterator:s}=ul(),{DefaultKeyIterator:a,DefaultValueIterator:u}=aV(),{DeferredIterator:h,DeferredKeyIterator:f,DeferredValueIterator:c}=fV(),{DefaultChainedBatch:l}=cV(),{getCallback:d,getOptions:p}=Z2(),y=mV(),m=Symbol("promise"),g=Symbol("landed"),b=Symbol("resources"),w=Symbol("closeResources"),v=Symbol("operations"),_=Symbol("undefer"),E=Symbol("deferOpen"),S=Symbol("options"),M=Symbol("status"),A=Symbol("defaultOptions"),k=Symbol("transcoder"),T=Symbol("keyEncoding"),P=Symbol("valueEncoding"),I=()=>{},R=class extends n{constructor(e,n){if(super(),"object"!=typeof e||null===e)throw new TypeError("The first argument 'manifest' must be an object");n=p(n);let{keyEncoding:i,valueEncoding:o,passive:s,...a}=n;this[b]=new Set,this[v]=[],this[E]=!0,this[S]=a,this[M]="opening",this.supports=t(e,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:!1!==e.snapshots,permanence:!1!==e.permanence,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:e.encodings||{},events:Object.assign({},e.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[k]=new r(C(this)),this[T]=this[k].encoding(i||"utf8"),this[P]=this[k].encoding(o||"utf8");for(let e of this[k].encodings())this.supports.encodings[e.commonName]||(this.supports.encodings[e.commonName]=!0);this[A]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[T].commonName,valueEncoding:this[P].commonName}),key:Object.freeze({keyEncoding:this[T].commonName})},this.nextTick((()=>{this[E]&&this.open({passive:!1},I)}))}get status(){return this[M]}keyEncoding(e){return this[k].encoding(e??this[T])}valueEncoding(e){return this[k].encoding(e??this[P])}open(e,t){t=d(e,t),t=i(t,m),(e={...this[S],...p(e)}).createIfMissing=!1!==e.createIfMissing,e.errorIfExists=!!e.errorIfExists;let r=e=>{"closing"===this[M]||"opening"===this[M]?this.once(g,e?()=>r(e):r):"open"!==this[M]?t(new o("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:e})):t()};return e.passive?"opening"===this[M]?this.once(g,r):this.nextTick(r):"closed"===this[M]||this[E]?(this[E]=!1,this[M]="opening",this.emit("opening"),this._open(e,(e=>{if(e)return this[M]="closed",this[w]((()=>{this.emit(g),r(e)})),void this[_]();this[M]="open",this[_](),this.emit(g),"open"===this[M]&&this.emit("open"),"open"===this[M]&&this.emit("ready"),r()}))):"open"===this[M]?this.nextTick(r):this.once(g,(()=>this.open(e,t))),t[m]}_open(e,t){this.nextTick(t)}close(e){e=i(e,m);let t=r=>{"opening"===this[M]||"closing"===this[M]?this.once(g,r?t(r):t):"closed"!==this[M]?e(new o("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:r})):e()};if("open"===this[M]){this[M]="closing",this.emit("closing");let e=e=>{this[M]="open",this[_](),this.emit(g),t(e)};this[w]((()=>{this._close((r=>{if(r)return e(r);this[M]="closed",this[_](),this.emit(g),"closed"===this[M]&&this.emit("closed"),t()}))}))}else"closed"===this[M]?this.nextTick(t):this.once(g,(()=>this.close(e)));return e[m]}[w](e){if(0===this[b].size)return this.nextTick(e);let t=this[b].size,r=!0,n=()=>{0==--t&&(r?this.nextTick(e):e())};for(let e of this[b])e.close(n);r=!1,this[b].clear()}_close(e){this.nextTick(e)}get(e,t,r){if(r=d(t,r),r=i(r,m),t=p(t,this[A].entry),"opening"===this[M])return this.defer((()=>this.get(e,t,r))),r[m];if(B(this,r))return r[m];let n=this._checkKey(e);if(n)return this.nextTick(r,n),r[m];let s=this.keyEncoding(t.keyEncoding),a=this.valueEncoding(t.valueEncoding),u=s.format,h=a.format;return(t.keyEncoding!==u||t.valueEncoding!==h)&&(t=Object.assign({},t,{keyEncoding:u,valueEncoding:h})),this._get(this.prefixKey(s.encode(e),u),t,((e,t)=>{if(e)return("LEVEL_NOT_FOUND"===e.code||e.notFound||/NotFound/i.test(e))&&(e.code||(e.code="LEVEL_NOT_FOUND"),e.notFound||(e.notFound=!0),e.status||(e.status=404)),r(e);try{t=a.decode(t)}catch(e){return r(new o("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:e}))}r(null,t)})),r[m]}_get(e,t,r){this.nextTick(r,new Error("NotFound"))}getMany(e,t,r){if(r=d(t,r),r=i(r,m),t=p(t,this[A].entry),"opening"===this[M])return this.defer((()=>this.getMany(e,t,r))),r[m];if(B(this,r))return r[m];if(!Array.isArray(e))return this.nextTick(r,new TypeError("The first argument 'keys' must be an array")),r[m];if(0===e.length)return this.nextTick(r,null,[]),r[m];let n=this.keyEncoding(t.keyEncoding),s=this.valueEncoding(t.valueEncoding),a=n.format,u=s.format;(t.keyEncoding!==a||t.valueEncoding!==u)&&(t=Object.assign({},t,{keyEncoding:a,valueEncoding:u}));let h=new Array(e.length);for(let t=0;t<e.length;t++){let i=e[t],o=this._checkKey(i);if(o)return this.nextTick(r,o),r[m];h[t]=this.prefixKey(n.encode(i),a)}return this._getMany(h,t,((e,t)=>{if(e)return r(e);try{for(let e=0;e<t.length;e++)void 0!==t[e]&&(t[e]=s.decode(t[e]))}catch(e){return r(new o(`Could not decode one or more of ${t.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:e}))}r(null,t)})),r[m]}_getMany(e,t,r){this.nextTick(r,null,new Array(e.length).fill(void 0))}put(e,t,r,n){if(n=d(r,n),n=i(n,m),r=p(r,this[A].entry),"opening"===this[M])return this.defer((()=>this.put(e,t,r,n))),n[m];if(B(this,n))return n[m];let o=this._checkKey(e)||this._checkValue(t);if(o)return this.nextTick(n,o),n[m];let s=this.keyEncoding(r.keyEncoding),a=this.valueEncoding(r.valueEncoding),u=s.format,h=a.format;(r.keyEncoding!==u||r.valueEncoding!==h)&&(r=Object.assign({},r,{keyEncoding:u,valueEncoding:h}));let f=this.prefixKey(s.encode(e),u),c=a.encode(t);return this._put(f,c,r,(r=>{if(r)return n(r);this.emit("put",e,t),n()})),n[m]}_put(e,t,r,n){this.nextTick(n)}del(e,t,r){if(r=d(t,r),r=i(r,m),t=p(t,this[A].key),"opening"===this[M])return this.defer((()=>this.del(e,t,r))),r[m];if(B(this,r))return r[m];let n=this._checkKey(e);if(n)return this.nextTick(r,n),r[m];let o=this.keyEncoding(t.keyEncoding),s=o.format;return t.keyEncoding!==s&&(t=Object.assign({},t,{keyEncoding:s})),this._del(this.prefixKey(o.encode(e),s),t,(t=>{if(t)return r(t);this.emit("del",e),r()})),r[m]}_del(e,t,r){this.nextTick(r)}batch(e,t,r){if(!arguments.length){if("opening"===this[M])return new l(this);if("open"!==this[M])throw new o("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(r="function"==typeof e?e:d(t,r),r=i(r,m),t=p(t,this[A].empty),"opening"===this[M])return this.defer((()=>this.batch(e,t,r))),r[m];if(B(this,r))return r[m];if(!Array.isArray(e))return this.nextTick(r,new TypeError("The first argument 'operations' must be an array")),r[m];if(0===e.length)return this.nextTick(r),r[m];let n=new Array(e.length),{keyEncoding:s,valueEncoding:a,...u}=t;for(let t=0;t<e.length;t++){if("object"!=typeof e[t]||null===e[t])return this.nextTick(r,new TypeError("A batch operation must be an object")),r[m];let i=Object.assign({},e[t]);if("put"!==i.type&&"del"!==i.type)return this.nextTick(r,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),r[m];let o=this._checkKey(i.key);if(o)return this.nextTick(r,o),r[m];let u=null!=i.sublevel?i.sublevel:this,h=u.keyEncoding(i.keyEncoding||s),f=h.format;if(i.key=u.prefixKey(h.encode(i.key),f),i.keyEncoding=f,"put"===i.type){let e=this._checkValue(i.value);if(e)return this.nextTick(r,e),r[m];let t=u.valueEncoding(i.valueEncoding||a);i.value=t.encode(i.value),i.valueEncoding=t.format}u!==this&&(i.sublevel=null),n[t]=i}return this._batch(n,u,(t=>{if(t)return r(t);this.emit("batch",e),r()})),r[m]}_batch(e,t,r){this.nextTick(r)}sublevel(e,t){return this._sublevel(e,O.defaults(t))}_sublevel(e,t){return new O(this,e,t)}prefixKey(e,t){return e}clear(e,t){if(t=d(e,t),t=i(t,m),e=p(e,this[A].empty),"opening"===this[M])return this.defer((()=>this.clear(e,t))),t[m];if(B(this,t))return t[m];let r=e,n=this.keyEncoding(e.keyEncoding);return(e=y(e,n)).keyEncoding=n.format,0===e.limit?this.nextTick(t):this._clear(e,(e=>{if(e)return t(e);this.emit("clear",r),t()})),t[m]}_clear(e,t){this.nextTick(t)}iterator(e){let t=this.keyEncoding(e&&e.keyEncoding),r=this.valueEncoding(e&&e.valueEncoding);if((e=y(e,t)).keys=!1!==e.keys,e.values=!1!==e.values,e[s.keyEncoding]=t,e[s.valueEncoding]=r,e.keyEncoding=t.format,e.valueEncoding=r.format,"opening"===this[M])return new h(this,e);if("open"!==this[M])throw new o("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(e)}_iterator(e){return new s(this,e)}keys(e){let t=this.keyEncoding(e&&e.keyEncoding),r=this.valueEncoding(e&&e.valueEncoding);if((e=y(e,t))[s.keyEncoding]=t,e[s.valueEncoding]=r,e.keyEncoding=t.format,e.valueEncoding=r.format,"opening"===this[M])return new f(this,e);if("open"!==this[M])throw new o("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(e)}_keys(e){return new a(this,e)}values(e){let t=this.keyEncoding(e&&e.keyEncoding),r=this.valueEncoding(e&&e.valueEncoding);if((e=y(e,t))[s.keyEncoding]=t,e[s.valueEncoding]=r,e.keyEncoding=t.format,e.valueEncoding=r.format,"opening"===this[M])return new c(this,e);if("open"!==this[M])throw new o("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(e)}_values(e){return new u(this,e)}defer(e){if("function"!=typeof e)throw new TypeError("The first argument must be a function");this[v].push(e)}[_](){if(0===this[v].length)return;let e=this[v];this[v]=[];for(let t of e)t()}attachResource(e){if("object"!=typeof e||null===e||"function"!=typeof e.close)throw new TypeError("The first argument must be a resource object");this[b].add(e)}detachResource(e){this[b].delete(e)}_chainedBatch(){return new l(this)}_checkKey(e){if(null==e)return new o("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(e){if(null==e)return new o("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}};R.prototype.nextTick=wV();var{AbstractSublevel:O}=SV()({AbstractLevel:R});e.AbstractLevel=R,e.AbstractSublevel=O;var B=function(e,t){return"open"!==e[M]&&(e.nextTick(t,new o("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0)},C=function(e){return Object.keys(e.supports.encodings).filter((t=>!!e.supports.encodings[t]))}})),qT=H((e=>{x(),e.AbstractLevel=LT().AbstractLevel,e.AbstractSublevel=LT().AbstractSublevel,e.AbstractIterator=ul().AbstractIterator,e.AbstractKeyIterator=ul().AbstractKeyIterator,e.AbstractValueIterator=ul().AbstractValueIterator,e.AbstractChainedBatch=TT().AbstractChainedBatch})),jT=H(((e,t)=>{x(),t.exports=function(e,t,n){if("number"!=typeof t)throw new Error("second argument must be a Number");let i,o,s,a,u,h,f=!0;function c(e){function t(){n&&n(e,i),n=null}f?r(t):t()}function l(t,r,n){if(i[t]=n,r&&(u=!0),0==--s||r)c(r);else if(!u&&h<o){let t;a?(t=a[h],h+=1,e[t]((function(e,r){l(t,e,r)}))):(t=h,h+=1,e[t]((function(e,r){l(t,e,r)})))}}Array.isArray(e)?(i=[],s=o=e.length):(a=Object.keys(e),i={},s=o=a.length),h=t,s?a?a.some((function(r,n){return e[r]((function(e,t){l(r,e,t)})),n===t-1})):e.some((function(e,r){return e((function(e,t){l(r,e,t)})),r===t-1})):c(null),f=!1};var r=pg()})),UT=H(((e,t)=>{x(),t.exports=function(e){let t=void 0!==e.gte?e.gte:void 0!==e.gt?e.gt:void 0,r=void 0!==e.lte?e.lte:void 0!==e.lt?e.lt:void 0,n=void 0===e.gte,i=void 0===e.lte;return void 0!==t&&void 0!==r?IDBKeyRange.bound(t,r,n,i):void 0!==t?IDBKeyRange.lowerBound(t,n):void 0!==r?IDBKeyRange.upperBound(r,i):null}})),zT=H(((e,t)=>{x();var r=new TextEncoder;t.exports=function(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):r.encode(e)}})),CV=H((e=>{x();var{AbstractIterator:t}=qT(),r=UT(),n=zT(),i=Symbol("cache"),o=Symbol("finished"),s=Symbol("options"),a=Symbol("currentOptions"),u=Symbol("position"),h=Symbol("location"),f=Symbol("first"),c={};function l(e){"function"==typeof e.commit&&e.commit()}e.Iterator=class extends t{constructor(e,t,r){super(e,r),this[i]=[],this[o]=0===this.limit,this[s]=r,this[a]={...r},this[u]=void 0,this[h]=t,this[f]=!0}_nextv(e,t,c){if(this[f]=!1,this[o])return this.nextTick(c,null,[]);if(this[i].length>0)return e=Math.min(e,this[i].length),this.nextTick(c,null,this[i].splice(0,e));let d;void 0!==this[u]&&(this[s].reverse?(this[a].lt=this[u],this[a].lte=void 0):(this[a].gt=this[u],this[a].gte=void 0));try{d=r(this[a])}catch{return this[o]=!0,this.nextTick(c,null,[])}let p=this.db.db.transaction([this[h]],"readonly"),y=p.objectStore(this[h]),m=[];if(this[s].reverse)y[!this[s].values&&y.openKeyCursor?"openKeyCursor":"openCursor"](d,"prev").onsuccess=t=>{let r=t.target.result;if(r){let{key:t,value:i}=r;this[u]=t,m.push([this[s].keys&&void 0!==t?n(t):void 0,this[s].values&&void 0!==i?n(i):void 0]),m.length<e?r.continue():l(p)}else this[o]=!0};else{let t,r,i=()=>{if(void 0===t||void 0===r)return;let i=Math.max(t.length,r.length);0===i||e===1/0?this[o]=!0:this[u]=t[i-1],m.length=i;for(let e=0;e<i;e++){let i=t[e],o=r[e];m[e]=[this[s].keys&&void 0!==i?n(i):void 0,this[s].values&&void 0!==o?n(o):void 0]}l(p)};this[s].keys||e<1/0?y.getAllKeys(d,e<1/0?e:void 0).onsuccess=e=>{t=e.target.result,i()}:(t=[],this.nextTick(i)),this[s].values?y.getAll(d,e<1/0?e:void 0).onsuccess=e=>{r=e.target.result,i()}:(r=[],this.nextTick(i))}p.onabort=()=>{c(p.error||new Error("aborted by user")),c=null},p.oncomplete=()=>{c(null,m),c=null}}_next(e){if(this[i].length>0){let[t,r]=this[i].shift();this.nextTick(e,null,t,r)}else if(this[o])this.nextTick(e);else{let t=Math.min(100,this.limit-this.count);this[f]&&(this[f]=!1,t=1),this._nextv(t,c,((t,r)=>{if(t)return e(t);this[i]=r,this._next(e)}))}}_all(e,t){this[f]=!1;let r=this[i].splice(0,this[i].length),n=this.limit-this.count-r.length;if(n<=0)return this.nextTick(t,null,r);this._nextv(n,c,((e,n)=>{if(e)return t(e);r.length>0&&(n=r.concat(n)),t(null,n)}))}_seek(e,t){let n;this[f]=!0,this[i]=[],this[o]=!1,this[u]=void 0,this[a]={...this[s]};try{n=r(this[s])}catch{return void(this[o]=!0)}null===n||n.includes(e)?this[s].reverse?this[a].lte=e:this[a].gte=e:this[o]=!0}}})),LV=H(((e,t)=>{x(),t.exports=function(e,t,r,n,i){if(0===n.limit)return e.nextTick(i);let o=e.db.transaction([t],"readwrite"),s=o.objectStore(t),a=0;o.oncomplete=function(){i()},o.onabort=function(){i(o.error||new Error("aborted by user"))};let u=s.openKeyCursor?"openKeyCursor":"openCursor",h=n.reverse?"prev":"next";s[u](r,h).onsuccess=function(e){let t=e.target.result;t&&(s.delete(t.key).onsuccess=function(){(n.limit<=0||++a<n.limit)&&t.continue()})}}})),$V=H((e=>{x();var{AbstractLevel:t}=qT(),r=Vs(),n=jT(),{fromCallback:i}=il(),{Iterator:o}=CV(),s=zT(),a=LV(),u=UT(),h="level-js-",f=Symbol("idb"),c=Symbol("namePrefix"),l=Symbol("location"),d=Symbol("version"),p=Symbol("store"),y=Symbol("onComplete"),m=Symbol("promise"),g=class extends t{constructor(e,t,n){if("function"==typeof t||"function"==typeof n)throw new r("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});let{prefix:i,version:o,...s}=t||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},s),"string"!=typeof e)throw new Error("constructor requires a location string argument");this[l]=e,this[c]=i??h,this[d]=parseInt(o||1,10),this[f]=null}get location(){return this[l]}get namePrefix(){return this[c]}get version(){return this[d]}get db(){return this[f]}get type(){return"browser-level"}_open(e,t){let r=indexedDB.open(this[c]+this[l],this[d]);r.onerror=function(){t(r.error||new Error("unknown error"))},r.onsuccess=()=>{this[f]=r.result,t()},r.onupgradeneeded=e=>{let t=e.target.result;t.objectStoreNames.contains(this[l])||t.createObjectStore(this[l])}}[p](e){return this[f].transaction([this[l]],e).objectStore(this[l])}[y](e,t){let r=e.transaction;r.onabort=function(){t(r.error||new Error("aborted by user"))},r.oncomplete=function(){t(null,e.result)}}_get(e,t,n){let i,o=this[p]("readonly");try{i=o.get(e)}catch(e){return this.nextTick(n,e)}this[y](i,(function(e,t){return e?n(e):void 0===t?n(new r("Entry not found",{code:"LEVEL_NOT_FOUND"})):void n(null,s(t))}))}_getMany(e,t,r){let i=this[p]("readonly"),o=e.map((e=>t=>{let r;try{r=i.get(e)}catch(e){return t(e)}r.onsuccess=()=>{let e=r.result;t(null,void 0===e?e:s(e))},r.onerror=e=>{e.stopPropagation(),t(r.error)}}));n(o,16,r)}_del(e,t,r){let n,i=this[p]("readwrite");try{n=i.delete(e)}catch(e){return this.nextTick(r,e)}this[y](n,r)}_put(e,t,r,n){let i,o=this[p]("readwrite");try{i=o.put(t,e)}catch(e){return this.nextTick(n,e)}this[y](i,n)}_iterator(e){return new o(this,this[l],e)}_batch(e,t,r){let n,i=this[p]("readwrite"),o=i.transaction,s=0;o.onabort=function(){r(n||o.error||new Error("aborted by user"))},o.oncomplete=function(){r()},function t(){let r,a=e[s++],u=a.key;try{r="del"===a.type?i.delete(u):i.put(a.value,u)}catch(e){return n=e,void o.abort()}s<e.length?r.onsuccess=t:"function"==typeof o.commit&&o.commit()}()}_clear(e,t){let r,n;try{r=u(e)}catch{return this.nextTick(t)}if(e.limit>=0)return a(this,this[l],r,e,t);try{let e=this[p]("readwrite");n=r?e.delete(r):e.clear()}catch(e){return this.nextTick(t,e)}this[y](n,t)}_close(e){this[f].close(),this.nextTick(e)}};g.destroy=function(e,t,r){"function"==typeof t&&(r=t,t=h),r=i(r,m);let n=indexedDB.deleteDatabase(t+e);return n.onsuccess=function(){r()},n.onerror=function(e){r(e)},r[m]},e.BrowserLevel=g})),WV=H((e=>{x(),e.Level=$V().BrowserLevel})),w_,__=er((()=>{x(),ru(),w_=85})),YT={};Ht(YT,{identity:()=>ZT});var JV,N_e,XV,L_e,ZT,JT=er((()=>{x(),ru(),Kc(),L_e=e=>Bl(JV,XV(e)),ZT={code:JV=0,name:N_e="identity",encode:XV=sa,digest:L_e}})),eK=H(((e,t)=>{x(),t.exports=n;var r=ml();function n(e,t){this.lo=e>>>0,this.hi=t>>>0}var i=n.zero=new n(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var o=n.zeroHash="\0\0\0\0\0\0\0\0";n.fromNumber=function(e){if(0===e)return i;var t=e<0;t&&(e=-e);var r=e>>>0,o=(e-r)/4294967296>>>0;return t&&(o=~o>>>0,r=~r>>>0,++r>4294967295&&(r=0,++o>4294967295&&(o=0))),new n(r,o)},n.from=function(e){if("number"==typeof e)return n.fromNumber(e);if(r.isString(e)){if(!r.Long)return n.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new n(e.low>>>0,e.high>>>0):i},n.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},n.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;n.fromHash=function(e){return e===o?i:new n((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},n.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},n.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},n.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},n.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}})),ml=H((e=>{x();var t=e;function r(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)(void 0===e[n[i]]||!r)&&(e[n[i]]=t[n[i]]);return e}function n(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&r(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}t.asPromise=l6(),t.base64=h6(),t.EventEmitter=c6(),t.float=d6(),t.inquire=p6(),t.utf8=y6(),t.pool=g6(),t.LongBits=eK(),t.isNode=Boolean(typeof globalThis<"u"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node),t.global=t.isNode&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||e,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.isString=function(e){return"string"==typeof e||e instanceof String},t.isObject=function(e){return e&&"object"==typeof e},t.isset=t.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},t.Buffer=function(){try{var e=t.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch{return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(e){return"number"==typeof e?t.Buffer?t._Buffer_allocUnsafe(e):new t.Array(e):t.Buffer?t._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)},t.Array=typeof Uint8Array<"u"?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(e){return e?t.LongBits.from(e).toHash():t.LongBits.zeroHash},t.longFromHash=function(e,r){var n=t.LongBits.fromHash(e);return t.Long?t.Long.fromBits(n.lo,n.hi,r):n.toNumber(Boolean(r))},t.merge=r,t.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},t.newError=n,t.ProtocolError=n("ProtocolError"),t.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},t.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var e=t.Buffer;e?(t._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},t._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):t._Buffer_from=t._Buffer_allocUnsafe=null}})),oA=H(((e,t)=>{x(),t.exports=f;var r,n=ml(),i=n.LongBits,o=n.base64,s=n.utf8;function a(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function u(){}function h(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function f(){this.len=0,this.head=new a(u,0,0),this.tail=this.head,this.states=null}var c=function(){return n.Buffer?function(){return(f.create=function(){return new r})()}:function(){return new f}};function l(e,t,r){t[r]=255&e}function d(e,t){this.len=e,this.next=void 0,this.val=t}function p(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function y(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}f.create=c(),f.alloc=function(e){return new n.Array(e)},n.Array!==Array&&(f.alloc=n.pool(f.alloc,n.Array.prototype.subarray)),f.prototype._push=function(e,t,r){return this.tail=this.tail.next=new a(e,t,r),this.len+=t,this},d.prototype=Object.create(a.prototype),d.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},f.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new d((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},f.prototype.int32=function(e){return e<0?this._push(p,10,i.fromNumber(e)):this.uint32(e)},f.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},f.prototype.uint64=function(e){var t=i.from(e);return this._push(p,t.length(),t)},f.prototype.int64=f.prototype.uint64,f.prototype.sint64=function(e){var t=i.from(e).zzEncode();return this._push(p,t.length(),t)},f.prototype.bool=function(e){return this._push(l,1,e?1:0)},f.prototype.fixed32=function(e){return this._push(y,4,e>>>0)},f.prototype.sfixed32=f.prototype.fixed32,f.prototype.fixed64=function(e){var t=i.from(e);return this._push(y,4,t.lo)._push(y,4,t.hi)},f.prototype.sfixed64=f.prototype.fixed64,f.prototype.float=function(e){return this._push(n.float.writeFloatLE,4,e)},f.prototype.double=function(e){return this._push(n.float.writeDoubleLE,8,e)};var m=n.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};f.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(l,1,0);if(n.isString(e)){var r=f.alloc(t=o.length(e));o.decode(e,r,0),e=r}return this.uint32(t)._push(m,t,e)},f.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(l,1,0)},f.prototype.fork=function(){return this.states=new h(this),this.head=this.tail=new a(u,0,0),this.len=0,this},f.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new a(u,0,0),this.len=0),this},f.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},f.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},f._configure=function(e){r=e,f.create=c(),r._configure()}})),uK=H(((e,t)=>{x(),t.exports=i;var r=oA();(i.prototype=Object.create(r.prototype)).constructor=i;var n=ml();function i(){r.call(this)}function o(e,t,r){e.length<40?n.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}i._configure=function(){i.alloc=n._Buffer_allocUnsafe,i.writeBytesBuffer=n.Buffer&&n.Buffer.prototype instanceof Uint8Array&&"set"===n.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},i.prototype.bytes=function(e){n.isString(e)&&(e=n._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(i.writeBytesBuffer,t,e),this},i.prototype.string=function(e){var t=n.Buffer.byteLength(e);return this.uint32(t),t&&this._push(o,t,e),this},i._configure()})),fA=H(((e,t)=>{x(),t.exports=a;var r,n=ml(),i=n.LongBits,o=n.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function a(e){this.buf=e,this.pos=0,this.len=e.length}var u,h=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new a(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new a(e);throw Error("illegal buffer")},f=function(){return n.Buffer?function(e){return(a.create=function(e){return n.Buffer.isBuffer(e)?new r(e):h(e)})(e)}:h};function c(){var e=new i(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function l(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function d(){if(this.pos+8>this.len)throw s(this,8);return new i(l(this.buf,this.pos+=4),l(this.buf,this.pos+=4))}a.create=f(),a.prototype._slice=n.Array.prototype.subarray||n.Array.prototype.slice,a.prototype.uint32=(u=4294967295,function(){if(u=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(u=(u|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(u=(u|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(u=(u|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(u=(u|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return u;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return u}),a.prototype.int32=function(){return 0|this.uint32()},a.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},a.prototype.bool=function(){return 0!==this.uint32()},a.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return l(this.buf,this.pos+=4)},a.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|l(this.buf,this.pos+=4)},a.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=n.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},a.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=n.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},a.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},a.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length)},a.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},a.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},a._configure=function(e){r=e,a.create=f(),r._configure();var t=n.Long?"toLong":"toNumber";n.merge(a.prototype,{int64:function(){return c.call(this)[t](!1)},uint64:function(){return c.call(this)[t](!0)},sint64:function(){return c.call(this).zzDecode()[t](!1)},fixed64:function(){return d.call(this)[t](!0)},sfixed64:function(){return d.call(this)[t](!1)}})}})),vK=H(((e,t)=>{x(),t.exports=i;var r=fA();(i.prototype=Object.create(r.prototype)).constructor=i;var n=ml();function i(e){r.call(this,e)}i._configure=function(){n.Buffer&&(i.prototype._slice=n.Buffer.prototype.slice)},i.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},i._configure()})),wK=H(((e,t)=>{x(),t.exports=n;var r=ml();function n(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(n.prototype=Object.create(r.EventEmitter.prototype)).constructor=n,n.prototype.rpcCall=function e(t,n,i,o,s){if(!o)throw TypeError("request must be specified");var a=this;if(!s)return r.asPromise(e,a,t,n,i,o);if(a.rpcImpl)try{return a.rpcImpl(t,n[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,r){if(e)return a.emit("error",e,t),s(e);if(null!==r){if(!(r instanceof i))try{r=i[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return a.emit("error",e,t),s(e)}return a.emit("data",r,t),s(null,r)}a.end(!0)}))}catch(e){return a.emit("error",e,t),void setTimeout((function(){s(e)}),0)}else setTimeout((function(){s(Error("already ended"))}),0)},n.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}})),MK=H((e=>{x(),e.Service=wK()})),EK=H(((e,t)=>{x(),t.exports={}})),AK=H((e=>{x();var t=e;function r(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader)}t.build="minimal",t.Writer=oA(),t.BufferWriter=uK(),t.Reader=fA(),t.BufferReader=vK(),t.util=ml(),t.rpc=MK(),t.roots=EK(),t.configure=r,r()})),kK=H(((e,t)=>{x(),t.exports=AK()})),cA={};Ht(cA,{identity:()=>K_e});var K_e,CK=er((()=>{x(),aa(),ru(),K_e=bv({prefix:"\0",name:"identity",encode:e=>r6(e),decode:e=>t6(e)})})),dA={};Ht(dA,{base2:()=>G_e});var G_e,NK=er((()=>{x(),aa(),G_e=Yr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})})),pA={};Ht(pA,{base8:()=>Z_e});var Z_e,LK=er((()=>{x(),aa(),Z_e=Yr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})})),mA={};Ht(mA,{base10:()=>Y_e});var Y_e,qK=er((()=>{x(),aa(),Y_e=iu({prefix:"9",name:"base10",alphabet:"0123456789"})})),yA={};Ht(yA,{base16:()=>J_e,base16upper:()=>X_e});var J_e,X_e,jK=er((()=>{x(),aa(),J_e=Yr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),X_e=Yr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})})),gA={};Ht(gA,{base36:()=>Q_e,base36upper:()=>e3e});var Q_e,e3e,UK=er((()=>{x(),aa(),Q_e=iu({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),e3e=iu({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})})),$Ue,HUe,zK=er((()=>{x(),$Ue=new TextEncoder,HUe=new TextDecoder})),S_=er((()=>{x(),bs(),gv(),ru(),Hv(),Kc()})),vA,YUe,FK=er((()=>{x(),CK(),NK(),LK(),qK(),jK(),u6(),UK(),wv(),Ux(),em(),JT(),__(),zK(),S_(),vA={...cA,...dA,...pA,...mA,...yA,...f6,...gA,...a6,...jx},YUe={...RM,...YT}}));function T_(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}var bA=er((()=>{x()}));function HK(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}var $K,wA,r3e,WK,VK=er((()=>{x(),FK(),bA(),$K=HK("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),wA=HK("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{let t=T_((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),r3e={utf8:$K,"utf-8":$K,hex:vA.base16,latin1:wA,ascii:wA,binary:wA,...vA},WK=r3e})),KK={};function i3e(e,t="utf8"){let r=WK[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${e}`):globalThis.Buffer.from(e,"utf8")}Ht(KK,{fromString:()=>i3e});var GK=er((()=>{x(),VK()})),JK=H(((e,t)=>{x();var r=Q6(),{fromString:n}=(GK(),R7(KK)),i=class{constructor(e,t,n=0){this._options=e,this._popCount=0,this._parent=t,this._posAtParent=n,this._children=new r,this.key=null}async put(e,t){let r=await this._findNewBucketAndPos(e);await r.bucket._putAt(r,e,t)}async get(e){let t=await this._findChild(e);if(t)return t.value}async del(e){let t=await this._findPlace(e),r=t.bucket._at(t.pos);r&&r.key===e&&t.bucket._delAt(t.pos)}leafCount(){return this._children.compactArray().reduce(((e,t)=>t instanceof i?e+t.leafCount():e+1),0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){let e=this._children.compactArray();for(let t of e)t instanceof i?yield*t.eachLeafSeries():yield t;return[]}serialize(e,t){return t(this._children.reduce(((r,n,o)=>(n&&(n instanceof i?r.push(n.serialize(e,t)):r.push(e(n,o))),r)),[]))}asyncTransform(e,t){return u(this,e,t)}toJSON(){return this.serialize(s,a)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(e){let t=await this._findPlace(e),r=t.bucket._at(t.pos);if(!(r instanceof i)&&r&&r.key===e)return r}async _findPlace(e){let t=this._options.hash("string"==typeof e?n(e):e),r=await t.take(this._options.bits),o=this._children.get(r);return o instanceof i?o._findPlace(t):{bucket:this,pos:r,hash:t,existingChild:o}}async _findNewBucketAndPos(e){let t=await this._findPlace(e);if(t.existingChild&&t.existingChild.key!==e){let e=new i(this._options,t.bucket,t.pos);t.bucket._putObjectAt(t.pos,e);let r=await e._findPlace(t.existingChild.hash);return r.bucket._putAt(r,t.existingChild.key,t.existingChild.value),e._findNewBucketAndPos(t.hash)}return t}_putAt(e,t,r){this._putObjectAt(e.pos,{key:t,value:r,hash:e.hash})}_putObjectAt(e,t){this._children.get(e)||this._popCount++,this._children.set(e,t)}_delAt(e){if(-1===e)throw new Error("Invalid position");this._children.get(e)&&this._popCount--,this._children.unset(e),this._level()}_level(){if(this._parent&&this._popCount<=1)if(1===this._popCount){let e=this._children.find(o);if(e&&!(e instanceof i)){let t=e.hash;t.untake(this._options.bits);let r={pos:this._posAtParent,hash:t,bucket:this._parent};this._parent._putAt(r,e.key,e.value)}}else this._parent._delAt(this._posAtParent)}_at(e){return this._children.get(e)}};function o(e){return Boolean(e)}function s(e,t){return e.key}function a(e){return e}async function u(e,t,r){let n=[];for(let o of e._children.compactArray())if(o instanceof i)await u(o,t,r);else{let r=await t(o);n.push({bitField:e._children.bitField(),children:r})}return r(n)}t.exports=i})),QK=H(((e,t)=>{x();var r=[255,254,252,248,240,224,192,128],n=[1,3,7,15,31,63,127,255];function i(e,t,i){let o=function(e,t){return r[e]&n[Math.min(t+e-1,7)]}(t,i);return(e&o)>>>t}t.exports=class{constructor(e){this._value=e,this._currentBytePos=e.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+8*this._currentBytePos}totalBits(){return 8*this._value.length}take(e){let t=e,r=0;for(;t&&this._haveBits();){let e=this._value[this._currentBytePos],n=this._currentBitPos+1,o=Math.min(n,t);r=(r<<o)+i(e,n-o,o),t-=o,this._currentBitPos-=o,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return r}untake(e){for(this._currentBitPos+=e;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}}})),eG={};function d3e(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));let r=T_(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return r}Ht(eG,{concat:()=>d3e});var tG=er((()=>{x(),bA()})),rG=H(((e,t)=>{x();var r=QK(),{concat:n}=(tG(),R7(eG)),i=class{constructor(e,t){if(!(e instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=e,this._hashFn=t,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(e){let t=e;for(;this._availableBits<t;)await this._produceMoreBits();let r=0;for(;t>0;){let e=this._buffers[this._currentBufferIndex],n=Math.min(e.availableBits(),t);r=(r<<n)+e.take(n),t-=n,this._availableBits-=n,0===e.availableBits()&&this._currentBufferIndex++}return r}untake(e){let t=e;for(;t>0;){let e=this._buffers[this._currentBufferIndex],r=Math.min(e.totalBits()-e.availableBits(),t);e.untake(r),t-=r,this._availableBits+=r,this._currentBufferIndex>0&&e.totalBits()===e.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;let e=this._depth?n([this._value,Uint8Array.from([this._depth])]):this._value,t=await this._hashFn(e),i=new r(t);this._buffers.push(i),this._availableBits+=i.availableBits()}};t.exports=function(e){return function(t){return t instanceof i?t:new i(t,e)}},t.exports.InfiniteHash=i})),oG=H(((e,t)=>{x();var r=JK(),n=rG();t.exports={createHAMT:function(e){if(!e||!e.hashFn)throw new Error("please define an options.hashFn");let t={bits:e.bits||8,hash:n(e.hashFn)};return new r(t)},Bucket:r}})),SG=H(((e,t)=>{x(),t.exports=async e=>{let t;for await(let r of e)t=r;return t}})),DG=H((e=>{function t(e){for(var t="",r=0;r<e.length;r++){var n=e[r];isNaN(Number(n))||" "===n?"-"!==n&&(t+=n):t+=String(9-Number(n))}return t}x(),e.encode=function(e){if(isNaN(e))return"DaN";if(0===e)return"FE  0M0";if(e===1/0)return"FF";if(e===-1/0)return"DD";var r=e.toExponential().split("e"),n=Number(r[1])+500,i=r[0]+(-1===r[0].indexOf(".")?".":"")+"0".repeat(20),o="E"+function(e,t){return" ".repeat(3-e.length).substr(0,3)+e}(String(n))+"M"+String(i);return e>0?"F"+o:"D"+t(o)},e.decode=function(e){if("DaN"===e)return NaN;if("FF"===e)return 1/0;if("DD"===e)return-1/0;var r="D"===e[0],n=(r?t(e):e).slice(2).split("M");return Number((r?"-":"")+n[1]+"e"+String(Number(n[0])-500))}})),OG=H((e=>{x();var t={"?":"?@","!":"??",'"':"?%"},r={"?@":"?","??":"!","?%":'"'};function n(e){return/\?[%\?@]/.test(e)?e.replace(/\?[%\?@]/g,(function(e){return r[e]})):e}e.factory=function(e){return{encode:r,decode:function(t){if("A"===t)return null;if("K!"===t)return[];for(var r,i=t.split('"'),o=[[]],s=0,a=i.length,u=0;u<a;u++){for(var h=i[u],f=h.length,c=0;"K"==h[c];)c++;for(var l=0;"!"==h[f-l-1];)l++;for(var d=h.slice(c,f-l),p=s+c,y=s;y<p;y++)o[y+1]=[],o[y].push(o[y+1]),r=o[s=p];for(0!==d.length&&r.push(e.decode(n(d))),y=p=s-l;y<s;y++)o[y+1]=[],r=o[s=p]}return o[0][0]}};function r(e){if(null===e)return"A";if(!Array.isArray(e))throw new Error("can only encode arrays");var t=e.length;if(0==t)return"K!";for(var r=i(e[0]),n=1;n<t;n++)r+='"'+i(e[n]);return"K"+r+"!"}function i(n){return"object"==typeof n?r(n):function(e){return/[!"]/.test(e)?e.replace(/[\?!"]/g,(function(e){return t[e]})):e}(e.encode(n))}}})),RA=H((e=>{x();var t=DG(),r=OG();e.flip=function(e){var t=e.toString(),r="";for(var n in t)r+="."==t[n]?".":9-+t[n];return r},e.number=t,e.string={encode:function(e){return/\x00|\x01/.test(e)?"J"+e.replace(/\x01/g,"").replace(/\x00/g,""):"J"+e},decode:function(e){if("J"===e[0])return e.substring(1)}},e.encode=function(t){return e[typeof t].encode(t)},e.decode=function(e){if(""===e)return e;if(!n[e[0]])throw new Error("no decoder for:"+JSON.stringify(e));return n[e[0]](e)},e.object=r.factory(e),e.boolean={encode:function(e){return e?"C":"B"},decode:function(e){return"C"===e}},e.undefined={encode:function(e){return"L"},decode:function(){}};var n={A:e.object.decode,B:e.boolean.decode,C:e.boolean.decode,D:e.number.decode,F:e.number.decode,J:e.string.decode,K:e.object.decode,L:e.undefined.decode};e.buffer=!1,e.type="charwise"})),qG=H(((e,t)=>{function r(e){return!!e&&Object.assign({},e)}x(),t.exports=function(...e){let t=e.reduce(((e,t)=>Object.assign(e,t)),{});return Object.assign(t,{bufferKeys:t.bufferKeys||!1,snapshots:t.snapshots||!1,permanence:t.permanence||!1,seek:t.seek||!1,clear:t.clear||!1,getMany:t.getMany||!1,keyIterator:t.keyIterator||!1,valueIterator:t.valueIterator||!1,iteratorNextv:t.iteratorNextv||!1,iteratorAll:t.iteratorAll||!1,status:t.status||!1,idempotentOpen:t.idempotentOpen||!1,passiveOpen:t.passiveOpen||!1,serialize:t.serialize||!1,createIfMissing:t.createIfMissing||!1,errorIfExists:t.errorIfExists||!1,deferredOpen:t.deferredOpen||!1,openCallback:t.openCallback||!1,promises:t.promises||!1,streams:t.streams||!1,encodings:r(t.encodings),events:r(t.events),additionalMethods:Object.assign({},t.additionalMethods)})}})),UG=H(((e,t)=>{x(),t.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}})),O_=H(((e,t)=>{x();var r=pg();t.exports=function(e,...t){0===t.length?r(e):r((()=>e(...t)))}})),kA=H(((e,t)=>{function r(e){if("object"!=typeof e||null===e)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=e,this._ended=!1,this._nexting=!1}x(),r.prototype.next=function(e){let t=this;if(void 0===e)t=new Promise((function(t,r){e=function(e,n,i){e?r(e):void 0===n&&void 0===i?t():t([n,i])}}));else if("function"!=typeof e)throw new Error("next() requires a callback argument");return this._ended?(this._nextTick(e,new Error("cannot call next() after end()")),t):this._nexting?(this._nextTick(e,new Error("cannot call next() before previous next() has completed")),t):(this._nexting=!0,this._next(((t,...r)=>{this._nexting=!1,e(t,...r)})),t)},r.prototype._next=function(e){this._nextTick(e)},r.prototype.seek=function(e){if(this._ended)throw new Error("cannot call seek() after end()");if(this._nexting)throw new Error("cannot call seek() before next() has completed");e=this.db._serializeKey(e),this._seek(e)},r.prototype._seek=function(e){},r.prototype.end=function(e){let t;if(void 0===e)t=new Promise((function(t,r){e=function(e){e?r(e):t()}}));else if("function"!=typeof e)throw new Error("end() requires a callback argument");return this._ended?(this._nextTick(e,new Error("end() already called on iterator")),t):(this._ended=!0,this._end(e),t)},r.prototype._end=function(e){this._nextTick(e)},r.prototype[Symbol.asyncIterator]=async function*(){try{let e;for(;void 0!==(e=await this.next());)yield e}finally{this._ended||await this.end()}},r.prototype._nextTick=O_(),t.exports=r})),IA=H(((e,t)=>{x();var r=Object.freeze({});function n(e){if("object"!=typeof e||null===e)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=e,this._operations=[],this._written=!1}n.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},n.prototype.put=function(e,t,n){this._checkWritten();let i=this.db._checkKey(e)||this.db._checkValue(t);if(i)throw i;return e=this.db._serializeKey(e),t=this.db._serializeValue(t),this._put(e,t,n??r),this},n.prototype._put=function(e,t,r){this._operations.push({...r,type:"put",key:e,value:t})},n.prototype.del=function(e,t){this._checkWritten();let n=this.db._checkKey(e);if(n)throw n;return e=this.db._serializeKey(e),this._del(e,t??r),this},n.prototype._del=function(e,t){this._operations.push({...t,type:"del",key:e})},n.prototype.clear=function(){return this._checkWritten(),this._clear(),this},n.prototype._clear=function(){this._operations=[]},n.prototype.write=function(e,t){if(this._checkWritten(),"function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("write() requires a callback argument");("object"!=typeof e||null===e)&&(e={}),this._written=!0,this._write(e,t)},n.prototype._write=function(e,t){this.db._batch(this._operations,e,t)},n.prototype._nextTick=O_(),t.exports=n})),DA=H((e=>{x(),e.getCallback=function(e,t){return"function"==typeof e?e:t},e.getOptions=function(e){return"object"==typeof e&&null!==e?e:{}}})),GG=H(((e,t)=>{x();var r=qG(),n=UG(),i=il(),o=kA(),s=IA(),a=DA().getCallback,u=DA().getOptions,h=Object.prototype.hasOwnProperty,f=["lt","lte","gt","gte"];function c(e){this.status="new",this.supports=r(e,{status:!0})}function l(e,t){let r={};for(let n in t){if(!h.call(t,n))continue;if("start"===n||"end"===n)throw new Error('Legacy range options ("start" and "end") have been removed');let i=t[n];d(n)&&(i=e._serializeKey(i)),r[n]=i}return r}function d(e){return-1!==f.indexOf(e)}c.prototype.open=function(e,t){let r=this.status;if("function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("open() requires a callback argument");("object"!=typeof e||null===e)&&(e={}),e.createIfMissing=!1!==e.createIfMissing,e.errorIfExists=!!e.errorIfExists,this.status="opening",this._open(e,(e=>{if(e)return this.status=r,t(e);this.status="open",t()}))},c.prototype._open=function(e,t){this._nextTick(t)},c.prototype.close=function(e){let t=this.status;if("function"!=typeof e)throw new Error("close() requires a callback argument");this.status="closing",this._close((r=>{if(r)return this.status=t,e(r);this.status="closed",e()}))},c.prototype._close=function(e){this._nextTick(e)},c.prototype.get=function(e,t,r){if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("get() requires a callback argument");let n=this._checkKey(e);if(n)return this._nextTick(r,n);e=this._serializeKey(e),("object"!=typeof t||null===t)&&(t={}),t.asBuffer=!1!==t.asBuffer,this._get(e,t,r)},c.prototype._get=function(e,t,r){this._nextTick((function(){r(new Error("NotFound"))}))},c.prototype.getMany=function(e,t,r){if(r=a(t,r),r=i.fromCallback(r),t=u(t),function(e,t){return!e.isOperational()&&(e._nextTick(t,new Error("Database is not open")),!0)}(this,r))return r.promise;if(!Array.isArray(e))return this._nextTick(r,new Error("getMany() requires an array argument")),r.promise;if(0===e.length)return this._nextTick(r,null,[]),r.promise;"boolean"!=typeof t.asBuffer&&(t={...t,asBuffer:!0});let n=new Array(e.length);for(let t=0;t<e.length;t++){let i=e[t],o=this._checkKey(i);if(o)return this._nextTick(r,o),r.promise;n[t]=this._serializeKey(i)}return this._getMany(n,t,r),r.promise},c.prototype._getMany=function(e,t,r){this._nextTick(r,null,new Array(e.length).fill(void 0))},c.prototype.put=function(e,t,r,n){if("function"==typeof r&&(n=r),"function"!=typeof n)throw new Error("put() requires a callback argument");let i=this._checkKey(e)||this._checkValue(t);if(i)return this._nextTick(n,i);e=this._serializeKey(e),t=this._serializeValue(t),("object"!=typeof r||null===r)&&(r={}),this._put(e,t,r,n)},c.prototype._put=function(e,t,r,n){this._nextTick(n)},c.prototype.del=function(e,t,r){if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("del() requires a callback argument");let n=this._checkKey(e);if(n)return this._nextTick(r,n);e=this._serializeKey(e),("object"!=typeof t||null===t)&&(t={}),this._del(e,t,r)},c.prototype._del=function(e,t,r){this._nextTick(r)},c.prototype.batch=function(e,t,r){if(!arguments.length)return this._chainedBatch();if("function"==typeof t&&(r=t),"function"==typeof e&&(r=e),"function"!=typeof r)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(e))return this._nextTick(r,new Error("batch(array) requires an array argument"));if(0===e.length)return this._nextTick(r);("object"!=typeof t||null===t)&&(t={});let n=new Array(e.length);for(let t=0;t<e.length;t++){if("object"!=typeof e[t]||null===e[t])return this._nextTick(r,new Error("batch(array) element must be an object and not `null`"));let i=Object.assign({},e[t]);if("put"!==i.type&&"del"!==i.type)return this._nextTick(r,new Error("`type` must be 'put' or 'del'"));let o=this._checkKey(i.key);if(o)return this._nextTick(r,o);if(i.key=this._serializeKey(i.key),"put"===i.type){let e=this._checkValue(i.value);if(e)return this._nextTick(r,e);i.value=this._serializeValue(i.value)}n[t]=i}this._batch(n,t,r)},c.prototype._batch=function(e,t,r){this._nextTick(r)},c.prototype.clear=function(e,t){if("function"==typeof e)t=e;else if("function"!=typeof t)throw new Error("clear() requires a callback argument");(e=l(this,e)).reverse=!!e.reverse,e.limit="limit"in e?e.limit:-1,this._clear(e,t)},c.prototype._clear=function(e,t){e.keys=!0,e.values=!1,e.keyAsBuffer=!0,e.valueAsBuffer=!0;let r=this._iterator(e),n={},i=e=>{if(e)return r.end((function(){t(e)}));r.next(((e,o)=>e?i(e):void 0===o?r.end(t):void this._del(o,n,i)))};i()},c.prototype._setupIteratorOptions=function(e){return(e=l(this,e)).reverse=!!e.reverse,e.keys=!1!==e.keys,e.values=!1!==e.values,e.limit="limit"in e?e.limit:-1,e.keyAsBuffer=!1!==e.keyAsBuffer,e.valueAsBuffer=!1!==e.valueAsBuffer,e},c.prototype.iterator=function(e){return("object"!=typeof e||null===e)&&(e={}),e=this._setupIteratorOptions(e),this._iterator(e)},c.prototype._iterator=function(e){return new o(this)},c.prototype._chainedBatch=function(){return new s(this)},c.prototype._serializeKey=function(e){return e},c.prototype._serializeValue=function(e){return e},c.prototype._checkKey=function(e){return null==e?new Error("key cannot be `null` or `undefined`"):n(e)&&0===e.length?new Error("key cannot be an empty Buffer"):""===e?new Error("key cannot be an empty String"):Array.isArray(e)&&0===e.length?new Error("key cannot be an empty Array"):void 0},c.prototype._checkValue=function(e){if(null==e)return new Error("value cannot be `null` or `undefined`")},c.prototype.isOperational=function(){return"open"===this.status||this._isOperational()},c.prototype._isOperational=function(){return!1},c.prototype._nextTick=O_(),t.exports=c})),Zf=H((e=>{x(),e.AbstractLevelDOWN=GG(),e.AbstractIterator=kA(),e.AbstractChainedBatch=IA()})),ZG=H((e=>{x();var{Buffer:t}=St();e.utf8=e["utf-8"]={encode:function(e){return n(e)?e:String(e)},decode:r,buffer:!1,type:"utf8"},e.json={encode:JSON.stringify,decode:JSON.parse,buffer:!1,type:"json"},e.binary={encode:function(e){return n(e)?e:t.from(e)},decode:r,buffer:!0,type:"binary"},e.none={encode:r,decode:r,buffer:!1,type:"id"},e.id=e.none;for(let r of["hex","ascii","base64","ucs2","ucs-2","utf16le","utf-16le"])e[r]={encode:function(e){return n(e)?e:t.from(e,r)},decode:function(e){return e.toString(r)},buffer:!0,type:r};function r(e){return e}function n(e){return null==e||t.isBuffer(e)}})),JG=H(((e,t)=>{x();var r=ZG(),n=new Set(["lt","gt","lte","gte"]);function i(e){if(!(this instanceof i))return new i(e);this.opts=e||{},this.encodings=r}t.exports=i,i.prototype._encoding=function(e){return"string"==typeof e&&(e=r[e]),e||(e=r.id),e},i.prototype._keyEncoding=function(e,t){return this._encoding(t&&t.keyEncoding||e&&e.keyEncoding||this.opts.keyEncoding)},i.prototype._valueEncoding=function(e,t){return this._encoding(t&&(t.valueEncoding||t.encoding)||e&&(e.valueEncoding||e.encoding)||this.opts.valueEncoding||this.opts.encoding)},i.prototype.encodeKey=function(e,t,r){return this._keyEncoding(t,r).encode(e)},i.prototype.encodeValue=function(e,t,r){return this._valueEncoding(t,r).encode(e)},i.prototype.decodeKey=function(e,t){return this._keyEncoding(t).decode(e)},i.prototype.decodeValue=function(e,t){return this._valueEncoding(t).decode(e)},i.prototype.encodeBatch=function(e,t){return e.map((e=>{let r={type:e.type,key:this.encodeKey(e.key,t,e)};return this.keyAsBuffer(t,e)&&(r.keyEncoding="binary"),e.prefix&&(r.prefix=e.prefix),"value"in e&&(r.value=this.encodeValue(e.value,t,e),this.valueAsBuffer(t,e)&&(r.valueEncoding="binary")),r}))},i.prototype.encodeLtgt=function(e){let t={};for(let r of Object.keys(e)){if("start"===r||"end"===r)throw new Error('Legacy range options ("start" and "end") have been removed');t[r]=n.has(r)?this.encodeKey(e[r],e):e[r]}return t},i.prototype.createStreamDecoder=function(e){return e.keys&&e.values?(t,r)=>({key:this.decodeKey(t,e),value:this.decodeValue(r,e)}):e.keys?t=>this.decodeKey(t,e):e.values?(t,r)=>this.decodeValue(r,e):function(){}},i.prototype.keyAsBuffer=function(e){return this._keyEncoding(e).buffer},i.prototype.valueAsBuffer=function(e){return this._valueEncoding(e).buffer}})),q_=H(((e,t)=>{function r(e,t){let r=function(t,n){if("object"==typeof t&&null!==t&&(n=n||t,t=t.message||t.name),t=t||"","object"==typeof(n=n||void 0)&&n.type===e&&n.message===t)return n;Object.defineProperty(this,"type",{value:e,enumerable:!1,writable:!0,configurable:!0}),Object.defineProperty(this,"name",{value:e,enumerable:!1,writable:!0,configurable:!0}),Object.defineProperty(this,"cause",{value:n,enumerable:!1,writable:!0,configurable:!0}),Object.defineProperty(this,"message",{value:t,enumerable:!1,writable:!0,configurable:!0}),Error.call(this),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)};return r.prototype=new t,r}x();var n=r("LevelUPError",Error);t.exports={LevelUPError:n,InitializationError:r("InitializationError",n),OpenError:r("OpenError",n),ReadError:r("ReadError",n),WriteError:r("WriteError",n),NotFoundError:r("NotFoundError",n),EncodingError:r("EncodingError",n)},t.exports.NotFoundError.prototype.notFound=!0,t.exports.NotFoundError.prototype.status=404})),rZ=H(((e,t)=>{x();var r=Zf().AbstractLevelDOWN,n=Zf().AbstractChainedBatch,i=Zf().AbstractIterator,o=He(),s=JG(),a=q_().EncodingError,u=["approximateSize","compactRange"];function h(e,t){if(!(this instanceof h))return new h(e,t);let n=e.supports||{},i=n.additionalMethods||{};r.call(this,n),this.supports.encodings=!0,this.supports.additionalMethods={},u.forEach((function(t){let r="function"==typeof e[t];(i[t]||r)&&(this.supports.additionalMethods[t]=!0,this[t]=function(e,r,n,i){return e=this.codec.encodeKey(e,n),r=this.codec.encodeKey(r,n),this.db[t](e,r,n,i)})}),this),typeof(t=t||{}).keyEncoding>"u"&&(t.keyEncoding="utf8"),typeof t.valueEncoding>"u"&&(t.valueEncoding="utf8"),this.db=e,this.codec=new s(t)}function f(e,t){i.call(this,e),this.codec=e.codec,this.keys=t.keys,this.values=t.values,this.opts=this.codec.encodeLtgt(t),this.it=e.db.iterator(this.opts)}function c(e,t){n.call(this,e),this.codec=e.codec,this.batch=e.db.batch()}t.exports=h,o(h,r),h.prototype.type="encoding-down",h.prototype._serializeKey=h.prototype._serializeValue=function(e){return e},h.prototype._open=function(e,t){this.db.open(e,t)},h.prototype._close=function(e){this.db.close(e)},h.prototype._put=function(e,t,r,n){e=this.codec.encodeKey(e,r),t=this.codec.encodeValue(t,r),this.db.put(e,t,r,n)},h.prototype._get=function(e,t,r){e=this.codec.encodeKey(e,t),t.asBuffer=this.codec.valueAsBuffer(t),this.db.get(e,t,((e,n)=>{if(e)return r(e);try{n=this.codec.decodeValue(n,t)}catch(e){return r(new a(e))}r(null,n)}))},h.prototype._getMany=function(e,t,r){e=e.map((e=>this.codec.encodeKey(e,t))),t.asBuffer=this.codec.valueAsBuffer(t),this.db.getMany(e,t,((e,n)=>{if(e)return r(e);let i=new Array(n.length);for(let e=0;e<n.length;e++)if(void 0!==n[e])try{i[e]=this.codec.decodeValue(n[e],t)}catch(e){return r(new a(e))}else i[e]=void 0;r(null,i)}))},h.prototype._del=function(e,t,r){e=this.codec.encodeKey(e,t),this.db.del(e,t,r)},h.prototype._chainedBatch=function(){return new c(this)},h.prototype._batch=function(e,t,r){e=this.codec.encodeBatch(e,t),this.db.batch(e,t,r)},h.prototype._iterator=function(e){return e.keyAsBuffer=this.codec.keyAsBuffer(e),e.valueAsBuffer=this.codec.valueAsBuffer(e),new f(this,e)},h.prototype._clear=function(e,t){e=this.codec.encodeLtgt(e),this.db.clear(e,t)},o(f,i),f.prototype._next=function(e){this.it.next(((t,r,n)=>{if(t)return e(t);try{r=this.keys&&typeof r<"u"?this.codec.decodeKey(r,this.opts):void 0,n=this.values&&typeof n<"u"?this.codec.decodeValue(n,this.opts):void 0}catch(t){return e(new a(t))}e(null,r,n)}))},f.prototype._seek=function(e){e=this.codec.encodeKey(e,this.opts),this.it.seek(e)},f.prototype._end=function(e){this.it.end(e)},o(c,n),c.prototype._put=function(e,t,r){e=this.codec.encodeKey(e,r),t=this.codec.encodeValue(t,r),this.batch.put(e,t)},c.prototype._del=function(e,t){e=this.codec.encodeKey(e,t),this.batch.del(e)},c.prototype._clear=function(){this.batch.clear()},c.prototype._write=function(e,t){this.batch.write(e,t)}})),qA=H((e=>{x(),e.getCallback=function(e,t,r){let n=e[e.length-1];if("function"!=typeof n){let i=new Promise(((t,i)=>{e.push(n=function(e,...n){e?i(e):t(r?r(...n):n[0])})}));n[t]=i}return n}})),fZ=H(((e,t)=>{x();var{AbstractIterator:r}=Zf(),n=He(),i=qA().getCallback,o=Symbol("options"),s=Symbol("iterator"),a=Symbol("operations"),u=Symbol("promise");function h(e,t){r.call(this,e),this[o]=t,this[s]=null,this[a]=[]}n(h,r),h.prototype.setDb=function(e){this[s]=e.iterator(this[o]);for(let e of this[a].splice(0,this[a].length))this[s][e.method](...e.args)},h.prototype.next=function(...e){if("open"===this.db.status)return this[s].next(...e);let t=i(e,u,(function(e,t){if(void 0!==e||void 0!==t)return[e,t]}));return"opening"===this.db.status?this[a].push({method:"next",args:e}):this._nextTick(t,new Error("Database is not open")),t[u]||this},h.prototype.seek=function(...e){if("open"===this.db.status)this[s].seek(...e);else{if("opening"!==this.db.status)throw new Error("Database is not open");this[a].push({method:"seek",args:e})}},h.prototype.end=function(...e){if("open"===this.db.status)return this[s].end(...e);let t=i(e,u);return"opening"===this.db.status?this[a].push({method:"end",args:e}):this._nextTick(t,new Error("Database is not open")),t[u]||this};for(let e of["next","seek","end"])h.prototype["_"+e]=function(){throw new Error("Did not expect private method to be called: "+e)};t.exports=h})),lZ=H(((e,t)=>{x();var{AbstractChainedBatch:r}=Zf(),n=Symbol("operations");t.exports=class extends r{constructor(e){super(e),this[n]=[]}_put(e,t,r){this[n].push({...r,type:"put",key:e,value:t})}_del(e,t){this[n].push({...t,type:"del",key:e})}_clear(){this[n]=[]}_write(e,t){this.db.batch(this[n],e,t)}}})),mZ=H(((e,t)=>{x();var{AbstractLevelDOWN:r}=Zf(),n=He(),i=fZ(),o=lZ(),s=qA().getCallback,a=["put","get","getMany","del","batch","clear"],u=["approximateSize","compactRange"],h=Symbol("innerDb"),f=Symbol("operations"),c=Symbol("promise");function l(e){r.call(this,e.supports||{});for(let t of u)"function"==typeof e[t]&&!this.supports.additionalMethods[t]&&(this.supports.additionalMethods[t]=!0);this[h]=e,this[f]=[],function(e){let t=Object.keys(e.supports.additionalMethods);for(let r of a.concat(t))e[r]=function(...e){if("batch"===r&&0===e.length)return new o(this);if("open"===this.status)return this[h][r](...e);let t=s(e,c);return"opening"===this.status?this[f].push({method:r,args:e}):this._nextTick(t,new Error("Database is not open")),t[c]};e.iterator=function(e){if("open"===this.status)return this[h].iterator(e);if("opening"===this.status){let t=new i(this,e);return this[f].push({iterator:t}),t}throw new Error("Database is not open")};for(let t of a.concat(["iterator"]))e["_"+t]=function(){throw new Error("Did not expect private method to be called: "+t)}}(this)}n(l,r),l.prototype.type="deferred-leveldown",Object.defineProperty(l.prototype,"_db",{enumerable:!0,get(){return this[h]}}),l.prototype._open=function(e,t){let r=e=>{if(e||"open"!==this[h].status)return t(e||new Error("Database is not open"));let r=this[f];this[f]=[];for(let e of r)e.iterator?e.iterator.setDb(this[h]):this[h][e.method](...e.args);if(this[f].length>0)throw new Error("Did not expect further operations");t()};"new"===this[h].status||"closed"===this[h].status?this[h].open(e,r):this._nextTick(r)},l.prototype._close=function(e){this[h].close(e)},l.prototype._isOperational=function(){return"opening"===this.status},t.exports=l,t.exports.DeferredIterator=i})),UA=H(((e,t)=>{x(),t.exports=Gn().EventEmitter})),wZ=H(((e,t)=>{function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}x();var o=St().Buffer,s=Ea().inspect,a=s&&s.custom||"inspect";function u(e,t,r){o.prototype.copy.call(e,t,r)}t.exports=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.head=null,this.tail=null,this.length=0}return function(e,t,r){t&&i(e.prototype,t)}(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t=o.allocUnsafe(e>>>0),r=this.head,n=0;r;)u(r.data,t,n),n+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,s=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,s),0==(e-=s)){s===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(s));break}++n}return this.length-=n,t}},{key:a,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}]),e}()})),$A=H(((e,t)=>{function r(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}x(),t.exports={destroy:function(e,t){var o=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,D.default.nextTick(i,this,e)):D.default.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?o._writableState?o._writableState.errorEmitted?D.default.nextTick(n,o):(o._writableState.errorEmitted=!0,D.default.nextTick(r,o,e)):D.default.nextTick(r,o,e):t?(D.default.nextTick(n,o),t(e)):D.default.nextTick(n,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}})),Sc=H(((e,t)=>{x();var r={};function n(e,t,n){n||(n=Error);var i=function(e){function r(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(r,e),r}(n);i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function i(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,o;if("string"==typeof t&&function(e,t,r){return e.substr(0,t.length)===t}(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))o="The ".concat(e," ").concat(n," ").concat(i(t,"type"));else{var s=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+".".length>e.length)&&-1!==e.indexOf(".",r)}(e)?"property":"argument";o='The "'.concat(e,'" ').concat(s," ").concat(n," ").concat(i(t,"type"))}return o+". Received type ".concat(typeof r)}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=r})),HA=H(((e,t)=>{x();var r=Sc().codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,n,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}})),KA=H(((e,t)=>{function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var n;x(),t.exports=S,S.WritableState=E;var i,o={deprecate:qm()},s=UA(),a=St().Buffer,u=globalThis.Uint8Array||function(){},h=$A(),f=HA().getHighWaterMark,c=Sc().codes,l=c.ERR_INVALID_ARG_TYPE,d=c.ERR_METHOD_NOT_IMPLEMENTED,p=c.ERR_MULTIPLE_CALLBACK,y=c.ERR_STREAM_CANNOT_PIPE,m=c.ERR_STREAM_DESTROYED,g=c.ERR_STREAM_NULL_VALUES,b=c.ERR_STREAM_WRITE_AFTER_END,w=c.ERR_UNKNOWN_ENCODING,v=h.errorOrDestroy;function _(){}function E(e,t,i){n=n||Tc(),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=f(this,e,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new p;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(D.default.nextTick(i,n),D.default.nextTick(I,e,t),e._writableState.errorEmitted=!0,v(e,n)):(i(n),e._writableState.errorEmitted=!0,v(e,n),I(e,t))}(e,r,n,t,i);else{var o=T(r)||e.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&k(e,r),n?D.default.nextTick(A,e,r,o,i):A(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function S(e){var t=this instanceof(n=n||Tc());if(!t&&!i.call(S,this))return new S(e);this._writableState=new E(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function M(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new m("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function A(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),I(e,t)}function k(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,o=new Array(i),s=t.corkedRequestsFree;s.entry=n;for(var a=0,u=!0;n;)o[a]=n,n.isBuf||(u=!1),n=n.next,a+=1;o.allBuffers=u,M(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var h=n.chunk,f=n.encoding,c=n.callback;if(M(e,t,!1,t.objectMode?1:h.length,h,f,c),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function T(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function P(e,t){e._final((function(r){t.pendingcb--,r&&v(e,r),t.prefinished=!0,e.emit("prefinish"),I(e,t)}))}function I(e,t){var r=T(t);if(r&&(function(e,t){!t.prefinished&&!t.finalCalled&&("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,D.default.nextTick(P,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}He()(S,s),E.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(E.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(i=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(e){return!!i.call(this,e)||this===S&&e&&e._writableState instanceof E}})):i=function(e){return e instanceof this},S.prototype.pipe=function(){v(this,new y)},S.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=!n.objectMode&&function(e){return a.isBuffer(e)||e instanceof u}(e);return o&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=_),n.ending?function(e,t){var r=new b;v(e,r),D.default.nextTick(t,r)}(this,r):(o||function(e,t,r,n){var i;return null===r?i=new g:"string"!=typeof r&&!t.objectMode&&(i=new l("chunk",["string","Buffer"],r)),!i||(v(e,i),D.default.nextTick(n,i),!1)}(this,n,e,r))&&(n.pendingcb++,i=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){return!e.objectMode&&!1!==e.decodeStrings&&"string"==typeof t&&(t=a.from(t,r)),t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var u=t.objectMode?1:n.length;t.length+=u;var h=t.length<t.highWaterMark;if(h||(t.needDrain=!0),t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else M(e,t,!1,u,n,i,o);return h}(this,n,o,e,t,r)),i},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&k(this,e))},S.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(e,t,r){r(new d("_write()"))},S.prototype._writev=null,S.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,I(e,t),r&&(t.finished?D.default.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),S.prototype.destroy=h.destroy,S.prototype._undestroy=h.undestroy,S.prototype._destroy=function(e,t){t(e)}})),Tc=H(((e,t)=>{x();var r=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=u;var n,i,o,s=YA(),a=KA();for(He()(u,s),n=r(a.prototype),o=0;o<n.length;o++)i=n[o],u.prototype[i]||(u.prototype[i]=a.prototype[i]);function u(e){if(!(this instanceof u))return new u(e);s.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||D.default.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})})),V_=H(((e,t)=>{x();var r=Sc().codes.ERR_STREAM_PREMATURE_CLOSE;function n(){}t.exports=function e(t,i,o){if("function"==typeof i)return e(t,null,i);i||(i={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||n);var s=i.readable||!1!==i.readable&&t.readable,a=i.writable||!1!==i.writable&&t.writable,u=function(){t.writable||f()},h=t._writableState&&t._writableState.finished,f=function(){a=!1,h=!0,s||o.call(t)},c=t._readableState&&t._readableState.endEmitted,l=function(){s=!1,c=!0,a||o.call(t)},d=function(e){o.call(t,e)},p=function(){var e;return s&&!c?((!t._readableState||!t._readableState.ended)&&(e=new r),o.call(t,e)):a&&!h?((!t._writableState||!t._writableState.ended)&&(e=new r),o.call(t,e)):void 0},y=function(){t.req.on("finish",f)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",f),t.on("abort",p),t.req?y():t.on("request",y)):a&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",l),t.on("finish",f),!1!==i.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",f),t.removeListener("abort",p),t.removeListener("request",y),t.req&&t.req.removeListener("finish",f),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",f),t.removeListener("end",l),t.removeListener("error",d),t.removeListener("close",p)}}})),jZ=H(((e,t)=>{var r;function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}x();var i=V_(),o=Symbol("lastResolve"),s=Symbol("lastReject"),a=Symbol("error"),u=Symbol("ended"),h=Symbol("lastPromise"),f=Symbol("handlePromise"),c=Symbol("stream");function l(e,t){return{value:e,done:t}}function d(e){var t=e[o];if(null!==t){var r=e[c].read();null!==r&&(e[h]=null,e[o]=null,e[s]=null,t(l(r,!1)))}}function p(e){D.default.nextTick(d,e)}var y=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((n(r={get stream(){return this[c]},next:function(){var e=this,t=this[a];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(l(void 0,!0));if(this[c].destroyed)return new Promise((function(t,r){D.default.nextTick((function(){e[a]?r(e[a]):t(l(void 0,!0))}))}));var r,n=this[h];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[u]?r(l(void 0,!0)):t[f](r,n)}),n)}}(n,this));else{var i=this[c].read();if(null!==i)return Promise.resolve(l(i,!1));r=new Promise(this[f])}return this[h]=r,r}},Symbol.asyncIterator,(function(){return this})),n(r,"return",(function(){var e=this;return new Promise((function(t,r){e[c].destroy(null,(function(e){e?r(e):t(l(void 0,!0))}))}))})),r),y);t.exports=function(e){var t,r=Object.create(m,(n(t={},c,{value:e,writable:!0}),n(t,o,{value:null,writable:!0}),n(t,s,{value:null,writable:!0}),n(t,a,{value:null,writable:!0}),n(t,u,{value:e._readableState.endEmitted,writable:!0}),n(t,f,{value:function(e,t){var n=r[c].read();n?(r[h]=null,r[o]=null,r[s]=null,e(l(n,!1))):(r[o]=e,r[s]=t)},writable:!0}),t));return r[h]=null,i(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[s];return null!==t&&(r[h]=null,r[o]=null,r[s]=null,t(e)),void(r[a]=e)}var n=r[o];null!==n&&(r[h]=null,r[o]=null,r[s]=null,n(l(void 0,!0))),r[u]=!0})),e.on("readable",p.bind(null,r)),r}})),zZ=H(((e,t)=>{x(),t.exports=function(){throw new Error("Readable.from is not available in the browser")}})),YA=H(((e,t)=>{var r;x(),t.exports=S,S.ReadableState=E,Gn().EventEmitter;var n,i=function(e,t){return e.listeners(t).length},o=UA(),s=St().Buffer,a=globalThis.Uint8Array||function(){},u=Ea();n=u&&u.debuglog?u.debuglog("stream"):function(){};var h,f,c,l=wZ(),d=$A(),p=HA().getHighWaterMark,y=Sc().codes,m=y.ERR_INVALID_ARG_TYPE,g=y.ERR_STREAM_PUSH_AFTER_EOF,b=y.ERR_METHOD_NOT_IMPLEMENTED,w=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;He()(S,o);var v=d.errorOrDestroy,_=["error","close","destroy","pause","resume"];function E(e,t,n){r=r||Tc(),e=e||{},"boolean"!=typeof n&&(n=t instanceof r),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=p(this,e,"readableHighWaterMark",n),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=Rs().StringDecoder),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function S(e){if(r=r||Tc(),!(this instanceof S))return new S(e);var t=this instanceof r;this._readableState=new E(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function M(e,t,r,i,o){n("readableAddChunk",t);var u,h=e._readableState;if(null===t)h.reading=!1,function(e,t){if(n("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?P(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,I(e)))}}(e,h);else if(o||(u=function(e,t){var r;return!function(e){return s.isBuffer(e)||e instanceof a}(t)&&"string"!=typeof t&&void 0!==t&&!e.objectMode&&(r=new m("chunk",["string","Buffer","Uint8Array"],t)),r}(h,t)),u)v(e,u);else if(h.objectMode||t&&t.length>0)if("string"!=typeof t&&!h.objectMode&&Object.getPrototypeOf(t)!==s.prototype&&(t=function(e){return s.from(e)}(t)),i)h.endEmitted?v(e,new w):A(e,h,t,!0);else if(h.ended)v(e,new g);else{if(h.destroyed)return!1;h.reading=!1,h.decoder&&!r?(t=h.decoder.write(t),h.objectMode||0!==t.length?A(e,h,t,!1):R(e,h)):A(e,h,t,!1)}else i||(h.reading=!1,R(e,h));return!h.ended&&(h.length<h.highWaterMark||0===h.length)}function A(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&P(e)),R(e,t)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=d.destroy,S.prototype._undestroy=d.undestroy,S.prototype._destroy=function(e,t){t(e)},S.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),r=!0),M(this,e,t,!1,r)},S.prototype.unshift=function(e){return M(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(e){h||(h=Rs().StringDecoder);var t=new h(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var k=1073741824;function T(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=k?e=k:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function P(e){var t=e._readableState;n("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(n("emitReadable",t.flowing),t.emittedReadable=!0,D.default.nextTick(I,e))}function I(e){var t=e._readableState;n("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,j(e)}function R(e,t){t.readingMore||(t.readingMore=!0,D.default.nextTick(O,e,t))}function O(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(n("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function B(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function C(e){n("readable nexttick read 0"),e.read(0)}function L(e,t){n("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),j(e),t.flowing&&!t.reading&&e.read(0)}function j(e){var t=e._readableState;for(n("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function U(e){var t=e._readableState;n("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,D.default.nextTick(H,t,e))}function H(e,t){if(n("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function z(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}S.prototype.read=function(e){n("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return n("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):P(this),null;if(0===(e=T(e,t))&&t.ended)return 0===t.length&&U(this),null;var i,o=t.needReadable;return n("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&n("length less than watermark",o=!0),t.ended||t.reading?n("reading or ended",o=!1):o&&(n("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=T(r,t))),null===(i=e>0?N(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&U(this)),null!==i&&this.emit("data",i),i},S.prototype._read=function(e){v(this,new b("_read()"))},S.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,n("pipe count=%d opts=%j",o.pipesCount,t);var s=t&&!1===t.end||e===D.default.stdout||e===D.default.stderr?p:a;function a(){n("onend"),e.end()}o.endEmitted?D.default.nextTick(s):r.once("end",s),e.on("unpipe",(function t(i,s){n("onunpipe"),i===r&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,n("cleanup"),e.removeListener("close",l),e.removeListener("finish",d),e.removeListener("drain",u),e.removeListener("error",c),e.removeListener("unpipe",t),r.removeListener("end",a),r.removeListener("end",p),r.removeListener("data",f),h=!0,o.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&u())}));var u=function(e){return function(){var t=e._readableState;n("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,j(e))}}(r);e.on("drain",u);var h=!1;function f(t){n("ondata");var i=e.write(t);n("dest.write",i),!1===i&&((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==z(o.pipes,e))&&!h&&(n("false write response, pause",o.awaitDrain),o.awaitDrain++),r.pause())}function c(t){n("onerror",t),p(),e.removeListener("error",c),0===i(e,"error")&&v(e,t)}function l(){e.removeListener("finish",d),p()}function d(){n("onfinish"),e.removeListener("close",l),p()}function p(){n("unpipe"),r.unpipe(e)}return r.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",c),e.once("close",l),e.once("finish",d),e.emit("pipe",r),o.flowing||(n("pipe resume"),r.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=z(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},S.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,n("on readable",i.length,i.reading),i.length?P(this):i.reading||D.default.nextTick(C,this)),r},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(e,t){var r=o.prototype.removeListener.call(this,e,t);return"readable"===e&&D.default.nextTick(B,this),r},S.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&D.default.nextTick(B,this),t},S.prototype.resume=function(){var e=this._readableState;return e.flowing||(n("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,D.default.nextTick(L,e,t))}(this,e)),e.paused=!1,this},S.prototype.pause=function(){return n("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(n("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;for(var o in e.on("end",(function(){if(n("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){n("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o||!(r.objectMode||o&&o.length)||t.push(o)||(i=!0,e.pause())})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var s=0;s<_.length;s++)e.on(_[s],this.emit.bind(this,_[s]));return this._read=function(t){n("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=jZ()),f(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),S._fromList=N,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(e,t){return void 0===c&&(c=zZ()),c(S,e,t)})})),a7=H(((e,t)=>{x(),t.exports=h;var r=Sc().codes,n=r.ERR_METHOD_NOT_IMPLEMENTED,i=r.ERR_MULTIPLE_CALLBACK,o=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,a=Tc();function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new i);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function h(e){if(!(this instanceof h))return new h(e);a.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?c(this,null,null):this._flush((function(t,r){c(e,t,r)}))}function c(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new o;return e.push(null)}He()(h,a),h.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},h.prototype._transform=function(e,t,r){r(new n("_transform()"))},h.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},h.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},h.prototype._destroy=function(e,t){a.prototype._destroy.call(this,e,(function(e){t(e)}))}})),rY=H(((e,t)=>{x(),t.exports=n;var r=a7();function n(e){if(!(this instanceof n))return new n(e);r.call(this,e)}He()(n,r),n.prototype._transform=function(e,t,r){r(null,e)}})),aY=H(((e,t)=>{var r;x();var n=Sc().codes,i=n.ERR_MISSING_ARGS,o=n.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function a(e,t,n,i){i=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(i);var s=!1;e.on("close",(function(){s=!0})),void 0===r&&(r=V_()),r(e,{readable:t,writable:n},(function(e){if(e)return i(e);s=!0,i()}));var a=!1;return function(t){if(!s&&!a){if(a=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e))return e.abort();if("function"==typeof e.destroy)return e.destroy();i(t||new o("pipe"))}}}function u(e){e()}function h(e,t){return e.pipe(t)}function f(e){return e.length&&"function"==typeof e[e.length-1]?e.pop():s}t.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new i("streams");var o,s=t.map((function(e,r){var i=r<t.length-1;return a(e,i,r>0,(function(e){o||(o=e),e&&s.forEach(u),!i&&(s.forEach(u),n(o))}))}));return t.reduce(h)}})),uY=H(((e,t)=>{x(),(e=t.exports=YA()).Stream=e,e.Readable=e,e.Writable=KA(),e.Duplex=Tc(),e.Transform=a7(),e.PassThrough=rY(),e.finished=V_(),e.pipeline=aY()})),cY=H(((e,t)=>{x();var r=He(),{Readable:n}=uY();function i(e,t){if(!(this instanceof i))return new i(e,t);t=t||{},n.call(this,Object.assign({},t,{objectMode:!0})),this._iterator=e,this._options=t,this.on("end",this.destroy.bind(this,null,null))}t.exports=i,r(i,n),i.prototype._read=function(){this.destroyed||this._iterator.next(((e,t,r)=>{if(!this.destroyed){if(e)return this.destroy(e);void 0===t&&void 0===r?this.push(null):!1!==this._options.keys&&!1===this._options.values?this.push(t):!1===this._options.keys&&!1!==this._options.values?this.push(r):this.push({key:t,value:r})}}))},i.prototype._destroy=function(e,t){this._iterator.end((function(r){t(e||r)}))}})),Ng=H((e=>{x(),e.getCallback=function(e,t){return"function"==typeof e?e:t},e.getOptions=function(e){return"object"==typeof e&&null!==e?e:{}}})),pY=H(((e,t)=>{x();var r=q_().WriteError,n=il(),i=Ng().getCallback,o=Ng().getOptions;function s(e){this.db=e,this.batch=e.db.batch(),this.ops=[],this.length=0}s.prototype.put=function(e,t,n){try{this.batch.put(e,t,n)}catch(e){throw new r(e)}return this.ops.push({...n,type:"put",key:e,value:t}),this.length++,this},s.prototype.del=function(e,t){try{this.batch.del(e,t)}catch(e){throw new r(e)}return this.ops.push({...t,type:"del",key:e}),this.length++,this},s.prototype.clear=function(){try{this.batch.clear()}catch(e){throw new r(e)}return this.ops=[],this.length=0,this},s.prototype.write=function(e,t){let s=this.db,a=this.ops;t=i(e,t),t=n.fromCallback(t),e=o(e);try{this.batch.write(e,(function(e){if(e)return t(new r(e));s.emit("batch",a),t()}))}catch(e){throw new r(e)}return t.promise},t.exports=s})),gY=H(((e,t)=>{function r(e){return!!e&&Object.assign({},e)}x(),t.exports=function(...e){let t=e.reduce(((e,t)=>Object.assign(e,t)),{});return Object.assign(t,{bufferKeys:t.bufferKeys||!1,snapshots:t.snapshots||!1,permanence:t.permanence||!1,seek:t.seek||!1,clear:t.clear||!1,getMany:t.getMany||!1,keyIterator:t.keyIterator||!1,valueIterator:t.valueIterator||!1,iteratorNextv:t.iteratorNextv||!1,iteratorAll:t.iteratorAll||!1,status:t.status||!1,idempotentOpen:t.idempotentOpen||!1,passiveOpen:t.passiveOpen||!1,serialize:t.serialize||!1,createIfMissing:t.createIfMissing||!1,errorIfExists:t.errorIfExists||!1,deferredOpen:t.deferredOpen||!1,openCallback:t.openCallback||!1,promises:t.promises||!1,streams:t.streams||!1,encodings:r(t.encodings),events:r(t.events),additionalMethods:Object.assign({},t.additionalMethods)})}})),wY=H(((e,t)=>{x();var r=pg();t.exports=function(e,...t){0===t.length?r(e):r((()=>e(...t)))}})),xY=H(((e,t)=>{x();var r=Gn().EventEmitter,n=Ea().inherits,i=mZ(),o=cY(),s=pY(),a=q_(),u=gY(),h=il(),f=Ng().getCallback,c=Ng().getOptions,l=wY(),d=a.WriteError,p=a.ReadError,y=a.NotFoundError,m=a.OpenError,g=a.InitializationError;function b(e,t,n){if(!(this instanceof b))return new b(e,t,n);let i;if(r.call(this),this.setMaxListeners(1/0),"function"==typeof t&&(n=t,t={}),t=t||{},!e||"object"!=typeof e){if(i=new g("First argument must be an abstract-leveldown compliant store"),"function"==typeof n)return l(n,i);throw i}if("string"!=typeof e.status)throw new Error(".status required, old abstract-leveldown");this.options=c(t),this._db=e,this.db=null,this.open(n||(e=>{e&&this.emit("error",e)})),this.supports=u(this.db.supports,{status:!0,deferredOpen:!0,openCallback:!0,promises:!0,streams:!0});for(let e of Object.keys(this.supports.additionalMethods))null==this[e]&&(this[e]=function(...t){return this.db[e](...t)})}function w(e,t){return!e.isOperational()&&(l(t,new p("Database is not open")),!0)}b.prototype.emit=r.prototype.emit,b.prototype.once=r.prototype.once,n(b,r),Object.defineProperty(b.prototype,"status",{enumerable:!0,get(){return this.db.status}}),b.prototype.isOperational=function(){return"open"===this.db.status||"opening"===this.db.status},b.prototype.open=function(e,t){return"function"==typeof e&&(t=e,e=null),t=h.fromCallback(t),e||(e=this.options),this.db&&this.isOpen()?(l(t,null,this),t.promise):this.db&&this._isOpening()?(this.once("open",(()=>{t(null,this)})),t.promise):(this.db=new i(this._db),this.emit("opening"),this.db.open(e,(e=>{if(e)return t(new m(e));this.db=this._db,t(null,this),this.emit("open"),this.emit("ready")})),t.promise)},b.prototype.close=function(e){return e=h.fromCallback(e),this.isOpen()?(this.db.close(((t,...r)=>{this.emit("closed"),e(t,...r)})),this.emit("closing")):this.isClosed()?l(e):"closing"===this.db.status?this.once("closed",e):this._isOpening()&&this.once("open",(()=>{this.close(e)})),e.promise},b.prototype.isOpen=function(){return"open"===this.db.status},b.prototype._isOpening=function(){return"opening"===this.db.status},b.prototype.isClosed=function(){return/^clos|new/.test(this.db.status)},b.prototype.get=function(e,t,r){return r=f(t,r),w(this,r=h.fromCallback(r))||(t=c(t),this.db.get(e,t,(function(t,n){if(t)return t=/notfound/i.test(t)||t.notFound?new y("Key not found in database ["+e+"]",t):new p(t),r(t);r(null,n)}))),r.promise},b.prototype.getMany=function(e,t,r){return this.db.getMany(e,t,r)},b.prototype.put=function(e,t,r,n){return n=f(r,n),w(this,n=h.fromCallback(n))||(r=c(r),this.db.put(e,t,r,(r=>{if(r)return n(new d(r));this.emit("put",e,t),n()}))),n.promise},b.prototype.del=function(e,t,r){return r=f(t,r),w(this,r=h.fromCallback(r))||(t=c(t),this.db.del(e,t,(t=>{if(t)return r(new d(t));this.emit("del",e),r()}))),r.promise},b.prototype.batch=function(e,t,r){return arguments.length?(r="function"==typeof e?e:f(t,r),w(this,r=h.fromCallback(r))||(t=c(t),this.db.batch(e,t,(t=>{if(t)return r(new d(t));this.emit("batch",e),r()}))),r.promise):new s(this)},b.prototype.iterator=function(e){return this.db.iterator(e)},b.prototype.clear=function(e,t){return t=f(e,t),e=c(e),w(this,t=h.fromCallback(t))||this.db.clear(e,(r=>{if(r)return t(new d(r));this.emit("clear",e),t()})),t.promise},b.prototype.readStream=b.prototype.createReadStream=function(e){return"number"!=typeof(e=Object.assign({keys:!0,values:!0},e)).limit&&(e.limit=-1),new o(this.db.iterator(e),e)},b.prototype.keyStream=b.prototype.createKeyStream=function(e){return this.createReadStream(Object.assign({},e,{keys:!0,values:!1}))},b.prototype.valueStream=b.prototype.createValueStream=function(e){return this.createReadStream(Object.assign({},e,{keys:!1,values:!0}))},b.prototype.toString=function(){return"LevelUP"},b.prototype.type="levelup",b.prototype._nextTick=l,b.errors=a,t.exports=b})),SY=H(((e,t)=>{x();var r=null,n=void 0;t.exports=(e,t)=>new Promise(((i,o)=>{if(Array.isArray(e))return o(new Error("token cannot be Array"));if(typeof e>"u"&&(e={}),"string"==typeof e){if(-1===e.indexOf(":"))return i({FIELD:t,VALUE:{GTE:e,LTE:e}});let[r,...n]=e.split(":");return i({FIELD:[r],VALUE:{GTE:n.join(":"),LTE:n.join(":")}})}return"number"==typeof e&&(e={VALUE:{GTE:e,LTE:e}}),null===e.VALUE&&(e.VALUE={GTE:null,LTE:null}),("string"==typeof e.VALUE||"number"==typeof e.VALUE)&&(e.VALUE={GTE:e.VALUE,LTE:e.VALUE}),(typeof e.VALUE>"u"||!Object.keys(e.VALUE).length)&&(e.VALUE={GTE:r,LTE:n}),typeof e.VALUE.GTE>"u"&&(e.VALUE.GTE=r),typeof e.VALUE.LTE>"u"&&(e.VALUE.LTE=n),e.VALUE=Object.assign(e.VALUE,{GTE:e.VALUE.GTE,LTE:e.VALUE.LTE}),typeof e.FIELD>"u"?i(Object.assign(e,{FIELD:t})):(e.FIELD=[e.FIELD].flat(),i(e))}))})),l7=H(((e,t)=>{x();var r=SY(),n=RA();n.LO=null,n.HI=void 0,t.exports=e=>{let t=e=>"string"==typeof e,i=async e=>r(e,await h()),o=async(t,r=(e=>new Promise((t=>t(e)))))=>new Promise((async(n,o)=>{let a=e=>typeof e>"u"?n(void 0):e instanceof Promise?n(e):void 0;try{a(t),t=await i(t),t=await(t=>{let r=t=>e.caseSensitive||"string"!=typeof t?t:t.toLowerCase();return{FIELD:t.FIELD.map(r),VALUE:{GTE:r(t.VALUE.GTE),LTE:r(t.VALUE.LTE)}}})(t),t=await(t=>t.VALUE.GTE===t.VALUE.LTE&&e.stopwords.includes(t.VALUE.GTE)?void 0:t)(t),t=await(t=>typeof t>"u"?u(void 0):t.VALUE.GTE===t.VALUE.LTE&&e.queryReplace&&e.queryReplace[t.VALUE.GTE]?s(e.queryReplace[t.VALUE.GTE].map((e=>({FIELD:t.FIELD,VALUE:{GTE:e,LTE:e}})))).then((e=>e.union)):t)(t),a(t),a(t=await r(t))}catch(e){return o(e)}return Array.isArray(t)?n(t):n(u(t))})),s=async(e,t)=>Promise.all(e.map((e=>o(e,t)))).then((e=>{let t=e.flat(1/0).reduce(((e,t)=>(t&&e.set(t._id,[...e.get(t._id)||[],t._match]),e)),new Map);return{sumTokensMinusStopwords:e.filter((e=>e)).length,union:Array.from(t.keys()).map((e=>({_id:e,_match:t.get(e)})))}})),a=(e,t,r)=>{let i=[];return(void 0!==t||"number"==typeof t)&&i.push(t),r&&i.push(n.HI),["IDX",e,i]},u=t=>new Promise((r=>{if(typeof t>"u")return r(void 0);let n=new Map;return Promise.all(t.FIELD.map((r=>new Promise((i=>e._db.createReadStream({gte:a(r,t.VALUE.GTE),lte:a(r,t.VALUE.LTE,!0),limit:t.LIMIT,reverse:t.REVERSE}).on("data",(e=>e.value.forEach((t=>n.set(t,[...n.get(t)||[],JSON.stringify({FIELD:e.key[1],VALUE:e.key[2][0],SCORE:e.key[2][1]})]))))).on("end",i)))))).then((()=>r(Array.from(n.keys()).map((e=>({_id:e,_match:n.get(e)}))))))})),h=()=>new Promise((t=>{let r=[];e._db.createReadStream({gte:["FIELD",n.LO],lte:["FIELD",n.HI]}).on("data",(e=>r.push(e.value))).on("end",(()=>t(r)))})),f=(e,t)=>t&&0!==t.length?(t=new Set(t.map((e=>e._id))),e.map((e=>Object.assign(e,{_id:[...new Set([...e._id].filter((e=>t.has(e))))]})))):e,c=async e=>i(e).then((e=>o(e).then((t=>Object.assign(e,{_id:[...t.reduce(((e,t)=>e.add(t._id)),new Set)].sort(),VALUE:e.VALUE}))))),l=t=>new Promise(((r,n)=>{let i=[];e._db.createReadStream(t).on("data",(e=>{i.push(e)})).on("end",(()=>r(i)))})),d=(e,t)=>i(e).then((e=>u(Object.assign(e,{LIMIT:1,REVERSE:t})))).then((e=>e.length?JSON.parse(e.pop()._match.pop()).VALUE:null)),p=e=>i(e).then((e=>Promise.all(e.FIELD.map((t=>{let r=e.VALUE.LTE;typeof e.VALUE.LTE<"u"&&"number"!=typeof e.VALUE.LTE&&(r+="");let n=e.VALUE.GTE;return e.VALUE.GTE&&"number"!=typeof e.VALUE.GTE&&(n+=" "),l({gte:a(t,n),lte:a(t,r,!0),keys:!0,values:!1}).then((e=>e.map((e=>({FIELD:e[1],VALUE:e[2][0]})))))}))))).then((e=>e.flat())),y=e=>i(e).then((e=>Promise.all(e.FIELD.map((t=>l({gte:a(t,e.VALUE.GTE),lte:a(t,e.VALUE.LTE,!0)}).then((e=>e.map((e=>({FIELD:e.key[1],VALUE:e.key[2][0],_id:e.value})))))))))).then((e=>e.flat())),m=new Intl.Collator("en",{numeric:!0,sensitivity:"base"});return{AGGREGATE:({BUCKETS:e,FACETS:t,QUERY:r})=>Promise.all([e,t,r]).then((([e=[],t=[],r=[]])=>({BUCKETS:f(e.flat(),r),FACETS:f(t.flat(),r),RESULT:r}))),AGGREGATION_FILTER:f,BUCKET:c,BUCKETS:(...e)=>Promise.all(e.map(c)),CREATED:()=>e._db.get(["~CREATED"]),DISTINCT:(...e)=>Promise.all(e.length?e.map(p):[p({})]).then((e=>[...e.flat().reduce(((e,t)=>e.add(JSON.stringify(t))),new Set)].map(JSON.parse))),EXIST:(...t)=>Promise.all(t.map((t=>e._db.get([e.docExistsSpace,t]).catch((e=>null))))).then((e=>e.reduce(((e,r,n)=>(null!=r&&e.push(t[n]),e)),[]))),EXPORT:l,FACETS:(...e)=>Promise.all(e.length?e.map(y):[y({})]).then((e=>[...e.flat().reduce(((e,t)=>e.add(JSON.stringify(t))),new Set)].map(JSON.parse))),FIELDS:h,GET:o,INTERSECTION:(e,t)=>s(e,t).then((e=>e.union.filter((t=>t._match.length===e.sumTokensMinusStopwords)))),LAST_UPDATED:()=>e._db.get(["~LAST_UPDATED"]),MAX:e=>d(e,!0),MIN:d,OBJECT:t=>Promise.all(t.map((t=>e._db.get(["DOC",t._id]).catch((e=>null))))).then((e=>t.map(((t,r)=>(t._object=e[r],t))))),SET_SUBTRACTION:(e,r)=>Promise.all([t(e)?o(e):e,t(r)?o(r):r]).then((([e,t])=>e.filter((e=>-1===t.map((e=>e._id)).indexOf(e._id))))),SORT:e=>new Promise((t=>t(e.sort(((e,t)=>m.compare(e._id,t._id)))))),UNION:s,parseToken:i}}})),PY=H(((e,t)=>{x();var r=t.exports=function(e){return new n(e)};function n(e){this.value=e}function i(e,t,r){var n=[],i=[],a=!0;return function e(c){var l=r?o(c):c,d={},p=!0,y={node:l,node_:c,path:[].concat(n),parent:i[i.length-1],parents:i,key:n.slice(-1)[0],isRoot:0===n.length,level:n.length,circular:null,update:function(e,t){y.isRoot||(y.parent.node[y.key]=e),y.node=e,t&&(p=!1)},delete:function(e){delete y.parent.node[y.key],e&&(p=!1)},remove:function(e){u(y.parent.node)?y.parent.node.splice(y.key,1):delete y.parent.node[y.key],e&&(p=!1)},keys:null,before:function(e){d.before=e},after:function(e){d.after=e},pre:function(e){d.pre=e},post:function(e){d.post=e},stop:function(){a=!1},block:function(){p=!1}};if(!a)return y;function m(){if("object"==typeof y.node&&null!==y.node){(!y.keys||y.node_!==y.node)&&(y.keys=s(y.node)),y.isLeaf=0==y.keys.length;for(var e=0;e<i.length;e++)if(i[e].node_===c){y.circular=i[e];break}}else y.isLeaf=!0,y.keys=null;y.notLeaf=!y.isLeaf,y.notRoot=!y.isRoot}m();var g=t.call(y,y.node);return void 0!==g&&y.update&&y.update(g),d.before&&d.before.call(y,y.node),p&&("object"==typeof y.node&&null!==y.node&&!y.circular&&(i.push(y),m(),h(y.keys,(function(t,i){n.push(t),d.pre&&d.pre.call(y,y.node[t],t);var o=e(y.node[t]);r&&f.call(y.node,t)&&(y.node[t]=o.node),o.isLast=i==y.keys.length-1,o.isFirst=0==i,d.post&&d.post.call(y,o),n.pop()})),i.pop()),d.after&&d.after.call(y,y.node)),y}(e).node}function o(e){if("object"==typeof e&&null!==e){var t;if(u(e))t=[];else if(function(e){return"[object Date]"===a(e)}(e))t=new Date(e.getTime?e.getTime():e);else if(function(e){return"[object RegExp]"===a(e)}(e))t=new RegExp(e);else if(function(e){return"[object Error]"===a(e)}(e))t={message:e.message};else if(function(e){return"[object Boolean]"===a(e)}(e))t=new Boolean(e);else if(function(e){return"[object Number]"===a(e)}(e))t=new Number(e);else if(function(e){return"[object String]"===a(e)}(e))t=new String(e);else if(Object.create&&Object.getPrototypeOf)t=Object.create(Object.getPrototypeOf(e));else if(e.constructor===Object)t={};else{var r=e.constructor&&e.constructor.prototype||e.__proto__||{},n=function(){};n.prototype=r,t=new n}return h(s(e),(function(r){t[r]=e[r]})),t}return e}n.prototype.get=function(e){for(var t=this.value,r=0;r<e.length;r++){var n=e[r];if(!t||!f.call(t,n)){t=void 0;break}t=t[n]}return t},n.prototype.has=function(e){for(var t=this.value,r=0;r<e.length;r++){var n=e[r];if(!t||!f.call(t,n))return!1;t=t[n]}return!0},n.prototype.set=function(e,t){for(var r=this.value,n=0;n<e.length-1;n++){var i=e[n];f.call(r,i)||(r[i]={}),r=r[i]}return r[e[n]]=t,t},n.prototype.map=function(e){return i(this.value,e,!0)},n.prototype.forEach=function(e){return this.value=i(this.value,e,!1),this.value},n.prototype.reduce=function(e,t){var r=1===arguments.length,n=r?this.value:t;return this.forEach((function(t){(!this.isRoot||!r)&&(n=e.call(this,n,t))})),n},n.prototype.paths=function(){var e=[];return this.forEach((function(t){e.push(this.path)})),e},n.prototype.nodes=function(){var e=[];return this.forEach((function(t){e.push(this.node)})),e},n.prototype.clone=function(){var e=[],t=[];return function r(n){for(var i=0;i<e.length;i++)if(e[i]===n)return t[i];if("object"==typeof n&&null!==n){var a=o(n);return e.push(n),t.push(a),h(s(n),(function(e){a[e]=r(n[e])})),e.pop(),t.pop(),a}return n}(this.value)};var s=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};function a(e){return Object.prototype.toString.call(e)}var u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},h=function(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)};h(s(n.prototype),(function(e){r[e]=function(t){var r=[].slice.call(arguments,1),i=new n(t);return i[e].apply(i,r)}}));var f=Object.hasOwnProperty||function(e,t){return t in e}})),OY=H(((e,t)=>{x();var r=PY(),n=l7();t.exports=e=>{let t=0,i=(t,n)=>{if(null==t._object)return{_id:t._id,keys:[]};let i=[];return r(t._object).forEach((function(t){let r=!0,o=this.path.filter((e=>!Number.isInteger(+e))).join(".");if("_id"===o&&(r=!1),n.doNotIndexField.filter((e=>o.startsWith(e))).length&&(r=!1),this.isLeaf&&e.stopwords.includes((this.node+"").split("#")[0])&&(r=!1),r&&this.isLeaf){let t;try{let e=JSON.parse(this.node);if(!Array.isArray(e))throw new Error;t=JSON.stringify([o,e])}catch{t=JSON.stringify([o,[this.node]])}i.push(e.caseSensitive?t:t.toLowerCase())}})),{_id:t._id,keys:i}},o=(e,t)=>(t.keys.forEach((r=>{e[r]=e[r]||[],e[r].push(t._id)})),e),s=(r,s,a,u,h)=>new Promise((f=>{r=r.map((e=>(e._id=(e=>void 0===e?++t:"string"==typeof e||"number"==typeof e?e:void 0)(e._id),e._object&&(e._object._id=e._id),e))),h=Object.assign(e,h),n(e).EXIST(...r.map((e=>e._id))).then((e=>((e,t,r)=>{let n=Object.keys(e);return Promise.all(n.map((e=>["IDX",...JSON.parse(e)])).map((e=>new Promise(((r,n)=>t.get(e).then(r).catch((e=>r([])))))))).then((t=>t.map(((t,i)=>{let o=new Set(t),s=new Set(e[n[i]]);if("put"===r)return{key:["IDX",...JSON.parse(n[i])],type:r,value:[...new Set([...o,...s])].sort()};if("del"===r){let e=[...new Set([...o].filter((e=>!s.has(e))))];return{key:["IDX",...JSON.parse(n[i])],type:0===e.length?"del":"put",value:e}}return t}))))})(((e,t)=>e.map((e=>i(e,t))).reduce(o,{}))(r,h),s,a).then((t=>s.batch(t.concat(h.storeVectors?((e,t)=>e.map((e=>({key:["DOC",e._id],type:t,value:e._object}))))(r,a):[]).concat((e=>[...new Set(e.map((e=>e.key[1].split(":")[0])))].map((e=>({type:"put",key:["FIELD",e],value:e}))))(t)),(t=>f(r.map((t=>{let r;return"put"===a?r=e.includes(t._id)?"UPDATED":"CREATED":"del"===a&&(r=null===t._object?"FAILED":"DELETED"),{_id:t._id,operation:u,status:r}})))))))))})),a=t=>e._db.put(["~LAST_UPDATED"],Date.now()).then((()=>t));return{DELETE:t=>n(e).OBJECT(t.map((e=>({_id:e})))).then((t=>s(t,e._db,"del","DELETE",{}))).then(a),IMPORT:t=>e._db.clear().then((()=>e._db.batch(t.map((e=>Object.assign(e,{type:"put"})))))),PUT:(t,r={})=>s(t.map((e=>({_id:e._id,_object:e}))),e._db,"put","PUT",r).then(a),TIMESTAMP_CREATED:()=>e._db.get(["~CREATED"]).then().catch((t=>e._db.put(["~CREATED"],Date.now()).then(a))),TIMESTAMP_LAST_UPDATED:a}}})),NY=H(((e,t)=>{x();var r=RA(),n=rZ(),i=xY(),o=l7(),s=OY(),a=e=>typeof e>"u"?void 0:e.map((e=>(e._match=e._match.flat(1/0).map((e=>"string"==typeof e?JSON.parse(e):e)).sort(((e,t)=>e.FIELD<t.FIELD?-1:e.FIELD>t.FIELD?1:e.VALUE<t.VALUE?-1:e.VALUE>t.VALUE?1:e.SCORE<t.SCORE?-1:e.SCORE>t.SCORE?1:0)),e))),u=e=>{let t=o(e),r=s(e);return r.TIMESTAMP_CREATED().then((()=>({AGGREGATION_FILTER:t.AGGREGATION_FILTER,AND:(e,r)=>t.INTERSECTION(e,r).then(a),BUCKET:t.BUCKET,BUCKETS:t.BUCKETS,CREATED:t.CREATED,DELETE:r.DELETE,DISTINCT:t.DISTINCT,EXIST:t.EXIST,EXPORT:t.EXPORT,FACETS:t.FACETS,FIELDS:t.FIELDS,GET:(e,r)=>t.GET(e,r).then(a),IMPORT:r.IMPORT,LAST_UPDATED:t.LAST_UPDATED,MAX:t.MAX,MIN:t.MIN,NOT:(...e)=>t.SET_SUBTRACTION(...e).then(a),OBJECT:t.OBJECT,OR:(e,r)=>t.UNION(e,r).then((e=>e.union)).then(a),PUT:r.PUT,SORT:t.SORT,STORE:e._db,TIMESTAMP_LAST_UPDATED:r.TIMESTAMP_LAST_UPDATED,parseToken:t.parseToken})))};t.exports=e=>((e={})=>new Promise(((t,o)=>(e=Object.assign({name:"fii",tokenAppend:"",caseSensitive:!0,stopwords:[],doNotIndexField:[],storeVectors:!0,docExistsSpace:"DOC"},e),i(n(e.db(e.name),{keyEncoding:r,valueEncoding:"json"}),((r,n)=>r?o(r):t(Object.assign(e,{_db:n}))))))))(e).then(u)})),qY=H((e=>{function t(e){return void 0!==e&&""!==e}function r(e,t){return Object.hasOwnProperty.call(e,t)}function n(e,t){return Object.hasOwnProperty.call(e,t)&&t}x(),e.compare=function(e,t){if(L.Buffer.isBuffer(e)){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){var i=e[n]-t[n];if(i)return i}return e.length-t.length}return e<t?-1:e>t?1:0};var i=e.lowerBoundKey=function(e){return n(e,"gt")||n(e,"gte")||n(e,"min")||(e.reverse?n(e,"end"):n(e,"start"))||void 0},o=e.lowerBound=function(e,t){var r=i(e);return r?e[r]:t},s=e.lowerBoundInclusive=function(e){return!r(e,"gt")},a=e.upperBoundInclusive=function(e){return!r(e,"lt")},u=e.lowerBoundExclusive=function(e){return!s(e)},h=e.upperBoundExclusive=function(e){return!a(e)},f=e.upperBoundKey=function(e){return n(e,"lt")||n(e,"lte")||n(e,"max")||(e.reverse?n(e,"start"):n(e,"end"))||void 0},c=e.upperBound=function(e,t){var r=f(e);return r?e[r]:t};function l(e){return e}e.start=function(e,t){return e.reverse?c(e,t):o(e,t)},e.end=function(e,t){return e.reverse?o(e,t):c(e,t)},e.startInclusive=function(e){return e.reverse?a(e):s(e)},e.endInclusive=function(e){return e.reverse?s(e):a(e)},e.toLtgt=function(t,n,i,o,s){n=n||{},i=i||l;var a=arguments.length>3,u=e.lowerBoundKey(t),h=e.upperBoundKey(t);return u?"gt"===u?n.gt=i(t.gt,!1):n.gte=i(t[u],!1):a&&(n.gte=i(o,!1)),h?"lt"===h?n.lt=i(t.lt,!0):n.lte=i(t[h],!0):a&&(n.lte=i(s,!0)),null!=t.reverse&&(n.reverse=!!t.reverse),r(n,"max")&&delete n.max,r(n,"min")&&delete n.min,r(n,"start")&&delete n.start,r(n,"end")&&delete n.end,n},e.contains=function(r,n,i){i=i||e.compare;var s=o(r);if(t(s)&&((a=i(n,s))<0||0===a&&u(r)))return!1;var a,f=c(r);return!t(f)||!((a=i(n,f))>0||0===a&&h(r))},e.filter=function(t,r){return function(n){return e.contains(t,n,r)}}})),m7=H(((e,t)=>{x();var r=qY(),n=Symbol("none");t.exports=function(e){let t=r.lowerBound(e,n),i=r.upperBound(e,n),o=r.lowerBoundExclusive(e,n),s=r.upperBoundExclusive(e,n);return t!==n&&i!==n?IDBKeyRange.bound(t,i,o,s):t!==n?IDBKeyRange.lowerBound(t,o):i!==n?IDBKeyRange.upperBound(i,s):null}})),y7=H(((e,t)=>{x();var r=St().Buffer,n=function(){if(globalThis.TextDecoder){let e=new TextDecoder("utf-8");return e.decode.bind(e)}return function(e){return o(e).toString()}}(),i=function(){if(globalThis.TextDecoder){let e=new TextDecoder("utf-8");return e.decode.bind(e)}return function(e){return r.from(e).toString()}}();function o(e){let t=r.from(e.buffer);return e.byteLength===e.buffer.byteLength?t:t.slice(e.byteOffset,e.byteOffset+e.byteLength)}t.exports=function(e,t){return e instanceof Uint8Array?t?o(e):n(e):e instanceof ArrayBuffer?t?r.from(e):i(e):t?r.from(String(e)):String(e)}})),WY=H(((e,t)=>{x();var r=He(),n=Zf().AbstractIterator,i=m7(),o=y7(),s=function(){};function a(e,t,r){if(n.call(this,e),this._limit=r.limit,this._count=0,this._callback=null,this._cache=[],this._completed=!1,this._aborted=!1,this._error=null,this._transaction=null,this._keys=r.keys,this._values=r.values,this._keyAsBuffer=r.keyAsBuffer,this._valueAsBuffer=r.valueAsBuffer,0===this._limit)return void(this._completed=!0);let o;try{o=i(r)}catch{return void(this._completed=!0)}this.createIterator(t,o,r.reverse)}t.exports=a,r(a,n),a.prototype.createIterator=function(e,t,r){let n=this.db.db.transaction([e],"readonly");n.objectStore(e).openCursor(t,r?"prev":"next").onsuccess=e=>{let t=e.target.result;t&&this.onItem(t)},this._transaction=n,n.onabort=()=>{this.onAbort(this._transaction.error||new Error("aborted by user"))},n.oncomplete=()=>{this.onComplete()}},a.prototype.onItem=function(e){this._cache.push(e.key,e.value),(this._limit<=0||++this._count<this._limit)&&e.continue(),this.maybeNext()},a.prototype.onAbort=function(e){this._aborted=!0,this._error=e,this.maybeNext()},a.prototype.onComplete=function(){this._completed=!0,this.maybeNext()},a.prototype.maybeNext=function(){this._callback&&(this._next(this._callback),this._callback=null)},a.prototype._next=function(e){if(this._aborted){let t=this._error;this._error=null,this._nextTick(e,t)}else if(this._cache.length>0){let t=this._cache.shift(),r=this._cache.shift();t=this._keys&&void 0!==t?this._deserializeKey(t,this._keyAsBuffer):void 0,r=this._values&&void 0!==r?this._deserializeValue(r,this._valueAsBuffer):void 0,this._nextTick(e,null,t,r)}else this._completed?this._nextTick(e):this._callback=e},a.prototype._deserializeKey=o,a.prototype._deserializeValue=o,a.prototype._end=function(e){if(this._aborted||this._completed)return this._nextTick(e,this._error);this.onItem=s,this.onAbort=e,this.onComplete=e}})),GY=H(((e,t)=>{x();var r=St().Buffer,n=function(){if(globalThis.TextEncoder){let e=new TextEncoder("utf-8");return e.encode.bind(e)}return r.from}();t.exports=function(e,t){return t?r.isBuffer(e)?e:n(String(e)):String(e)}})),ZY=H((e=>{x();var t=St().Buffer;e.test=function(e){return function(t){try{return t.cmp(e,0),!0}catch{return!1}}},e.bufferKeys=e.test(t.alloc(0))})),JY=H(((e,t)=>{x(),t.exports=function(e,t,r,n,i){if(0===n.limit)return e._nextTick(i);let o=e.db.transaction([t],"readwrite"),s=o.objectStore(t),a=0;o.oncomplete=function(){i()},o.onabort=function(){i(o.error||new Error("aborted by user"))};let u=s.openKeyCursor?"openKeyCursor":"openCursor",h=n.reverse?"prev":"next";s[u](r,h).onsuccess=function(e){let t=e.target.result;t&&(s.delete(t.key).onsuccess=function(){(n.limit<=0||++a<n.limit)&&t.continue()})}}})),g7=H(((e,t)=>{x(),t.exports=l;var r=Zf().AbstractLevelDOWN,n=He(),i=jT(),o=WY(),s=GY(),a=y7(),u=ZY(),h=JY(),f=m7(),c="level-js-";function l(e,t){if(!(this instanceof l))return new l(e,t);if(r.call(this,{bufferKeys:u.bufferKeys(indexedDB),snapshots:!0,permanence:!0,clear:!0,getMany:!0}),t=t||{},"string"!=typeof e)throw new Error("constructor requires a location string argument");this.location=e,this.prefix=null==t.prefix?c:t.prefix,this.version=parseInt(t.version||1,10)}n(l,r),l.prototype.type="level-js",l.prototype._open=function(e,t){let r=indexedDB.open(this.prefix+this.location,this.version);r.onerror=function(){t(r.error||new Error("unknown error"))},r.onsuccess=()=>{this.db=r.result,t()},r.onupgradeneeded=e=>{let t=e.target.result;t.objectStoreNames.contains(this.location)||t.createObjectStore(this.location)}},l.prototype.store=function(e){return this.db.transaction([this.location],e).objectStore(this.location)},l.prototype.await=function(e,t){let r=e.transaction;r.onabort=function(){t(r.error||new Error("aborted by user"))},r.oncomplete=function(){t(null,e.result)}},l.prototype._get=function(e,t,r){let n,i=this.store("readonly");try{n=i.get(e)}catch(e){return this._nextTick(r,e)}this.await(n,(function(e,n){return e?r(e):void 0===n?r(new Error("NotFound")):void r(null,a(n,t.asBuffer))}))},l.prototype._getMany=function(e,t,r){let n=t.asBuffer,o=this.store("readonly"),s=e.map((e=>t=>{let r;try{r=o.get(e)}catch(e){return t(e)}r.onsuccess=()=>{let e=r.result;t(null,void 0===e?e:a(e,n))},r.onerror=e=>{e.stopPropagation(),t(r.error)}}));i(s,16,r)},l.prototype._del=function(e,t,r){let n,i=this.store("readwrite");try{n=i.delete(e)}catch(e){return this._nextTick(r,e)}this.await(n,r)},l.prototype._put=function(e,t,r,n){let i,o=this.store("readwrite");try{i=o.put(t,e)}catch(e){return this._nextTick(n,e)}this.await(i,n)},l.prototype._serializeKey=function(e){return s(e,this.supports.bufferKeys)},l.prototype._serializeValue=function(e){return s(e,!0)},l.prototype._iterator=function(e){return new o(this,this.location,e)},l.prototype._batch=function(e,t,r){if(0===e.length)return this._nextTick(r);let n,i=this.store("readwrite"),o=i.transaction,s=0;o.onabort=function(){r(n||o.error||new Error("aborted by user"))},o.oncomplete=function(){r()},function t(){let r,a=e[s++],u=a.key;try{r="del"===a.type?i.delete(u):i.put(a.value,u)}catch(e){return n=e,void o.abort()}s<e.length&&(r.onsuccess=t)}()},l.prototype._clear=function(e,t){let r,n;try{r=f(e)}catch{return this._nextTick(t)}if(e.limit>=0)return h(this,this.location,r,e,t);try{let e=this.store("readwrite");n=r?e.delete(r):e.clear()}catch(e){return this._nextTick(t,e)}this.await(n,t)},l.prototype._close=function(e){this.db.close(),this._nextTick(e)},l.prototype.upgrade=function(e){if("open"!==this.status)return this._nextTick(e,new Error("cannot upgrade() before open()"));let t=this.iterator(),r={},n=this;function i(e){if(e)return s(e);t.next(o)}function o(e,t,o){if(e||void 0===t)return s(e);let u=n._serializeKey(a(t,!0)),h=n._serializeValue(a(o,!0));n._batch([{type:"del",key:t},{type:"put",key:u,value:h}],r,i)}function s(r){t.end((function(t){e(r||t)}))}t._deserializeKey=t._deserializeValue=function(e){return e},i()},l.destroy=function(e,t,r){"function"==typeof t&&(r=t,t=c);let n=indexedDB.deleteDatabase(t+e);n.onsuccess=function(){r()},n.onerror=function(e){r(e)}}})),iJ=H(((e,t)=>{x();var r=NY(),n=g7();t.exports=e=>r(Object.assign({db:n},e))})),oJ=H(((e,t)=>{x(),t.exports=function(e,t){t=Object.assign({},{ngramLengths:[1]},t);let r=e.reduce(((e,r,n,i)=>(t.ngramLengths.forEach((t=>{var o=i.slice(n,n+t);o.length===t&&(r=JSON.stringify(o),e[r]=e[r]||[],e[r].push(n))})),e)),{});return Object.keys(r).map((e=>({term:JSON.parse(e),positions:r[e]}))).sort(((e,t)=>e.term[0]>t.term[0]))}})),aJ=H(((e,t)=>{var r,n;x(),r=e,n=function(e){let t=function(e,t){return e.slice(t-1).map(((r,n)=>e.slice(n,n+t)))};e.ngraminator=function(e,r){return r.reduce(((r,n)=>[...t(e,n),...r]),[]).sort()},Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof e&&typeof t<"u"?n(e):"function"==typeof define&&define.amd?define(["exports"],n):n((r=typeof globalThis<"u"?globalThis:r||self).ngrm={})})),mJ=H((e=>{x();var t=oJ(),{ngraminator:r}=aJ(),n=([e,t,r])=>Promise.resolve([e.match(r.tokenSplitRegex)||[],t,r]),i=([e,t,r])=>[r.skipFields.includes(t)?[]:e,t,r],o=([e,t,r])=>Promise.resolve([e.map((e=>r.caseSensitive?e:e.toLowerCase())),t,r]),s=([e,t,r])=>{let{fields:n,values:i}=r.replace,o=()=>e.reduce(((e,t)=>[t,...e,...i[t]||[]]),[]);return i?n?n.includes(t)?Promise.resolve([o(),t,r]):Promise.resolve([e,t,r]):Promise.resolve([o(),t,r]):Promise.resolve([e,t,r])},a=([e,t,n])=>{let{fields:i,lengths:o,join:s=" "}=n.ngrams;return i||(i=[t]),o&&i.includes(t)?[r(e.filter((e=>null!==e)),o).map((e=>e.join(s))),t,n]:Promise.resolve([e,t,n])},u=([e,t,r])=>[e.filter((e=>!r.stopwords.includes(e.toLowerCase()))),t,r],h=([e,r,n])=>{let i=t(e),o=i.reduce(((e,t)=>Math.max(t.positions.length,e)),0);return Promise.resolve([i.map((e=>JSON.stringify([e.term[0],(e.positions.length/o).toFixed(2)]))).sort(),r,n])};e.SPY=([e,t,r])=>(console.log("----------------"),console.log("field ->"),console.log(t),console.log("tokens ->"),console.log(e),console.log("----------------"),Promise.resolve([e,t,r])),e.tokenizer=(e,t,r)=>n([e,t,r]).then(i).then(o).then(s).then(a).then(u).then(h).then((([e,t,r])=>e)),e.SPLIT=n,e.SKIP=i,e.LOWACASE=o,e.REPLACE=s,e.NGRAMS=a,e.STOPWORDS=u,e.SCORE_TERM_FREQUENCY=h})),gJ=H(((e,t)=>{x(),t.exports=(e,t)=>{let r=t=>new Promise(((r,n)=>{let i=[];e.fii.STORE.createReadStream({gte:["DOC_RAW",null],lte:["DOC_RAW",void 0],limit:t}).on("data",(e=>i.push({_id:e.value._id,_doc:e.value}))).on("end",(()=>r(i)))})),n=(...t)=>t.length?Promise.all(t.map((t=>e.fii.STORE.get(["DOC_RAW",t]).catch((e=>null))))):r(),i=(...t)=>e.fii.DISTINCT(...t).then((e=>[...e.reduce(((e,t)=>e.add(JSON.stringify(Object.assign(t,{VALUE:t.VALUE})))),new Set)].map(JSON.parse))),o=(...t)=>e.fii.FACETS(...t).then((e=>[...e.reduce(((e,t)=>e.add(JSON.stringify(Object.assign(t,{VALUE:t.VALUE})))),new Set)].map(JSON.parse))),s=(e,t)=>{let r=(t=Object.assign({NUMBER:0,SIZE:20},t||{})).NUMBER*t.SIZE,n=r+t.SIZE||void 0;return e.slice(r,n)},a=(e,t={})=>{let r=e=>!t.FIELDS||t.FIELDS.includes(e.FIELD);return"TFIDF"===(t=Object.assign({TYPE:"TFIDF"},t)).TYPE?h().then((t=>e.map(((e,n,i)=>{let o=Math.log((t+1)/i.length);return e._score=+e._match.filter(r).reduce(((e,t)=>e+o*+t.SCORE),0).toFixed(2),e})))):"PRODUCT"===t.TYPE?new Promise((t=>t(e.map((e=>(e._score=+e._match.filter(r).reduce(((e,t)=>e*+t.SCORE),1).toFixed(2),e)))))):"CONCAT"===t.TYPE?new Promise((t=>t(e.map((e=>(e._score=e._match.filter(r).reduce(((e,t)=>e+t.SCORE),""),e)))))):"SUM"===t.TYPE?new Promise((t=>t(e.map((e=>(e._score=+e._match.filter(r).reduce(((e,t)=>e+ +t.SCORE),0).toFixed(2),e)))))):"VALUE"===t.TYPE?new Promise((t=>t(e.map((e=>(e._score=e._match.filter(r).reduce(((e,t)=>e+t.VALUE),""),e)))))):void 0},u=(e,t)=>(t=Object.assign({DIRECTION:"DESCENDING",TYPE:"NUMERIC"},t||{}),e.sort(((e,t)=>e._id<t._id?-1:e._id>t._id?1:0)).sort({NUMERIC:{DESCENDING:(e,t)=>+t._score-+e._score,ASCENDING:(e,t)=>+e._score-+t._score},ALPHABETIC:{DESCENDING:(e,t)=>e._score<t._score?1:e._score>t._score?-1:0,ASCENDING:(e,t)=>e._score<t._score?-1:e._score>t._score?1:0}}[t.TYPE][t.DIRECTION])),h=()=>e.fii.STORE.get(["DOCUMENT_COUNT"]),f=(e,t)=>e.map((e=>(e._match=e._match.map((e=>(t.forEach((t=>{let r=!1;t.FIELD&&t.VALUE?t.FIELD===e.FIELD&&t.VALUE===e.VALUE&&(r=!0):t.FIELD?t.FIELD===e.FIELD&&(r=!0):t.VALUE&&t.VALUE===e.VALUE&&(r=!0),r&&(e.SCORE=(t.WEIGHT*+e.SCORE).toFixed(2))})),e))),e))),c=(t,i={})=>{let h=t=>"string"==typeof t||"number"==typeof t?e.fii.GET(t,i.PIPELINE):t.FIELD||t.VALUE?e.fii.GET(t):t.AND?e.fii.AND(t.AND.map(h),i.PIPELINE):t.GET?e.fii.GET(t.GET,i.PIPELINE):t.NOT?e.fii.NOT(h(t.NOT.INCLUDE),h(t.NOT.EXCLUDE)):t.OR?e.fii.OR(t.OR.map(h),i.PIPELINE):t.ALL_DOCUMENTS?r(t.ALL_DOCUMENTS):void 0;return h(t).then((e=>e.RESULT?Object.assign(e,{RESULT_LENGTH:e.RESULT.length}):{RESULT:e,RESULT_LENGTH:e.length})).then((t=>i.BUCKETS?e.fii.BUCKETS(...i.BUCKETS).then((r=>Object.assign(t,{BUCKETS:e.fii.AGGREGATION_FILTER(r,t.RESULT)}))):t)).then((r=>i.FACETS?r.RESULT.length?t.ALL_DOCUMENTS?o(...i.FACETS).then((e=>Object.assign(r,{FACETS:e}))):o(...i.FACETS).then((t=>Object.assign(r,{FACETS:e.fii.AGGREGATION_FILTER(t,r.RESULT)}))):Object.assign(r,{FACETS:[]}):r)).then((e=>i.WEIGHT?Object.assign({RESULT:f(e.RESULT,i.WEIGHT)},e):e)).then((e=>i.SCORE?a(e.RESULT,i.SCORE).then((t=>Object.assign(e,{RESULT:t}))):e)).then((e=>Object.assign(e,i.SORT?{RESULT:u(e.RESULT,i.SORT)}:{}))).then((e=>Object.assign(e,i.PAGE?{RESULT:s(e.RESULT,i.PAGE)}:{}))).then((e=>i.DOCUMENTS?n(...e.RESULT.map((e=>e._id))).then((t=>Object.assign(e,{RESULT:e.RESULT.map(((e,r)=>Object.assign(e,{_doc:t[r]})))}))):e))},l=(e,r)=>new Promise((n=>(r=JSON.stringify(r),t.has(r)?n(t.get(r)):e.then((e=>t.set(r,e))).then((()=>n(t.get(r)))))));return{ALL_DOCUMENTS:r,DICTIONARY:e=>l((e=>i(e).then((e=>Array.from(e.reduce(((e,t)=>e.add(t.VALUE)),new Set)).sort(((e,t)=>(e+"").localeCompare(t+"",void 0,{numeric:!0,sensitivity:"base"}))))))(e),{DICTIONARY:e||null}),DISTINCT:i,DOCUMENTS:(...e)=>l(n(...e),{DOCUMENTS:e}),DOCUMENT_COUNT:h,FACETS:o,PAGE:s,QUERY:(e,t)=>l(c(e,t),{QUERY:[e,t]}),SCORE:a,SEARCH:(e,t)=>l(((e,t)=>c({AND:[...e]},Object.assign({SCORE:{TYPE:"TFIDF"},SORT:!0},t)))(e,t),{SEARCH:[e,t]}),SORT:u}}})),bJ=H(((e,t)=>{x(),t.exports=e=>{let t=e=>"string"==typeof e||e instanceof String,r=(n,i)=>new Promise((async o=>null===n?o(JSON.stringify([null,"1.00"])):(e=>e&&0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype)(n)?o(JSON.stringify([[],"1.00"])):Number.isInteger(n)?o(JSON.stringify([n,n])):t(n)?o(e.tokenizer(n,i,e)):(e=>"object"==typeof e&&null!==e&&!Array.isArray(e))(n)?o((t=>new Promise((async n=>{let i={};for(let n in t)i[n]=await r(t[n],n,e);return n(i)})))(n)):(e=>Array.isArray(e))(n)?o((e=>Promise.all(e.map(r)))(n)):o(n))),n=async n=>new Promise((async i=>{t(n)&&(n={body:n}),Object.prototype.hasOwnProperty.call(n,"_id")||(n._id=e.idGenerator.next().value);let o={};for(let e in n)o[e]="_id"!==e?await r(n[e],e):n[e];return i(o)}));return{processDocuments:e=>Promise.all(e.map(n))}}})),_J=H(((e,t)=>{x();var r=bJ();t.exports=(e,t,n)=>{let i=t=>e.fii.STORE.get(["DOCUMENT_COUNT"]).then((r=>e.fii.STORE.put(["DOCUMENT_COUNT"],+r+t))).catch((r=>e.fii.STORE.put(["DOCUMENT_COUNT"],t))),o=t=>e.fii.STORE.get(["DOCUMENT_COUNT"]).then((r=>e.fii.STORE.put(["DOCUMENT_COUNT"],+r-t))),s=(r,n,i)=>(t.clear(),Promise.all(r.map(((t,r)=>e.fii.STORE.put(["DOC_RAW",n[r]],i?{}:t)))).then((e=>r.map(((e,t)=>({_id:n[t],status:"OK",operation:"_PUT_RAW"}))))));return{DELETE:(...r)=>(r=>e.fii.DELETE(r).then((r=>{t.clear();let n=r.filter((e=>"DELETED"===e.status));return Promise.all([Promise.all(n.map((t=>e.fii.STORE.del(["DOC_RAW",t._id])))),o(n.length)]).then((()=>r))})))(r),FLUSH:()=>e.fii.STORE.clear().then((()=>{t.clear();let r=Date.now();return e.fii.STORE.batch([{type:"put",key:["~CREATED"],value:r},{type:"put",key:["~LAST_UPDATED"],value:r},{type:"put",key:["DOCUMENT_COUNT"],value:0}])})).then((()=>!0)),IMPORT:r=>(t.clear(),Promise.resolve(e.fii.IMPORT(r))),PUT:(o,a)=>n.add((()=>((n,o)=>(t.clear(),o=Object.assign(e,o),r(e).processDocuments(n).then((t=>e.fii.PUT(t,o).then((t=>Promise.all([s(n,t.map((e=>e._id)),!e.storeRawDocs),i(t.filter((e=>"CREATED"===e.status)).length)]).then((()=>t))))))))(o,a))),PUT_RAW:s,_INCREMENT_DOC_COUNT:i}}})),MJ=H(((e,t)=>{t.exports={name:"search-index",version:"3.1.3",description:"A network resilient, persistent full-text search library for the browser and Node.js",keywords:["search","elasticsearch","elastic","lunr.js","flexsearch","norch","solr"],engines:{node:">=12"},main:"src/node.js",browser:"src/browser.js",files:["dist","src"],directories:{lib:"src"},scripts:{build:"npm run empty-sandbox && rm -rf ./dist/* && webpack && cp dist/search-index-$npm_package_version.js dist/search-index.js","demo-export":"node demo/generate-index/export.js","demo-fetch":"node demo/generate-index/fetch.js","demo-process":"node demo/generate-index/process.js","demo-rebuild":"npm run demo-fetch && npm run demo-process && npm run demo-export && npm run demo-link-lib","demo-start":"http-server -c-1 demo & open-cli http://127.0.0.1:8080","demo-link-lib":"cd demo/lib &&  ln -sf ../../dist/search-index.js && cd ../../","empty-sandbox":"rm -rf fii && rm -rf test/sandbox && mkdir test/sandbox",lint:"standard --fix test/src/* src/* demo/src/* demo/generate-index/*.js",test:"npm run empty-sandbox && npm run test-node && npm run test-browser && npm run lint","test-browser":"npm run build && cat test/sandbox/browser-tests.js | tape-run","test-node":"npm run empty-sandbox && tape test/src/*-test.js",toc:"doctoc docs/API.md --title '# API Documentation for search-index' && doctoc docs/FAQ.md --title '# FAQ'"},repository:{type:"git",url:"git+https://github.com/fergiemcdowall/search-index.git"},author:"Fergus McDowall",license:"MIT",bugs:{url:"https://github.com/fergiemcdowall/search-index/issues"},homepage:"https://fergiemcdowall.github.io/search-index/",devDependencies:{assert:"^2.0.0",doctoc:"^2.2.0",fuzzyset:"1.0.5","http-server":"14.1.0","level-out":"^1.0.1",memdown:"^6.1.1","open-cli":"^7.0.1",path:"^0.12.7","path-browserify":"^1.0.1",process:"^0.11.10",standard:"^17.0.0",stemmer:"^1.0.5",stopword:"^2.0.2","stream-browserify":"^3.0.0",tape:"^5.5.3","tape-run":"^10.0.0",webpack:"^5.72.0","webpack-cli":"^4.9.2","world-bank-dataset":"^1.0.0"},dependencies:{"fergies-inverted-index":"10.0.6","level-js":"^6.1.0",leveldown:"^6.1.1","lru-cache":"^7.9.0",ngraminator:"^3.0.1","p-queue":"^7.2.0","term-vector":"^1.0.0"}}})),EJ=H(((e,t)=>{x();var r=Object.prototype.hasOwnProperty,n="~";function i(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,r,i,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new o(r,i||e,s),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],a]:e._events[u].push(a):(e._events[u]=a,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function u(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),u.prototype.eventNames=function(){var e,t,i=[];if(0===this._eventsCount)return i;for(t in e=this._events)r.call(e,t)&&i.push(n?t.slice(1):t);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},u.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},u.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},u.prototype.emit=function(e,t,r,i,o,s){var a=n?n+e:e;if(!this._events[a])return!1;var u,h,f=this._events[a],c=arguments.length;if(f.fn){switch(f.once&&this.removeListener(e,f.fn,void 0,!0),c){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,t),!0;case 3:return f.fn.call(f.context,t,r),!0;case 4:return f.fn.call(f.context,t,r,i),!0;case 5:return f.fn.call(f.context,t,r,i,o),!0;case 6:return f.fn.call(f.context,t,r,i,o,s),!0}for(h=1,u=new Array(c-1);h<c;h++)u[h-1]=arguments[h];f.fn.apply(f.context,u)}else{var l,d=f.length;for(h=0;h<d;h++)switch(f[h].once&&this.removeListener(e,f[h].fn,void 0,!0),c){case 1:f[h].fn.call(f[h].context);break;case 2:f[h].fn.call(f[h].context,t);break;case 3:f[h].fn.call(f[h].context,t,r);break;case 4:f[h].fn.call(f[h].context,t,r,i);break;default:if(!u)for(l=1,u=new Array(c-1);l<c;l++)u[l-1]=arguments[l];f[h].fn.apply(f[h].context,u)}}return!0},u.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},u.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},u.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn===t&&(!i||s.once)&&(!r||s.context===r)&&a(this,o);else{for(var u=0,h=[],f=s.length;u<f;u++)(s[u].fn!==t||i&&!s[u].once||r&&s[u].context!==r)&&h.push(s[u]);h.length?this._events[o]=1===h.length?h[0]:h:a(this,o)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new i,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,typeof t<"u"&&(t.exports=u)}));function w7(e,t,r,n){let i,o=new Promise(((o,s)=>{if("number"!=typeof t||1!==Math.sign(t))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${t}\``);if(t!==Number.POSITIVE_INFINITY){if((n={customTimers:{setTimeout,clearTimeout},...n}).signal){let{signal:e}=n;e.aborted&&s(TJ(e)),e.addEventListener("abort",(()=>{s(TJ(e))}))}i=n.customTimers.setTimeout.call(void 0,(()=>{if("function"==typeof r){try{o(r())}catch(e){s(e)}return}let n=r instanceof Error?r:new Hg("string"==typeof r?r:`Promise timed out after ${t} milliseconds`);"function"==typeof e.cancel&&e.cancel(),s(n)}),t),(async()=>{try{o(await e)}catch(e){s(e)}finally{n.customTimers.clearTimeout.call(void 0,i)}})()}else o(e)}));return o.clear=()=>{clearTimeout(i),i=void 0},o}var Hg,b7,SJ,TJ,AJ=er((()=>{x(),Hg=class extends Error{constructor(e){super(e),this.name="TimeoutError"}},b7=class extends Error{constructor(e){super(),this.name="AbortError",this.message=e}},SJ=e=>void 0===globalThis.DOMException?new b7(e):new DOMException(e),TJ=e=>{let t=void 0===e.reason?SJ("This operation was aborted."):e.reason;return t instanceof Error?t:SJ(t)}}));function _7(e,t,r){let n=0,i=e.length;for(;i>0;){let o=Math.trunc(i/2),s=n+o;r(e[s],t)<=0?(n=++s,i-=o+1):i=o}return n}var RJ=er((()=>{x()})),Pc,Xf,Wg,kJ=er((()=>{x(),RJ(),Pc=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},Wg=class{constructor(){Xf.set(this,[])}enqueue(e,t){let r={priority:(t={priority:0,...t}).priority,run:e};if(this.size&&Pc(this,Xf,"f")[this.size-1].priority>=t.priority)return void Pc(this,Xf,"f").push(r);let n=_7(Pc(this,Xf,"f"),r,((e,t)=>t.priority-e.priority));Pc(this,Xf,"f").splice(n,0,r)}dequeue(){return Pc(this,Xf,"f").shift()?.run}filter(e){return Pc(this,Xf,"f").filter((t=>t.priority===e.priority)).map((e=>e.run))}get size(){return Pc(this,Xf,"f").length}},Xf=new WeakMap})),LJ={};Ht(LJ,{AbortError:()=>b3,default:()=>w3});var NJ,Zr,We,Mi,Kg,Gg,El,g3,Zg,c3,Qs,Vg,Do,d3,Bo,Yg,xl,p3,IJ,PJ,CJ,DJ,BJ,OJ,m3,M7,x7,v3,y3,rEe,b3,w3,qJ=er((()=>{x(),NJ=wt(EJ(),1),AJ(),kJ(),Zr=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},We=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},rEe=new Hg,b3=class extends Error{},w3=class extends NJ.default{constructor(e){var t,r,n,i;if(super(),Mi.add(this),Kg.set(this,void 0),Gg.set(this,void 0),El.set(this,0),g3.set(this,void 0),Zg.set(this,void 0),c3.set(this,0),Qs.set(this,void 0),Vg.set(this,void 0),Do.set(this,void 0),d3.set(this,void 0),Bo.set(this,0),Yg.set(this,void 0),xl.set(this,void 0),p3.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(e={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:Wg,...e}).intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(r=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==r?r:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(i=null===(n=e.interval)||void 0===n?void 0:n.toString())&&void 0!==i?i:""}\` (${typeof e.interval})`);Zr(this,Kg,e.carryoverConcurrencyCount,"f"),Zr(this,Gg,e.intervalCap===Number.POSITIVE_INFINITY||0===e.interval,"f"),Zr(this,g3,e.intervalCap,"f"),Zr(this,Zg,e.interval,"f"),Zr(this,Do,new e.queueClass,"f"),Zr(this,d3,e.queueClass,"f"),this.concurrency=e.concurrency,this.timeout=e.timeout,Zr(this,p3,!0===e.throwOnTimeout,"f"),Zr(this,xl,!1===e.autoStart,"f")}get concurrency(){return We(this,Yg,"f")}set concurrency(e){if(!("number"==typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);Zr(this,Yg,e,"f"),We(this,Mi,"m",v3).call(this)}async add(e,t={}){return new Promise(((r,n)=>{We(this,Do,"f").enqueue((async()=>{var i,o,s;Zr(this,Bo,(o=We(this,Bo,"f"),++o),"f"),Zr(this,El,(s=We(this,El,"f"),++s),"f");try{if(null!==(i=t.signal)&&void 0!==i&&i.aborted)return void n(new b3("The task was aborted."));let o=await(void 0===this.timeout&&void 0===t.timeout?e({signal:t.signal}):w7(Promise.resolve(e({signal:t.signal})),void 0===t.timeout?this.timeout:t.timeout,(()=>{(void 0===t.throwOnTimeout?We(this,p3,"f"):t.throwOnTimeout)&&n(rEe)})));r(o),this.emit("completed",o)}catch(e){n(e),this.emit("error",e)}We(this,Mi,"m",CJ).call(this)}),t),We(this,Mi,"m",m3).call(this),this.emit("add")}))}async addAll(e,t){return Promise.all(e.map((async e=>this.add(e,t))))}start(){return We(this,xl,"f")?(Zr(this,xl,!1,"f"),We(this,Mi,"m",v3).call(this),this):this}pause(){Zr(this,xl,!0,"f")}clear(){Zr(this,Do,new(We(this,d3,"f")),"f")}async onEmpty(){0!==We(this,Do,"f").size&&await We(this,Mi,"m",y3).call(this,"empty")}async onSizeLessThan(e){We(this,Do,"f").size<e||await We(this,Mi,"m",y3).call(this,"next",(()=>We(this,Do,"f").size<e))}async onIdle(){0===We(this,Bo,"f")&&0===We(this,Do,"f").size||await We(this,Mi,"m",y3).call(this,"idle")}get size(){return We(this,Do,"f").size}sizeBy(e){return We(this,Do,"f").filter(e).length}get pending(){return We(this,Bo,"f")}get isPaused(){return We(this,xl,"f")}},Kg=new WeakMap,Gg=new WeakMap,El=new WeakMap,g3=new WeakMap,Zg=new WeakMap,c3=new WeakMap,Qs=new WeakMap,Vg=new WeakMap,Do=new WeakMap,d3=new WeakMap,Bo=new WeakMap,Yg=new WeakMap,xl=new WeakMap,p3=new WeakMap,Mi=new WeakSet,IJ=function(){return We(this,Gg,"f")||We(this,El,"f")<We(this,g3,"f")},PJ=function(){return We(this,Bo,"f")<We(this,Yg,"f")},CJ=function(){var e;Zr(this,Bo,(e=We(this,Bo,"f"),--e),"f"),We(this,Mi,"m",m3).call(this),this.emit("next")},DJ=function(){this.emit("empty"),0===We(this,Bo,"f")&&this.emit("idle")},BJ=function(){We(this,Mi,"m",x7).call(this),We(this,Mi,"m",M7).call(this),Zr(this,Vg,void 0,"f")},OJ=function(){let e=Date.now();if(void 0===We(this,Qs,"f")){let t=We(this,c3,"f")-e;if(!(t<0))return void 0===We(this,Vg,"f")&&Zr(this,Vg,setTimeout((()=>{We(this,Mi,"m",BJ).call(this)}),t),"f"),!0;Zr(this,El,We(this,Kg,"f")?We(this,Bo,"f"):0,"f")}return!1},m3=function(){if(0===We(this,Do,"f").size)return We(this,Qs,"f")&&clearInterval(We(this,Qs,"f")),Zr(this,Qs,void 0,"f"),We(this,Mi,"m",DJ).call(this),!1;if(!We(this,xl,"f")){let e=!We(this,Mi,"a",OJ);if(We(this,Mi,"a",IJ)&&We(this,Mi,"a",PJ)){let t=We(this,Do,"f").dequeue();return!!t&&(this.emit("active"),t(),e&&We(this,Mi,"m",M7).call(this),!0)}}return!1},M7=function(){We(this,Gg,"f")||void 0!==We(this,Qs,"f")||(Zr(this,Qs,setInterval((()=>{We(this,Mi,"m",x7).call(this)}),We(this,Zg,"f")),"f"),Zr(this,c3,Date.now()+We(this,Zg,"f"),"f"))},x7=function(){0===We(this,El,"f")&&0===We(this,Bo,"f")&&We(this,Qs,"f")&&(clearInterval(We(this,Qs,"f")),Zr(this,Qs,void 0,"f")),Zr(this,El,We(this,Kg,"f")?We(this,Bo,"f"):0,"f"),We(this,Mi,"m",v3).call(this)},v3=function(){for(;We(this,Mi,"m",m3).call(this););},y3=async function(e,t){return new Promise((r=>{let n=()=>{t&&!t()||(this.off(e,n),r())};this.on(e,n)}))}})),zJ=H(((e,t)=>{x();var r=iJ(),n=mJ(),i=i5(),o=gJ(),s=_J(),a=MJ(),u=e=>new Promise((async t=>{let r=new i({max:1e3}),a=new((await Promise.resolve().then((()=>(qJ(),LJ)))).default)({concurrency:1}),u=s(e,r,a),h=o(e,r);return u._INCREMENT_DOC_COUNT(0).then((()=>t({_AND:e.fii.AND,_BUCKET:e.fii.BUCKET,_GET:e.fii.GET,_NOT:e.fii.NOT,_OR:e.fii.OR,_CACHE:r,_PAGE:h.PAGE,_SCORE:h.SCORE,_SEARCH:h.SEARCH,_SORT:h.SORT,DELETE:u.DELETE,FLUSH:u.FLUSH,IMPORT:u.IMPORT,PUT:u.PUT,PUT_RAW:u.PUT_RAW,TOKENIZATION_PIPELINE_STAGES:n,ALL_DOCUMENTS:h.ALL_DOCUMENTS,BUCKETS:e.fii.BUCKETS,CREATED:e.fii.CREATED,DICTIONARY:h.DICTIONARY,DISTINCT:h.DISTINCT,DOCUMENTS:h.DOCUMENTS,DOCUMENT_COUNT:h.DOCUMENT_COUNT,EXPORT:e.fii.EXPORT,FACETS:h.FACETS,FIELDS:e.fii.FIELDS,INDEX:e.fii,LAST_UPDATED:e.fii.LAST_UPDATED,MAX:e.fii.MAX,MIN:e.fii.MIN,QUERY:h.QUERY,SEARCH:h.SEARCH})))}));t.exports=e=>((e={})=>new Promise(((t,i)=>(e=Object.assign({cacheLength:1e3,caseSensitive:!1,docExistsSpace:"DOC_RAW",idGenerator:function*(){let e=0;for(;;)yield Date.now()+"-"+e++}(),skipFields:[],ngrams:{},replace:{},storeRawDocs:!0,stopwords:[],storeVectors:!0,tokenAppend:"#",tokenSplitRegex:/[\p{L}\d]+/gu,tokenizer:n.tokenizer},e),r(e).then((r=>t(Object.assign({fii:r},e))))))))(e).then(u).then((e=>(e=>new Promise(((t,r)=>{let n=["CREATED_WITH"],i="search-index@"+a.version;return e.INDEX.STORE.get(n).then((e=>i===e?t():r(new Error("This index was created with "+e+", you are running "+i)))).catch((r=>e.INDEX.STORE.put(n,i).then(t)))})))(e).then((()=>e))))})),$J=H(((e,t)=>{x();var r=zJ(),n=g7();t.exports=e=>r(Object.assign({db:n},e))}));x(),x();var bp=class{async isTenant(e){return!0}};x();var Zc={};Ht(Zc,{code:()=>xv,decode:()=>ree,encode:()=>tee,name:()=>eee}),x(),x(),x(),x();var DX=["string","number","bigint","symbol"],BX=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function Z7(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";let t=typeof e;return DX.includes(t)?t:"function"===t?"Function":Array.isArray(e)?"Array":OX(e)?"Buffer":CX(e)||"Object"}function OX(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function CX(e){let t=Object.prototype.toString.call(e).slice(8,-1);if(BX.includes(t))return t}x();var Be=class{constructor(e,t,r){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};Be.uint=new Be(0,"uint",!0),Be.negint=new Be(1,"negint",!0),Be.bytes=new Be(2,"bytes",!0),Be.string=new Be(3,"string",!0),Be.array=new Be(4,"array",!1),Be.map=new Be(5,"map",!1),Be.tag=new Be(6,"tag",!1),Be.float=new Be(7,"float",!0),Be.false=new Be(7,"false",!0),Be.true=new Be(7,"true",!0),Be.null=new Be(7,"null",!0),Be.undefined=new Be(7,"undefined",!0),Be.break=new Be(7,"break",!0);var Ue=class{constructor(e,t,r){this.type=e,this.value=t,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};x(),x();var Nc=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,NX=new TextDecoder,LX=new TextEncoder;function ov(e){return Nc&&globalThis.Buffer.isBuffer(e)}function W3(e){return e instanceof Uint8Array?ov(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}var Q7=Nc?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):J7(e,t,r):(e,t,r)=>r-t>64?NX.decode(e.subarray(t,r)):J7(e,t,r),e9=Nc?e=>e.length>64?globalThis.Buffer.from(e):Y7(e):e=>e.length>64?LX.encode(e):Y7(e),oa=e=>Uint8Array.from(e),Lc=Nc?(e,t,r)=>ov(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),t9=Nc?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),W3(globalThis.Buffer.concat(e,t))):(e,t)=>{let r=new Uint8Array(t),n=0;for(let t of e)n+t.length>r.length&&(t=t.subarray(0,r.length-n)),r.set(t,n),n+=t.length;return r},r9=Nc?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function i9(e,t){if(ov(e)&&ov(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function Y7(e,t=1/0){let r,n=e.length,i=null,o=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function J7(e,t,r){let n=[];for(;t<r;){let i=e[t],o=null,s=i>239?4:i>223?3:i>191?2:1;if(t+s<=r){let r,n,a,u;switch(s){case 1:i<128&&(o=i);break;case 2:r=e[t+1],128==(192&r)&&(u=(31&i)<<6|63&r,u>127&&(o=u));break;case 3:r=e[t+1],n=e[t+2],128==(192&r)&&128==(192&n)&&(u=(15&i)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:r=e[t+1],n=e[t+2],a=e[t+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(u=(15&i)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),t+=s}return qX(n)}var X7=4096;function qX(e){let t=e.length;if(t<=X7)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=X7));return r}var jX=256,wp=class{constructor(e=jX){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let r=t.length-(this.maxCursor-this.cursor)-1;t.set(e,r)}else{if(t){let e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=r9(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){let r=this.chunks[0];e&&this.cursor>r.length/2?(t=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=Lc(r,0,this.cursor)}else t=t9(this.chunks,this.cursor);return e&&this.reset(),t}};x();var dt="CBOR decode error:",V3="CBOR encode error:",_p=[];function nf(e,t,r){if(e.length-t<r)throw new Error(`${dt} not enough data for type`)}_p[23]=1,_p[24]=2,_p[25]=3,_p[26]=5,_p[27]=9,x(),x();var Yi=[24,256,65536,4294967296,BigInt("18446744073709551616")];function co(e,t,r){nf(e,t,1);let n=e[t];if(!0===r.strict&&n<Yi[0])throw new Error(`${dt} integer encoded in more bytes than necessary (strict decode)`);return n}function po(e,t,r){nf(e,t,2);let n=e[t]<<8|e[t+1];if(!0===r.strict&&n<Yi[1])throw new Error(`${dt} integer encoded in more bytes than necessary (strict decode)`);return n}function mo(e,t,r){nf(e,t,4);let n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===r.strict&&n<Yi[2])throw new Error(`${dt} integer encoded in more bytes than necessary (strict decode)`);return n}function yo(e,t,r){nf(e,t,8);let n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],i=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],o=(BigInt(n)<<BigInt(32))+BigInt(i);if(!0===r.strict&&o<Yi[3])throw new Error(`${dt} integer encoded in more bytes than necessary (strict decode)`);if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(!0===r.allowBigInt)return o;throw new Error(`${dt} integers outside of the safe integer range are not supported`)}function n9(e,t,r,n){return new Ue(Be.uint,co(e,t+1,n),2)}function o9(e,t,r,n){return new Ue(Be.uint,po(e,t+1,n),3)}function s9(e,t,r,n){return new Ue(Be.uint,mo(e,t+1,n),5)}function a9(e,t,r,n){return new Ue(Be.uint,yo(e,t+1,n),9)}function Co(e,t){return fn(e,0,t.value)}function fn(e,t,r){if(r<Yi[0]){let n=Number(r);e.push([t|n])}else if(r<Yi[1]){let n=Number(r);e.push([24|t,n])}else if(r<Yi[2]){let n=Number(r);e.push([25|t,n>>>8,255&n])}else if(r<Yi[3]){let n=Number(r);e.push([26|t,n>>>24&255,n>>>16&255,n>>>8&255,255&n])}else{let n=BigInt(r);if(!(n<Yi[4]))throw new Error(`${dt} encountered BigInt larger than allowable range`);{let r=[27|t,0,0,0,0,0,0,0],i=Number(n&BigInt(4294967295)),o=Number(n>>BigInt(32)&BigInt(4294967295));r[8]=255&i,i>>=8,r[7]=255&i,i>>=8,r[6]=255&i,i>>=8,r[5]=255&i,r[4]=255&o,o>>=8,r[3]=255&o,o>>=8,r[2]=255&o,o>>=8,r[1]=255&o,e.push(r)}}}function f9(e,t,r,n){return new Ue(Be.negint,-1-co(e,t+1,n),2)}function u9(e,t,r,n){return new Ue(Be.negint,-1-po(e,t+1,n),3)}function l9(e,t,r,n){return new Ue(Be.negint,-1-mo(e,t+1,n),5)}Co.encodedSize=function(e){return fn.encodedSize(e.value)},fn.encodedSize=function(e){return e<Yi[0]?1:e<Yi[1]?2:e<Yi[2]?3:e<Yi[3]?5:9},Co.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0},x();var K3=BigInt(-1),h9=BigInt(1);function c9(e,t,r,n){let i=yo(e,t+1,n);if("bigint"!=typeof i){let e=-1-i;if(e>=Number.MIN_SAFE_INTEGER)return new Ue(Be.negint,e,9)}if(!0!==n.allowBigInt)throw new Error(`${dt} integers outside of the safe integer range are not supported`);return new Ue(Be.negint,K3-BigInt(i),9)}function sv(e,t){let r=t.value,n="bigint"==typeof r?r*K3-h9:-1*r-1;fn(e,t.type.majorEncoded,n)}function Mp(e,t,r,n){nf(e,t,r+n);let i=Lc(e,t+r,t+r+n);return new Ue(Be.bytes,i,r+n)}function d9(e,t,r,n){return Mp(e,t,1,r)}function p9(e,t,r,n){return Mp(e,t,2,co(e,t+1,n))}function m9(e,t,r,n){return Mp(e,t,3,po(e,t+1,n))}function y9(e,t,r,n){return Mp(e,t,5,mo(e,t+1,n))}function g9(e,t,r,n){let i=yo(e,t+1,n);if("bigint"==typeof i)throw new Error(`${dt} 64-bit integer bytes lengths not supported`);return Mp(e,t,9,i)}function av(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===Be.string?e9(e.value):e.value),e.encodedBytes}function qc(e,t){let r=av(t);fn(e,t.type.majorEncoded,r.length),e.push(r)}function zX(e,t){return e.length<t.length?-1:e.length>t.length?1:i9(e,t)}function xp(e,t,r,n,i){let o=r+n;nf(e,t,o);let s=new Ue(Be.string,Q7(e,t+r,t+o),o);return!0===i.retainStringBytes&&(s.byteValue=Lc(e,t+r,t+o)),s}function v9(e,t,r,n){return xp(e,t,1,r,n)}function b9(e,t,r,n){return xp(e,t,2,co(e,t+1,n),n)}function w9(e,t,r,n){return xp(e,t,3,po(e,t+1,n),n)}function _9(e,t,r,n){return xp(e,t,5,mo(e,t+1,n),n)}function M9(e,t,r,n){let i=yo(e,t+1,n);if("bigint"==typeof i)throw new Error(`${dt} 64-bit integer string lengths not supported`);return xp(e,t,9,i,n)}sv.encodedSize=function(e){let t=e.value,r="bigint"==typeof t?t*K3-h9:-1*t-1;return r<Yi[0]?1:r<Yi[1]?2:r<Yi[2]?3:r<Yi[3]?5:9},sv.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},x(),qc.encodedSize=function(e){let t=av(e);return fn.encodedSize(t.length)+t.length},qc.compareTokens=function(e,t){return zX(av(e),av(t))},x();var x9=qc;function jc(e,t,r,n){return new Ue(Be.array,n,r)}function E9(e,t,r,n){return jc(e,t,1,r)}function S9(e,t,r,n){return jc(e,t,2,co(e,t+1,n))}function T9(e,t,r,n){return jc(e,t,3,po(e,t+1,n))}function A9(e,t,r,n){return jc(e,t,5,mo(e,t+1,n))}function R9(e,t,r,n){let i=yo(e,t+1,n);if("bigint"==typeof i)throw new Error(`${dt} 64-bit integer array lengths not supported`);return jc(e,t,9,i)}function k9(e,t,r,n){if(!1===n.allowIndefinite)throw new Error(`${dt} indefinite length items not allowed`);return jc(e,t,1,1/0)}function fv(e,t){fn(e,Be.array.majorEncoded,t.value)}function Uc(e,t,r,n){return new Ue(Be.map,n,r)}function I9(e,t,r,n){return Uc(e,t,1,r)}function P9(e,t,r,n){return Uc(e,t,2,co(e,t+1,n))}function D9(e,t,r,n){return Uc(e,t,3,po(e,t+1,n))}function B9(e,t,r,n){return Uc(e,t,5,mo(e,t+1,n))}function O9(e,t,r,n){let i=yo(e,t+1,n);if("bigint"==typeof i)throw new Error(`${dt} 64-bit integer map lengths not supported`);return Uc(e,t,9,i)}function C9(e,t,r,n){if(!1===n.allowIndefinite)throw new Error(`${dt} indefinite length items not allowed`);return Uc(e,t,1,1/0)}function uv(e,t){fn(e,Be.map.majorEncoded,t.value)}function N9(e,t,r,n){return new Ue(Be.tag,r,1)}function L9(e,t,r,n){return new Ue(Be.tag,co(e,t+1,n),2)}function q9(e,t,r,n){return new Ue(Be.tag,po(e,t+1,n),3)}function j9(e,t,r,n){return new Ue(Be.tag,mo(e,t+1,n),5)}function U9(e,t,r,n){return new Ue(Be.tag,yo(e,t+1,n),9)}function lv(e,t){fn(e,Be.tag.majorEncoded,t.value)}x(),fv.compareTokens=Co.compareTokens,fv.encodedSize=function(e){return fn.encodedSize(e.value)},x(),uv.compareTokens=Co.compareTokens,uv.encodedSize=function(e){return fn.encodedSize(e.value)},x(),lv.compareTokens=Co.compareTokens,lv.encodedSize=function(e){return fn.encodedSize(e.value)},x();var KX=20,GX=21,ZX=22,YX=23;function z9(e,t,r,n){if(!1===n.allowUndefined)throw new Error(`${dt} undefined values are not supported`);return!0===n.coerceUndefinedToNull?new Ue(Be.null,null,1):new Ue(Be.undefined,void 0,1)}function F9(e,t,r,n){if(!1===n.allowIndefinite)throw new Error(`${dt} indefinite length items not allowed`);return new Ue(Be.break,void 0,1)}function G3(e,t,r){if(r){if(!1===r.allowNaN&&Number.isNaN(e))throw new Error(`${dt} NaN values are not supported`);if(!1===r.allowInfinity&&(e===1/0||e===-1/0))throw new Error(`${dt} Infinity values are not supported`)}return new Ue(Be.float,e,t)}function $9(e,t,r,n){return G3(Z3(e,t+1),3,n)}function H9(e,t,r,n){return G3(Y3(e,t+1),5,n)}function W9(e,t,r,n){return G3(Z9(e,t+1),9,n)}function hv(e,t,r){let n=t.value;if(!1===n)e.push([Be.float.majorEncoded|KX]);else if(!0===n)e.push([Be.float.majorEncoded|GX]);else if(null===n)e.push([Be.float.majorEncoded|ZX]);else if(void 0===n)e.push([Be.float.majorEncoded|YX]);else{let t,i=!1;(!r||!0!==r.float64)&&(K9(n),t=Z3(gs,1),n===t||Number.isNaN(n)?(gs[0]=249,e.push(gs.slice(0,3)),i=!0):(G9(n),t=Y3(gs,1),n===t&&(gs[0]=250,e.push(gs.slice(0,5)),i=!0))),i||(JX(n),t=Z9(gs,1),gs[0]=251,e.push(gs.slice(0,9)))}}hv.encodedSize=function(e,t){let r=e.value;if(!1===r||!0===r||null==r)return 1;if(!t||!0!==t.float64){K9(r);let e=Z3(gs,1);if(r===e||Number.isNaN(r))return 3;if(G9(r),e=Y3(gs,1),r===e)return 5}return 9};var V9=new ArrayBuffer(9),No=new DataView(V9,1),gs=new Uint8Array(V9,0);function K9(e){if(e===1/0)No.setUint16(0,31744,!1);else if(e===-1/0)No.setUint16(0,64512,!1);else if(Number.isNaN(e))No.setUint16(0,32256,!1);else{No.setFloat32(0,e);let t=No.getUint32(0),r=(2139095040&t)>>23,n=8388607&t;if(255===r)No.setUint16(0,31744,!1);else if(0===r)No.setUint16(0,(2147483648&e)>>16|n>>13,!1);else{let e=r-127;e<-24?No.setUint16(0,0):e<-14?No.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):No.setUint16(0,(2147483648&t)>>16|e+15<<10|n>>13,!1)}}}function Z3(e,t){if(e.length-t<2)throw new Error(`${dt} not enough data for float16`);let r=(e[t]<<8)+e[t+1];if(31744===r)return 1/0;if(64512===r)return-1/0;if(32256===r)return NaN;let n,i=r>>10&31,o=1023&r;return n=0===i?o*2**-24:31!==i?(o+1024)*2**(i-25):0===o?1/0:NaN,32768&r?-n:n}function G9(e){No.setFloat32(0,e,!1)}function Y3(e,t){if(e.length-t<4)throw new Error(`${dt} not enough data for float32`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function JX(e){No.setFloat64(0,e,!1)}function Z9(e,t){if(e.length-t<8)throw new Error(`${dt} not enough data for float64`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}function tr(e,t,r){throw new Error(`${dt} encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function cv(e){return()=>{throw new Error(`${dt} ${e}`)}}hv.compareTokens=Co.compareTokens;var Le=[];for(let e=0;e<=23;e++)Le[e]=tr;Le[24]=n9,Le[25]=o9,Le[26]=s9,Le[27]=a9,Le[28]=tr,Le[29]=tr,Le[30]=tr,Le[31]=tr;for(let e=32;e<=55;e++)Le[e]=tr;Le[56]=f9,Le[57]=u9,Le[58]=l9,Le[59]=c9,Le[60]=tr,Le[61]=tr,Le[62]=tr,Le[63]=tr;for(let e=64;e<=87;e++)Le[e]=d9;Le[88]=p9,Le[89]=m9,Le[90]=y9,Le[91]=g9,Le[92]=tr,Le[93]=tr,Le[94]=tr,Le[95]=cv("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)Le[e]=v9;Le[120]=b9,Le[121]=w9,Le[122]=_9,Le[123]=M9,Le[124]=tr,Le[125]=tr,Le[126]=tr,Le[127]=cv("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)Le[e]=E9;Le[152]=S9,Le[153]=T9,Le[154]=A9,Le[155]=R9,Le[156]=tr,Le[157]=tr,Le[158]=tr,Le[159]=k9;for(let e=160;e<=183;e++)Le[e]=I9;Le[184]=P9,Le[185]=D9,Le[186]=B9,Le[187]=O9,Le[188]=tr,Le[189]=tr,Le[190]=tr,Le[191]=C9;for(let e=192;e<=215;e++)Le[e]=N9;Le[216]=L9,Le[217]=q9,Le[218]=j9,Le[219]=U9,Le[220]=tr,Le[221]=tr,Le[222]=tr,Le[223]=tr;for(let e=224;e<=243;e++)Le[e]=cv("simple values are not supported");Le[244]=tr,Le[245]=tr,Le[246]=tr,Le[247]=z9,Le[248]=cv("simple values are not supported"),Le[249]=$9,Le[250]=H9,Le[251]=W9,Le[252]=tr,Le[253]=tr,Le[254]=tr,Le[255]=F9;var vs=[];for(let e=0;e<24;e++)vs[e]=new Ue(Be.uint,e,1);for(let e=-1;e>=-24;e--)vs[31-e]=new Ue(Be.negint,e,1);function Y9(e){switch(e.type){case Be.false:return oa([244]);case Be.true:return oa([245]);case Be.null:return oa([246]);case Be.bytes:return e.value.length?void 0:oa([64]);case Be.string:return""===e.value?oa([96]):void 0;case Be.array:return 0===e.value?oa([128]):void 0;case Be.map:return 0===e.value?oa([160]):void 0;case Be.uint:return e.value<24?oa([Number(e.value)]):void 0;case Be.negint:if(e.value>=-24)return oa([31-Number(e.value)])}}vs[64]=new Ue(Be.bytes,new Uint8Array(0),1),vs[96]=new Ue(Be.string,"",1),vs[128]=new Ue(Be.array,0,1),vs[160]=new Ue(Be.map,0,1),vs[244]=new Ue(Be.false,!1,1),vs[245]=new Ue(Be.true,!0,1),vs[246]=new Ue(Be.null,null,1);var QX={float64:!1,mapSorter:rQ,quickEncodeToken:Y9};function eQ(){let e=[];return e[Be.uint.major]=Co,e[Be.negint.major]=sv,e[Be.bytes.major]=qc,e[Be.string.major]=x9,e[Be.array.major]=fv,e[Be.map.major]=uv,e[Be.tag.major]=lv,e[Be.float.major]=hv,e}var J9=eQ(),J3=new wp,zc=class{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error(`${V3} object contains circular references`);return new zc(t,e)}},eu={null:new Ue(Be.null,null),undefined:new Ue(Be.undefined,void 0),true:new Ue(Be.true,!0),false:new Ue(Be.false,!1),emptyArray:new Ue(Be.array,0),emptyMap:new Ue(Be.map,0)},tu={number:(e,t,r,n)=>Number.isInteger(e)&&Number.isSafeInteger(e)?new Ue(e>=0?Be.uint:Be.negint,e):new Ue(Be.float,e),bigint:(e,t,r,n)=>e>=BigInt(0)?new Ue(Be.uint,e):new Ue(Be.negint,e),Uint8Array:(e,t,r,n)=>new Ue(Be.bytes,e),string:(e,t,r,n)=>new Ue(Be.string,e),boolean:(e,t,r,n)=>e?eu.true:eu.false,null:(e,t,r,n)=>eu.null,undefined:(e,t,r,n)=>eu.undefined,ArrayBuffer:(e,t,r,n)=>new Ue(Be.bytes,new Uint8Array(e)),DataView:(e,t,r,n)=>new Ue(Be.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,r,n){if(!e.length)return!0===r.addBreakTokens?[eu.emptyArray,new Ue(Be.break)]:eu.emptyArray;n=zc.createCheck(n,e);let i=[],o=0;for(let t of e)i[o++]=dv(t,r,n);return r.addBreakTokens?[new Ue(Be.array,e.length),i,new Ue(Be.break)]:[new Ue(Be.array,e.length),i]},Object(e,t,r,n){let i="Object"!==t,o=i?e.keys():Object.keys(e),s=i?e.size:o.length;if(!s)return!0===r.addBreakTokens?[eu.emptyMap,new Ue(Be.break)]:eu.emptyMap;n=zc.createCheck(n,e);let a=[],u=0;for(let t of o)a[u++]=[dv(t,r,n),dv(i?e.get(t):e[t],r,n)];return tQ(a,r),r.addBreakTokens?[new Ue(Be.map,s),a,new Ue(Be.break)]:[new Ue(Be.map,s),a]}};tu.Map=tu.Object,tu.Buffer=tu.Uint8Array;for(let e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))tu[`${e}Array`]=tu.DataView;function dv(e,t={},r){let n=Z7(e),i=t&&t.typeEncoders&&t.typeEncoders[n]||tu[n];if("function"==typeof i){let o=i(e,n,t,r);if(null!=o)return o}let o=tu[n];if(!o)throw new Error(`${V3} unsupported type: ${n}`);return o(e,n,t,r)}function tQ(e,t){t.mapSorter&&e.sort(t.mapSorter)}function rQ(e,t){let r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);let i=r.type.major,o=J9[i].compareTokens(r,n);return 0===o&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),o}function X9(e,t,r,n){if(Array.isArray(t))for(let i of t)X9(e,i,r,n);else r[t.type.major](e,t,n)}function iQ(e,t,r){let n=dv(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){let e=r.quickEncodeToken(n);if(e)return e;let i=t[n.type.major];if(i.encodedSize){let e=i.encodedSize(n,r),t=new wp(e);if(i(t,n,r),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return W3(t.chunks[0])}}return J3.reset(),X9(J3,n,t,r),J3.toBytes(!0)}function pv(e,t){return t=Object.assign({},QX,t),iQ(e,J9,t)}x();var nQ={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},X3=class{constructor(e,t={}){this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){let e=this.data[this.pos],t=vs[e];if(void 0===t){let r=Le[e];if(!r)throw new Error(`${dt} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);let n=31&e;t=r(this.data,this.pos,n,this.options)}return this.pos+=t.encodedLength,t}},Ep=Symbol.for("DONE"),mv=Symbol.for("BREAK");function oQ(e,t,r){let n=[];for(let i=0;i<e.value;i++){let o=Sp(t,r);if(o===mv){if(e.value===1/0)break;throw new Error(`${dt} got unexpected break to lengthed array`)}if(o===Ep)throw new Error(`${dt} found array but not enough entries (got ${i}, expected ${e.value})`);n[i]=o}return n}function sQ(e,t,r){let n=!0===r.useMaps,i=n?void 0:{},o=n?new Map:void 0;for(let s=0;s<e.value;s++){let a=Sp(t,r);if(a===mv){if(e.value===1/0)break;throw new Error(`${dt} got unexpected break to lengthed map`)}if(a===Ep)throw new Error(`${dt} found map but not enough entries (got ${s} [no key], expected ${e.value})`);if(!0!==n&&"string"!=typeof a)throw new Error(`${dt} non-string keys not supported (got ${typeof a})`);let u=Sp(t,r);if(u===Ep)throw new Error(`${dt} found map but not enough entries (got ${s} [no value], expected ${e.value})`);n?o.set(a,u):i[a]=u}return n?o:i}function Sp(e,t){if(e.done())return Ep;let r=e.next();if(r.type===Be.break)return mv;if(r.type.terminal)return r.value;if(r.type===Be.array)return oQ(r,e,t);if(r.type===Be.map)return sQ(r,e,t);if(r.type===Be.tag){if(t.tags&&"function"==typeof t.tags[r.value]){let n=Sp(e,t);return t.tags[r.value](n)}throw new Error(`${dt} tag not supported (${r.value})`)}throw new Error("unsupported")}function Tp(e,t){if(!(e instanceof Uint8Array))throw new Error(`${dt} data to decode must be a Uint8Array`);let r=(t=Object.assign({},nQ,t)).tokenizer||new X3(e,t),n=Sp(r,t);if(n===Ep)throw new Error(`${dt} did not find any content to decode`);if(n===mv)throw new Error(`${dt} got unexpected break`);if(!r.done())throw new Error(`${dt} too many terminals, data makes no sense`);return n}bs();var hR=42;function ZQ(e){if(e.asCID!==e)return null;let t=Xe.asCID(e);if(!t)return null;let r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new Ue(Be.tag,hR),new Ue(Be.bytes,r)]}function YQ(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function JQ(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}var XQ={float64:!0,typeEncoders:{Object:ZQ,undefined:YQ,number:JQ}};function QQ(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return Xe.decode(e.subarray(1))}var cR={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};cR.tags[hR]=QQ;var eee="dag-cbor",xv=113,tee=e=>pv(e,XQ),ree=e=>Tp(e,cR);async function*Yc(e,t=1){let r=[];t<1&&(t=1);for await(let n of e)for(r.push(n);r.length>=t;)yield r.slice(0,t),r=r.slice(t);for(;r.length>0;)yield r.slice(0,t),r=r.slice(t)}async function*Ip(e,t=1){for await(let r of Yc(e,t)){let e=r.map((async e=>await e().then((e=>({ok:!0,value:e})),(e=>({ok:!1,err:e})))));for(let t=0;t<e.length;t++){let r=await e[t];if(!r.ok)throw r.err;yield r.value}}}bs(),x(),x(),x(),x(),x(),x();var O6=wt(Fn(),1);x(),x(),x(),x();var k6=wt(_6(),1),GR=wt(UR(),1),ZR=wt(Cl(),1),I6=wt(R6(),1),YR=wt(KR(),1);function cee(){ZR.default._configure(),k6.default._configure(GR.default),I6.default._configure(YR.default)}cee();var JR=["uint64","int64","sint64","fixed64","sfixed64"],Xc,t,Ms,kv,XR;function dee(e){for(let t of JR){if(null==e[t])continue;let r=e[t];e[t]=function(){return BigInt(r.call(this).toString())}}return e}function P6(e){return dee(new k6.default(e))}function pee(e){for(let t of JR){if(null==e[t])continue;let r=e[t];e[t]=function(e){return r.call(this,e.toString())}}return e}function D6(){return pee(I6.default.create())}function Bp(e,t){let r=P6(e instanceof Uint8Array?e:e.subarray());return t.decode(r)}function Op(e,t){let r=D6();return t.encode(e,r,{lengthDelimited:!1}),r.finish()}function Rv(e,t,r,n){return{name:e,type:t,encode:r,decode:n}}function B6(e){function t(t){if(null==e[t.toString()])throw new Error("Invalid enum value");return e[t]}return Rv("enum",Xc.VARINT,(function(e,r){let n=t(e);r.int32(n)}),(function(e){return t(e.int32())}))}function Cp(e,t){return Rv("message",Xc.LENGTH_DELIMITED,e,t)}x(),x(),x(),t=Xc||(Xc={}),t[t.VARINT=0]="VARINT",t[t.BIT64=1]="BIT64",t[t.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",t[t.START_GROUP=3]="START_GROUP",t[t.END_GROUP=4]="END_GROUP",t[t.BIT32=5]="BIT32",x(),function(e){let t;var r;let n,i;(r=t=e.DataType||(e.DataType={})).Raw="Raw",r.Directory="Directory",r.File="File",r.Metadata="Metadata",r.Symlink="Symlink",r.HAMTShard="HAMTShard",function(e){e[e.Raw=0]="Raw",e[e.Directory=1]="Directory",e[e.File=2]="File",e[e.Metadata=3]="Metadata",e[e.Symlink=4]="Symlink",e[e.HAMTShard=5]="HAMTShard"}(n||(n={})),function(e){e.codec=()=>B6(n)}(t=e.DataType||(e.DataType={})),e.codec=()=>(null==i&&(i=Cp(((t,r,n={})=>{if(!1!==n.lengthDelimited&&r.fork(),null!=t.Type&&(r.uint32(8),e.DataType.codec().encode(t.Type,r)),null!=t.Data&&(r.uint32(18),r.bytes(t.Data)),null!=t.filesize&&(r.uint32(24),r.uint64(t.filesize)),null!=t.blocksizes)for(let e of t.blocksizes)r.uint32(32),r.uint64(e);null!=t.hashType&&(r.uint32(40),r.uint64(t.hashType)),null!=t.fanout&&(r.uint32(48),r.uint64(t.fanout)),null!=t.mode&&(r.uint32(56),r.uint32(t.mode)),null!=t.mtime&&(r.uint32(66),kv.codec().encode(t.mtime,r)),!1!==n.lengthDelimited&&r.ldelim()}),((t,r)=>{let n={blocksizes:[]},i=null==r?t.len:t.pos+r;for(;t.pos<i;){let r=t.uint32();switch(r>>>3){case 1:n.Type=e.DataType.codec().decode(t);break;case 2:n.Data=t.bytes();break;case 3:n.filesize=t.uint64();break;case 4:n.blocksizes.push(t.uint64());break;case 5:n.hashType=t.uint64();break;case 6:n.fanout=t.uint64();break;case 7:n.mode=t.uint32();break;case 8:n.mtime=kv.codec().decode(t,t.uint32());break;default:t.skipType(7&r)}}return n}))),i),e.encode=t=>Op(t,e.codec()),e.decode=t=>Bp(t,e.codec())}(Ms||(Ms={})),function(e){let t;e.codec=()=>(null==t&&(t=Cp(((e,t,r={})=>{!1!==r.lengthDelimited&&t.fork(),null!=e.Seconds&&(t.uint32(8),t.int64(e.Seconds)),null!=e.FractionalNanoseconds&&(t.uint32(21),t.fixed32(e.FractionalNanoseconds)),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{let r={},n=null==t?e.len:e.pos+t;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.Seconds=e.int64();break;case 2:r.FractionalNanoseconds=e.fixed32();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>Op(t,e.codec()),e.decode=t=>Bp(t,e.codec())}(kv||(kv={})),function(e){let t;e.codec=()=>(null==t&&(t=Cp(((e,t,r={})=>{!1!==r.lengthDelimited&&t.fork(),null!=e.MimeType&&(t.uint32(10),t.string(e.MimeType)),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{let r={},n=null==t?e.len:e.pos+t;for(;e.pos<n;){let t=e.uint32();t>>>3==1?r.MimeType=e.string():e.skipType(7&t)}return r}))),t),e.encode=t=>Op(t,e.codec()),e.decode=t=>Bp(t,e.codec())}(XR||(XR={}));var QR={Raw:"raw",Directory:"directory",File:"file",Metadata:"metadata",Symlink:"symlink",HAMTShard:"hamt-sharded-directory"},mee=["directory","hamt-sharded-directory"],ek=parseInt("0644",8),tk=parseInt("0755",8),Rn=class{static unmarshal(e){let t=Ms.decode(e),r=new Rn({type:QR[null!=t.Type?t.Type.toString():"File"],data:t.Data,blockSizes:t.blocksizes,mode:t.mode,mtime:null!=t.mtime?{secs:t.mtime.Seconds??0n,nsecs:t.mtime.FractionalNanoseconds}:void 0});return r._originalMode=t.mode??0,r}constructor(e={type:"file"}){let{type:t,data:r,blockSizes:n,hashType:i,fanout:o,mtime:s,mode:a}=e;if(null!=t&&!Object.values(QR).includes(t))throw(0,O6.default)(new Error("Type: "+t+" is not valid"),"ERR_INVALID_TYPE");this.type=t??"file",this.data=r,this.hashType=i,this.fanout=o,this.blockSizes=n??[],this._originalMode=0,this.mode=a,this.mtime=s}set mode(e){this._mode=null==e?this.isDirectory()?tk:ek:4095&e}get mode(){return this._mode}isDirectory(){return mee.includes(this.type)}addBlockSize(e){this.blockSizes.push(e)}removeBlockSize(e){this.blockSizes.splice(e,1)}fileSize(){if(this.isDirectory())return 0n;let e=0n;return this.blockSizes.forEach((t=>{e+=t})),null!=this.data&&(e+=BigInt(this.data.length)),e}marshal(){let e;switch(this.type){case"raw":e=Ms.DataType.Raw;break;case"directory":e=Ms.DataType.Directory;break;case"file":e=Ms.DataType.File;break;case"metadata":e=Ms.DataType.Metadata;break;case"symlink":e=Ms.DataType.Symlink;break;case"hamt-sharded-directory":e=Ms.DataType.HAMTShard;break;default:throw(0,O6.default)(new Error(`Type: ${e} is not valid`),"ERR_INVALID_TYPE")}let t,r,n=this.data;return(null==this.data||0===this.data.length)&&(n=void 0),null!=this.mode&&(t=4294963200&this._originalMode|(this.mode??0),t===ek&&!this.isDirectory()&&(t=void 0),t===tk&&this.isDirectory()&&(t=void 0)),null!=this.mtime&&(r={Seconds:this.mtime.secs,FractionalNanoseconds:this.mtime.nsecs}),Ms.encode({Type:e,Data:n,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:t,mtime:r})}};x(),x(),x(),x();var yee=nk,rk=128,gee=127,vee=~gee,bee=Math.pow(2,31);function nk(e,t,r){t=t||[];for(var n=r=r||0;e>=bee;)t[r++]=255&e|rk,e/=128;for(;e&vee;)t[r++]=255&e|rk,e>>>=7;return t[r]=0|e,nk.bytes=r-n+1,t}var wee=C6,_ee=128,ik=127;function C6(e,t){var r,n=0,i=0,o=t=t||0,s=e.length;do{if(o>=s)throw C6.bytes=0,new RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&ik)<<i:(r&ik)*Math.pow(2,i),i+=7}while(r>=_ee);return C6.bytes=o-t,n}var Mee=Math.pow(2,7),xee=Math.pow(2,14),Eee=Math.pow(2,21),See=Math.pow(2,28),Tee=Math.pow(2,35),Aee=Math.pow(2,42),Ree=Math.pow(2,49),kee=Math.pow(2,56),Iee=Math.pow(2,63),Pee=function(e){return e<Mee?1:e<xee?2:e<Eee?3:e<See?4:e<Tee?5:e<Aee?6:e<Ree?7:e<kee?8:e<Iee?9:10},Dee={encode:yee,decode:wee,encodingLength:Pee},Bee=Dee,Np=Bee,Lp=(e,t=0)=>[Np.decode(e,t),Np.decode.bytes],Qc=(e,t,r=0)=>(Np.encode(e,t,r),t),ed=e=>Np.encodingLength(e);x();var td={};Ht(td,{coerce:()=>qo,empty:()=>ok,equals:()=>N6,fromHex:()=>Cee,fromString:()=>L6,isBinary:()=>Nee,toHex:()=>Oee,toString:()=>q6}),x();var ok=new Uint8Array(0),Oee=e=>e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),""),Cee=e=>{let t=e.match(/../g);return t?new Uint8Array(t.map((e=>parseInt(e,16)))):ok},N6=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},qo=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},Nee=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),L6=e=>(new TextEncoder).encode(e),q6=e=>(new TextDecoder).decode(e),Ll=(e,t)=>{let r=t.byteLength,n=ed(e),i=n+ed(r),o=new Uint8Array(i+r);return Qc(e,o,0),Qc(r,o,n),o.set(t,i),new rd(e,r,t,o)},sk=e=>{let t=qo(e),[r,n]=Lp(t),[i,o]=Lp(t.subarray(n)),s=t.subarray(n+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new rd(r,i,s,t)},ak=(e,t)=>{if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&N6(e.bytes,r.bytes)}},rd=class{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}},$6={};function Lee(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=i}var a=e.length,u=e.charAt(0),h=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function c(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*h+1>>>0,s=new Uint8Array(o);e[t];){var f=r[e.charCodeAt(t)];if(255===f)return;for(var c=0,l=o-1;(0!==f||c<i)&&-1!==l;l--,c++)f+=a*s[l]>>>0,s[l]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=c,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===s[d];)d++;for(var p=new Uint8Array(n+(o-d)),y=n;d!==o;)p[y++]=s[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*f+1>>>0,h=new Uint8Array(s);i!==o;){for(var c=t[i],l=0,d=s-1;(0!==c||l<n)&&-1!==d;d--,l++)c+=256*h[d]>>>0,h[d]=c%a>>>0,c=c/a>>>0;if(0!==c)throw new Error("Non-zero carry");n=l,i++}for(var p=s-n;p!==s&&0===h[p];)p++;for(var y=u.repeat(r);p<s;++p)y+=e.charAt(h[p]);return y},decodeUnsafe:c,decode:function(e){var r=c(e);if(r)return r;throw new Error(`Non-${t} character`)}}}Ht($6,{base58btc:()=>la,base58flickr:()=>Fee}),x(),x(),x();var qee=Lee,jee=qee,fk=jee;x();var j6=class{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},U6=class{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return uk(this,e)}},z6=class{constructor(e){this.decoders=e}or(e){return uk(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},uk=(e,t)=>new z6({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),F6=class{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new j6(e,t,r),this.decoder=new U6(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},id=({name:e,prefix:t,encode:r,decode:n})=>new F6(e,t,r,n),su=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=fk(r,t);return id({prefix:e,name:t,encode:n,decode:e=>qo(i(e))})},Uee=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let s=new Uint8Array(o*r/8|0),a=0,u=0,h=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw new SyntaxError(`Non-${n} character`);u=u<<r|o,a+=r,a>=8&&(a-=8,s[h++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return s},zee=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",s=0,a=0;for(let n=0;n<e.length;++n)for(a=a<<8|e[n],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o},Jr=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>id({prefix:t,name:e,encode:e=>zee(e,n,r),decode:t=>Uee(t,n,r,e)}),la=su({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Fee=su({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),H6={};Ht(H6,{base32:()=>nd,base32hex:()=>Vee,base32hexpad:()=>Gee,base32hexpadupper:()=>Zee,base32hexupper:()=>Kee,base32pad:()=>Hee,base32padupper:()=>Wee,base32upper:()=>$ee,base32z:()=>Yee}),x();var nd=Jr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),$ee=Jr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Hee=Jr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Wee=Jr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Vee=Jr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Kee=Jr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Gee=Jr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Zee=Jr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Yee=Jr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});x();var lk=(e,t)=>{let{bytes:r,version:n}=e;return 0===n?Xee(r,W6(e),t||la.encoder):Qee(r,W6(e),t||nd.encoder)},hk=new WeakMap,W6=e=>{let t=hk.get(e);if(null==t){let t=new Map;return hk.set(e,t),t}return t},rr=class{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==jp)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==ete)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return rr.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=Ll(e,t);return rr.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return rr.equals(this,e)}static equals(e,t){let r=t;return r&&e.code===r.code&&e.version===r.version&&ak(e.multihash,r.multihash)}toString(e){return lk(this,e)}toJSON(){return{"/":lk(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof rr)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:e,code:r,multihash:n,bytes:i}=t;return new rr(e,r,n,i||ck(e,r,n.bytes))}if(!0===t[tte]){let{version:e,multihash:r,code:n}=t,i=sk(r);return rr.create(e,n,i)}return null}static create(e,t,r){if("number"!=typeof t)throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==jp)throw new Error(`Version 0 CID must use dag-pb (code: ${jp}) block encoding`);return new rr(e,t,r,r.bytes);case 1:{let n=ck(e,t,r.bytes);return new rr(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return rr.create(0,jp,e)}static createV1(e,t){return rr.create(1,e,t)}static decode(e){let[t,r]=rr.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){let t=rr.inspectBytes(e),r=t.size-t.multihashSize,n=qo(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new rd(t.multihashCode,t.digestSize,i,n);return[0===t.version?rr.createV0(o):rr.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=Lp(e.subarray(t));return t+=n,r},n=r(),i=jp;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw new RangeError(`Invalid CID version ${n}`);let o=t,s=r(),a=r(),u=t+a;return{version:n,codec:i,multihashCode:s,digestSize:a,multihashSize:u-o,size:u}}static parse(e,t){let[r,n]=Jee(e,t),i=rr.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return W6(i).set(r,e),i}},Jee=(e,t)=>{switch(e[0]){case"Q":{let r=t||la;return[la.prefix,r.decode(`${la.prefix}${e}`)]}case la.prefix:{let r=t||la;return[la.prefix,r.decode(e)]}case nd.prefix:{let r=t||nd;return[nd.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},Xee=(e,t,r)=>{let{prefix:n}=r;if(n!==la.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null==i){let i=r.encode(e).slice(1);return t.set(n,i),i}return i},Qee=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null==i){let i=r.encode(e);return t.set(n,i),i}return i},jp=112,ete=18,ck=(e,t,r)=>{let n=ed(e),i=n+ed(t),o=new Uint8Array(i+r.byteLength);return Qc(e,o,0),Qc(t,o,n),o.set(r,i),o},tte=Symbol.for("@ipld/js-cid/CID"),zp={};Ht(zp,{code:()=>dte,createLink:()=>Mk,createNode:()=>_k,decode:()=>pte,encode:()=>bo,name:()=>cte,prepare:()=>vo,validate:()=>G6}),x(),x();var rte=new TextDecoder;function V6(e,t){let r=0;for(let n=0;;n+=7){if(n>=64)throw new Error("protobuf: varint overflow");if(t>=e.length)throw new Error("protobuf: unexpected end of data");let i=e[t++];if(r+=n<28?(127&i)<<n:(127&i)*2**n,i<128)break}return[r,t]}function Pv(e,t){let r;[r,t]=V6(e,t);let n=t+r;if(r<0||n<0)throw new Error("protobuf: invalid length");if(n>e.length)throw new Error("protobuf: unexpected end of data");return[e.subarray(t,n),n]}function dk(e,t){let r;return[r,t]=V6(e,t),[7&r,r>>3,t]}function ite(e){let t={},r=e.length,n=0;for(;n<r;){let r,i;if([r,i,n]=dk(e,n),1===i){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(2!==r)throw new Error(`protobuf: (PBLink) wrong wireType (${r}) for Hash`);if(void 0!==t.Name)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,n]=Pv(e,n)}else if(2===i){if(void 0!==t.Name)throw new Error("protobuf: (PBLink) duplicate Name section");if(2!==r)throw new Error(`protobuf: (PBLink) wrong wireType (${r}) for Name`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let i;[i,n]=Pv(e,n),t.Name=rte.decode(i)}else{if(3!==i)throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${i}`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(0!==r)throw new Error(`protobuf: (PBLink) wrong wireType (${r}) for Tsize`);[t.Tsize,n]=V6(e,n)}}if(n>r)throw new Error("protobuf: (PBLink) unexpected end of data");return t}function pk(e){let t,r,n=e.length,i=0,o=!1;for(;i<n;){let n,s;if([n,s,i]=dk(e,i),2!==n)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${n}`);if(1===s){if(r)throw new Error("protobuf: (PBNode) duplicate Data section");[r,i]=Pv(e,i),t&&(o=!0)}else{if(2!==s)throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${s}`);{if(o)throw new Error("protobuf: (PBNode) duplicate Links section");let r;t||(t=[]),[r,i]=Pv(e,i),t.push(ite(r))}}}if(i>n)throw new Error("protobuf: (PBNode) unexpected end of data");let s={};return r&&(s.Data=r),s.Links=t||[],s}x();var yk=new TextEncoder,mk=2**32,nte=2**31;function ote(e,t){let r=t.length;if("number"==typeof e.Tsize){if(e.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw new Error("Tsize too large for encoding");r=Up(t,r,e.Tsize)-1,t[r]=24}if("string"==typeof e.Name){let n=yk.encode(e.Name);r-=n.length,t.set(n,r),r=Up(t,r,n.length)-1,t[r]=18}return e.Hash&&(r-=e.Hash.length,t.set(e.Hash,r),r=Up(t,r,e.Hash.length)-1,t[r]=10),t.length-r}function gk(e){let t=ate(e),r=new Uint8Array(t),n=t;if(e.Data&&(n-=e.Data.length,r.set(e.Data,n),n=Up(r,n,e.Data.length)-1,r[n]=10),e.Links)for(let t=e.Links.length-1;t>=0;t--){let i=ote(e.Links[t],r.subarray(0,n));n-=i,n=Up(r,n,i)-1,r[n]=18}return r}function ste(e){let t=0;if(e.Hash){let r=e.Hash.length;t+=1+r+od(r)}if("string"==typeof e.Name){let r=yk.encode(e.Name).length;t+=1+r+od(r)}return"number"==typeof e.Tsize&&(t+=1+od(e.Tsize)),t}function ate(e){let t=0;if(e.Data){let r=e.Data.length;t+=1+r+od(r)}if(e.Links)for(let r of e.Links){let e=ste(r);t+=1+e+od(e)}return t}function Up(e,t,r){let n=t-=od(r);for(;r>=nte;)e[t++]=127&r|128,r/=128;for(;r>=128;)e[t++]=127&r|128,r>>>=7;return e[t]=r,n}function od(e){return e%2==0&&e++,Math.floor((fte(e)+6)/7)}function fte(e){let t=0;return e>=mk&&(e=Math.floor(e/mk),t=32),e>=65536&&(e>>>=16,t+=16),e>=256&&(e>>>=8,t+=8),t+ute[e]}var ute=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8];x();var lte=["Data","Links"],hte=["Hash","Name","Tsize"],K6=new TextEncoder;function bk(e,t){if(e===t)return 0;let r=e.Name?K6.encode(e.Name):[],n=t.Name?K6.encode(t.Name):[],i=r.length,o=n.length;for(let e=0,t=Math.min(i,o);e<t;++e)if(r[e]!==n[e]){i=r[e],o=n[e];break}return i<o?-1:o<i?1:0}function vk(e,t){return!Object.keys(e).some((e=>!t.includes(e)))}function wk(e){if("object"==typeof e.asCID){let t=rr.asCID(e);if(!t)throw new TypeError("Invalid DAG-PB form");return{Hash:t}}if("object"!=typeof e||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");let t={};if(e.Hash){let r=rr.asCID(e.Hash);try{r||("string"==typeof e.Hash?r=rr.parse(e.Hash):e.Hash instanceof Uint8Array&&(r=rr.decode(e.Hash)))}catch(e){throw new TypeError(`Invalid DAG-PB form: ${e.message}`)}r&&(t.Hash=r)}if(!t.Hash)throw new TypeError("Invalid DAG-PB form");return"string"==typeof e.Name&&(t.Name=e.Name),"number"==typeof e.Tsize&&(t.Tsize=e.Tsize),t}function vo(e){if((e instanceof Uint8Array||"string"==typeof e)&&(e={Data:e}),"object"!=typeof e||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");let t={};if(void 0!==e.Data)if("string"==typeof e.Data)t.Data=K6.encode(e.Data);else{if(!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form");t.Data=e.Data}if(void 0!==e.Links){if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form");t.Links=e.Links.map(wk),t.Links.sort(bk)}else t.Links=[];return t}function G6(e){if(!e||"object"!=typeof e||Array.isArray(e)||e instanceof Uint8Array||e["/"]&&e["/"]===e.bytes)throw new TypeError("Invalid DAG-PB form");if(!vk(e,lte))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==e.Data&&!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(let t=0;t<e.Links.length;t++){let r=e.Links[t];if(!r||"object"!=typeof r||Array.isArray(r)||r instanceof Uint8Array||r["/"]&&r["/"]===r.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!vk(r,hte))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(void 0===r.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(null==r.Hash||!r.Hash["/"]||r.Hash["/"]!==r.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==r.Name&&"string"!=typeof r.Name)throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==r.Tsize){if("number"!=typeof r.Tsize||r.Tsize%1!=0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(r.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(t>0&&-1===bk(r,e.Links[t-1]))throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function _k(e,t=[]){return vo({Data:e,Links:t})}function Mk(e,t,r){return wk({Hash:r,Name:e,Tsize:t})}var cte="dag-pb",dte=112;function bo(e){G6(e);let t={};return e.Links&&(t.Links=e.Links.map((e=>{let t={};return e.Hash&&(t.Hash=e.Hash.bytes),void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t}))),e.Data&&(t.Data=e.Data),gk(t)}function pte(e){let t=pk(e),r={};return t.Data&&(r.Data=t.Data),t.Links&&(r.Links=t.Links.map((e=>{let t={};try{t.Hash=rr.decode(e.Hash)}catch{}if(!t.Hash)throw new Error("Invalid Hash field found in link, expected CID");return void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t}))),r}var J6={};Ht(J6,{sha256:()=>Y6,sha512:()=>mte}),x(),x();var ql=({name:e,code:t,encode:r})=>new Z6(e,t,r),Z6=class{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?Ll(this.code,t):t.then((e=>Ll(this.code,e)))}throw Error("Unknown type, must be binary type")}},Ek=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Y6=ql({name:"sha2-256",code:18,encode:Ek("SHA-256")}),mte=ql({name:"sha2-512",code:19,encode:Ek("SHA-512")}),xs=async(e,t,r)=>{null==r.codec&&(r.codec=zp);let n=await Y6.digest(e),i=rr.create(r.cidVersion,r.codec.code,n);return await t.put(i,e,{signal:r.signal}),i},Sk=async(e,t,r)=>{let n=new Rn({type:"directory",mtime:e.mtime,mode:e.mode}),i=bo(vo({Data:n.marshal()}));return{cid:await xs(i,t,r),path:e.path,unixfs:n,size:BigInt(i.length),originalPath:e.originalPath}};x();var Fp={};Ht(Fp,{code:()=>Dv,decode:()=>vte,encode:()=>gte,name:()=>yte}),x();var yte="raw",Dv=85,gte=e=>qo(e),vte=e=>qo(e);async function*bte(e,t,r){let n,i=-1;for await(let o of Ip(r.bufferImporter(e,t),r.blockWriteConcurrency))i++,0!==i?(1===i&&null!=n&&(yield n,n=void 0),yield o):n=o;null!=n&&(n.single=!0,yield n)}var wte=(e,t,r)=>async function(n){if(1===n.length&&!0===n[0]?.single&&r.reduceSingleLeafToSelf){let i=n[0];if(void 0!==e.mtime||void 0!==e.mode){let n=await t.get(i.cid);i.unixfs=new Rn({type:"file",mtime:e.mtime,mode:e.mode,data:n}),n=bo(vo({Data:i.unixfs.marshal()})),i.cid=await xs(n,t,{...r,cidVersion:r.cidVersion}),i.size=BigInt(n.length)}return{cid:i.cid,path:e.path,unixfs:i.unixfs,size:i.size,originalPath:i.originalPath}}let i=new Rn({type:"file",mtime:e.mtime,mode:e.mode}),o=n.filter((e=>e.cid.code===Dv&&e.size>0||null!=e.unixfs&&null==e.unixfs.data&&e.unixfs.fileSize()>0n||Boolean(e.unixfs?.data?.length))).map((e=>e.cid.code===Dv?(i.addBlockSize(e.size),{Name:"",Tsize:Number(e.size),Hash:e.cid}):(null==e.unixfs||null==e.unixfs.data?i.addBlockSize(e.unixfs?.fileSize()??0n):i.addBlockSize(BigInt(e.unixfs.data.length)),{Name:"",Tsize:Number(e.size),Hash:e.cid}))),s={Data:i.marshal(),Links:o},a=bo(vo(s));return{cid:await xs(a,t,r),path:e.path,unixfs:i,size:BigInt(a.length+s.Links.reduce(((e,t)=>e+(t.Tsize??0)),0)),originalPath:e.originalPath}},Tk=async(e,t,r)=>await r.layout(bte(e,t,r),wte(e,t,r)),X6=wt(Fn(),1);function _te(e){return Symbol.iterator in e}function Mte(e){return Symbol.asyncIterator in e}function xte(e){try{if(e instanceof Uint8Array)return async function*(){yield e}();if(_te(e))return async function*(){yield*e}();if(Mte(e))return e}catch{throw(0,X6.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw(0,X6.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}function Ak(e){return async function*(t,r){for await(let n of t){let t;if(null!=n.path&&(t=n.path,n.path=n.path.split("/").filter((e=>null!=e&&"."!==e)).join("/")),Ete(n)){let i={path:n.path,mtime:n.mtime,mode:n.mode,content:e.chunker(e.chunkValidator(xte(n.content))),originalPath:t};yield async()=>await Tk(i,r,e)}else{if(null==n.path)throw new Error("Import candidate must have content or path or both");{let i={path:n.path,mtime:n.mtime,mode:n.mode,originalPath:t};yield async()=>await Sk(i,r,e)}}}}}function Ete(e){return null!=e.content}x(),x(),x();var ha=class{constructor(e,t){this.options=t??{},this.root=e.root,this.dir=e.dir,this.path=e.path,this.dirty=e.dirty,this.flat=e.flat,this.parent=e.parent,this.parentKey=e.parentKey,this.unixfs=e.unixfs,this.mode=e.mode,this.mtime=e.mtime}},$p=rr.parse("QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn"),Hp=rr.parse("zdj7WbTaiJT1fgatdet9Ei9iDB5hdCxkbVyhyh8YTUnXMiwYi"),jl=class extends ha{constructor(e,t){super(e,t),this._children=new Map}async put(e,t){this.cid=void 0,this.size=void 0,this.nodeSize=void 0,this._children.set(e,t)}async get(e){return await Promise.resolve(this._children.get(e))}childCount(){return this._children.size}directChildrenCount(){return this.childCount()}onlyChild(){return this._children.values().next().value}async*eachChildSeries(){for(let[e,t]of this._children.entries())yield{key:e,child:t}}estimateNodeSize(){if(void 0!==this.nodeSize)return this.nodeSize;this.nodeSize=0;for(let[e,t]of this._children.entries())null!=t.size&&null!=t.cid&&(this.nodeSize+=e.length+(1===this.options.cidVersion?Hp.bytes.byteLength:$p.bytes.byteLength));return this.nodeSize}async*flush(e){let t=[];for(let[r,n]of this._children.entries()){if(n instanceof ha)for await(let t of n.flush(e))n=t,yield n;null!=n.size&&null!=n.cid&&t.push({Name:r,Tsize:Number(n.size),Hash:n.cid})}let r=new Rn({type:"directory",mtime:this.mtime,mode:this.mode}),n={Data:r.marshal(),Links:t},i=bo(vo(n)),o=await xs(i,e,this.options),s=i.length+n.Links.reduce(((e,t)=>e+(null==t.Tsize?0:t.Tsize)),0);this.cid=o,this.size=s,yield{cid:o,unixfs:r,path:this.path,size:BigInt(s)}}};x(),x(),x(),x();var Nk=wt(Q6(),1);x(),x(),x();var eM={};Ht(eM,{identity:()=>Rte}),x();var Rte=id({prefix:"\0",name:"identity",encode:e=>q6(e),decode:e=>L6(e)}),tM={};Ht(tM,{base2:()=>kte}),x();var kte=Jr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),rM={};Ht(rM,{base8:()=>Ite}),x();var Ite=Jr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),iM={};Ht(iM,{base10:()=>Pte}),x();var Pte=su({prefix:"9",name:"base10",alphabet:"0123456789"}),nM={};Ht(nM,{base16:()=>Dte,base16upper:()=>Bte}),x();var Dte=Jr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Bte=Jr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),oM={};Ht(oM,{base36:()=>Ote,base36upper:()=>Cte}),x();var Ote=su({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Cte=su({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),sM={};Ht(sM,{base64:()=>Nte,base64pad:()=>Lte,base64url:()=>qte,base64urlpad:()=>jte}),x();var Nte=Jr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Lte=Jr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),qte=Jr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),jte=Jr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),aM={};Ht(aM,{base256emoji:()=>Hte}),x();var Ik=Array.from(""),Ute=Ik.reduce(((e,t,r)=>(e[r]=t,e)),[]),zte=Ik.reduce(((e,t,r)=>(e[t.codePointAt(0)]=r,e)),[]);function Fte(e){return e.reduce(((e,t)=>e+Ute[t]),"")}function $te(e){let t=[];for(let r of e){let e=zte[r.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}var Hte=id({prefix:"",name:"base256emoji",encode:Fte,decode:$te}),fM={};Ht(fM,{identity:()=>Kte}),x();var Pk=0,Wte="identity",Dk=qo,Vte=e=>Ll(Pk,Dk(e)),Kte={code:Pk,name:Wte,encode:Dk,digest:Vte};x();var cTe=new TextEncoder,dTe=new TextDecoder;x(),x();var uM={...eM,...tM,...rM,...iM,...nM,...H6,...oM,...$6,...sM,...aM},_Te={...J6,...fM};function sd(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Bv(e=0){return null!=globalThis.Buffer?.allocUnsafe?sd(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function Ok(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}x(),x();var Bk=Ok("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),lM=Ok("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{let t=Bv((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),Zte={utf8:Bk,"utf-8":Bk,hex:uM.base16,latin1:lM,ascii:lM,binary:lM,...uM},Ck=Zte;function Ov(e,t="utf8"){let r=Ck[t];if(null==r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${e}`):sd(globalThis.Buffer.from(e,"utf-8"))}var kn=class{constructor(e,t,r=0){this._options=e,this._popCount=0,this._parent=t,this._posAtParent=r,this._children=new Nk.default,this.key=null}async put(e,t){let r=await this._findNewBucketAndPos(e);await r.bucket._putAt(r,e,t)}async get(e){let t=await this._findChild(e);if(null!=t)return t.value}async del(e){let t=await this._findPlace(e),r=t.bucket._at(t.pos);null!=r&&r.key===e&&t.bucket._delAt(t.pos)}leafCount(){return this._children.compactArray().reduce(((e,t)=>t instanceof kn?e+t.leafCount():e+1),0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){let e=this._children.compactArray();for(let t of e)t instanceof kn?yield*t.eachLeafSeries():yield t}serialize(e,t){return t(this._children.reduce(((r,n,i)=>(null!=n&&(n instanceof kn?r.push(n.serialize(e,t)):r.push(e(n,i))),r)),[]))}async asyncTransform(e,t){return await Lk(this,e,t)}toJSON(){return this.serialize(Jte,Xte)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(e){let t=await this._findPlace(e),r=t.bucket._at(t.pos);if(!(r instanceof kn)&&null!=r&&r.key===e)return r}async _findPlace(e){let t=this._options.hash("string"==typeof e?Ov(e):e),r=await t.take(this._options.bits),n=this._children.get(r);return n instanceof kn?await n._findPlace(t):{bucket:this,pos:r,hash:t,existingChild:n}}async _findNewBucketAndPos(e){let t=await this._findPlace(e);if(null!=t.existingChild&&t.existingChild.key!==e){let e=new kn(this._options,t.bucket,t.pos);t.bucket._putObjectAt(t.pos,e);let r=await e._findPlace(t.existingChild.hash);return r.bucket._putAt(r,t.existingChild.key,t.existingChild.value),await e._findNewBucketAndPos(t.hash)}return t}_putAt(e,t,r){this._putObjectAt(e.pos,{key:t,value:r,hash:e.hash})}_putObjectAt(e,t){null==this._children.get(e)&&this._popCount++,this._children.set(e,t)}_delAt(e){if(-1===e)throw new Error("Invalid position");null!=this._children.get(e)&&this._popCount--,this._children.unset(e),this._level()}_level(){if(null!=this._parent&&this._popCount<=1)if(1===this._popCount){let e=this._children.find(Yte);if(null!=e&&!(e instanceof kn)){let t=e.hash;t.untake(this._options.bits);let r={pos:this._posAtParent,hash:t,bucket:this._parent};this._parent._putAt(r,e.key,e.value)}}else this._parent._delAt(this._posAtParent)}_at(e){return this._children.get(e)}};function Yte(e){return Boolean(e)}function Jte(e,t){return e.key}function Xte(e){return e}async function Lk(e,t,r){let n=[];for(let i of e._children.compactArray())if(i instanceof kn)await Lk(i,t,r);else{let r=await t(i);n.push({bitField:e._children.bitField(),children:r})}return await r(n)}x(),x();var Qte=[255,254,252,248,240,224,192,128],ere=[1,3,7,15,31,63,127,255],Cv=class{constructor(e){this._value=e,this._currentBytePos=e.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+8*this._currentBytePos}totalBits(){return 8*this._value.length}take(e){let t=e,r=0;for(;t>0&&this._haveBits();){let e=this._value[this._currentBytePos],n=this._currentBitPos+1,i=Math.min(n,t);r=(r<<i)+tre(e,n-i,i),t-=i,this._currentBitPos-=i,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return r}untake(e){for(this._currentBitPos+=e;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}};function tre(e,t,r){return(e&rre(t,r))>>>t}function rre(e,t){return Qte[e]&ere[Math.min(t+e-1,7)]}function qk(e,t){null==t&&(t=e.reduce(((e,t)=>e+t.length),0));let r=Bv(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return sd(r)}function jk(e){return function(t){return t instanceof Nv?t:new Nv(t,e)}}x();var Nv=class{constructor(e,t){if(!(e instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=e,this._hashFn=t,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(e){let t=e;for(;this._availableBits<t;)await this._produceMoreBits();let r=0;for(;t>0;){let e=this._buffers[this._currentBufferIndex],n=Math.min(e.availableBits(),t);r=(r<<n)+e.take(n),t-=n,this._availableBits-=n,0===e.availableBits()&&this._currentBufferIndex++}return r}untake(e){let t=e;for(;t>0;){let e=this._buffers[this._currentBufferIndex],r=Math.min(e.totalBits()-e.availableBits(),t);e.untake(r),t-=r,this._availableBits+=r,this._currentBufferIndex>0&&e.totalBits()===e.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;let e=this._depth>0?qk([this._value,Uint8Array.from([this._depth])]):this._value,t=await this._hashFn(e),r=new Cv(t);this._buffers.push(r),this._availableBits+=r.availableBits()}};function Uk(e){if(null==e||null==e.hashFn)throw new Error("please define an options.hashFn");let t={bits:e.bits??8,hash:jk(e.hashFn)};return new kn(t)}x();var qv=wt(hM(),1);function ire(e){let t=new Array(4);for(let r=0;r<4;r++)t[r]=255&e,e>>=8;return new Uint8Array(t)}var oAe=ql({name:"murmur3-32",code:35,encode:e=>ire(qv.default.x86.hash32(e))}),$k=ql({name:"murmur3-128",code:34,encode:e=>td.fromHex(qv.default.x64.hash128(e))}),sAe=ql({name:"murmur3-x64-64",code:34,encode:e=>td.fromHex(qv.default.x64.hash128(e)).subarray(0,8)});async function nre(e){return(await $k.encode(e)).slice(0,8).reverse()}var Hk=BigInt(34),cM=class extends ha{constructor(e,t){super(e,t),this._bucket=Uk({hashFn:nre,bits:8})}async put(e,t){this.cid=void 0,this.size=void 0,this.nodeSize=void 0,await this._bucket.put(e,t)}async get(e){return await this._bucket.get(e)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}async*eachChildSeries(){for await(let{key:e,value:t}of this._bucket.eachLeafSeries())yield{key:e,child:t}}estimateNodeSize(){return void 0!==this.nodeSize||(this.nodeSize=Kk(this._bucket,this,this.options)),this.nodeSize}async*flush(e){for await(let t of Vk(this._bucket,e,this,this.options))yield{...t,path:this.path}}},Wk=cM;async function*Vk(e,t,r,n){let i=e._children,o=[],s=0n;for(let e=0;e<i.length;e++){let r=i.get(e);if(null==r)continue;let a=e.toString(16).toUpperCase().padStart(2,"0");if(r instanceof kn){let e;for await(let i of Vk(r,t,null,n))e=i;if(null==e)throw new Error("Could not flush sharded directory, no subshard found");o.push({Name:a,Tsize:Number(e.size),Hash:e.cid}),s+=e.size}else if(ore(r.value)){let e,n=r.value;for await(let r of n.flush(t))e=r,yield e;if(null==e)throw new Error("Did not flush dir");let i=a+r.key;o.push({Name:i,Tsize:Number(e.size),Hash:e.cid}),s+=e.size}else{let e=r.value;if(null==e.cid)continue;let t=a+r.key,n=e.size;o.push({Name:t,Tsize:Number(n),Hash:e.cid}),s+=BigInt(n??0)}}let a=Uint8Array.from(i.bitField().reverse()),u=new Rn({type:"hamt-sharded-directory",data:a,fanout:BigInt(e.tableSize()),hashType:Hk,mtime:r?.mtime,mode:r?.mode}),h=bo(vo({Data:u.marshal(),Links:o})),f=await xs(h,t,n),c=BigInt(h.byteLength)+s;yield{cid:f,unixfs:u,size:c}}function ore(e){return"function"==typeof e.flush}function Kk(e,t,r){let n=e._children,i=[];for(let e=0;e<n.length;e++){let t=n.get(e);if(null==t)continue;let o=e.toString(16).toUpperCase().padStart(2,"0");if(t instanceof kn){let e=Kk(t,null,r);i.push({Name:o,Tsize:Number(e),Hash:0===r.cidVersion?$p:Hp})}else if("function"==typeof t.value.flush){let e=t.value.nodeSize();i.push({Name:o+t.key,Tsize:Number(e),Hash:0===r.cidVersion?$p:Hp})}else{let e=t.value;if(null==e.cid)continue;let r=o+t.key,n=e.size;i.push({Name:r,Tsize:Number(n),Hash:e.cid})}}let o=Uint8Array.from(n.bitField().reverse());return bo(vo({Data:new Rn({type:"hamt-sharded-directory",data:o,fanout:BigInt(e.tableSize()),hashType:Hk,mtime:t?.mtime,mode:t?.mode}).marshal(),Links:i})).length}async function dM(e,t,r,n){let i=t;t instanceof jl&&t.estimateNodeSize()>r&&(i=await sre(t,n));let o=i.parent;if(null!=o){if(i!==t){if(null!=e&&(e.parent=i),null==i.parentKey)throw new Error("No parent key found");await o.put(i.parentKey,i)}return await dM(i,o,r,n)}return i}async function sre(e,t){let r=new Wk({root:e.root,dir:!0,parent:e.parent,parentKey:e.parentKey,path:e.path,dirty:e.dirty,flat:!1,mtime:e.mtime,mode:e.mode},t);for await(let{key:t,child:n}of e.eachChildSeries())await r.put(t,n);return r}x();var Gk=(e="")=>(e.trim().match(/([^\\/]|\\\/)+/g)??[]).filter(Boolean);async function are(e,t,r){let n=Gk(e.path??""),i=n.length-1,o=t,s="";for(let a=0;a<n.length;a++){let u=n[a];s+=`${""!==s?"/":""}${u}`;let h=a===i;if(o.dirty=!0,o.cid=void 0,o.size=void 0,h)await o.put(u,e),t=await dM(null,o,r.shardSplitThresholdBytes,r);else{let e=await o.get(u);(null==e||!(e instanceof ha))&&(e=new jl({root:!1,dir:!0,parent:o,parentKey:u,path:s,dirty:!0,flat:!0,mtime:e?.unixfs?.mtime,mode:e?.unixfs?.mode},r)),await o.put(u,e),o=e}}return t}async function*Zk(e,t){e instanceof ha?yield*e.flush(t):!0===e.unixfs?.isDirectory()&&(yield e)}function Yk(e){return async function*(t,r){let n,i=new jl({root:!0,dir:!0,path:"",dirty:!0,flat:!0},e),o=!1;for await(let r of t){if(null==r)continue;let t=`${r.originalPath??""}`.split("/")[0];null!=t&&""!==t&&(null==n?(n=t,o=!0):n!==t&&(o=!1)),i=await are(r,i,e),(null==r.unixfs||!r.unixfs.isDirectory())&&(yield r)}if(e.wrapWithDirectory||o&&i.childCount()>1)yield*Zk(i,r);else for await(let e of i.eachChildSeries())null!=e&&(yield*Zk(e.child,r))}}x();var pM=wt(Fn(),1),Jk=()=>async function*(e){for await(let t of e){if(void 0===t.length)throw(0,pM.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if("string"==typeof t||t instanceof String)yield Ov(t.toString());else if(Array.isArray(t))yield Uint8Array.from(t);else{if(!(t instanceof Uint8Array))throw(0,pM.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT");yield t}}};function Vp(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function of(e=0){return null!=globalThis.Buffer?.alloc?Vp(globalThis.Buffer.alloc(e)):new Uint8Array(e)}function Kp(e=0){return null!=globalThis.Buffer?.allocUnsafe?Vp(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function mM(e,t){null==t&&(t=e.reduce(((e,t)=>e+t.length),0));let r=Kp(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return Vp(r)}function Xk(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}x(),x(),x(),x(),x(),x();var eI=Symbol.for("@achingbrain/uint8arraylist");function Qk(e,t){if(null==t||t<0)throw new RangeError("index is out of bounds");let r=0;for(let n of e){let e=r+n.byteLength;if(t<e)return{buf:n,index:t-r};r=e}throw new RangeError("index is out of bounds")}function jv(e){return Boolean(e?.[eI])}var ca=class{constructor(...e){Object.defineProperty(this,eI,{value:!0}),this.bufs=[],this.length=0,e.length>0&&this.appendAll(e)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...e){this.appendAll(e)}appendAll(e){let t=0;for(let r of e)if(r instanceof Uint8Array)t+=r.byteLength,this.bufs.push(r);else{if(!jv(r))throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");t+=r.byteLength,this.bufs.push(...r.bufs)}this.length+=t}prepend(...e){this.prependAll(e)}prependAll(e){let t=0;for(let r of e.reverse())if(r instanceof Uint8Array)t+=r.byteLength,this.bufs.unshift(r);else{if(!jv(r))throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");t+=r.byteLength,this.bufs.unshift(...r.bufs)}this.length+=t}get(e){let t=Qk(this.bufs,e);return t.buf[t.index]}set(e,t){let r=Qk(this.bufs,e);r.buf[r.index]=t}write(e,t=0){if(e instanceof Uint8Array)for(let r=0;r<e.length;r++)this.set(t+r,e[r]);else{if(!jv(e))throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList");for(let r=0;r<e.length;r++)this.set(t+r,e.get(r))}}consume(e){if(e=Math.trunc(e),!(Number.isNaN(e)||e<=0)){if(e===this.byteLength)return this.bufs=[],void(this.length=0);for(;this.bufs.length>0;){if(!(e>=this.bufs[0].byteLength)){this.bufs[0]=this.bufs[0].subarray(e),this.length-=e;break}e-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift()}}}slice(e,t){let{bufs:r,length:n}=this._subList(e,t);return mM(r,n)}subarray(e,t){let{bufs:r,length:n}=this._subList(e,t);return 1===r.length?r[0]:mM(r,n)}sublist(e,t){let{bufs:r,length:n}=this._subList(e,t),i=new ca;return i.length=n,i.bufs=r,i}_subList(e,t){if(e=e??0,t=t??this.length,e<0&&(e=this.length+e),t<0&&(t=this.length+t),e<0||t>this.length)throw new RangeError("index is out of bounds");if(e===t)return{bufs:[],length:0};if(0===e&&t===this.length)return{bufs:[...this.bufs],length:this.length};let r=[],n=0;for(let i=0;i<this.bufs.length;i++){let o=this.bufs[i],s=n,a=s+o.byteLength;if(n=a,e>=a)continue;let u=e>=s&&e<a,h=t>s&&t<=a;if(u&&h){if(e===s&&t===a){r.push(o);break}let n=e-s;r.push(o.subarray(n,n+(t-e)));break}if(u){if(0===e){r.push(o);continue}r.push(o.subarray(e-s))}else{if(h){if(t===a){r.push(o);break}r.push(o.subarray(0,t-s));break}r.push(o)}}return{bufs:r,length:t-e}}indexOf(e,t=0){if(!(jv(e)||e instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');let r=e instanceof Uint8Array?e:e.subarray();if(t=Number(t??0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;let n=r.byteLength;if(0===n)throw new TypeError("search must be at least 1 byte long");let i=new Int32Array(256);for(let e=0;e<256;e++)i[e]=-1;for(let e=0;e<n;e++)i[r[e]]=e;let o,s=i,a=this.byteLength-r.byteLength,u=r.byteLength-1;for(let e=t;e<=a;e+=o){o=0;for(let t=u;t>=0;t--){let n=this.get(e+t);if(r[t]!==n){o=Math.max(1,t-s[n]);break}}if(0===o)return e}return-1}getInt8(e){let t=this.subarray(e,e+1);return new DataView(t.buffer,t.byteOffset,t.byteLength).getInt8(0)}setInt8(e,t){let r=Kp(1);new DataView(r.buffer,r.byteOffset,r.byteLength).setInt8(0,t),this.write(r,e)}getInt16(e,t){let r=this.subarray(e,e+2);return new DataView(r.buffer,r.byteOffset,r.byteLength).getInt16(0,t)}setInt16(e,t,r){let n=of(2);new DataView(n.buffer,n.byteOffset,n.byteLength).setInt16(0,t,r),this.write(n,e)}getInt32(e,t){let r=this.subarray(e,e+4);return new DataView(r.buffer,r.byteOffset,r.byteLength).getInt32(0,t)}setInt32(e,t,r){let n=of(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setInt32(0,t,r),this.write(n,e)}getBigInt64(e,t){let r=this.subarray(e,e+8);return new DataView(r.buffer,r.byteOffset,r.byteLength).getBigInt64(0,t)}setBigInt64(e,t,r){let n=of(8);new DataView(n.buffer,n.byteOffset,n.byteLength).setBigInt64(0,t,r),this.write(n,e)}getUint8(e){let t=this.subarray(e,e+1);return new DataView(t.buffer,t.byteOffset,t.byteLength).getUint8(0)}setUint8(e,t){let r=Kp(1);new DataView(r.buffer,r.byteOffset,r.byteLength).setUint8(0,t),this.write(r,e)}getUint16(e,t){let r=this.subarray(e,e+2);return new DataView(r.buffer,r.byteOffset,r.byteLength).getUint16(0,t)}setUint16(e,t,r){let n=of(2);new DataView(n.buffer,n.byteOffset,n.byteLength).setUint16(0,t,r),this.write(n,e)}getUint32(e,t){let r=this.subarray(e,e+4);return new DataView(r.buffer,r.byteOffset,r.byteLength).getUint32(0,t)}setUint32(e,t,r){let n=of(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,t,r),this.write(n,e)}getBigUint64(e,t){let r=this.subarray(e,e+8);return new DataView(r.buffer,r.byteOffset,r.byteLength).getBigUint64(0,t)}setBigUint64(e,t,r){let n=of(8);new DataView(n.buffer,n.byteOffset,n.byteLength).setBigUint64(0,t,r),this.write(n,e)}getFloat32(e,t){let r=this.subarray(e,e+4);return new DataView(r.buffer,r.byteOffset,r.byteLength).getFloat32(0,t)}setFloat32(e,t,r){let n=of(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setFloat32(0,t,r),this.write(n,e)}getFloat64(e,t){let r=this.subarray(e,e+8);return new DataView(r.buffer,r.byteOffset,r.byteLength).getFloat64(0,t)}setFloat64(e,t,r){let n=of(8);new DataView(n.buffer,n.byteOffset,n.byteLength).setFloat64(0,t,r),this.write(n,e)}equals(e){if(null==e||!(e instanceof ca)||e.bufs.length!==this.bufs.length)return!1;for(let t=0;t<this.bufs.length;t++)if(!Xk(this.bufs[t],e.bufs[t]))return!1;return!0}static fromUint8Arrays(e,t){let r=new ca;return r.bufs=e,null==t&&(t=e.reduce(((e,t)=>e+t.byteLength),0)),r.length=t,r}},fre=262144,tI=(e={})=>{let t=e.chunkSize??fre;return async function*(e){let r=new ca,n=0,i=!1;for await(let o of e)for(r.append(o),n+=o.length;n>=t;)if(yield r.slice(0,t),i=!0,t===r.length)r=new ca,n=0;else{let e=new ca;e.append(r.sublist(t)),r=e,n-=t}(!i||n>0)&&(yield r.subarray(0,n))}};x(),x();var ure=174;function yM(e){let t=e?.maxChildrenPerNode??ure;return async function e(r,n){let i=[];for await(let e of Yc(r,t))i.push(await n(e));return i.length>1?await e(i,n):i[0]}}async function Uv(e){let t=[];for await(let r of e)t.push(r);return t}function rI(e){return async function*(t,r){for await(let n of t.content)yield async()=>{e.progress?.(n.length,t.path);let i,o={codec:zp,cidVersion:e.cidVersion};return e.rawLeaves?(o.codec=Fp,o.cidVersion=1):(i=new Rn({type:e.leafType,data:n}),n=bo({Data:i.marshal(),Links:[]})),{cid:await xs(n,r,o),unixfs:i,size:BigInt(n.length)}}}}x(),x(),x(),x(),x();var lre=wt(Fn(),1);async function*Gp(e,t,r={}){let n;n=Symbol.asyncIterator in e||Symbol.iterator in e?e:[e];let i=r.wrapWithDirectory??!1,o=r.shardSplitThresholdBytes??262144,s=r.cidVersion??1,a=r.rawLeaves??!0,u=r.leafType??"file",h=r.fileImportConcurrency??50,f=r.blockWriteConcurrency??10,c=r.reduceSingleLeafToSelf??!0,l=r.chunker??tI(),d=r.chunkValidator??Jk(),p=r.dagBuilder??Ak({chunker:l,chunkValidator:d,wrapWithDirectory:i,layout:r.layout??yM(),bufferImporter:r.bufferImporter??rI({cidVersion:s,rawLeaves:a,leafType:u,progress:r.progress}),blockWriteConcurrency:f,reduceSingleLeafToSelf:c,cidVersion:s}),y=r.treeBuilder??Yk({wrapWithDirectory:i,shardSplitThresholdBytes:o,cidVersion:s});for await(let e of y(Ip(p(n,t),h),t))yield{cid:e.cid,path:e.path,unixfs:e.unixfs,size:e.size}}x();var zv={};Ht(zv,{abortedError:()=>hre,notFoundError:()=>vM}),x();var gM=wt(Fn(),1);function vM(e){return e=e||new Error("Not Found"),(0,gM.default)(e,"ERR_NOT_FOUND")}function hre(e){return e=e||new Error("Aborted"),(0,gM.default)(e,"ERR_ABORTED")}async function Fv(e){for await(let t of e);}async function*au(e,t){for await(let r of e)await t(r)&&(yield r)}async function*$v(e,t){let r=0;if(!(t<1))for await(let n of e)if(yield n,r++,r===t)return}x(),x(),x(),x();var iI=(e,t)=>async function*(){yield*(await Uv(e)).sort(t)}(),Zp=class{open(){return Promise.reject(new Error(".open is not implemented"))}close(){return Promise.reject(new Error(".close is not implemented"))}put(e,t,r){return Promise.reject(new Error(".put is not implemented"))}get(e,t){return Promise.reject(new Error(".get is not implemented"))}has(e,t){return Promise.reject(new Error(".has is not implemented"))}delete(e,t){return Promise.reject(new Error(".delete is not implemented"))}async*putMany(e,t={}){for await(let{key:r,value:n}of e)await this.put(r,n,t),yield{key:r,value:n}}async*getMany(e,t={}){for await(let r of e)yield this.get(r,t)}async*deleteMany(e,t={}){for await(let r of e)await this.delete(r,t),yield r}batch(){let e=[],t=[];return{put(t,r){e.push({key:t,value:r})},delete(e){t.push(e)},commit:async r=>{await Fv(this.putMany(e,r)),e=[],await Fv(this.deleteMany(t,r)),t=[]}}}async*_all(e,t){throw new Error("._all is not implemented")}async*_allKeys(e,t){throw new Error("._allKeys is not implemented")}query(e,t){let r=this._all(e,t);if(null!=e.prefix&&(r=au(r,(t=>t.key.toString().startsWith(e.prefix||"")))),Array.isArray(e.filters)&&(r=e.filters.reduce(((e,t)=>au(e,t)),r)),Array.isArray(e.orders)&&(r=e.orders.reduce(((e,t)=>iI(e,t)),r)),null!=e.offset){let t=0;r=au(r,(()=>t++>=(e.offset||0)))}return null!=e.limit&&(r=$v(r,e.limit)),r}queryKeys(e,t){let r=this._allKeys(e,t);if(null!=e.prefix&&(r=au(r,(t=>t.toString().startsWith(e.prefix||"")))),Array.isArray(e.filters)&&(r=e.filters.reduce(((e,t)=>au(e,t)),r)),Array.isArray(e.orders)&&(r=e.orders.reduce(((e,t)=>iI(e,t)),r)),null!=e.offset){let t=0;r=au(r,(()=>t++>=e.offset))}return null!=e.limit&&(r=$v(r,e.limit)),r}};function cre(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=i}var a=e.length,u=e.charAt(0),h=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function c(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*h+1>>>0,s=new Uint8Array(o);e[t];){var f=r[e.charCodeAt(t)];if(255===f)return;for(var c=0,l=o-1;(0!==f||c<i)&&-1!==l;l--,c++)f+=a*s[l]>>>0,s[l]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=c,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===s[d];)d++;for(var p=new Uint8Array(n+(o-d)),y=n;d!==o;)p[y++]=s[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*f+1>>>0,h=new Uint8Array(s);i!==o;){for(var c=t[i],l=0,d=s-1;(0!==c||l<n)&&-1!==d;d--,l++)c+=256*h[d]>>>0,h[d]=c%a>>>0,c=c/a>>>0;if(0!==c)throw new Error("Non-zero carry");n=l,i++}for(var p=s-n;p!==s&&0===h[p];)p++;for(var y=u.repeat(r);p<s;++p)y+=e.charAt(h[p]);return y},decodeUnsafe:c,decode:function(e){var r=c(e);if(r)return r;throw new Error(`Non-${t} character`)}}}x(),x(),x(),x();var dre=cre,pre=dre,nI=pre;x();var K7e=new Uint8Array(0),oI=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},Ul=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};x();var bM=class{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},wM=class{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return sI(this,e)}},_M=class{constructor(e){this.decoders=e}or(e){return sI(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},sI=(e,t)=>new _M({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),MM=class{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new bM(e,t,r),this.decoder=new wM(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},aI=({name:e,prefix:t,encode:r,decode:n})=>new MM(e,t,r,n),xM=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=nI(r,t);return aI({prefix:e,name:t,encode:n,decode:e=>Ul(i(e))})},mre=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let s=new Uint8Array(o*r/8|0),a=0,u=0,h=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw new SyntaxError(`Non-${n} character`);u=u<<r|o,a+=r,a>=8&&(a-=8,s[h++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return s},yre=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",s=0,a=0;for(let n=0;n<e.length;++n)for(a=a<<8|e[n],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o},da=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>aI({prefix:t,name:e,encode:e=>yre(e,n,r),decode:t=>mre(t,n,r,e)}),jo=da({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),i9e=da({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),n9e=da({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),o9e=da({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),s9e=da({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),a9e=da({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),f9e=da({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),u9e=da({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),l9e=da({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});x();var EM=85;x(),x(),x();var vre=lI,fI=128,bre=127,wre=~bre,_re=Math.pow(2,31);function lI(e,t,r){t=t||[];for(var n=r=r||0;e>=_re;)t[r++]=255&e|fI,e/=128;for(;e&wre;)t[r++]=255&e|fI,e>>>=7;return t[r]=0|e,lI.bytes=r-n+1,t}var Mre=SM,xre=128,uI=127;function SM(e,t){var r,n=0,i=0,o=t=t||0,s=e.length;do{if(o>=s)throw SM.bytes=0,new RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&uI)<<i:(r&uI)*Math.pow(2,i),i+=7}while(r>=xre);return SM.bytes=o-t,n}var Ere=Math.pow(2,7),Sre=Math.pow(2,14),Tre=Math.pow(2,21),Are=Math.pow(2,28),Rre=Math.pow(2,35),kre=Math.pow(2,42),Ire=Math.pow(2,49),Pre=Math.pow(2,56),Dre=Math.pow(2,63),Bre=function(e){return e<Ere?1:e<Sre?2:e<Tre?3:e<Are?4:e<Rre?5:e<kre?6:e<Ire?7:e<Pre?8:e<Dre?9:10},Ore={encode:vre,decode:Mre,encodingLength:Bre},Cre=Ore,Yp=Cre,Jp=(e,t=0)=>[Yp.decode(e,t),Yp.decode.bytes],ad=(e,t,r=0)=>(Yp.encode(e,t,r),t),fd=e=>Yp.encodingLength(e);x();var cI=(e,t)=>{let r=t.byteLength,n=fd(e),i=n+fd(r),o=new Uint8Array(i+r);return ad(e,o,0),ad(r,o,n),o.set(t,i),new ud(e,r,t,o)},Xp=e=>{let t=Ul(e),[r,n]=Jp(t),[i,o]=Jp(t.subarray(n)),s=t.subarray(n+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new ud(r,i,s,t)},dI=(e,t)=>{if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&oI(e.bytes,r.bytes)}},ud=class{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}};x();var sf=xM({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),M9e=xM({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});x();var mI=(e,t)=>{let{bytes:r,version:n}=e;return 0===n?Lre(r,TM(e),t||sf.encoder):qre(r,TM(e),t||jo.encoder)},yI=new WeakMap,TM=e=>{let t=yI.get(e);if(null==t){let t=new Map;return yI.set(e,t),t}return t},li=class{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==Qp)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==jre)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return li.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=cI(e,t);return li.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return li.equals(this,e)}static equals(e,t){let r=t;return r&&e.code===r.code&&e.version===r.version&&dI(e.multihash,r.multihash)}toString(e){return mI(this,e)}toJSON(){return{"/":mI(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof li)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:e,code:r,multihash:n,bytes:i}=t;return new li(e,r,n,i||gI(e,r,n.bytes))}if(!0===t[Ure]){let{version:e,multihash:r,code:n}=t,i=Xp(r);return li.create(e,n,i)}return null}static create(e,t,r){if("number"!=typeof t)throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==Qp)throw new Error(`Version 0 CID must use dag-pb (code: ${Qp}) block encoding`);return new li(e,t,r,r.bytes);case 1:{let n=gI(e,t,r.bytes);return new li(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return li.create(0,Qp,e)}static createV1(e,t){return li.create(1,e,t)}static decode(e){let[t,r]=li.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){let t=li.inspectBytes(e),r=t.size-t.multihashSize,n=Ul(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new ud(t.multihashCode,t.digestSize,i,n);return[0===t.version?li.createV0(o):li.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=Jp(e.subarray(t));return t+=n,r},n=r(),i=Qp;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw new RangeError(`Invalid CID version ${n}`);let o=t,s=r(),a=r(),u=t+a;return{version:n,codec:i,multihashCode:s,digestSize:a,multihashSize:u-o,size:u}}static parse(e,t){let[r,n]=Nre(e,t),i=li.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return TM(i).set(r,e),i}},Nre=(e,t)=>{switch(e[0]){case"Q":{let r=t||sf;return[sf.prefix,r.decode(`${sf.prefix}${e}`)]}case sf.prefix:{let r=t||sf;return[sf.prefix,r.decode(e)]}case jo.prefix:{let r=t||jo;return[jo.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},Lre=(e,t,r)=>{let{prefix:n}=r;if(n!==sf.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null==i){let i=r.encode(e).slice(1);return t.set(n,i),i}return i},qre=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null==i){let i=r.encode(e);return t.set(n,i),i}return i},Qp=112,jre=18,gI=(e,t,r)=>{let n=fd(e),i=n+fd(t),o=new Uint8Array(i+r.byteLength);return ad(e,o,0),ad(t,o,n),o.set(r,i),o},Ure=Symbol.for("@ipld/js-cid/CID"),ld=class extends Zp{constructor(){super(),this.data={}}open(){return Promise.resolve()}close(){return Promise.resolve()}async put(e,t){this.data[jo.encode(e.multihash.bytes)]=t}async get(e){if(!await this.has(e))throw vM();return this.data[jo.encode(e.multihash.bytes)]}async has(e){return void 0!==this.data[jo.encode(e.multihash.bytes)]}async delete(e){delete this.data[jo.encode(e.multihash.bytes)]}async*_all(){yield*Object.entries(this.data).map((([e,t])=>({key:li.createV1(EM,Xp(jo.decode(e))),value:t})))}async*_allKeys(){yield*Object.entries(this.data).map((([e])=>li.createV1(EM,Xp(jo.decode(e)))))}},q9e={...zv};em();var wI={[Es.code]:Es},_I={[xv]:Zc};async function Ss(e,t=xv,r=Es.code){let n=_I[t];if(!n)throw new Error(`codec [${t}] not supported`);let i=wI[r];if(!i)throw new Error(`multihash code [${r}] not supported`);let o=n.encode(e),s=await i.digest(o);return(await Xe.createV1(n.code,s)).toString()}function MI(e){let t=Xe.parse(e).toV1();if(!_I[t.code])throw new Error(`codec [${t.code}] not supported`);if(!wI[t.multihash.code])throw new Error(`multihash code [${t.multihash.code}] not supported`);return t}var tm=class{static async computeDagPbCidFromBytes(e){let t,r=Gp([{content:e}],new ld,{cidVersion:1});for await(t of r);return t.cid.toString()}static async computeDagPbCidFromStream(e){let t,r=Gp([{content:e}],new ld,{cidVersion:1});for await(t of r);return t.cid.toString()}};x(),x(),x(),x();var $=wt(xI(),1),LM={};function wa(e,t){Object.defineProperty(e.prototype,Symbol.toStringTag,{value:t,writable:!1,enumerable:!1,configurable:!0});for(let t of Object.getOwnPropertyNames(e)){let r=Object.getOwnPropertyDescriptor(e,t);r.configurable&&r.enumerable&&(r.enumerable=!1,Object.defineProperty(e,t,r))}for(let t of Object.getOwnPropertyNames(e.prototype)){let r=Object.getOwnPropertyDescriptor(e.prototype,t);r.configurable&&r.enumerable&&(r.enumerable=!1,Object.defineProperty(e.prototype,t,r))}qM(t,e),qM(`${t}.prototype`,e.prototype)}function qM(e,t){let r=`%${e}%`;if(void 0!==LM[r])throw new Error(`intrinsic ${e} already exists`);LM[r]=t}function Ke(e){return LM[e]}var Ve="slot-epochNanoSeconds",fu="slot-timezone-identifier",Ne="slot-year",qe="slot-month",je="slot-day",Qe="slot-hour",et="slot-minute",tt="slot-second",rt="slot-millisecond",it="slot-microsecond",nt="slot-nanosecond",ee="slot-calendar",Qi="slot-cached-instant",Lt="slot-time-zone",un="slot-years",Ni="slot-months",In="slot-weeks",ln="slot-days",hn="slot-hours",cn="slot-minutes",dn="slot-seconds",pn="slot-milliseconds",mn="slot-microseconds",yn="slot-nanoseconds",zr="slot-calendar-identifier",tP=new WeakMap;function _a(e){tP.set(e,Object.create(null))}function dx(e){return tP.get(e)}function mi(e,...t){if(!e||"object"!=typeof e)return!1;let r=dx(e);return!!r&&t.reduce(((e,t)=>e&&t in r),!0)}function R(e,t){let r=dx(e)[t];if(void 0===r)throw new TypeError(`Missing internal slot ${t}`);return r}function at(e,t,r){dx(e)[t]=r}var EI=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,Fre=new RegExp(`(?:(?:${EI.source})(?:\\/(?:${EI.source}))*|Etc/GMT[-+]\\d{1,2}|${/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source})`),SI=/[A-Za-z0-9]{3,8}/,$re=new RegExp(`(?:${SI.source}(?:-${SI.source})*)`),rP=/(?:[+\u2212-]\d{6}|\d{4})/,Jv=/(?:0[1-9]|1[0-2])/,jM=/(?:0[1-9]|[12]\d|3[01])/,Hre=new RegExp(`(${rP.source})(?:-(${Jv.source})-(${jM.source})|(${Jv.source})(${jM.source}))`),iP=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,nP=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,oP=new RegExp(`(?:([zZ])|(?:${nP.source})?)(?:\\[(${Fre.source})\\])?`),sP=new RegExp(`\\[u-ca=(${$re.source})\\]`),Wre=new RegExp(`^${Hre.source}(?:(?:T|\\s+)${iP.source})?${oP.source}(?:${sP.source})?$`,"i"),Vre=new RegExp(`^T?${iP.source}(?:${oP.source})?(?:${sP.source})?$`,"i"),Kre=new RegExp(`^(${rP.source})-?(${Jv.source})$`),Gre=new RegExp(`^(?:--)?(${Jv.source})-?(${jM.source})$`),PM=/(\d+)(?:[.,](\d{1,9}))?/,Zre=new RegExp(`(?:${PM.source}H)?(?:${PM.source}M)?(?:${PM.source}S)?`),Yre=new RegExp(`^([+-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${Zre.source})?$`,"i"),aP=Array.prototype.includes,px=Array.prototype.push,fP=globalThis.Intl.DateTimeFormat,Jre=Math.min,Xre=Math.max,Tt=Math.abs,di=Math.floor,fm=Math.sign,dd=Math.trunc,_m=Number.isNaN,qi=Number.isFinite,Qre=Number,Mm=String,eie=Number.MAX_SAFE_INTEGER,uP=Object.assign,Wi=Object.create,tie=Object.getOwnPropertyDescriptor,rie=Object.is,mx=Reflect.apply,Fr=$.default.BigInt(0),yx=$.default.BigInt(1),Hl=$.default.BigInt(60),qt=$.default.BigInt(1e3),_o=$.default.BigInt(1e6),lf=$.default.BigInt(1e9),iie=$.default.BigInt(-1),cu=$.default.multiply($.default.BigInt(86400),lf),um=$.default.multiply($.default.BigInt(-86400),$.default.BigInt(1e17)),lm=$.default.multiply($.default.BigInt(86400),$.default.BigInt(1e17)),lP=$.default.multiply($.default.BigInt(-388152),$.default.BigInt(1e13)),nie=$.default.multiply(cu,$.default.BigInt(3660)),hP=$.default.multiply(cu,$.default.BigInt(366)),cP=$.default.multiply(cu,$.default.BigInt(14)),oie=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"];function dP(e){if("number"!=typeof e||!qi(e))return!1;let t=Tt(e);return di(t)===t}function nr(e){return"object"==typeof e&&null!==e||"function"==typeof e}function hm(e){if("bigint"==typeof e)throw new TypeError("Cannot convert BigInt to number");return Qre(e)}function jt(e){let t=hm(e);if(_m(t))return 0;let r=dd(t);return 0===t?0:r}function Je(e){if("symbol"==typeof e)throw new TypeError("Cannot convert a Symbol value to a String");return Mm(e)}function Kt(e){let t=jt(e);if(!qi(t))throw new RangeError("infinity is out of range");return t}function cm(e,t){let r=jt(e);if(!qi(r))throw new RangeError("infinity is out of range");if(r<1)throw void 0!==t?new RangeError(`property '${t}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return r}function ci(e){let t=hm(e);if(_m(t))return 0;if(!qi(t))throw new RangeError("infinity is out of range");if(!dP(t))throw new RangeError(`unsupported fractional value ${t}`);return jt(t)}function hi(e,t){return{quotient:$.default.divide(e,t),remainder:$.default.remainder(e,t)}}function gx(e){return $.default.lessThan(e,Fr)?$.default.multiply(e,iie):e}function UM(e,...t){return px.apply(e,t),e}var TI=new Map([["year",Kt],["month",cm],["monthCode",Je],["day",cm],["hour",Kt],["minute",Kt],["second",Kt],["millisecond",Kt],["microsecond",Kt],["nanosecond",Kt],["years",ci],["months",ci],["weeks",ci],["days",ci],["hours",ci],["minutes",ci],["seconds",ci],["milliseconds",ci],["microseconds",ci],["nanoseconds",ci],["era",Je],["eraYear",jt],["offset",Je]]),sie=new Map([["hour",0],["minute",0],["second",0],["millisecond",0],["microsecond",0],["nanosecond",0]]),xd=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],Xv=new Map(xd.map((e=>[e[0],e[1]]))),aie=new Map(xd.map((([e,t])=>[t,e]))),AI=xd.map((([,e])=>e)),RI=Array.from(Xv.keys()).sort(),kI=new Map;function pP(e){let t=kI.get(e);return void 0===t&&(t=new fP("en-us",{timeZone:Mm(e),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),kI.set(e,t)),t}function Xr(e){return mi(e,Ve)&&!mi(e,Lt,ee)}function pa(e){return mi(e,fu)}function Ur(e){return mi(e,zr)}function Br(e){return mi(e,un,Ni,ln,hn,cn,dn,pn,mn,yn)}function yt(e){return mi(e,"slot-date-brand")}function Or(e){return mi(e,Qe,et,tt,rt,it,nt)&&!mi(e,Ne,qe,je)}function st(e){return mi(e,Ne,qe,je,Qe,et,tt,rt,it,nt)}function Pt(e){return mi(e,"slot-year-month-brand")}function Li(e){return mi(e,"slot-month-day-brand")}function ze(e){return mi(e,Ve,Lt,ee)}function Ed(e){if(mi(e,ee)||mi(e,Lt))throw new TypeError("with() does not support a calendar or timeZone property");if(void 0!==e.calendar)throw new TypeError("with() does not support a calendar property");if(void 0!==e.timeZone)throw new TypeError("with() does not support a timeZone property")}function mP(e){let{ianaName:t,offset:r,z:n}=function(e){try{let t=Ex(e);if(t)return{ianaName:t.toString()}}catch{}try{let t=Ma(e);if(t.z||t.offset||t.ianaName)return t}catch{}throw new RangeError(`Invalid time zone: ${e}`)}(e);return t||(n?"UTC":r)}function xm(e,t){return"never"===t||"auto"===t&&"iso8601"===e?"":`[u-ca=${e}]`}function Ma(e){let t=Wre.exec(e);if(!t)throw new RangeError(`invalid ISO 8601 string: ${e}`);let r=t[1];if(""===r[0]&&(r=`-${r.slice(1)}`),"-000000"===r)throw new RangeError(`invalid ISO 8601 string: ${e}`);let n=jt(r),i=jt(t[2]||t[4]),o=jt(t[3]||t[5]),s=jt(t[6]),a=void 0!==t[6],u=jt(t[7]||t[10]),h=jt(t[8]||t[11]);60===h&&(h=59);let f,c=(t[9]||t[12])+"000000000",l=jt(c.slice(0,3)),d=jt(c.slice(3,6)),p=jt(c.slice(6,9)),y=!1;if(t[13])f=void 0,y=!0;else if(t[14]&&t[15]){let e="-"===t[14]||""===t[14]?"-":"+",r=t[15]||"00",n=t[16]||"00",i=t[17]||"00",o=t[18]||"0";if(f=`${e}${r}:${n}`,+o){for(;o.endsWith("0");)o=o.slice(0,-1);f+=`:${i}.${o}`}else+i&&(f+=`:${i}`);"-00:00"===f&&(f="+00:00")}let m=t[19];if(m)try{m=Ex(m).toString()}catch{}let g=t[20];return Rx(n,i,o,s,u,h,l,d,p),{year:n,month:i,day:o,hasTime:a,hour:s,minute:u,second:h,millisecond:l,microsecond:d,nanosecond:p,ianaName:m,offset:f,z:y,calendar:g}}function yP(e){let t,r,n,i,o=Kre.exec(e);if(o){let i=o[1];if(""===i[0]&&(i=`-${i.slice(1)}`),"-000000"===i)throw new RangeError(`invalid ISO 8601 string: ${e}`);t=jt(i),r=jt(o[2]),n=o[3]}else{let o;if(({year:t,month:r,calendar:n,day:i,z:o}=Ma(e)),o)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:t,month:r,calendar:n,referenceISODay:i}}function gP(e){let t,r,n,i,o=Gre.exec(e);if(o)t=jt(o[1]),r=jt(o[2]);else{let o;if(({month:t,day:r,calendar:n,year:i,z:o}=Ma(e)),o)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:t,day:r,calendar:n,referenceISOYear:i}}function fie(e){let t=Yre.exec(e);if(!t)throw new RangeError(`invalid duration: ${e}`);if(t.slice(2).every((e=>void 0===e)))throw new RangeError(`invalid duration: ${e}`);let r="-"===t[1]||""===t[1]?-1:1,n=jt(t[2])*r,i=jt(t[3])*r,o=jt(t[4])*r,s=jt(t[5])*r,a=jt(t[6])*r,u=t[7],h=jt(t[8])*r,f=t[9],c=jt(t[10])*r,l=t[11]+"000000000",d=jt(l.slice(0,3))*r,p=jt(l.slice(3,6))*r,y=jt(l.slice(6,9))*r;return u=u?r*jt(u)/10**u.length:0,f=f?r*jt(f)/10**f.length:0,({minutes:h,seconds:c,milliseconds:d,microseconds:p,nanoseconds:y}=function(e,t,r,n,i,o,s){let a=e,u=t,h=r,f=n,c=i,l=o,d=s;if(0!==a){[u,h,f,c,l,d].forEach((e=>{if(0!==e)throw new RangeError("only the smallest unit can be fractional")}));let e=60*a;u=dd(e),h=e%1}if(0!==h){[f,c,l,d].forEach((e=>{if(0!==e)throw new RangeError("only the smallest unit can be fractional")}));let e=60*h;f=dd(e);let t=e%1;if(0!==t){let e=1e3*t;c=dd(e);let r=e%1;if(0!==r){let e=1e3*r;l=dd(e);let t=e%1;0!==t&&(d=dd(1e3*t))}}}return{minutes:u,seconds:f,milliseconds:c,microseconds:l,nanoseconds:d}}(u,h,f,c,d,p,y)),x1(n,i,o,s,a,h,c,d,p,y),{years:n,months:i,weeks:o,days:s,hours:a,minutes:h,seconds:c,milliseconds:d,microseconds:p,nanoseconds:y}}function uie(e){let{year:t,month:r,day:n,hour:i,minute:o,second:s,millisecond:a,microsecond:u,nanosecond:h,offset:f,z:c}=function(e){let t=Ma(e);if(!t.z&&!t.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return t}(e);if(!c&&!f)throw new RangeError("Temporal.Instant requires a time zone offset");let l=c?0:Jl(f);({year:t,month:r,day:n,hour:i,minute:o,second:s,millisecond:a,microsecond:u,nanosecond:h}=Tx(t,r,n,i,o,s,a,u,h-l));let d=mu(t,r,n,i,o,s,a,u,h);if(null===d)throw new RangeError("DateTime outside of supported range");return d}function Qv(e,t,r,n){let i=e,o=t,s=r;switch(n){case"reject":va(i,o,s);break;case"constrain":({year:i,month:o,day:s}=DP(i,o,s))}return{year:i,month:o,day:s}}function l1(e,t,r,n,i,o,s){let a=e,u=t,h=r,f=n,c=i,l=o;switch(s){case"reject":M1(a,u,h,f,c,l);break;case"constrain":({hour:a,minute:u,second:h,millisecond:f,microsecond:c,nanosecond:l}=(d=u,p=h,y=f,m=c,g=l,{hour:Wn(a,0,23),minute:Wn(d,0,59),second:Wn(p,0,59),millisecond:Wn(y,0,999),microsecond:Wn(m,0,999),nanosecond:Wn(g,0,999)}))}var d,p,y,m,g;return{hour:a,minute:u,second:h,millisecond:f,microsecond:c,nanosecond:l}}function rh(e){if(!nr(e))return fie(Je(e));if(Br(e))return{years:R(e,un),months:R(e,Ni),weeks:R(e,In),days:R(e,ln),hours:R(e,hn),minutes:R(e,cn),seconds:R(e,dn),milliseconds:R(e,pn),microseconds:R(e,mn),nanoseconds:R(e,yn)};let t={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0},r=function(e){if(!nr(e))throw new TypeError("invalid duration-like");let t={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0},r=!1;for(let n of RI){let i=e[n];void 0!==i&&(r=!0,t[n]=ci(i))}if(!r)throw new TypeError("invalid duration-like");return t}(e);for(let e of RI){let n=r[e];void 0!==n&&(t[e]=n)}let{years:n,months:i,weeks:o,days:s,hours:a,minutes:u,seconds:h,milliseconds:f,microseconds:c,nanoseconds:l}=t;return x1(n,i,o,s,a,u,h,f,c,l),{years:n,months:i,weeks:o,days:s,hours:a,minutes:u,seconds:h,milliseconds:f,microseconds:c,nanoseconds:l}}function $r(e){return void 0===e?"constrain":gu(e,"overflow",["constrain","reject"],"constrain")}function dm(e){return void 0===e?"compatible":gu(e,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function Pn(e,t){return gu(e,"roundingMode",["ceil","floor","trunc","halfExpand"],t)}function Em(e){switch(e){case"ceil":return"floor";case"floor":return"ceil";default:return e}}function zM(e,t){return void 0===e?t:gu(e,"offset",["prefer","use","ignore","reject"],t)}function Sm(e){return gu(e,"calendarName",["auto","always","never"],"auto")}function pf(e,t,r){let n=1/0;void 0!==t&&(n=t),r||void 0===t||(n=t>1?t-1:1);let i=function(e,t,r,n,i){let o=e[t];if(void 0===o)return 1;let s=hm(o);if(_m(s)||s<1||s>n)throw new RangeError(`${String(t)} must be between 1 and ${n}, not ${s}`);return di(s)}(e,"roundingIncrement",0,n);if(void 0!==t&&t%i!=0)throw new RangeError(`Rounding increment must divide evenly into ${t}`);return i}function vx(e,t){return pf(e,{year:void 0,month:void 0,week:void 0,day:void 0,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[t],!1)}function Tm(e){let t=pi(e,"smallestUnit","time",void 0);if("hour"===t){let e=xd.reduce(((e,[t,r,n])=>("time"===n&&"hour"!==r&&e.push(r,t),e)),[]);throw new RangeError(`smallestUnit must be one of ${e.join(", ")}, not ${t}`)}switch(t){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}let r=e.fractionalSecondDigits;if(void 0===r&&(r="auto"),"number"!=typeof r){let e=Je(r);if("auto"===e)return{precision:"auto",unit:"nanosecond",increment:1};throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`)}if(_m(r)||r<0||r>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${r}`);let n=di(r);switch(n){case 0:return{precision:n,unit:"second",increment:1};case 1:case 2:case 3:return{precision:n,unit:"millisecond",increment:10**(3-n)};case 4:case 5:case 6:return{precision:n,unit:"microsecond",increment:10**(6-n)};case 7:case 8:case 9:return{precision:n,unit:"nanosecond",increment:10**(9-n)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${r}`)}}var Gl=Symbol("~required~");function pi(e,t,r,n,i=[]){let o=[];for(let[,e,t]of xd)"datetime"!==r&&r!==t||o.push(e);o.push(...i);let s=n;s===Gl?s=void 0:void 0!==s&&o.push(s);let a=[...o];for(let e of o){let t=aie.get(e);void 0!==t&&a.push(t)}let u=gu(e,t,a,s);if(void 0===u&&n===Gl)throw new RangeError(`${t} is required`);return Xv.has(u)?Xv.get(u):u}function Vv(e){let t=e.relativeTo;if(void 0===t)return t;let r,n,i,o,s,a,u,h,f,c,l,d,p="option",y=!1;if(nr(t)){if(ze(t)||yt(t))return t;if(st(t))return vd(t);c=Sd(t);let e=ft(t,Vr(c,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]),y=Wi(null);y.overflow="constrain",({year:r,month:n,day:i,hour:o,minute:s,second:a,millisecond:u,microsecond:h,nanosecond:f}=Am(c,e,y)),d=t.offset,void 0===d&&(p="wall"),l=t.timeZone}else{let e,m;({year:r,month:n,day:i,hour:o,minute:s,second:a,millisecond:u,microsecond:h,nanosecond:f,calendar:c,ianaName:e,offset:d,z:m}=Ma(Je(t))),e&&(l=e),m?p="exact":d||(p="wall"),c||(c=Hr()),c=ji(c),y=!0}if(void 0!==l){l=bn(l);let e=0;return"option"===p&&(e=Jl(Je(d))),$i(t1(r,n,i,o,s,a,u,h,f,p,e,l,"compatible","reject",y),l,c)}return Uo(r,n,i,c)}function FM(e,t,r,n,i,o,s,a,u,h){for(let[f,c]of[["years",e],["months",t],["weeks",r],["days",n],["hours",i],["minutes",o],["seconds",s],["milliseconds",a],["microseconds",u],["nanoseconds",h]])if(0!==c)return Xv.get(f);return"nanosecond"}function Kn(e,t){return AI.indexOf(e)>AI.indexOf(t)?t:e}function h1(e,t){let r=e;return void 0===r&&(r=Wi(null)),uP(Wi(null),r,{largestUnit:t})}function ft(e,t,r,{emptySourceErrorMessage:n}={emptySourceErrorMessage:"no supported properties found"}){let i=Wi(null),o=!1;for(let n of t){let t=e[n];if(void 0!==t)o=!0,TI.has(n)&&(t=TI.get(n)(t)),i[n]=t;else if("partial"!==r){if(aP.call(r,n))throw new TypeError(`required property '${n}' missing or undefined`);t=sie.get(n),i[n]=t}}if("partial"===r&&!o)throw new TypeError(n);if(void 0===i.era!=(void 0===i.eraYear))throw new RangeError("properties 'era' and 'eraYear' must be provided together");return i}function e1(e,t="complete"){let r=["hour","microsecond","millisecond","minute","nanosecond","second"],n=ft(e,r,"partial",{emptySourceErrorMessage:"invalid time-like"}),i={};for(let e of r){let r=tie(n,e);void 0!==r?i[e]=r.value:"complete"===t&&(i[e]=0)}return i}function Vt(e,t){let r=e;if(nr(r)){if(yt(r))return r;if(ze(r)&&($r(t),r=ro(R(r,Lt),R(r,Qi),R(r,ee))),st(r))return $r(t),Uo(R(r,Ne),R(r,qe),R(r,je),R(r,ee));let e=Sd(r);return pu(e,ft(r,Vr(e,["day","month","monthCode","year"]),[]),t)}$r(t);let{year:n,month:i,day:o,calendar:s,z:a}=Ma(Je(r));if(a)throw new RangeError("Z designator not supported for PlainDate");return new(Ke("%Temporal.PlainDate%"))(n,i,o,s)}function Am(e,t,r){let{hour:n,minute:i,second:o,millisecond:s,microsecond:a,nanosecond:u}=e1(t),h=$r(r),f=pu(e,t,r),c=R(f,Ne),l=R(f,qe),d=R(f,je);return({hour:n,minute:i,second:o,millisecond:s,microsecond:a,nanosecond:u}=l1(n,i,o,s,a,u,h)),{year:c,month:l,day:d,hour:n,minute:i,second:o,millisecond:s,microsecond:a,nanosecond:u}}function $l(e,t){let r,n,i,o,s,a,u,h,f,c;if(nr(e)){if(st(e))return e;if(ze(e))return $r(t),ro(R(e,Lt),R(e,Qi),R(e,ee));if(yt(e))return $r(t),Hn(R(e,Ne),R(e,qe),R(e,je),0,0,0,0,0,0,R(e,ee));c=Sd(e);let l=ft(e,Vr(c,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]);({year:r,month:n,day:i,hour:o,minute:s,second:a,millisecond:u,microsecond:h,nanosecond:f}=Am(c,l,t))}else{let l;if($r(t),({year:r,month:n,day:i,hour:o,minute:s,second:a,millisecond:u,microsecond:h,nanosecond:f,calendar:c,z:l}=Ma(Je(e))),l)throw new RangeError("Z designator not supported for PlainDateTime");Rx(r,n,i,o,s,a,u,h,f),void 0===c&&(c=Hr()),c=ji(c)}return Hn(r,n,i,o,s,a,u,h,f,c)}function pd(e){if(Br(e))return e;let{years:t,months:r,weeks:n,days:i,hours:o,minutes:s,seconds:a,milliseconds:u,microseconds:h,nanoseconds:f}=rh(e);return new(Ke("%Temporal.Duration%"))(t,r,n,i,o,s,a,u,h,f)}function ma(e){if(Xr(e))return e;if(ze(e))return new(Ke("%Temporal.Instant%"))(R(e,Ve));let t=uie(Je(e));return new(Ke("%Temporal.Instant%"))(t)}function II(e,t){let r=e;if(nr(r)){if(Li(r))return r;let e,n;if(mi(r,ee))e=R(r,ee),n=!1;else{let t=r.calendar;n=void 0===t,void 0===t&&(t=Hr()),e=ji(t)}let i=ft(r,Vr(e,["day","month","monthCode","year"]),[]);return n&&void 0!==i.month&&void 0===i.monthCode&&void 0===i.year&&(i.year=1972),gd(e,i,t)}$r(t);let{month:n,day:i,referenceISOYear:o,calendar:s}=gP(Je(r)),a=s;return void 0===a&&(a=Hr()),a=ji(a),void 0===o?(va(1972,n,i),pm(n,i,a)):gd(a,pm(n,i,a,o))}function uf(e,t="constrain"){let r,n,i,o,s,a,u,h=e;if(nr(h)){if(Or(h))return h;if(ze(h)&&(h=ro(R(h,Lt),R(h,Qi),R(h,ee))),st(h))return new(Ke("%Temporal.PlainTime%"))(R(h,Qe),R(h,et),R(h,tt),R(h,rt),R(h,it),R(h,nt));if(u=Sd(h),"iso8601"!==Je(u))throw new RangeError("PlainTime can only have iso8601 calendar");({hour:r,minute:n,second:i,millisecond:o,microsecond:s,nanosecond:a}=e1(h)),({hour:r,minute:n,second:i,millisecond:o,microsecond:s,nanosecond:a}=l1(r,n,i,o,s,a,t))}else if(({hour:r,minute:n,second:i,millisecond:o,microsecond:s,nanosecond:a,calendar:u}=function(e){let t,r,n,i,o,s,a,u=Vre.exec(e);if(u){t=jt(u[1]),r=jt(u[2]||u[5]),n=jt(u[3]||u[6]),60===n&&(n=59);let e=(u[4]||u[7])+"000000000";i=jt(e.slice(0,3)),o=jt(e.slice(3,6)),s=jt(e.slice(6,9)),a=u[15]}else{let u,h;if(({hasTime:h,hour:t,minute:r,second:n,millisecond:i,microsecond:o,nanosecond:s,calendar:a,z:u}=Ma(e)),!h)throw new RangeError(`time is missing in string: ${e}`);if(u)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(e))return{hour:t,minute:r,second:n,millisecond:i,microsecond:o,nanosecond:s,calendar:a};try{let{month:t,day:r}=gP(e);va(1972,t,r)}catch{try{let{year:t,month:r}=yP(e);va(t,r,1)}catch{return{hour:t,minute:r,second:n,millisecond:i,microsecond:o,nanosecond:s,calendar:a}}}throw new RangeError(`invalid ISO 8601 time-only string ${e}; may need a T prefix`)}(Je(h))),M1(r,n,i,o,s,a),void 0!==u&&"iso8601"!==u)throw new RangeError("PlainTime can only have iso8601 calendar");return new(Ke("%Temporal.PlainTime%"))(r,n,i,o,s,a)}function im(e,t){if(nr(e)){if(Pt(e))return e;let r=Sd(e);return Yl(r,ft(e,Vr(r,["month","monthCode","year"]),[]),t)}$r(t);let{year:r,month:n,referenceISODay:i,calendar:o}=yP(Je(e)),s=o;return void 0===s&&(s=Hr()),s=ji(s),void 0===i?(va(r,n,1),mm(r,n,s)):Yl(s,mm(r,n,s,i))}function t1(e,t,r,n,i,o,s,a,u,h,f,c,l,d,p){let y=new(Ke("%Temporal.PlainDateTime%"))(e,t,r,n,i,o,s,a,u);if("wall"===h||"ignore"===d)return R(vn(c,y,l),Ve);if("exact"===h||"use"===d){let h=mu(e,t,r,n,i,o,s,a,u);if(null===h)throw new RangeError("ZonedDateTime outside of supported range");return $.default.subtract(h,$.default.BigInt(f))}let m=r1(c,y);for(let e of m){let t=Ts(c,e),r=$.default.toNumber($n($.default.BigInt(t),6e10,"halfExpand"));if(t===f||p&&r===f)return R(e,Ve)}if("reject"===d){let e=Sx(f),t=pa(c)?R(c,fu):"time zone";throw new RangeError(`Offset ${e} is invalid for ${y.toString()} in ${t}`)}return R(SP(m,c,y,l),Ve)}function nm(e,t){let r,n,i,o,s,a,u,h,f,c,l,d,p=!1,y="option";if(nr(e)){if(ze(e))return e;d=Sd(e);let p=ft(e,UM(Vr(d,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),"timeZone","offset"),["timeZone"]);({year:r,month:n,day:i,hour:o,minute:s,second:a,millisecond:u,microsecond:h,nanosecond:f}=Am(d,p,t)),c=bn(p.timeZone),l=p.offset,void 0===l?y="wall":l=Je(l)}else{let m,g;if($r(t),({year:r,month:n,day:i,hour:o,minute:s,second:a,millisecond:u,microsecond:h,nanosecond:f,ianaName:m,offset:l,z:g,calendar:d}=function(e){let t=Ma(e);if(!t.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return t}(Je(e))),!m)throw new RangeError("time zone ID required in brackets");g?y="exact":l||(y="wall"),c=new(Ke("%Temporal.TimeZone%"))(m),d||(d=Hr()),d=ji(d),p=!0}let m=0;return"option"===y&&(m=Jl(l)),$i(t1(r,n,i,o,s,a,u,h,f,y,m,c,dm(t),zM(t,"reject"),p),c,d)}function vP(e,t,r,n,i){va(t,r,n),BP(t,r,n),_a(e),at(e,Ne,t),at(e,qe,r),at(e,je,n),at(e,ee,i),at(e,"slot-date-brand",!0)}function Uo(e,t,r,n=Hr()){let i=Ke("%Temporal.PlainDate%"),o=Wi(i.prototype);return vP(o,e,t,r,n),o}function bP(e,t,r,n,i,o,s,a,u,h,f){Rx(t,r,n,i,o,s,a,u,h),OP(t,r,n,i,o,s,a,u,h),_a(e),at(e,Ne,t),at(e,qe,r),at(e,je,n),at(e,Qe,i),at(e,et,o),at(e,tt,s),at(e,rt,a),at(e,it,u),at(e,nt,h),at(e,ee,f)}function Hn(e,t,r,n,i,o,s,a,u,h=Hr()){let f=Ke("%Temporal.PlainDateTime%"),c=Wi(f.prototype);return bP(c,e,t,r,n,i,o,s,a,u,h),c}function wP(e,t,r,n,i){va(i,t,r),BP(i,t,r),_a(e),at(e,qe,t),at(e,je,r),at(e,Ne,i),at(e,ee,n),at(e,"slot-month-day-brand",!0)}function pm(e,t,r=Hr(),n=1972){let i=Ke("%Temporal.PlainMonthDay%"),o=Wi(i.prototype);return wP(o,e,t,r,n),o}function _P(e,t,r,n,i){var o,s;va(t,r,i),s=r,Hi(o=t,-271821,275760),-271821===o?Hi(s,4,12):275760===o&&Hi(s,1,9),_a(e),at(e,Ne,t),at(e,qe,r),at(e,je,i),at(e,ee,n),at(e,"slot-year-month-brand",!0)}function mm(e,t,r=Hr(),n=1){let i=Ke("%Temporal.PlainYearMonth%"),o=Wi(i.prototype);return _P(o,e,t,r,n),o}function MP(e,t,r,n){Fl(t),_a(e),at(e,Ve,t),at(e,Lt,r),at(e,ee,n);let i=new(Ke("%Temporal.Instant%"))(R(e,Ve));at(e,Qi,i)}function $i(e,t,r=Hr()){let n=Ke("%Temporal.ZonedDateTime%"),i=Wi(n.prototype);return MP(i,e,t,r),i}function Hr(){return new(Ke("%Temporal.Calendar%"))("iso8601")}function Vr(e,t){let r=t;e.fields&&(r=e.fields(r));let n=[];for(let e of r){if("string"!=typeof e)throw new TypeError("bad return from calendar.fields()");px.call(n,e)}return n}function Zl(e,t,r){let n=e.mergeFields;if(!n)return{...t,...r};let i=Reflect.apply(n,e,[t,r]);if(!nr(i))throw new TypeError("bad return from calendar.mergeFields()");return i}function gn(e,t,r,n,i){let o=i;void 0===o&&(o=e.dateAdd);let s=mx(o,e,[t,r,n]);if(!yt(s))throw new TypeError("invalid result");return s}function du(e,t,r,n,i){let o=i;void 0===o&&(o=e.dateUntil);let s=mx(o,e,[t,r,n]);if(!Br(s))throw new TypeError("invalid result");return s}function c1(e,t){let r=e.year(t);if(void 0===r)throw new RangeError("calendar year result must be an integer");return Kt(r)}function d1(e,t){let r=e.month(t);if(void 0===r)throw new RangeError("calendar month result must be a positive integer");return cm(r)}function Rm(e,t){let r=e.monthCode(t);if(void 0===r)throw new RangeError("calendar monthCode result must be a string");return Je(r)}function p1(e,t){let r=e.day(t);if(void 0===r)throw new RangeError("calendar day result must be a positive integer");return cm(r)}function m1(e,t){let r=e.era(t);return void 0!==r&&(r=Je(r)),r}function y1(e,t){let r=e.eraYear(t);return void 0!==r&&(r=Kt(r)),r}function bx(e,t){return e.dayOfWeek(t)}function wx(e,t){return e.dayOfYear(t)}function _x(e,t){return e.weekOfYear(t)}function Mx(e,t){return e.daysInWeek(t)}function km(e,t){return e.daysInMonth(t)}function g1(e,t){return e.daysInYear(t)}function v1(e,t){return e.monthsInYear(t)}function b1(e,t){return e.inLeapYear(t)}function ji(e){let t=e;if(nr(t)){if(mi(t,ee))return R(t,ee);if(!("calendar"in t)||(t=t.calendar,nr(t)&&!("calendar"in t)))return t}let r,n=Je(t),i=Ke("%Temporal.Calendar%");if(UP(n))return new i(n);try{({calendar:r}=Ma(n))}catch{throw new RangeError(`Invalid calendar: ${n}`)}return r||(r="iso8601"),new i(r)}function Sd(e){if(mi(e,ee))return R(e,ee);let{calendar:t}=e;return void 0===t?Hr():ji(t)}function Im(e,t){return e===t||Je(e)===Je(t)}function xP(e,t){if(e===t)return t;let r=Je(e),n=Je(t);if(r===n||"iso8601"===r)return t;if("iso8601"===n)return e;throw new RangeError("irreconcilable calendars")}function pu(e,t,r){let n=e.dateFromFields(t,r);if(!yt(n))throw new TypeError("invalid result");return n}function Yl(e,t,r){let n=e.yearMonthFromFields(t,r);if(!Pt(n))throw new TypeError("invalid result");return n}function gd(e,t,r){let n=e.monthDayFromFields(t,r);if(!Li(n))throw new TypeError("invalid result");return n}function bn(e){let t=e;if(nr(t)){if(ze(t))return R(t,Lt);if(!("timeZone"in t)||(t=t.timeZone,nr(t)&&!("timeZone"in t)))return t}let r=mP(Je(t));return new(Ke("%Temporal.TimeZone%"))(r)}function EP(e,t){return e===t||Je(e)===Je(t)}function vd(e){return Uo(R(e,Ne),R(e,qe),R(e,je),R(e,ee))}function xx(e){return new(Ke("%Temporal.PlainTime%"))(R(e,Qe),R(e,et),R(e,tt),R(e,rt),R(e,it),R(e,nt))}function Ts(e,t){let r=e.getOffsetNanosecondsFor;if("function"!=typeof r)throw new TypeError("getOffsetNanosecondsFor not callable");let n=Reflect.apply(r,e,[t]);if("number"!=typeof n)throw new TypeError("bad return from getOffsetNanosecondsFor");if(!dP(n)||Tt(n)>864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return n}function $M(e,t){return Sx(Ts(e,t))}function ro(e,t,r){let n=R(t,Ve),i=Ts(e,t),{year:o,month:s,day:a,hour:u,minute:h,second:f,millisecond:c,microsecond:l,nanosecond:d}=AP(n);return({year:o,month:s,day:a,hour:u,minute:h,second:f,millisecond:c,microsecond:l,nanosecond:d}=Tx(o,s,a,u,h,f,c,l,d+i)),Hn(o,s,a,u,h,f,c,l,d,r)}function vn(e,t,r){return SP(r1(e,t),e,t,r)}function SP(e,t,r,n){let i=Ke("%Temporal.Instant%"),o=e.length;if(1===o)return e[0];if(o)switch(n){case"compatible":case"earlier":return e[0];case"later":return e[o-1];case"reject":throw new RangeError("multiple instants found")}let s=R(r,Ne),a=R(r,qe),u=R(r,je),h=R(r,Qe),f=R(r,et),c=R(r,tt),l=R(r,rt),d=R(r,it),p=R(r,nt),y=mu(s,a,u,h,f,c,l,d,p);if(null===y)throw new RangeError("DateTime outside of supported range");let m=new i($.default.subtract(y,cu)),g=new i($.default.add(y,cu)),b=Ts(t,m),w=Ts(t,g)-b;switch(n){case"earlier":{let e=R(r,ee),n=Ke("%Temporal.PlainDateTime%"),i=WM(s,a,u,h,f,c,l,d,p,e,0,0,0,0,0,0,0,0,0,-w,void 0);return r1(t,new n(i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond,i.microsecond,i.nanosecond,e))[0]}case"compatible":case"later":{let e=R(r,ee),n=Ke("%Temporal.PlainDateTime%"),i=WM(s,a,u,h,f,c,l,d,p,e,0,0,0,0,0,0,0,0,0,w,void 0),o=r1(t,new n(i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond,i.microsecond,i.nanosecond,e));return o[o.length-1]}case"reject":throw new RangeError("no such instant found")}}function r1(e,t){let r=e.getPossibleInstantsFor(t),n=[];for(let e of r){if(!Xr(e))throw new TypeError("bad return from getPossibleInstantsFor");px.call(n,e)}return n}function ih(e){let t;return t=e<0||e>9999?(e<0?"-":"+")+`000000${Tt(e)}`.slice(-6):`0000${e}`.slice(-4),t}function lr(e){return`00${e}`.slice(-2)}function w1(e,t,r,n,i){if("minute"===i)return"";let o,s=`:${lr(e)}`,a=1e6*t+1e3*r+n;if("auto"===i){if(0===a)return s;for(o=`${a}`.padStart(9,"0");"0"===o[o.length-1];)o=o.slice(0,-1)}else{if(0===i)return s;o=`${a}`.padStart(9,"0").slice(0,i)}return`${s}.${o}`}function PI(e,t,r){let n=t;void 0===n&&(n=new(Ke("%Temporal.TimeZone%"))("UTC"));let i=ro(n,e,Hr()),o=ih(R(i,Ne)),s=lr(R(i,qe)),a=lr(R(i,je)),u=lr(R(i,Qe)),h=lr(R(i,et)),f=w1(R(i,tt),R(i,rt),R(i,it),R(i,nt),r),c="Z";return void 0!==t&&(c=TP(Ts(n,e))),`${o}-${s}-${a}T${u}:${h}${f}${c}`}function DM(e,t="auto",r){function n(e){return e<=eie?e.toString(10):$.default.BigInt(e).toString(10)}let i=R(e,un),o=R(e,Ni),s=R(e,In),a=R(e,ln),u=R(e,hn),h=R(e,cn),f=R(e,dn),c=R(e,pn),l=R(e,mn),d=R(e,yn),p=ga(i,o,s,a,u,h,f,c,l,d);if(r){let{unit:e,increment:t,roundingMode:n}=r;({seconds:f,milliseconds:c,microseconds:l,nanoseconds:d}=yu(0,0,0,0,0,0,f,c,l,d,t,e,n))}let y=[];i&&y.push(`${n(Tt(i))}Y`),o&&y.push(`${n(Tt(o))}M`),s&&y.push(`${n(Tt(s))}W`),a&&y.push(`${n(Tt(a))}D`);let m=[];u&&m.push(`${n(Tt(u))}H`),h&&m.push(`${n(Tt(h))}M`);let g,b,w,v,_=[],E=bd(0,0,0,f,c,l,d,0);({quotient:E,remainder:g}=hi(E,qt)),({quotient:E,remainder:b}=hi(E,qt)),({quotient:v,remainder:w}=hi(E,qt));let S,M=1e6*Tt($.default.toNumber(w))+1e3*Tt($.default.toNumber(b))+Tt($.default.toNumber(g));if("auto"===t){if(0!==M)for(S=`${M}`.padStart(9,"0");"0"===S[S.length-1];)S=S.slice(0,-1)}else 0!==t&&(S=`${M}`.padStart(9,"0").slice(0,t));return S&&_.unshift(".",S),$.default.equal(v,Fr)&&!_.length&&"auto"===t||_.unshift(gx(v).toString()),_.length&&m.push(`${_.join("")}S`),m.length&&m.unshift("T"),y.length||m.length?`${p<0?"-":""}P${y.join("")}${m.join("")}`:"PT0S"}function DI(e,t="auto"){return`${ih(R(e,Ne))}-${lr(R(e,qe))}-${lr(R(e,je))}${xm(Je(R(e,ee)),t)}`}function BI(e,t,r="auto",n){let i=R(e,Ne),o=R(e,qe),s=R(e,je),a=R(e,Qe),u=R(e,et),h=R(e,tt),f=R(e,rt),c=R(e,it),l=R(e,nt);if(n){let{unit:e,increment:t,roundingMode:r}=n;({year:i,month:o,day:s,hour:a,minute:u,second:h,millisecond:f,microsecond:c,nanosecond:l}=Dx(i,o,s,a,u,h,f,c,l,t,e,r))}return`${ih(i)}-${lr(o)}-${lr(s)}T${lr(a)}:${lr(u)}${w1(h,f,c,l,t)}${xm(Je(R(e,ee)),r)}`}function OI(e,t="auto"){let r=`${lr(R(e,qe))}-${lr(R(e,je))}`,n=Je(R(e,ee));("always"===t||"iso8601"!==n)&&(r=`${ih(R(e,Ne))}-${r}`);let i=xm(n,t);return i&&(r+=i),r}function CI(e,t="auto"){let r=`${ih(R(e,Ne))}-${lr(R(e,qe))}`,n=Je(R(e,ee));("always"===t||"iso8601"!==n)&&(r+=`-${lr(R(e,je))}`);let i=xm(n,t);return i&&(r+=i),r}function NI(e,t,r="auto",n="auto",i="auto",o){let s=R(e,Qi);if(o){let{unit:t,increment:r,roundingMode:n}=o,i=n1(R(e,Ve),r,t,n);s=new(Ke("%Temporal.Instant%"))(i)}let a=R(e,Lt),u=ro(a,s,Hr()),h=`${ih(R(u,Ne))}-${lr(R(u,qe))}-${lr(R(u,je))}T${lr(R(u,Qe))}:${lr(R(u,et))}${w1(R(u,tt),R(u,rt),R(u,it),R(u,nt),t)}`;return"never"!==i&&(h+=TP(Ts(a,s))),"never"!==n&&(h+=`[${a}]`),h+=xm(Je(R(e,ee)),r),h}function om(e){return zP.test(Mm(e))}function Jl(e){let t=zP.exec(Mm(e));if(!t)throw new RangeError(`invalid time zone offset: ${e}`);return("-"===t[1]||""===t[1]?-1:1)*(1e9*(60*(60*+t[2]+ +(t[3]||0))+ +(t[4]||0))+ +((t[5]||0)+"000000000").slice(0,9))}function Ex(e){return om(e)?Sx(Jl(e)):pP(Mm(e)).resolvedOptions().timeZone}function af(e,t){let{year:r,month:n,day:i,hour:o,minute:s,second:a,millisecond:u,microsecond:h,nanosecond:f}=RP(e,t),c=mu(r,n,i,o,s,a,u,h,f);if(null===c)throw new RangeError("Date outside of supported range");return $.default.toNumber($.default.subtract(c,e))}function Sx(e){let t=e<0?"-":"+",r=Tt(e),n=r%1e9,i=di(r/1e9)%60,o=di(r/6e10)%60,s=lr(di(r/36e11)),a=lr(o),u=lr(i),h="";if(n){let e=`${n}`.padStart(9,"0");for(;"0"===e[e.length-1];)e=e.slice(0,-1);h=`:${u}.${e}`}else i&&(h=`:${u}`);return`${t}${s}:${a}${h}`}function TP(e){let t=$.default.toNumber($n($.default.BigInt(e),6e10,"halfExpand")),r=t<0?"-":"+";t=Tt(t);let n=t/6e10%60;return`${r}${lr(di(t/36e11))}:${lr(n)}`}function mu(e,t,r,n,i,o,s,a,u){let h=new Date;h.setUTCHours(n,i,o,s),h.setUTCFullYear(e,t-1,r);let f=h.getTime();if(_m(f))return null;let c=$.default.multiply($.default.BigInt(f),_o);return c=$.default.add(c,$.default.multiply($.default.BigInt(a),qt)),c=$.default.add(c,$.default.BigInt(u)),$.default.lessThan(c,um)||$.default.greaterThan(c,lm)?null:c}function AP(e){let{quotient:t,remainder:r}=hi(e,_o),n=$.default.toNumber(t),i=$.default.toNumber(r);i<0&&(i+=1e6,n-=1);let o=di(i/1e3)%1e3,s=i%1e3,a=new Date(n);return{epochMilliseconds:n,year:a.getUTCFullYear(),month:a.getUTCMonth()+1,day:a.getUTCDate(),hour:a.getUTCHours(),minute:a.getUTCMinutes(),second:a.getUTCSeconds(),millisecond:a.getUTCMilliseconds(),microsecond:o,nanosecond:s}}function RP(e,t){let{epochMilliseconds:r,millisecond:n,microsecond:i,nanosecond:o}=AP(e),{year:s,month:a,day:u,hour:h,minute:f,second:c}=(l=r,function(e){let t=e.split(/[^\w]+/);if(7!==t.length)throw new RangeError(`expected 7 parts in "${e}`);let r=+t[0],n=+t[1],i=+t[2],o=t[3].toUpperCase();if("B"===o||"BC"===o)i=1-i;else if("A"!==o&&"AD"!==o)throw new RangeError(`Unknown era ${o} in "${e}`);let s=+t[4];24===s&&(s=0);let a=+t[5],u=+t[6];if(!(qi(i)&&qi(r)&&qi(n)&&qi(s)&&qi(a)&&qi(u)))throw new RangeError(`Invalid number in "${e}`);return{year:i,month:r,day:n,hour:s,minute:a,second:u}}(pP(t).format(new Date(l))));var l;return Tx(s,a,u,h,f,c,n,i,o)}function LI(e,t){return $.default.lessThan(e,t)?t:e}function kP(){return $.default.add(Ox(),nie)}function IP(e,t){let r=kP(),n=$.default.greaterThan(e,r),i=n?$.default.subtract(e,hP):lP,o=$.default.subtract(e,yx),s=af(o,t),a=o,u=s;for(;s===u&&$.default.greaterThan(o,i);)a=$.default.subtract(o,cP),u=af(a,t),s===u&&(o=a);return s===u?n?IP($.default.subtract(r,cu),t):null:FP((e=>af(e,t)),a,o,u,s)}function lu(e){return void 0!==e&&e%4==0&&(e%100!=0||e%400==0)}function hf(e,t){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[lu(e)?"leapyear":"standard"][t-1]}function BM(e,t,r){let n=t+(t<3?10:-2),i=e-(t<3?1:0),o=di(i/100),s=i-100*o,a=(r+di(2.6*n-.2)+(s+di(s/4))+(di(o/4)-2*o))%7;return a+(a<=0?7:0)}function i1(e,t,r){let n=r;for(let r=t-1;r>0;r--)n+=hf(e,r);return n}function ga(e,t,r,n,i,o,s,a,u,h){for(let f of[e,t,r,n,i,o,s,a,u,h])if(0!==f)return f<0?-1:1;return 0}function Kv(e,t){let r=e,n=t;if(!qi(r)||!qi(n))throw new RangeError("infinity is out of range");return n-=1,r+=di(n/12),n%=12,n<0&&(n+=12),n+=1,{year:r,month:n}}function _1(e,t,r){let n=e,i=t,o=r;if(!qi(o))throw new RangeError("infinity is out of range");({year:n,month:i}=Kv(n,i));let s=0,a=i>2?n:n-1;for(;s=lu(a)?366:365,o<-s;)n-=1,a-=1,o+=s;for(a+=1;s=lu(a)?366:365,o>s;)n+=1,a+=1,o-=s;for(;o<1;)({year:n,month:i}=Kv(n,i-1)),o+=hf(n,i);for(;o>hf(n,i);)o-=hf(n,i),({year:n,month:i}=Kv(n,i+1));return{year:n,month:i,day:o}}function Tx(e,t,r,n,i,o,s,a,u){let{deltaDays:h,hour:f,minute:c,second:l,millisecond:d,microsecond:p,nanosecond:y}=ff(n,i,o,s,a,u),{year:m,month:g,day:b}=_1(e,t,r+h);return{year:m,month:g,day:b,hour:f,minute:c,second:l,millisecond:d,microsecond:p,nanosecond:y}}function ff(e,t,r,n,i,o){let s=e,a=t,u=r,h=n,f=i,c=o;if(!(qi(s)&&qi(a)&&qi(u)&&qi(h)&&qi(f)&&qi(c)))throw new RangeError("infinity is out of range");f+=di(c/1e3),c=cd(c,1e3),h+=di(f/1e3),f=cd(f,1e3),u+=di(h/1e3),h=cd(h,1e3),a+=di(u/60),u=cd(u,60),s+=di(a/60),a=cd(a,60);let l=di(s/24);return s=cd(s,24),{deltaDays:l,hour:s,minute:a,second:u,millisecond:h,microsecond:f,nanosecond:c}}function bd(e,t,r,n,i,o,s,a){let u=$.default.BigInt(e),h=$.default.BigInt(s);0!==e&&(h=$.default.subtract($.default.BigInt(s),$.default.BigInt(a)));let f=$.default.add($.default.BigInt(t),$.default.multiply(u,$.default.BigInt(24))),c=$.default.add($.default.BigInt(r),$.default.multiply(f,Hl)),l=$.default.add($.default.BigInt(n),$.default.multiply(c,Hl)),d=$.default.add($.default.BigInt(i),$.default.multiply(l,qt)),p=$.default.add($.default.BigInt(o),$.default.multiply(d,qt));return $.default.add($.default.BigInt(h),$.default.multiply(p,qt))}function Ax(e,t){let r=Ke("%Temporal.Instant%"),n=fm($.default.toNumber(e)),i=$.default.BigInt(e),o=864e11;if(0===n)return{days:0,nanoseconds:Fr,dayLengthNs:o};if(!ze(t)){let e;return({quotient:e,remainder:i}=hi(i,$.default.BigInt(o))),{days:$.default.toNumber(e),nanoseconds:i,dayLengthNs:o}}let s=R(t,Ve),a=R(t,Qi),u=$.default.add(s,i),h=new r(u),f=R(t,Lt),c=R(t,ee),l=ro(f,a,c),d=ro(f,h,c),{days:p}=Px(R(l,Ne),R(l,qe),R(l,je),R(l,Qe),R(l,et),R(l,tt),R(l,rt),R(l,it),R(l,nt),R(d,Ne),R(d,qe),R(d,je),R(d,Qe),R(d,et),R(d,tt),R(d,rt),R(d,it),R(d,nt),c,"day",Wi(null)),y=Mo(a,f,c,0,0,0,p,0,0,0,0,0,0);if(1===n)for(;p>0&&$.default.greaterThan(y,u);)--p,y=Mo(a,f,c,0,0,0,p,0,0,0,0,0,0);i=$.default.subtract(u,y);let m=!1,g=new r(y);do{let e=Mo(g,f,c,0,0,0,n,0,0,0,0,0,0),t=R(g,Ve);o=$.default.toNumber($.default.subtract(e,t)),m=$.default.greaterThan($.default.multiply($.default.subtract(i,$.default.BigInt(o)),$.default.BigInt(n)),Fr),m&&(i=$.default.subtract(i,$.default.BigInt(o)),g=new r(e),p+=n)}while(m);return{days:p,nanoseconds:i,dayLengthNs:Tt(o)}}function Vn(e,t,r,n,i,o,s,a,u){let h,f,c,l,d,p,y=e;if(ze(u)){let e=Mo(R(u,Qi),R(u,Lt),R(u,ee),0,0,0,y,t,r,n,i,o,s),a=R(u,Ve);h=$.default.subtract(e,a)}else h=bd(y,t,r,n,i,o,s,0);"year"===a||"month"===a||"week"===a||"day"===a?({days:y,nanoseconds:h}=Ax(h,u)):y=0;let m=$.default.lessThan(h,Fr)?-1:1;switch(h=gx(h),f=c=l=d=p=Fr,a){case"year":case"month":case"week":case"day":case"hour":({quotient:f,remainder:h}=hi(h,qt)),({quotient:c,remainder:f}=hi(f,qt)),({quotient:l,remainder:c}=hi(c,qt)),({quotient:d,remainder:l}=hi(l,Hl)),({quotient:p,remainder:d}=hi(d,Hl));break;case"minute":({quotient:f,remainder:h}=hi(h,qt)),({quotient:c,remainder:f}=hi(f,qt)),({quotient:l,remainder:c}=hi(c,qt)),({quotient:d,remainder:l}=hi(l,Hl));break;case"second":({quotient:f,remainder:h}=hi(h,qt)),({quotient:c,remainder:f}=hi(f,qt)),({quotient:l,remainder:c}=hi(c,qt));break;case"millisecond":({quotient:f,remainder:h}=hi(h,qt)),({quotient:c,remainder:f}=hi(f,qt));break;case"microsecond":({quotient:f,remainder:h}=hi(h,qt));break;case"nanosecond":break;default:throw new Error("assert not reached")}return{days:y,hours:$.default.toNumber(p)*m,minutes:$.default.toNumber(d)*m,seconds:$.default.toNumber(l)*m,milliseconds:$.default.toNumber(c)*m,microseconds:$.default.toNumber(f)*m,nanoseconds:$.default.toNumber(h)*m}}function Wv(e,t,r,n,i,o){let s,a,u=e,h=t,f=r,c=n,l=Ke("%Temporal.Duration%"),d=ga(u,h,f,c,0,0,0,0,0,0);o&&(a=Vt(o),s=R(a,ee));let p=new l(d),y=new l(0,d),m=new l(0,0,d);switch(i){case"year":break;case"month":{if(!s)throw new RangeError("a starting point is required for months balancing");let e=s.dateAdd,t=s.dateUntil,r=a;for(;Tt(u)>0;){let n=gn(s,r,p,void 0,e),i=Wi(null);i.largestUnit="month";let o=R(du(s,r,n,i,t),Ni);r=n,h+=o,u-=d}}break;case"week":if(!s)throw new RangeError("a starting point is required for weeks balancing");for(;Tt(u)>0;){let e;({relativeTo:a,days:e}=Xi(s,a,p)),c+=e,u-=d}for(;Tt(h)>0;){let e;({relativeTo:a,days:e}=Xi(s,a,y)),c+=e,h-=d}break;default:for(;Tt(u)>0;){if(!s)throw new RangeError("a starting point is required for balancing calendar units");let e;({relativeTo:a,days:e}=Xi(s,a,p)),c+=e,u-=d}for(;Tt(h)>0;){if(!s)throw new RangeError("a starting point is required for balancing calendar units");let e;({relativeTo:a,days:e}=Xi(s,a,y)),c+=e,h-=d}for(;Tt(f)>0;){if(!s)throw new RangeError("a starting point is required for balancing calendar units");let e;({relativeTo:a,days:e}=Xi(s,a,m)),c+=e,f-=d}}return{years:u,months:h,weeks:f,days:c}}function qI(e,t,r,n,i){if(ze(e)){let o=R(e,Qi),s=R(e,Lt),a=R(e,ee),u=Ts(s,o),h=Mo(o,s,a,t,r,n,i,0,0,0,0,0,0);return Ts(s,new(Ke("%Temporal.Instant%"))(h))-u}return 0}function PP(e){return new(Ke("%Temporal.Duration%"))(-R(e,un),-R(e,Ni),-R(e,In),-R(e,ln),-R(e,hn),-R(e,cn),-R(e,dn),-R(e,pn),-R(e,mn),-R(e,yn))}function Wn(e,t,r){return Jre(r,Xre(t,e))}function DP(e,t,r){let n=Wn(t,1,12);return{year:e,month:n,day:Wn(r,1,hf(e,n))}}function Hi(e,t,r){if(e<t||e>r)throw new RangeError(`value out of range: ${t} <= ${e} <= ${r}`)}function va(e,t,r){Hi(t,1,12),Hi(r,1,hf(e,t))}function BP(e,t,r){OP(e,t,r,12,0,0,0,0,0)}function M1(e,t,r,n,i,o){Hi(e,0,23),Hi(t,0,59),Hi(r,0,59),Hi(n,0,999),Hi(i,0,999),Hi(o,0,999)}function Rx(e,t,r,n,i,o,s,a,u){va(e,t,r),M1(n,i,o,s,a,u)}function OP(e,t,r,n,i,o,s,a,u){if(Hi(e,-271821,275760),-271821===e&&null==mu(e,t,r+1,n,i,o,s,a,u-1)||275760===e&&null==mu(e,t,r-1,n,i,o,s,a,u+1))throw new RangeError("DateTime outside of supported range")}function Fl(e){if($.default.lessThan(e,um)||$.default.greaterThan(e,lm))throw new RangeError("Instant outside of supported range")}function x1(e,t,r,n,i,o,s,a,u,h){let f=ga(e,t,r,n,i,o,s,a,u,h);for(let c of[e,t,r,n,i,o,s,a,u,h]){if(!qi(c))throw new RangeError("infinite values not allowed as duration fields");let e=fm(c);if(0!==e&&e!==f)throw new RangeError("mixed-sign values not allowed as duration fields")}}function kx(e,t,r,n,i,o,s){switch(s){case"year":case"month":{let a=-hu(e,t,r,n,i,o);if(0===a)return{years:0,months:0,weeks:0,days:0};let u={year:e,month:t,day:r},h={year:n,month:i,day:o},f=h.year-u.year,c=Wl(e,t,r,f,0,0,0,"constrain"),l=-hu(c.year,c.month,c.day,n,i,o);if(0===l)return"year"===s?{years:f,months:0,weeks:0,days:0}:{years:0,months:12*f,weeks:0,days:0};let d=h.month-u.month;if(l!==a&&(f-=a,d+=12*a),c=Wl(e,t,r,f,d,0,0,"constrain"),l=-hu(c.year,c.month,c.day,n,i,o),0===l)return"year"===s?{years:f,months:d,weeks:0,days:0}:{years:0,months:d+12*f,weeks:0,days:0};l!==a&&(d-=a,d===-a&&(f-=a,d=11*a),c=Wl(e,t,r,f,d,0,0,"constrain"));let p=0;return p=c.month===h.month?h.day-c.day:a<0?-c.day-(hf(h.year,h.month)-h.day):h.day+(hf(c.year,c.month)-c.day),"month"===s&&(d+=12*f,f=0),{years:f,months:d,weeks:0,days:p}}case"week":case"day":{let a,u,h;hu(e,t,r,n,i,o)<0?(u={year:e,month:t,day:r},a={year:n,month:i,day:o},h=1):(u={year:n,month:i,day:o},a={year:e,month:t,day:r},h=-1);let f=i1(a.year,a.month,a.day)-i1(u.year,u.month,u.day);for(let e=u.year;e<a.year;++e)f+=lu(e)?366:365;let c=0;return"week"===s&&(c=di(f/7),f%=7),c*=h,f*=h,{years:0,months:0,weeks:c,days:f}}default:throw new Error("assert not reached")}}function CP(e,t,r,n,i,o,s,a,u,h,f,c){let l=s-e,d=a-t,p=u-r,y=h-n,m=f-i,g=c-o,b=ga(0,0,0,0,l,d,p,y,m,g);l*=b,d*=b,p*=b,y*=b,m*=b,g*=b;let w=0;if(({deltaDays:w,hour:l,minute:d,second:p,millisecond:y,microsecond:m,nanosecond:g}=ff(l,d,p,y,m,g)),0!=w)throw new Error("assertion failure in DifferenceTime: _bt_.[[Days]] should be 0");return l*=b,d*=b,p*=b,y*=b,m*=b,g*=b,{hours:l,minutes:d,seconds:p,milliseconds:y,microseconds:m,nanoseconds:g}}function Ix(e,t,r,n,i){let o=$.default.subtract(t,e),s=$.default.remainder(o,$.default.BigInt(864e11)),a=$.default.subtract(o,s),u=$n(s,Cx[n]*r,i),h=$.default.add(a,u),f=$.default.toNumber($.default.remainder(h,qt)),c=$.default.toNumber($.default.remainder($.default.divide(h,qt),qt)),l=$.default.toNumber($.default.remainder($.default.divide(h,_o),qt));return{seconds:$.default.toNumber($.default.divide(h,lf)),milliseconds:l,microseconds:c,nanoseconds:f}}function Px(e,t,r,n,i,o,s,a,u,h,f,c,l,d,p,y,m,g,b,w,v){let _=e,E=t,S=r,{hours:M,minutes:A,seconds:k,milliseconds:x,microseconds:T,nanoseconds:P}=CP(n,i,o,s,a,u,l,d,p,y,m,g),I=ga(0,0,0,0,M,A,k,x,T,P);hu(h,f,c,_,E,S)===-I&&(({year:_,month:E,day:S}=_1(_,E,S-I)),({hours:M,minutes:A,seconds:k,milliseconds:x,microseconds:T,nanoseconds:P}=Vn(-I,M,A,k,x,T,P,w)));let R=Uo(_,E,S,b),O=Uo(h,f,c,b),B=h1(v,Kn("day",w)),{years:C,months:L,weeks:j,days:D}=du(b,R,O,B);return({days:D,hours:M,minutes:A,seconds:k,milliseconds:x,microseconds:T,nanoseconds:P}=Vn(D,M,A,k,x,T,P,w)),{years:C,months:L,weeks:j,days:D,hours:M,minutes:A,seconds:k,milliseconds:x,microseconds:T,nanoseconds:P}}function NP(e,t,r,n,i,o){let s=$.default.subtract(t,e);if($.default.equal(s,Fr))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let a=Ke("%Temporal.Instant%"),u=new a(e),h=new a(t),f=ro(r,u,n),c=ro(r,h,n),{years:l,months:d,weeks:p,days:y}=Px(R(f,Ne),R(f,qe),R(f,je),R(f,Qe),R(f,et),R(f,tt),R(f,rt),R(f,it),R(f,nt),R(c,Ne),R(c,qe),R(c,je),R(c,Qe),R(c,et),R(c,tt),R(c,rt),R(c,it),R(c,nt),n,i,o),m=Mo(u,r,n,l,d,p,0,0,0,0,0,0,0),g=$.default.subtract(t,m),b=$i(m,r,n);({nanoseconds:g,days:y}=Ax(g,b));let{hours:w,minutes:v,seconds:_,milliseconds:E,microseconds:S,nanoseconds:M}=Vn(0,0,0,0,0,0,$.default.toNumber(g),"hour");return{years:l,months:d,weeks:p,days:y,hours:w,minutes:v,seconds:_,milliseconds:E,microseconds:S,nanoseconds:M}}function jI(e,t,r,n){let i,o,s=ma(r);[i,o]="until"===e?[t,s]:[s,t];let a=ut(n),u=pi(a,"smallestUnit","time","nanosecond"),h=Kn("second",u),f=pi(a,"largestUnit","time","auto");if("auto"===f&&(f=h),Kn(f,u)!==f)throw new RangeError(`largestUnit ${f} cannot be smaller than smallestUnit ${u}`);let c,l,d=Pn(a,"trunc"),p=pf(a,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[u],!1),y=R(i,Ve),m=R(o,Ve),{seconds:g,milliseconds:b,microseconds:w,nanoseconds:v}=Ix(y,m,p,u,d);return({hours:c,minutes:l,seconds:g,milliseconds:b,microseconds:w,nanoseconds:v}=Vn(0,0,0,g,b,w,v,f)),new(Ke("%Temporal.Duration%"))(0,0,0,0,c,l,g,b,w,v)}function UI(e,t,r,n){let i="since"===e?-1:1,o=Vt(r),s=R(t,ee),a=R(o,ee),u=Je(s),h=Je(a);if(u!==h)throw new RangeError(`cannot compute difference between dates of ${u} and ${h} calendars`);let f=ut(n),c=pi(f,"smallestUnit","date","day"),l=Kn("day",c),d=pi(f,"largestUnit","date","auto");if("auto"===d&&(d=l),Kn(d,c)!==d)throw new RangeError(`largestUnit ${d} cannot be smaller than smallestUnit ${c}`);let p=Pn(f,"trunc");"since"===e&&(p=Em(p));let y=pf(f,void 0,!1),m=h1(f,d),{years:g,months:b,weeks:w,days:v}=du(s,t,o,m);return"day"===c&&1===y||({years:g,months:b,weeks:w,days:v}=yu(g,b,w,v,0,0,0,0,0,0,y,c,p,t)),new(Ke("%Temporal.Duration%"))(i*g,i*b,i*w,i*v,0,0,0,0,0,0)}function zI(e,t,r,n){let i="since"===e?-1:1,o=$l(r),s=R(t,ee),a=R(o,ee),u=Je(s),h=Je(a);if(u!==h)throw new RangeError(`cannot compute difference between dates of ${u} and ${h} calendars`);let f=ut(n),c=pi(f,"smallestUnit","datetime","nanosecond"),l=Kn("day",c),d=pi(f,"largestUnit","datetime","auto");if("auto"===d&&(d=l),Kn(d,c)!==d)throw new RangeError(`largestUnit ${d} cannot be smaller than smallestUnit ${c}`);let p=Pn(f,"trunc");"since"===e&&(p=Em(p));let y=vx(f,c),{years:m,months:g,weeks:b,days:w,hours:v,minutes:_,seconds:E,milliseconds:S,microseconds:M,nanoseconds:A}=Px(R(t,Ne),R(t,qe),R(t,je),R(t,Qe),R(t,et),R(t,tt),R(t,rt),R(t,it),R(t,nt),R(o,Ne),R(o,qe),R(o,je),R(o,Qe),R(o,et),R(o,tt),R(o,rt),R(o,it),R(o,nt),s,d,f),k=vd(t);return({years:m,months:g,weeks:b,days:w,hours:v,minutes:_,seconds:E,milliseconds:S,microseconds:M,nanoseconds:A}=yu(m,g,b,w,v,_,E,S,M,A,y,c,p,k)),({days:w,hours:v,minutes:_,seconds:E,milliseconds:S,microseconds:M,nanoseconds:A}=Vn(w,v,_,E,S,M,A,d)),new(Ke("%Temporal.Duration%"))(i*m,i*g,i*b,i*w,i*v,i*_,i*E,i*S,i*M,i*A)}function FI(e,t,r,n){let i="since"===e?-1:1,o=uf(r),s=ut(n),a=pi(s,"largestUnit","time","auto");"auto"===a&&(a="hour");let u=pi(s,"smallestUnit","time","nanosecond");if(Kn(a,u)!==a)throw new RangeError(`largestUnit ${a} cannot be smaller than smallestUnit ${u}`);let h=Pn(s,"trunc");"since"===e&&(h=Em(h));let f=pf(s,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[u],!1),{hours:c,minutes:l,seconds:d,milliseconds:p,microseconds:y,nanoseconds:m}=CP(R(t,Qe),R(t,et),R(t,tt),R(t,rt),R(t,it),R(t,nt),R(o,Qe),R(o,et),R(o,tt),R(o,rt),R(o,it),R(o,nt));return({hours:c,minutes:l,seconds:d,milliseconds:p,microseconds:y,nanoseconds:m}=yu(0,0,0,0,c,l,d,p,y,m,f,u,h)),({hours:c,minutes:l,seconds:d,milliseconds:p,microseconds:y,nanoseconds:m}=Vn(0,c,l,d,p,y,m,a)),new(Ke("%Temporal.Duration%"))(0,0,0,0,i*c,i*l,i*d,i*p,i*y,i*m)}function $I(e,t,r,n){let i="since"===e?-1:1,o=im(r),s=R(t,ee),a=R(o,ee),u=Je(s),h=Je(a);if(u!==h)throw new RangeError(`cannot compute difference between months of ${u} and ${h} calendars`);let f=ut(n),c=xd.reduce(((e,[t,r,n])=>("date"===n&&"week"!==r&&"day"!==r&&e.push(r,t),e)),[]),l=pi(f,"smallestUnit","date","month");if("week"===l||"day"===l)throw new RangeError(`smallestUnit must be one of ${c.join(", ")}, not ${l}`);let d=pi(f,"largestUnit","date","auto");if("week"===d||"day"===d)throw new RangeError(`largestUnit must be one of ${c.join(", ")}, not ${d}`);if("auto"===d&&(d="year"),Kn(d,l)!==d)throw new RangeError(`largestUnit ${d} cannot be smaller than smallestUnit ${l}`);let p=Pn(f,"trunc");"since"===e&&(p=Em(p));let y=pf(f,void 0,!1),m=Vr(s,["monthCode","year"]),g=ft(o,m,[]);g.day=1;let b=ft(t,m,[]);b.day=1;let w=pu(s,g),v=pu(s,b),_=h1(f,d),{years:E,months:S}=du(s,v,w,_);return"month"===l&&1===y||({years:E,months:S}=yu(E,S,0,0,0,0,0,0,0,0,y,l,p,v)),new(Ke("%Temporal.Duration%"))(i*E,i*S,0,0,0,0,0,0,0,0)}function HI(e,t,r,n){let i="since"===e?-1:1,o=nm(r),s=R(t,ee),a=R(o,ee),u=Je(s),h=Je(a);if(u!==h)throw new RangeError(`cannot compute difference between dates of ${u} and ${h} calendars`);let f=ut(n),c=pi(f,"smallestUnit","datetime","nanosecond"),l=Kn("hour",c),d=pi(f,"largestUnit","datetime","auto");if("auto"===d&&(d=l),Kn(d,c)!==d)throw new RangeError(`largestUnit ${d} cannot be smaller than smallestUnit ${c}`);let p=Pn(f,"trunc");"since"===e&&(p=Em(p));let y,m,g,b,w,v,_,E,S,M,A=vx(f,c),k=R(t,Ve),x=R(o,Ve);if("year"!==d&&"month"!==d&&"week"!==d&&"day"!==d)y=0,m=0,g=0,b=0,({seconds:_,milliseconds:E,microseconds:S,nanoseconds:M}=Ix(k,x,A,c,p)),({hours:w,minutes:v,seconds:_,milliseconds:E,microseconds:S,nanoseconds:M}=Vn(0,0,0,_,E,S,M,d));else{let e=R(t,Lt);if(!EP(e,R(o,Lt)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");let r=h1(f,d);({years:y,months:m,weeks:g,days:b,hours:w,minutes:v,seconds:_,milliseconds:E,microseconds:S,nanoseconds:M}=NP(k,x,e,s,d,r)),({years:y,months:m,weeks:g,days:b,hours:w,minutes:v,seconds:_,milliseconds:E,microseconds:S,nanoseconds:M}=yu(y,m,g,b,w,v,_,E,S,M,A,c,p,t)),({years:y,months:m,weeks:g,days:b,hours:w,minutes:v,seconds:_,milliseconds:E,microseconds:S,nanoseconds:M}=jP(y,m,g,b,w,v,_,E,S,M,A,c,p,t))}return new(Ke("%Temporal.Duration%"))(i*y,i*m,i*g,i*b,i*w,i*v,i*_,i*E,i*S,i*M)}function Wl(e,t,r,n,i,o,s,a){let u=e,h=t,f=r,c=o,l=s;return u+=n,h+=i,({year:u,month:h}=Kv(u,h)),({year:u,month:h,day:f}=Qv(u,h,f,a)),l+=7*c,f+=l,({year:u,month:h,day:f}=_1(u,h,f)),{year:u,month:h,day:f}}function LP(e,t,r,n,i,o,s,a,u,h,f,c){let l=e,d=t,p=r,y=n,m=i,g=o;l+=s,d+=a,p+=u,y+=h,m+=f,g+=c;let b=0;return({deltaDays:b,hour:l,minute:d,second:p,millisecond:y,microsecond:m,nanosecond:g}=ff(l,d,p,y,m,g)),{deltaDays:b,hour:l,minute:d,second:p,millisecond:y,microsecond:m,nanosecond:g}}function qP(e,t,r,n,i,o,s,a,u,h,f,c,l,d,p,y,m,g,b,w,v){let _,E,S,M,A,k,x,T,P,I,O=Kn(FM(e,t,r,n,i,o,s,a,u,h),FM(f,c,l,d,p,y,m,g,b,w));if(v)if(yt(v)){let B=Ke("%Temporal.Duration%"),C=R(v,ee),L=new B(e,t,r,n,0,0,0,0,0,0),j=new B(f,c,l,d,0,0,0,0,0,0),D=C.dateAdd,N=gn(C,v,L,void 0,D),U=gn(C,N,j,void 0,D),H=Kn("day",O),z=Wi(null);z.largestUnit=H,({years:_,months:E,weeks:S,days:M}=du(C,v,U,z)),({days:M,hours:A,minutes:k,seconds:x,milliseconds:T,microseconds:P,nanoseconds:I}=Vn(M,i+p,o+y,s+m,a+g,u+b,h+w,O))}else{let B=Ke("%Temporal.Instant%"),C=R(v,Lt),L=R(v,ee),j=Mo(R(v,Qi),C,L,e,t,r,n,i,o,s,a,u,h),D=Mo(new B(j),C,L,f,c,l,d,p,y,m,g,b,w);"year"!==O&&"month"!==O&&"week"!==O&&"day"!==O?(_=0,E=0,S=0,M=0,({seconds:x,milliseconds:T,microseconds:P,nanoseconds:I}=Ix(R(v,Ve),D,1,"nanosecond","halfExpand")),({hours:A,minutes:k,seconds:x,milliseconds:T,microseconds:P,nanoseconds:I}=Vn(0,0,0,x,T,P,I,O))):({years:_,months:E,weeks:S,days:M,hours:A,minutes:k,seconds:x,milliseconds:T,microseconds:P,nanoseconds:I}=NP(R(v,Ve),D,C,L,O,Wi(null)))}else{if("year"===O||"month"===O||"week"===O)throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");_=E=S=0,({days:M,hours:A,minutes:k,seconds:x,milliseconds:T,microseconds:P,nanoseconds:I}=Vn(n+d,i+p,o+y,s+m,a+g,u+b,h+w,O))}return x1(_,E,S,M,A,k,x,T,P,I),{years:_,months:E,weeks:S,days:M,hours:A,minutes:k,seconds:x,milliseconds:T,microseconds:P,nanoseconds:I}}function HM(e,t,r,n,i,o,s){let a=Fr;a=$.default.add(a,$.default.BigInt(s)),a=$.default.add(a,$.default.multiply($.default.BigInt(o),qt)),a=$.default.add(a,$.default.multiply($.default.BigInt(i),_o)),a=$.default.add(a,$.default.multiply($.default.BigInt(n),lf)),a=$.default.add(a,$.default.multiply($.default.BigInt(r),$.default.BigInt(6e10))),a=$.default.add(a,$.default.multiply($.default.BigInt(t),$.default.BigInt(36e11)));let u=$.default.add(e,a);return Fl(u),u}function WM(e,t,r,n,i,o,s,a,u,h,f,c,l,d,p,y,m,g,b,w,v){let _=d,{deltaDays:E,hour:S,minute:M,second:A,millisecond:k,microsecond:x,nanosecond:T}=LP(n,i,o,s,a,u,p,y,m,g,b,w);_+=E;let P=Ke("%Temporal.Duration%"),I=gn(h,Uo(e,t,r,h),new P(f,c,l,_,0,0,0,0,0,0),v);return{year:R(I,Ne),month:R(I,qe),day:R(I,je),hour:S,minute:M,second:A,millisecond:k,microsecond:x,nanosecond:T}}function Mo(e,t,r,n,i,o,s,a,u,h,f,c,l,d){let p=Ke("%Temporal.Duration%");if(0===ga(n,i,o,s,0,0,0,0,0,0))return HM(R(e,Ve),a,u,h,f,c,l);let y=ro(t,e,r),m=gn(r,Uo(R(y,Ne),R(y,qe),R(y,je),r),new p(n,i,o,s,0,0,0,0,0,0),d),g=Hn(R(m,Ne),R(m,qe),R(m,je),R(y,Qe),R(y,et),R(y,tt),R(y,rt),R(y,it),R(y,nt),r);return HM(R(vn(t,g,"compatible"),Ve),a,u,h,f,c,l)}function WI(e,t,r,n){let i="subtract"===e?-1:1,{years:o,months:s,weeks:a,days:u,hours:h,minutes:f,seconds:c,milliseconds:l,microseconds:d,nanoseconds:p}=rh(r),y=Vv(ut(n));return({years:o,months:s,weeks:a,days:u,hours:h,minutes:f,seconds:c,milliseconds:l,microseconds:d,nanoseconds:p}=qP(R(t,un),R(t,Ni),R(t,In),R(t,ln),R(t,hn),R(t,cn),R(t,dn),R(t,pn),R(t,mn),R(t,yn),i*o,i*s,i*a,i*u,i*h,i*f,i*c,i*l,i*d,i*p,y)),new(Ke("%Temporal.Duration%"))(o,s,a,u,h,f,c,l,d,p)}function VI(e,t,r){let n="subtract"===e?-1:1,{hours:i,minutes:o,seconds:s,milliseconds:a,microseconds:u,nanoseconds:h}=function(e,t){let r=rh(e);for(let e of["years","months","weeks","days"])if(0!==r[e])throw new RangeError(`Duration field ${e} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return r}(r),f=HM(R(t,Ve),n*i,n*o,n*s,n*a,n*u,n*h);return new(Ke("%Temporal.Instant%"))(f)}function KI(e,t,r,n){let i="subtract"===e?-1:1,{years:o,months:s,weeks:a,days:u,hours:h,minutes:f,seconds:c,milliseconds:l,microseconds:d,nanoseconds:p}=rh(r),y=ut(n),m=R(t,ee),{year:g,month:b,day:w,hour:v,minute:_,second:E,millisecond:S,microsecond:M,nanosecond:A}=WM(R(t,Ne),R(t,qe),R(t,je),R(t,Qe),R(t,et),R(t,tt),R(t,rt),R(t,it),R(t,nt),m,i*o,i*s,i*a,i*u,i*h,i*f,i*c,i*l,i*d,i*p,y);return Hn(g,b,w,v,_,E,S,M,A,m)}function GI(e,t,r){let n="subtract"===e?-1:1,{hours:i,minutes:o,seconds:s,milliseconds:a,microseconds:u,nanoseconds:h}=rh(r),{hour:f,minute:c,second:l,millisecond:d,microsecond:p,nanosecond:y}=LP(R(t,Qe),R(t,et),R(t,tt),R(t,rt),R(t,it),R(t,nt),n*i,n*o,n*s,n*a,n*u,n*h);return({hour:f,minute:c,second:l,millisecond:d,microsecond:p,nanosecond:y}=l1(f,c,l,d,p,y,"reject")),new(Ke("%Temporal.PlainTime%"))(f,c,l,d,p,y)}function ZI(e,t,r,n){let i=rh(r);"subtract"===e&&(i={years:-i.years,months:-i.months,weeks:-i.weeks,days:-i.days,hours:-i.hours,minutes:-i.minutes,seconds:-i.seconds,milliseconds:-i.milliseconds,microseconds:-i.microseconds,nanoseconds:-i.nanoseconds});let{years:o,months:s,weeks:a,days:u,hours:h,minutes:f,seconds:c,milliseconds:l,microseconds:d,nanoseconds:p}=i;({days:u}=Vn(u,h,f,c,l,d,p,"day"));let y=ut(n),m=R(t,ee),g=Vr(m,["monthCode","year"]),b=ft(t,g,[]),w=ga(o,s,a,u,0,0,0,0,0,0);b.day=w<0?cm(km(m,t)):1;let v=pu(m,b),_=new(Ke("%Temporal.Duration%"))(o,s,a,u,0,0,0,0,0,0),E=uP(Wi(null),y);return Yl(m,ft(gn(m,v,_,y),g,[]),E)}function YI(e,t,r,n){let i="subtract"===e?-1:1,{years:o,months:s,weeks:a,days:u,hours:h,minutes:f,seconds:c,milliseconds:l,microseconds:d,nanoseconds:p}=rh(r),y=ut(n),m=R(t,Lt),g=R(t,ee);return $i(Mo(R(t,Qi),m,g,i*o,i*s,i*a,i*u,i*h,i*f,i*c,i*l,i*d,i*p,y),m,g)}function $n(e,t,r){if(1===t)return e;let{quotient:n,remainder:i}=hi(e,$.default.BigInt(t));if($.default.equal(i,Fr))return e;let o=$.default.lessThan(i,Fr)?-1:1;switch(r){case"ceil":o>0&&(n=$.default.add(n,$.default.BigInt(o)));break;case"floor":o<0&&(n=$.default.add(n,$.default.BigInt(o)));break;case"trunc":break;case"halfExpand":$.default.toNumber(gx($.default.multiply(i,$.default.BigInt(2))))>=t&&(n=$.default.add(n,$.default.BigInt(o)))}return $.default.multiply(n,$.default.BigInt(t))}function n1(e,t,r,n){let i=$.default.remainder(e,$.default.BigInt(864e11));$.default.lessThan(i,Fr)&&(i=$.default.add(i,$.default.BigInt(864e11)));let o=$.default.subtract(e,i),s=$n(i,Cx[r]*t,n);return $.default.add(o,s)}function Dx(e,t,r,n,i,o,s,a,u,h,f,c,l=864e11){let{deltaDays:d,hour:p,minute:y,second:m,millisecond:g,microsecond:b,nanosecond:w}=Bx(n,i,o,s,a,u,h,f,c,l),{year:v,month:_,day:E}=_1(e,t,r+d);return{year:v,month:_,day:E,hour:p,minute:y,second:m,millisecond:g,microsecond:b,nanosecond:w}}function Bx(e,t,r,n,i,o,s,a,u,h=864e11){let f=Fr;switch(a){case"day":case"hour":f=$.default.BigInt(e);case"minute":f=$.default.add($.default.multiply(f,Hl),$.default.BigInt(t));case"second":f=$.default.add($.default.multiply(f,Hl),$.default.BigInt(r));case"millisecond":f=$.default.add($.default.multiply(f,qt),$.default.BigInt(n));case"microsecond":f=$.default.add($.default.multiply(f,qt),$.default.BigInt(i));case"nanosecond":f=$.default.add($.default.multiply(f,qt),$.default.BigInt(o))}let c="day"===a?h:Cx[a],l=$n(f,c*s,u),d=$.default.toNumber($.default.divide(l,$.default.BigInt(c)));switch(a){case"day":return{deltaDays:d,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return ff(d,0,0,0,0,0);case"minute":return ff(e,d,0,0,0,0);case"second":return ff(e,t,d,0,0,0);case"millisecond":return ff(e,t,r,d,0,0);case"microsecond":return ff(e,t,r,n,d,0);case"nanosecond":return ff(e,t,r,n,i,d);default:throw new Error(`Invalid unit ${a}`)}}function Gv(e,t){return kx(R(e,Ne),R(e,qe),R(e,je),R(t,Ne),R(t,qe),R(t,je),"day").days}function Xi(e,t,r){let n=gn(e,t,r,void 0);return{relativeTo:n,days:Gv(t,n)}}function VM(e,t,r,n,i){let o=R(e,Lt),s=R(e,ee);return $i(Mo(R(e,Qi),o,s,t,r,n,i,0,0,0,0,0,0),o,s)}function jP(e,t,r,n,i,o,s,a,u,h,f,c,l,d){let p=e,y=t,m=r,g=n,b=i,w=o,v=s,_=a,E=u,S=h;if(!ze(d)||"year"===c||"month"===c||"week"===c||"day"===c||"nanosecond"===c&&1===f)return{years:p,months:y,weeks:m,days:g,hours:b,minutes:w,seconds:v,milliseconds:_,microseconds:E,nanoseconds:S};let M=bd(0,b,w,v,_,E,S,0),A=fm($.default.toNumber(M)),k=R(d,Lt),x=R(d,ee),T=Mo(R(d,Qi),k,x,p,y,m,g,0,0,0,0,0,0),P=Mo(new(Ke("%Temporal.Instant%"))(T),k,x,0,0,0,A,0,0,0,0,0,0),I=$.default.subtract(P,T);return $.default.greaterThanOrEqual($.default.multiply($.default.subtract(M,I),$.default.BigInt(A)),Fr)&&(({years:p,months:y,weeks:m,days:g}=qP(p,y,m,g,0,0,0,0,0,0,0,0,0,A,0,0,0,0,0,0,d)),M=n1($.default.subtract(M,I),f,c,l),({hours:b,minutes:w,seconds:v,milliseconds:_,microseconds:E,nanoseconds:S}=Vn(0,0,0,0,0,0,$.default.toNumber(M),"hour"))),{years:p,months:y,weeks:m,days:g,hours:b,minutes:w,seconds:v,milliseconds:_,microseconds:E,nanoseconds:S}}function yu(e,t,r,n,i,o,s,a,u,h,f,c,l,d){let p,y,m,g,b=e,w=t,v=r,_=n,E=i,S=o,M=s,A=a,k=u,x=$.default.BigInt(h),T=Ke("%Temporal.Duration%"),P=d;if(P){if(ze(P))y=P,P=Vt(P);else if(!yt(P))throw new TypeError("starting point must be PlainDate or ZonedDateTime");p=R(P,ee)}if("year"===c||"month"===c||"week"===c||"day"===c){let e,t,r;x=bd(0,E,S,M,A,k,h,0),y&&(e=VM(y,b,w,v,_)),({days:t,nanoseconds:x,dayLengthNs:r}=Ax(x,e)),m=$.default.BigInt(r),_+=t,E=S=M=A=k=0}switch(c){case"year":{if(!p)throw new RangeError("A starting point is required for years rounding");let e=new T(b),t=p.dateAdd,r=gn(p,P,e,void 0,t),n=gn(p,P,new T(b,w,v),void 0,t);P=r,_+=Gv(r,n);let i=gn(p,P,{days:_},void 0,t),o=Wi(null);o.largestUnit="year";let s=du(p,P,i,o).years;b+=s;let a=P;P=gn(p,P,{years:s},void 0,t),_-=Gv(a,P);let u=new T(_<0?-1:1),{days:h}=Xi(p,P,u);h=Tt(h);let c=$.default.multiply($.default.BigInt(h),m);x=$.default.add($.default.add($.default.multiply(c,$.default.BigInt(b)),$.default.multiply($.default.BigInt(_),m)),x);let d=$n(x,$.default.toNumber($.default.multiply(c,$.default.BigInt(f))),l);g=$.default.toNumber(x)/$.default.toNumber(c),b=$.default.toNumber($.default.divide(d,c)),x=Fr,w=v=_=0;break}case"month":{if(!p)throw new RangeError("A starting point is required for months rounding");let e=new T(b,w),t=p.dateAdd,r=gn(p,P,e,void 0,t),n=gn(p,P,new T(b,w,v),void 0,t);P=r,_+=Gv(r,n);let i,o=fm(_),s=new T(0,_<0?-1:1);for(({relativeTo:P,days:i}=Xi(p,P,s));Tt(_)>=Tt(i);)w+=o,_-=i,({relativeTo:P,days:i}=Xi(p,P,s));i=Tt(i);let a=$.default.multiply($.default.BigInt(i),m);x=$.default.add($.default.add($.default.multiply(a,$.default.BigInt(w)),$.default.multiply($.default.BigInt(_),m)),x);let u=$n(x,$.default.toNumber($.default.multiply(a,$.default.BigInt(f))),l);g=$.default.toNumber(x)/$.default.toNumber(a),w=$.default.toNumber($.default.divide(u,a)),x=Fr,v=_=0;break}case"week":{if(!p)throw new RangeError("A starting point is required for weeks rounding");let e,t=fm(_),r=new T(0,0,_<0?-1:1);for(({relativeTo:P,days:e}=Xi(p,P,r));Tt(_)>=Tt(e);)v+=t,_-=e,({relativeTo:P,days:e}=Xi(p,P,r));e=Tt(e);let n=$.default.multiply($.default.BigInt(e),m);x=$.default.add($.default.add($.default.multiply(n,$.default.BigInt(v)),$.default.multiply($.default.BigInt(_),m)),x);let i=$n(x,$.default.toNumber($.default.multiply(n,$.default.BigInt(f))),l);g=$.default.toNumber(x)/$.default.toNumber(n),v=$.default.toNumber($.default.divide(i,n)),x=Fr,_=0;break}case"day":{let e=m;x=$.default.add($.default.multiply(e,$.default.BigInt(_)),x);let t=$n(x,$.default.toNumber($.default.multiply(e,$.default.BigInt(f))),l);g=$.default.toNumber(x)/$.default.toNumber(e),_=$.default.toNumber($.default.divide(t,e)),x=Fr;break}case"hour":{let e=$.default.multiply($.default.BigInt(E),$.default.BigInt(36e11));e=$.default.add(e,$.default.multiply($.default.BigInt(S),$.default.BigInt(6e10))),e=$.default.add(e,$.default.multiply($.default.BigInt(M),lf)),e=$.default.add(e,$.default.multiply($.default.BigInt(A),_o)),e=$.default.add(e,$.default.multiply($.default.BigInt(k),qt)),e=$.default.add(e,x),g=$.default.toNumber(e)/36e11;let t=$n(e,36e11*f,l);E=$.default.toNumber($.default.divide(t,$.default.BigInt(36e11))),x=Fr,S=M=A=k=0;break}case"minute":{let e=$.default.multiply($.default.BigInt(S),$.default.BigInt(6e10));e=$.default.add(e,$.default.multiply($.default.BigInt(M),lf)),e=$.default.add(e,$.default.multiply($.default.BigInt(A),_o)),e=$.default.add(e,$.default.multiply($.default.BigInt(k),qt)),e=$.default.add(e,x),g=$.default.toNumber(e)/6e10;let t=$n(e,6e10*f,l);S=$.default.toNumber($.default.divide(t,$.default.BigInt(6e10))),x=Fr,M=A=k=0;break}case"second":{let e=$.default.multiply($.default.BigInt(M),lf);e=$.default.add(e,$.default.multiply($.default.BigInt(A),_o)),e=$.default.add(e,$.default.multiply($.default.BigInt(k),qt)),e=$.default.add(e,x),g=$.default.toNumber(e)/1e9;let t=$n(e,1e9*f,l);M=$.default.toNumber($.default.divide(t,$.default.BigInt(1e9))),x=Fr,A=k=0;break}case"millisecond":{let e=$.default.multiply($.default.BigInt(A),_o);e=$.default.add(e,$.default.multiply($.default.BigInt(k),qt)),e=$.default.add(e,x),g=$.default.toNumber(e)/1e6;let t=$n(e,1e6*f,l);A=$.default.toNumber($.default.divide(t,$.default.BigInt(1e6))),x=Fr,k=0;break}case"microsecond":{let e=$.default.multiply($.default.BigInt(k),qt);e=$.default.add(e,x),g=$.default.toNumber(e)/1e3;let t=$n(e,1e3*f,l);k=$.default.toNumber($.default.divide(t,$.default.BigInt(1e3))),x=Fr;break}case"nanosecond":g=$.default.toNumber(x),x=$n(x,f,l)}return{years:b,months:w,weeks:v,days:_,hours:E,minutes:S,seconds:M,milliseconds:A,microseconds:k,nanoseconds:$.default.toNumber(x),total:g}}function hu(e,t,r,n,i,o){for(let[s,a]of[[e,n],[t,i],[r,o]])if(s!==a)return Vl(s-a);return 0}function cd(e,t){let r=e%t;return rie(r,-0)?0:(r<0&&(r+=t),r)}function o1(e){let t=sm(e);return void 0!==globalThis.BigInt?globalThis.BigInt(t.toString(10)):t}function sm(e){if(e instanceof $.default)return e;let t=e;if("object"==typeof e){let r=e[Symbol.toPrimitive];r&&"function"==typeof r&&(t=mx(r,e,["number"]))}switch(typeof t){case"undefined":case"object":case"number":case"symbol":default:throw new TypeError(`cannot convert ${typeof e} to bigint`);case"string":if(!t.match(/^\s*(?:[+-]?\d+\s*)?$/))throw new SyntaxError("invalid BigInt syntax");case"bigint":try{return $.default.BigInt(t.toString())}catch(e){throw e instanceof Error&&e.message.startsWith("Invalid integer")?new SyntaxError(e.message):e}case"boolean":return t?yx:Fr}}var Ox=(()=>{let e=$.default.BigInt(Date.now()%1e6);return()=>{let t=$.default.BigInt(Date.now()),r=$.default.add($.default.multiply(t,_o),e);return e=$.default.remainder(t,_o),$.default.greaterThan(r,lm)?lm:$.default.lessThan(r,um)?um:r}})();function Vl(e){return e<0?-1:e>0?1:e}function ut(e){if(void 0===e)return Wi(null);if(nr(e)&&null!==e)return e;throw new TypeError("Options parameter must be an object, not "+(null===e?"null":typeof e))}function wd(e,t){let r=Wi(null);return r[e]=t,r}function gu(e,t,r,n){let i=e[t];if(void 0!==i){if(i=Je(i),!r.includes(i))throw new RangeError(`${t} must be one of ${r.join(", ")}, not ${i}`);return i}return n}function UP(e){return aP.call(oie,e)}var zP=new RegExp(`^${nP.source}$`);function FP(e,t,r,n=e(t),i=e(r)){let o=$.default.BigInt(t),s=$.default.BigInt(r),a=n,u=i;for(;$.default.greaterThan($.default.subtract(s,o),yx);){let t=$.default.divide($.default.add(o,s),$.default.BigInt(2)),r=e(t);if(r===a)o=t,a=r;else{if(r!==u)throw new Error(`invalid state in bisection ${a} - ${r} - ${u}`);s=t,u=r}}return s}var Cx={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},$P=Symbol("date"),HP=Symbol("ym"),WP=Symbol("md"),VP=Symbol("time"),KP=Symbol("datetime"),GP=Symbol("zoneddatetime"),ZP=Symbol("instant"),md=Symbol("original"),KM=Symbol("timezone"),Zv=Symbol("timezone-id-given"),to=Symbol("calendar-id"),YP=Symbol("locale"),GM=Symbol("options"),am=e=>({value:e,enumerable:!0,writable:!1,configurable:!0}),Kl=globalThis.Intl.DateTimeFormat,ba=Object.assign,lie=Object.prototype.hasOwnProperty,hie=Reflect.apply;function zl(e,t){let r=e[t];return"function"==typeof r&&(r=new Kl(e[YP],r(e[GM])),e[t]=r),r}function rm(e){let t=e[KM];return"string"==typeof t&&(t=bn(t),e[KM]=t),t}function Xl(e,t={}){if(!(this instanceof Xl))return new Xl(e,t);let r=void 0!==t,n=r?ba({},t):{},i=new Kl(e,n),o=i.resolvedOptions();if(r){let e=ba({},o);for(let t in e)hie(lie,n,[t])||delete e[t];this[GM]=e}else this[GM]=n;this[Zv]=n.timeZone?n.timeZone:null,this[YP]=o.locale,this[md]=i,this[KM]=o.timeZone,this[to]=o.calendar,this[$P]=mie,this[HP]=die,this[WP]=pie,this[VP]=cie,this[KP]=yie,this[GP]=gie,this[ZP]=vie}Object.defineProperty(Xl,"name",{writable:!0,value:"DateTimeFormat"}),Xl.supportedLocalesOf=function(e,t){return Kl.supportedLocalesOf(e,t)};var OM={resolvedOptions:am((function(){return this[md].resolvedOptions()})),format:am((function(e,...t){let{instant:r,formatter:n,timeZone:i}=yd(e,this);return r&&n?(n=s1(n,i),n.format(r.epochMilliseconds)):this[md].format(e,...t)})),formatRange:am((function(e,t){if(_d(e)||_d(t)){if(!JP(e,t))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");let{instant:r,formatter:n,timeZone:i}=yd(e,this),{instant:o,formatter:s,timeZone:a}=yd(t,this);if(i&&a&&i!==a)throw new RangeError("cannot format range between different time zones");if(r&&o&&n&&s&&n===s)return s1(n,i).formatRange(r.epochMilliseconds,o.epochMilliseconds)}return this[md].formatRange(e,t)}))};"formatToParts"in Kl.prototype&&(OM.formatToParts=am((function(e,...t){let{instant:r,formatter:n,timeZone:i}=yd(e,this);return r&&n?(n=s1(n,i),n.formatToParts(r.epochMilliseconds)):this[md].formatToParts(e,...t)}))),"formatRangeToParts"in Kl.prototype&&(OM.formatRangeToParts=am((function(e,t){if(_d(e)||_d(t)){if(!JP(e,t))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");let{instant:r,formatter:n,timeZone:i}=yd(e,this),{instant:o,formatter:s,timeZone:a}=yd(t,this);if(i&&a&&i!==a)throw new RangeError("cannot format range between different time zones");if(r&&o&&n&&s&&n===s)return s1(n,i).formatRangeToParts(r.epochMilliseconds,o.epochMilliseconds)}return this[md].formatRangeToParts(e,t)}))),Xl.prototype=Object.create(Kl.prototype,OM),Object.defineProperty(Xl,"prototype",{writable:!1,enumerable:!1,configurable:!1});var wu=Xl;function s1(e,t){if(!t)return e;let r=e.resolvedOptions();return r.timeZone===t?e:((r.dateStyle||r.timeStyle)&&(delete r.weekday,delete r.era,delete r.year,delete r.month,delete r.day,delete r.hour,delete r.minute,delete r.second,delete r.timeZoneName,delete r.hourCycle,delete r.hour12,delete r.dayPeriod),new Kl(r.locale,{...r,timeZone:t}))}function Pm(e={},t={}){let r=ba({},e);for(let e of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])r[e]=e in t?t[e]:r[e],!1!==r[e]&&void 0!==r[e]||delete r[e];return r}function cie(e){let t=Pm(e,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return S1(t)||(t=ba({},t,{hour:"numeric",minute:"numeric",second:"numeric"})),t}function die(e){let t=Pm(e,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in t||"month"in t||(t=ba(t,{year:"numeric",month:"numeric"})),t}function pie(e){let t=Pm(e,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in t||"day"in t||(t=ba({},t,{month:"numeric",day:"numeric"})),t}function mie(e){let t=Pm(e,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return E1(t)||(t=ba({},t,{year:"numeric",month:"numeric",day:"numeric"})),t}function yie(e){let t=Pm(e,{timeZoneName:!1});return S1(t)||E1(t)||(t=ba({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),t}function gie(e){let t=e;return S1(t)||E1(t)||(t=ba({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),void 0===t.timeZoneName&&(t.timeZoneName="short")),t}function vie(e){let t=e;return S1(t)||E1(t)||(t=ba({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),t}function E1(e){return"year"in e||"month"in e||"day"in e||"weekday"in e||"dateStyle"in e}function S1(e){return"hour"in e||"minute"in e||"second"in e||"timeStyle"in e||"dayPeriod"in e}function _d(e){return yt(e)||Or(e)||st(e)||ze(e)||Pt(e)||Li(e)||Xr(e)}function JP(e,t){return!(!_d(e)||!_d(t)||Or(e)&&!Or(t)||yt(e)&&!yt(t)||st(e)&&!st(t)||ze(e)&&!ze(t)||Pt(e)&&!Pt(t)||Li(e)&&!Li(t)||Xr(e)&&!Xr(t))}function yd(e,t){let r=Ke("%Temporal.PlainDateTime%");if(Or(e)){let n=new r(1970,1,1,R(e,Qe),R(e,et),R(e,tt),R(e,rt),R(e,it),R(e,nt),t[to]);return{instant:vn(rm(t),n,"compatible"),formatter:zl(t,VP)}}if(Pt(e)){let n=R(e,Ne),i=R(e,qe),o=R(e,je),s=Je(R(e,ee));if(s!==t[to])throw new RangeError(`cannot format PlainYearMonth with calendar ${s} in locale with calendar ${t[to]}`);let a=new r(n,i,o,12,0,0,0,0,0,s);return{instant:vn(rm(t),a,"compatible"),formatter:zl(t,HP)}}if(Li(e)){let n=R(e,Ne),i=R(e,qe),o=R(e,je),s=Je(R(e,ee));if(s!==t[to])throw new RangeError(`cannot format PlainMonthDay with calendar ${s} in locale with calendar ${t[to]}`);let a=new r(n,i,o,12,0,0,0,0,0,s);return{instant:vn(rm(t),a,"compatible"),formatter:zl(t,WP)}}if(yt(e)){let n=R(e,Ne),i=R(e,qe),o=R(e,je),s=Je(R(e,ee));if("iso8601"!==s&&s!==t[to])throw new RangeError(`cannot format PlainDate with calendar ${s} in locale with calendar ${t[to]}`);let a=new r(n,i,o,12,0,0,0,0,0,t[to]);return{instant:vn(rm(t),a,"compatible"),formatter:zl(t,$P)}}if(st(e)){let n=R(e,Ne),i=R(e,qe),o=R(e,je),s=R(e,Qe),a=R(e,et),u=R(e,tt),h=R(e,rt),f=R(e,it),c=R(e,nt),l=Je(R(e,ee));if("iso8601"!==l&&l!==t[to])throw new RangeError(`cannot format PlainDateTime with calendar ${l} in locale with calendar ${t[to]}`);let d=e;return"iso8601"===l&&(d=new r(n,i,o,s,a,u,h,f,c,t[to])),{instant:vn(rm(t),d,"compatible"),formatter:zl(t,KP)}}if(ze(e)){let r=Je(R(e,ee));if("iso8601"!==r&&r!==t[to])throw new RangeError(`cannot format ZonedDateTime with calendar ${r} in locale with calendar ${t[to]}`);let n=Je(R(e,Lt));if(t[Zv]&&t[Zv]!==n)throw new RangeError(`timeZone option ${t[Zv]} doesn't match actual time zone ${n}`);return{instant:R(e,Qi),formatter:zl(t,GP),timeZone:n}}return Xr(e)?{instant:e,formatter:zl(t,ZP)}:{}}var eRe=Object.freeze({__proto__:null,DateTimeFormat:wu}),wo=class{constructor(e){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");let t=sm(e);Fl(t),_a(this),at(this,Ve,t)}get epochSeconds(){if(!Xr(this))throw new TypeError("invalid receiver");let e=R(this,Ve);return $.default.toNumber($.default.divide(e,lf))}get epochMilliseconds(){if(!Xr(this))throw new TypeError("invalid receiver");let e=$.default.BigInt(R(this,Ve));return $.default.toNumber($.default.divide(e,_o))}get epochMicroseconds(){if(!Xr(this))throw new TypeError("invalid receiver");let e=$.default.BigInt(R(this,Ve));return o1($.default.divide(e,qt))}get epochNanoseconds(){if(!Xr(this))throw new TypeError("invalid receiver");return o1($.default.BigInt(R(this,Ve)))}add(e){if(!Xr(this))throw new TypeError("invalid receiver");return VI("add",this,e)}subtract(e){if(!Xr(this))throw new TypeError("invalid receiver");return VI("subtract",this,e)}until(e,t){if(!Xr(this))throw new TypeError("invalid receiver");return jI("until",this,e,t)}since(e,t){if(!Xr(this))throw new TypeError("invalid receiver");return jI("since",this,e,t)}round(e){if(!Xr(this))throw new TypeError("invalid receiver");if(void 0===e)throw new TypeError("options parameter is required");let t="string"==typeof e?wd("smallestUnit",e):ut(e),r=pi(t,"smallestUnit","time",Gl),n=Pn(t,"halfExpand"),i=pf(t,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[r],!0),o=n1(R(this,Ve),i,r,n);return new wo(o)}equals(e){if(!Xr(this))throw new TypeError("invalid receiver");let t=ma(e),r=R(this,Ve),n=R(t,Ve);return $.default.equal($.default.BigInt(r),$.default.BigInt(n))}toString(e){if(!Xr(this))throw new TypeError("invalid receiver");let t=ut(e),r=t.timeZone;void 0!==r&&(r=bn(r));let{precision:n,unit:i,increment:o}=Tm(t),s=Pn(t,"trunc"),a=n1(R(this,Ve),o,i,s);return PI(new wo(a),r,n)}toJSON(){if(!Xr(this))throw new TypeError("invalid receiver");return PI(this,void 0,"auto")}toLocaleString(e,t){if(!Xr(this))throw new TypeError("invalid receiver");return new wu(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(e){if(!Xr(this))throw new TypeError("invalid receiver");if(!nr(e))throw new TypeError("invalid argument in toZonedDateTime");let t=e.calendar;if(void 0===t)throw new TypeError("missing calendar property in toZonedDateTime");let r=ji(t),n=e.timeZone;if(void 0===n)throw new TypeError("missing timeZone property in toZonedDateTime");let i=bn(n);return $i(R(this,Ve),i,r)}toZonedDateTimeISO(e){let t=e;if(!Xr(this))throw new TypeError("invalid receiver");if(nr(t)){let e=t.timeZone;void 0!==e&&(t=e)}let r=bn(t),n=Hr();return $i(R(this,Ve),r,n)}static fromEpochSeconds(e){let t=hm(e),r=$.default.multiply($.default.BigInt(t),lf);return Fl(r),new wo(r)}static fromEpochMilliseconds(e){let t=hm(e),r=$.default.multiply($.default.BigInt(t),_o);return Fl(r),new wo(r)}static fromEpochMicroseconds(e){let t=sm(e),r=$.default.multiply(t,qt);return Fl(r),new wo(r)}static fromEpochNanoseconds(e){let t=sm(e);return Fl(t),new wo(t)}static from(e){return Xr(e)?new wo(R(e,Ve)):ma(e)}static compare(e,t){let r=ma(e),n=ma(t),i=R(r,Ve),o=R(n,Ve);return $.default.lessThan(i,o)?-1:$.default.greaterThan(i,o)?1:0}};wa(wo,"Temporal.Instant");var a1=Array.prototype.includes,bie=Array.prototype.push,wie=globalThis.Intl.DateTimeFormat,_ie=Array.prototype.sort,Mie=Math.abs,xie=Math.floor,ZM=Object.entries,JI=Object.keys,Cr={},Md=class{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: id is required");let t=Je(e);if(!UP(t))throw new RangeError(`invalid calendar identifier ${t}`);_a(this),at(this,zr,t)}get id(){if(!Ur(this))throw new TypeError("invalid receiver");return Je(this)}dateFromFields(e,t){if(!Ur(this))throw new TypeError("invalid receiver");if(!nr(e))throw new TypeError("invalid fields");let r=ut(t);return Cr[R(this,zr)].dateFromFields(e,r,this)}yearMonthFromFields(e,t){if(!Ur(this))throw new TypeError("invalid receiver");if(!nr(e))throw new TypeError("invalid fields");let r=ut(t);return Cr[R(this,zr)].yearMonthFromFields(e,r,this)}monthDayFromFields(e,t){if(!Ur(this))throw new TypeError("invalid receiver");if(!nr(e))throw new TypeError("invalid fields");let r=ut(t);return Cr[R(this,zr)].monthDayFromFields(e,r,this)}fields(e){if(!Ur(this))throw new TypeError("invalid receiver");let t=[],r=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(let n of e){if("string"!=typeof n)throw new TypeError("invalid fields");if(!r.has(n))throw new RangeError(`invalid field name ${n}`);r.delete(n),bie.call(t,n)}return Cr[R(this,zr)].fields(t)}mergeFields(e,t){if(!Ur(this))throw new TypeError("invalid receiver");return Cr[R(this,zr)].mergeFields(e,t)}dateAdd(e,t,r){if(!Ur(this))throw new TypeError("invalid receiver");let n=Vt(e),i=pd(t),o=$r(ut(r)),{days:s}=Vn(R(i,ln),R(i,hn),R(i,cn),R(i,dn),R(i,pn),R(i,mn),R(i,yn),"day");return Cr[R(this,zr)].dateAdd(n,R(i,un),R(i,Ni),R(i,In),s,o,this)}dateUntil(e,t,r){if(!Ur(this))throw new TypeError("invalid receiver");let n=Vt(e),i=Vt(t),o=pi(ut(r),"largestUnit","date","auto");"auto"===o&&(o="day");let{years:s,months:a,weeks:u,days:h}=Cr[R(this,zr)].dateUntil(n,i,o);return new(Ke("%Temporal.Duration%"))(s,a,u,h,0,0,0,0,0,0)}year(e){let t=e;if(!Ur(this))throw new TypeError("invalid receiver");return Pt(t)||(t=Vt(t)),Cr[R(this,zr)].year(t)}month(e){let t=e;if(!Ur(this))throw new TypeError("invalid receiver");if(Li(t))throw new TypeError("use monthCode on PlainMonthDay instead");return Pt(t)||(t=Vt(t)),Cr[R(this,zr)].month(t)}monthCode(e){let t=e;if(!Ur(this))throw new TypeError("invalid receiver");return Pt(t)||Li(t)||(t=Vt(t)),Cr[R(this,zr)].monthCode(t)}day(e){let t=e;if(!Ur(this))throw new TypeError("invalid receiver");return Li(t)||(t=Vt(t)),Cr[R(this,zr)].day(t)}era(e){let t=e;if(!Ur(this))throw new TypeError("invalid receiver");return Pt(t)||(t=Vt(t)),Cr[R(this,zr)].era(t)}eraYear(e){let t=e;if(!Ur(this))throw new TypeError("invalid receiver");return Pt(t)||(t=Vt(t)),Cr[R(this,zr)].eraYear(t)}dayOfWeek(e){if(!Ur(this))throw new TypeError("invalid receiver");let t=Vt(e);return Cr[R(this,zr)].dayOfWeek(t)}dayOfYear(e){if(!Ur(this))throw new TypeError("invalid receiver");let t=Vt(e);return Cr[R(this,zr)].dayOfYear(t)}weekOfYear(e){if(!Ur(this))throw new TypeError("invalid receiver");let t=Vt(e);return Cr[R(this,zr)].weekOfYear(t)}daysInWeek(e){if(!Ur(this))throw new TypeError("invalid receiver");let t=Vt(e);return Cr[R(this,zr)].daysInWeek(t)}daysInMonth(e){let t=e;if(!Ur(this))throw new TypeError("invalid receiver");return Pt(t)||(t=Vt(t)),Cr[R(this,zr)].daysInMonth(t)}daysInYear(e){let t=e;if(!Ur(this))throw new TypeError("invalid receiver");return Pt(t)||(t=Vt(t)),Cr[R(this,zr)].daysInYear(t)}monthsInYear(e){let t=e;if(!Ur(this))throw new TypeError("invalid receiver");return Pt(t)||(t=Vt(t)),Cr[R(this,zr)].monthsInYear(t)}inLeapYear(e){let t=e;if(!Ur(this))throw new TypeError("invalid receiver");return Pt(t)||(t=Vt(t)),Cr[R(this,zr)].inLeapYear(t)}toString(){if(!Ur(this))throw new TypeError("invalid receiver");return R(this,zr)}toJSON(){if(!Ur(this))throw new TypeError("invalid receiver");return Je(this)}static from(e){return ji(e)}};function Nx(e){if(!e.startsWith("M"))throw new RangeError(`Invalid month code: ${e}.  Month codes must start with M.`);let t=+e.slice(1);if(isNaN(t))throw new RangeError(`Invalid month code: ${e}`);return t}function cf(e,t=!1){return`M${e.toString().padStart(2,"0")}${t?"L":""}`}function Yv(e,t,r=12){let{month:n,monthCode:i}=e;if(void 0===i){if(void 0===n)throw new TypeError("Either month or monthCode are required");"reject"===t&&Hi(n,1,r),"constrain"===t&&(n=Wn(n,1,r)),i=cf(n)}else{let e=Nx(i);if(void 0!==n&&n!==e)throw new RangeError(`monthCode ${i} and month ${n} must match if both are present`);if(i!==cf(e))throw new RangeError(`Invalid month code: ${i}`);if(n=e,n<1||n>r)throw new RangeError(`Invalid monthCode: ${i}`)}return{...e,month:n,monthCode:i}}wa(Md,"Temporal.Calendar"),qM("Temporal.Calendar.from",Md.from),Cr.iso8601={dateFromFields(e,t,r){let n=$r(t),i=ft(e,["day","month","monthCode","year"],["year","day"]);i=Yv(i);let{year:o,month:s,day:a}=i;return({year:o,month:s,day:a}=Qv(o,s,a,n)),Uo(o,s,a,r)},yearMonthFromFields(e,t,r){let n=$r(t),i=ft(e,["month","monthCode","year"],["year"]);i=Yv(i);let{year:o,month:s}=i;return({year:o,month:s}=function(e,t,r){let n=e,i=t;switch(r){case"reject":va(n,i,1);break;case"constrain":({year:n,month:i}=DP(n,i))}return{year:n,month:i}}(o,s,n)),mm(o,s,r,1)},monthDayFromFields(e,t,r){let n=$r(t),i=ft(e,["day","month","monthCode","year"],["day"]);if(void 0!==i.month&&void 0===i.year&&void 0===i.monthCode)throw new TypeError("either year or monthCode required with month");let o=void 0===i.monthCode;i=Yv(i);let{month:s,day:a,year:u}=i;return({month:s,day:a}=Qv(o?u:1972,s,a,n)),pm(s,a,r,1972)},fields:e=>e,mergeFields(e,t){let r={};for(let t of JI(e))"month"!==t&&"monthCode"!==t&&(r[t]=e[t]);let n=JI(t);for(let e of n)r[e]=t[e];if(!a1.call(n,"month")&&!a1.call(n,"monthCode")){let{month:t,monthCode:n}=e;void 0!==t&&(r.month=t),void 0!==n&&(r.monthCode=n)}return r},dateAdd(e,t,r,n,i,o,s){let a=R(e,Ne),u=R(e,qe),h=R(e,je);return({year:a,month:u,day:h}=Wl(a,u,h,t,r,n,i,o)),Uo(a,u,h,s)},dateUntil:(e,t,r)=>kx(R(e,Ne),R(e,qe),R(e,je),R(t,Ne),R(t,qe),R(t,je),r),year:e=>R(e,Ne),era(){},eraYear(){},month:e=>R(e,qe),monthCode:e=>cf(R(e,qe)),day:e=>R(e,je),dayOfWeek:e=>BM(R(e,Ne),R(e,qe),R(e,je)),dayOfYear:e=>i1(R(e,Ne),R(e,qe),R(e,je)),weekOfYear:e=>function(e,t,r){let n=i1(e,t,r),i=BM(e,t,r)||7,o=BM(e,1,1),s=di((n-i+10)/7);return s<1?5===o||6===o&&lu(e-1)?53:52:53===s&&(lu(e)?366:365)-n<4-i?1:s}(R(e,Ne),R(e,qe),R(e,je)),daysInWeek:()=>7,daysInMonth:e=>hf(R(e,Ne),R(e,qe)),daysInYear(e){let t=e;return mi(t,Ne)||(t=Vt(t)),lu(R(t,Ne))?366:365},monthsInYear:()=>12,inLeapYear(e){let t=e;return mi(t,Ne)||(t=Vt(t)),lu(R(t,Ne))}};var fr=class{constructor(e){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),void 0!==e){let t=0;for(let r of e.map.entries()){if(++t>fr.MAX_CACHE_ENTRIES)break;this.map.set(...r)}}}get(e){let t=this.map.get(e);return t&&(this.hits++,this.report()),this.calls++,t}set(e,t){this.map.set(e,t),this.misses++,this.report()}report(){}setObject(e){if(fr.objectMap.get(e))throw new RangeError("object already cached");fr.objectMap.set(e,this),this.report()}static getCacheForObject(e){let t=fr.objectMap.get(e);return t||(t=new fr,fr.objectMap.set(e,t)),t}};function XP({isoYear:e,isoMonth:t,isoDay:r}){return`${ih(e)}-${lr(t)}-${lr(r)}T00:00Z`}function CM(e,t){return{years:e.year-t.year,months:e.month-t.month,days:e.day-t.day}}fr.objectMap=new WeakMap,fr.MAX_CACHE_ENTRIES=1e3;var vu=class{constructor(){this.eraLength="short",this.hasEra=!0}getFormatter(){return void 0===this.formatter&&(this.formatter=new wie(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(e,t){let{year:r,month:n,day:i}=e,o=JSON.stringify({func:"isoToCalendarDate",isoYear:r,isoMonth:n,isoDay:i,id:this.id}),s=t.get(o);if(s)return s;let a,u,h=this.getFormatter();try{u=XP({isoYear:r,isoMonth:n,isoDay:i}),a=h.formatToParts(new Date(u))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:r,isoMonth:n,isoDay:i})}`)}let f={};for(let{type:e,value:t}of a){if("year"===e&&(f.eraYear=+t),"relatedYear"===e&&(f.eraYear=+t),"month"===e){let e=/^([0-9]*)(.*?)$/.exec(t);if(!e||3!=e.length||!e[1]&&!e[2])throw new RangeError(`Unexpected month: ${t}`);if(f.month=e[1]?+e[1]:1,f.month<1)throw new RangeError(`Invalid month ${t} from ${u}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(f.month>13)throw new RangeError(`Invalid month ${t} from ${u}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);e[2]&&(f.monthExtra=e[2])}"day"===e&&(f.day=+t),this.hasEra&&"era"===e&&null!=t&&""!==t&&(t=t.split(" (")[0],f.era=t.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(void 0===f.eraYear)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){let{era:t,eraYear:r}=this.reviseIntlEra(f,e);f.era=t,f.eraYear=r}this.checkIcuBugs&&this.checkIcuBugs(e);let c=this.adjustCalendarDate(f,t,"constrain",!0);if(void 0===c.year)throw new RangeError(`Missing year converting ${JSON.stringify(e)}`);if(void 0===c.month)throw new RangeError(`Missing month converting ${JSON.stringify(e)}`);if(void 0===c.day)throw new RangeError(`Missing day converting ${JSON.stringify(e)}`);return t.set(o,c),["constrain","reject"].forEach((r=>{let n=JSON.stringify({func:"calendarToIsoDate",year:c.year,month:c.month,day:c.day,overflow:r,id:this.id});t.set(n,e)})),c}validateCalendarDate(e){let{era:t,month:r,year:n,day:i,eraYear:o,monthCode:s,monthExtra:a}=e;if(void 0!==a)throw new RangeError("Unexpected `monthExtra` value");if(void 0===n&&void 0===o)throw new TypeError("year or eraYear is required");if(void 0===r&&void 0===s)throw new TypeError("month or monthCode is required");if(void 0===i)throw new RangeError("Missing day");if(void 0!==s){if("string"!=typeof s)throw new RangeError("monthCode must be a string, not "+typeof s);if(!/^M([01]?\d)(L?)$/.test(s))throw new RangeError(`Invalid monthCode: ${s}`)}if(this.constantEra){if(void 0!==t&&t!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${t}`);if(void 0!==o&&void 0!==n&&o!==n)throw new RangeError(`eraYear ${o} does not match year ${n}`)}}adjustCalendarDate(e,t,r="constrain",n=!1){if("lunisolar"===this.calendarType)throw new RangeError("Override required for lunisolar calendars");let i=e;if(this.validateCalendarDate(i),this.constantEra){let{year:e,eraYear:t}=i;i={...i,era:this.constantEra,year:void 0!==e?e:t,eraYear:void 0!==t?t:e}}let o=this.monthsInYear(i,t),{month:s,monthCode:a}=i;return({month:s,monthCode:a}=Yv(i,r,o)),{...i,month:s,monthCode:a}}regulateMonthDayNaive(e,t,r){let n=this.monthsInYear(e,r),{month:i,day:o}=e;return"reject"===t?(Hi(i,1,n),Hi(o,1,this.maximumMonthLength(e))):(i=Wn(i,1,n),o=Wn(o,1,this.maximumMonthLength({...e,month:i}))),{...e,month:i,day:o}}calendarToIsoDate(e,t="constrain",r){let n=e,i=this.adjustCalendarDate(e,r,t,!1);i=this.regulateMonthDayNaive(i,t,r);let o,{year:s,month:a,day:u}=i,h=JSON.stringify({func:"calendarToIsoDate",year:s,month:a,day:u,overflow:t,id:this.id}),f=r.get(h);if(f||void 0!==n.year&&void 0!==n.month&&void 0!==n.day&&(n.year!==i.year||n.month!==i.month||n.day!==i.day)&&(o=JSON.stringify({func:"calendarToIsoDate",year:n.year,month:n.month,day:n.day,overflow:t,id:this.id}),f=r.get(o),f))return f;let c=this.estimateIsoDate({year:s,month:a,day:u}),l=e=>{let n=this.addDaysIso(c,e);if(i.day>this.minimumMonthLength(i)){let e=this.isoToCalendarDate(n,r);for(;e.month!==a||e.year!==s;){if("reject"===t)throw new RangeError(`day ${u} does not exist in month ${a} of year ${s}`);n=this.addDaysIso(n,-1),e=this.isoToCalendarDate(n,r)}}return n},d=0,p=this.isoToCalendarDate(c,r),y=CM(i,p);if(0!==y.years||0!==y.months||0!==y.days){let e=365*y.years+30*y.months+y.days;c=this.addDaysIso(c,e),p=this.isoToCalendarDate(c,r),y=CM(i,p),0===y.years&&0===y.months?c=l(y.days):d=this.compareCalendarDates(i,p)}let m=8,g=!1;for(;d;){c=this.addDaysIso(c,d*m);let e=p;p=this.isoToCalendarDate(c,r);let o=d;if(d=this.compareCalendarDates(i,p),d)if(y=CM(i,p),0===y.years&&0===y.months)c=l(y.days),d=0,g=i.day>this.minimumMonthLength(i);else if(o&&d!==o)if(m>1)m/=2;else{if("reject"===t)throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...n})}`);this.compareCalendarDates(p,e)>0&&(c=this.addDaysIso(c,-1)),g=!0,d=0}}if(r.set(h,c),o&&r.set(o,c),void 0===i.year||void 0===i.month||void 0===i.day||void 0===i.monthCode||this.hasEra&&(void 0===i.era||void 0===i.eraYear))throw new RangeError("Unexpected missing property");if(!g){let e=JSON.stringify({func:"isoToCalendarDate",isoYear:c.year,isoMonth:c.month,isoDay:c.day,id:this.id});r.set(e,i)}return c}temporalToCalendarDate(e,t){let r={year:R(e,Ne),month:R(e,qe),day:R(e,je)};return this.isoToCalendarDate(r,t)}compareCalendarDates(e,t){let r=ft(e,["day","month","year"],["day","month","year"]),n=ft(t,["day","month","year"],["day","month","year"]);return r.year!==n.year?Vl(r.year-n.year):r.month!==n.month?Vl(r.month-n.month):r.day!==n.day?Vl(r.day-n.day):0}regulateDate(e,t="constrain",r){let n=this.calendarToIsoDate(e,t,r);return this.isoToCalendarDate(n,r)}addDaysIso(e,t){return Wl(e.year,e.month,e.day,0,0,0,t,"constrain")}addDaysCalendar(e,t,r){let n=this.calendarToIsoDate(e,"constrain",r),i=this.addDaysIso(n,t);return this.isoToCalendarDate(i,r)}addMonthsCalendar(e,t,r,n){let i=e,{day:o}=i;for(let e=0,r=Mie(t);e<r;e++){let{month:e}=i,r=i,s=t<0?-Math.max(o,this.daysInPreviousMonth(i,n)):this.daysInMonth(i,n),a=this.calendarToIsoDate(i,"constrain",n),u=this.addDaysIso(a,s);if(i=this.isoToCalendarDate(u,n),t>0){let t=this.monthsInYear(r,n);for(;i.month-1!=e%t;)u=this.addDaysIso(u,-1),i=this.isoToCalendarDate(u,n)}i.day!==o&&(i=this.regulateDate({...i,day:o},"constrain",n))}if("reject"===r&&i.day!==o)throw new RangeError(`Day ${o} does not exist in resulting calendar month`);return i}addCalendar(e,{years:t=0,months:r=0,weeks:n=0,days:i=0},o,s){let{year:a,day:u,monthCode:h}=e,f=this.adjustCalendarDate({year:a+t,monthCode:h,day:u},s),c=this.addMonthsCalendar(f,r,o,s),l=i+7*n;return this.addDaysCalendar(c,l,s)}untilCalendar(e,t,r,n){let i=0,o=0,s=0,a=0;switch(r){case"day":i=this.calendarDaysUntil(e,t,n);break;case"week":{let r=this.calendarDaysUntil(e,t,n);i=r%7,o=(r-i)/7;break}case"month":case"year":{let o=t.year-e.year,u=t.month-e.month,h=t.day-e.day,f=this.compareCalendarDates(t,e);if(!f)return{years:0,months:0,weeks:0,days:0};"year"===r&&o&&(a=u*f<0||0===u&&h*f<0?o-f:o);let c,l=a?this.addCalendar(e,{years:a},"constrain",n):e;do{s+=f,c=l,l=this.addMonthsCalendar(c,f,"constrain",n),l.day!==e.day&&(l=this.regulateDate({...l,day:e.day},"constrain",n))}while(this.compareCalendarDates(t,l)*f>=0);s-=f,i=this.calendarDaysUntil(c,t,n);break}}return{years:a,months:s,weeks:o,days:i}}daysInMonth(e,t){let{day:r}=e,n=this.maximumMonthLength(e),i=this.minimumMonthLength(e);if(i===n)return i;let o=r<=n-i?n:i,s=this.calendarToIsoDate(e,"constrain",t),a=this.addDaysIso(s,o),u=this.isoToCalendarDate(a,t),h=this.addDaysIso(a,-u.day);return this.isoToCalendarDate(h,t).day}daysInPreviousMonth(e,t){let{day:r,month:n,year:i}=e,o={year:n>1?i:i-1,month:n,day:1},s=n>1?n-1:this.monthsInYear(o,t);o={...o,month:s};let a=this.minimumMonthLength(o),u=this.maximumMonthLength(o);if(a===u)return u;let h=this.calendarToIsoDate(e,"constrain",t),f=this.addDaysIso(h,-r);return this.isoToCalendarDate(f,t).day}startOfCalendarYear(e){return{year:e.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(e){return{year:e.year,month:e.month,day:1}}calendarDaysUntil(e,t,r){let n=this.calendarToIsoDate(e,"constrain",r),i=this.calendarToIsoDate(t,"constrain",r);return this.isoDaysUntil(n,i)}isoDaysUntil(e,t){return kx(e.year,e.month,e.day,t.year,t.month,t.day,"day").days}monthDayFromFields(e,t,r){let n,i,o,s,a,{year:u,month:h,monthCode:f,day:c,era:l,eraYear:d}=e;if(void 0===f){if(void 0===u&&(void 0===l||void 0===d))throw new TypeError("`monthCode`, `year`, or `era` and `eraYear` is required");({monthCode:f,year:u}=this.adjustCalendarDate({year:u,month:h,monthCode:f,day:c,era:l,eraYear:d},r,t))}let{year:p}=this.isoToCalendarDate({year:1972,month:1,day:1},r);for(let e=0;e<100;e++){let u=this.adjustCalendarDate({day:c,monthCode:f,year:p-e},r),h=this.calendarToIsoDate(u,"constrain",r),l=this.isoToCalendarDate(h,r);if(({year:n,month:i,day:o}=h),l.monthCode===f&&l.day===c)return{month:i,day:o,year:n};"constrain"===t&&(void 0===s||l.monthCode===s.monthCode&&l.day>s.day)&&(s=l,a=h)}if("constrain"===t&&void 0!==a)return a;throw new RangeError(`No recent ${this.id} year with monthCode ${f} and day ${c}`)}},YM=class extends vu{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(e){let{year:t}=e;return(7*t+1)%19<7}monthsInYear(e){return this.inLeapYear(e)?13:12}minimumMonthLength(e){return this.minMaxMonthLength(e,"min")}maximumMonthLength(e){return this.minMaxMonthLength(e,"max")}minMaxMonthLength(e,t){let{month:r,year:n}=e,i=this.getMonthCode(n,r),o=ZM(this.months).find((e=>e[1].monthCode===i));if(void 0===o)throw new RangeError(`unmatched Hebrew month: ${r}`);let s=o[1].days;return"number"==typeof s?s:s[t]}estimateIsoDate(e){let{year:t}=e;return{year:t-3760,month:1,day:1}}getMonthCode(e,t){return this.inLeapYear({year:e})?6===t?cf(5,!0):cf(t<6?t:t-1):cf(t)}adjustCalendarDate(e,t,r="constrain",n=!1){let{year:i,eraYear:o,month:s,monthCode:a,day:u,monthExtra:h}=e;if(void 0===i&&void 0!==o&&(i=o),void 0===o&&void 0!==i&&(o=i),n){if(h){let e=this.months[h];if(!e)throw new RangeError(`Unrecognized month from formatToParts: ${h}`);s=this.inLeapYear({year:i})?e.leap:e.regular}return a=this.getMonthCode(i,s),{year:i,month:s,day:u,era:void 0,eraYear:o,monthCode:a}}if(this.validateCalendarDate(e),void 0===s)if(a.endsWith("L")){if("M05L"!==a)throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${a}`);if(s=6,!this.inLeapYear({year:i})){if("reject"===r)throw new RangeError(`Hebrew monthCode M05L is invalid in year ${i} which is not a leap year`);s=5,u=30,a="M05"}}else{s=Nx(a),this.inLeapYear({year:i})&&s>=6&&s++;let e=this.monthsInYear({year:i});if(s<1||s>e)throw new RangeError(`Invalid monthCode: ${a}`)}else if("reject"===r?(Hi(s,1,this.monthsInYear({year:i})),Hi(u,1,this.maximumMonthLength({year:i,month:s}))):(s=Wn(s,1,this.monthsInYear({year:i})),u=Wn(u,1,this.maximumMonthLength({year:i,month:s}))),void 0===a)a=this.getMonthCode(i,s);else if(this.getMonthCode(i,s)!==a)throw new RangeError(`monthCode ${a} doesn't correspond to month ${s} in Hebrew year ${i}`);return{...e,day:u,month:s,monthCode:a,year:i,eraYear:o}}},bu=class extends vu{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(e,t){return 30===this.daysInMonth({year:e.year,month:12,day:1},t)}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(e){let{year:t}=this.adjustCalendarDate(e);return{year:xie(t*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}},f1=class extends bu{constructor(){super(...arguments),this.id="islamic"}},JM=class extends bu{constructor(){super(...arguments),this.id="islamic-umalqura"}},XM=class extends bu{constructor(){super(...arguments),this.id="islamic-tbla"}},QM=class extends bu{constructor(){super(...arguments),this.id="islamic-civil"}},ex=class extends bu{constructor(){super(...arguments),this.id="islamic-rgsa"}},tx=class extends bu{constructor(){super(...arguments),this.id="islamicc"}},rx=class extends vu{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(e,t){return f1.prototype.inLeapYear.call(this,e,t)}monthsInYear(){return 12}minimumMonthLength(e){let{month:t}=e;return 12===t?29:t<=6?31:30}maximumMonthLength(e){let{month:t}=e;return 12===t?30:t<=6?31:30}estimateIsoDate(e){let{year:t}=this.adjustCalendarDate(e);return{year:t+621,month:1,day:1}}},ix=class extends vu{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug="10/11/-79 Saka"!==new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})}inLeapYear(e){return QP(e.year+78)}monthsInYear(){return 12}minimumMonthLength(e){return this.getMonthInfo(e).length}maximumMonthLength(e){return this.getMonthInfo(e).length}getMonthInfo(e){let{month:t}=e,r=this.months[t];if(void 0===r)throw new RangeError(`Invalid month: ${t}`);return this.inLeapYear(e)&&r.leap&&(r=r.leap),r}estimateIsoDate(e){let t=this.adjustCalendarDate(e),r=this.getMonthInfo(t);return Wl(t.year+78+(r.nextYear?1:0),r.month,r.day,0,0,0,t.day-1,"constrain")}checkIcuBugs(e){if(this.vulnerableToBceBug&&e.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}};function QP(e){return e%4==0&&(e%100!=0||e%400==0)}var Ql=class extends vu{constructor(e,t){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=e;let{eras:r,anchorEra:n}=function(e){let t,r=e;if(0===r.length)throw new RangeError("Invalid era data: eras are required");if(1===r.length&&r[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(1===r.length&&!r[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(r.filter((e=>null!=e.reverseOf)).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");r.forEach((e=>{if(e.isAnchor||!e.anchorEpoch&&!e.reverseOf){if(t)throw new RangeError("Invalid era data: cannot have multiple anchor eras");t=e,e.anchorEpoch={year:e.hasYearZero?0:1}}else if(!e.name)throw new RangeError("If era name is blank, it must be the anchor era")})),r=r.filter((e=>e.name)),r.forEach((e=>{let{reverseOf:t}=e;if(t){let n=r.find((e=>e.name===t));if(void 0===n)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${t}`);e.reverseOf=n,e.anchorEpoch=n.anchorEpoch,e.isoEpoch=n.isoEpoch}void 0===e.anchorEpoch.month&&(e.anchorEpoch.month=1),void 0===e.anchorEpoch.day&&(e.anchorEpoch.day=1)})),_ie.call(r,((e,t)=>{if(e.reverseOf)return 1;if(t.reverseOf)return-1;if(!e.isoEpoch||!t.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return t.isoEpoch.year-e.isoEpoch.year}));let n=r[r.length-1].reverseOf;if(n&&n!==r[r.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return r.forEach(((e,t)=>{e.genericName="era"+(r.length-1-t)})),{eras:r,anchorEra:t||r[0]}}(t);this.anchorEra=n,this.eras=r}inLeapYear(e){let{year:t}=this.estimateIsoDate({month:1,day:1,year:e.year});return QP(t)}monthsInYear(){return 12}minimumMonthLength(e){let{month:t}=e;return 2===t?this.inLeapYear(e)?29:28:[4,6,9,11].indexOf(t)>=0?30:31}maximumMonthLength(e){return this.minimumMonthLength(e)}completeEraYear(e){let t=(t,r)=>{let n=e[t];if(null!=n&&n!=r)throw new RangeError(`Input ${t} ${n} doesn't match calculated value ${r}`)},r=t=>{let r,n={...e,year:t},i=this.eras.find(((e,i)=>{if(i===this.eras.length-1){if(e.reverseOf){if(t>0)throw new RangeError(`Signed year ${t} is invalid for era ${e.name}`);return r=e.anchorEpoch.year-t,!0}return r=t-e.anchorEpoch.year+(e.hasYearZero?0:1),!0}return this.compareCalendarDates(n,e.anchorEpoch)>=0&&(r=t-e.anchorEpoch.year+(e.hasYearZero?0:1),!0)}));if(!i)throw new RangeError(`Year ${t} was not matched by any era`);return{eraYear:r,era:i.name}},{year:n,eraYear:i,era:o}=e;if(null!=n)({eraYear:i,era:o}=r(n)),t("era",o),t("eraYear",i);else{if(null==i)throw new RangeError("Either `year` or `eraYear` and `era` are required");{let e=void 0===o?void 0:this.eras.find((e=>e.name===o||e.genericName===o));if(!e)throw new RangeError(`Era ${o} (ISO year ${i}) was not matched by any era`);if(i<1&&e.reverseOf)throw new RangeError(`Years in ${o} era must be positive, not ${n}`);n=e.reverseOf?e.anchorEpoch.year-i:i+e.anchorEpoch.year-(e.hasYearZero?0:1),t("year",n),({eraYear:i,era:o}=r(n))}}return{...e,year:n,eraYear:i,era:o}}adjustCalendarDate(e,t,r="constrain"){let n=e,{month:i,monthCode:o}=n;return void 0===i&&(n={...n,month:Nx(o)}),this.validateCalendarDate(n),n=this.completeEraYear(n),super.adjustCalendarDate(n,t,r)}estimateIsoDate(e){let t=this.adjustCalendarDate(e),{year:r,month:n,day:i}=t,{anchorEra:o}=this;return Qv(r+o.isoEpoch.year-(o.hasYearZero?0:1),n,i,"constrain")}checkIcuBugs(e){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&hu(e.year,e.month,e.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}},ym=class extends Ql{constructor(e,t){super(e,t)}inLeapYear(e){let{year:t}=e;return(t+1)%4==0}monthsInYear(){return 13}minimumMonthLength(e){let{month:t}=e;return 13===t?this.inLeapYear(e)?6:5:30}maximumMonthLength(e){return this.minimumMonthLength(e)}},nx=class extends ym{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}},ox=class extends ym{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}},sx=class extends ym{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}},ax=class extends Ql{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}},fx=class extends Ql{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}},ux=class extends Ql{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(e){let{era:t,eraYear:r}=e;return"bc"!==t&&"b"!==t||(t="bce"),"ad"!==t&&"a"!==t||(t="ce"),{era:t,eraYear:r}}},lx=class extends Ql{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long"}reviseIntlEra(e,t){let{era:r,eraYear:n}=e,{year:i}=t;return this.eras.find((e=>e.name===r))?{era:r,eraYear:n}:i<1?{era:"bce",eraYear:1-i}:{era:"ce",eraYear:i}}},u1=class extends vu{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(e,t){let r=this.getMonthList(e.year,t);return 13===ZM(r).length}monthsInYear(e,t){return this.inLeapYear(e,t)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(e,t){if(void 0===e)throw new TypeError("Missing year");let r=JSON.stringify({func:"getMonthList",calendarYear:e,id:this.id}),n=t.get(r);if(n)return n;let i=this.getFormatter(),o=(e,t)=>{let r=XP({isoYear:e,isoMonth:2,isoDay:1}),n=new Date(r);n.setUTCDate(t+1);let o=i.formatToParts(n),s=o.find((e=>"month"===e.type)).value,a=+o.find((e=>"day"===e.type)).value,u=o.find((e=>"relatedYear"===e.type));if(void 0===u)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return u=+u.value,{calendarMonthString:s,calendarDay:a,calendarYearToVerify:u}},s=17,{calendarMonthString:a,calendarDay:u,calendarYearToVerify:h}=o(e,s);"1"!==a&&(s+=29,({calendarMonthString:a,calendarDay:u}=o(e,s))),s-=u-5;let f,c,l={},d=1,p=!1;do{({calendarMonthString:a,calendarDay:u,calendarYearToVerify:h}=o(e,s)),f&&(l[c].daysInMonth=f+30-u),h!==e?p=!0:(l[a]={monthIndex:d++},s+=30),f=u,c=a}while(!p);return l[c].daysInMonth=f+30-u,t.set(r,l),l}estimateIsoDate(e){let{year:t,month:r}=e;return{year:t,month:r>=12?12:r+1,day:1}}adjustCalendarDate(e,t,r="constrain",n=!1){let{year:i,month:o,monthExtra:s,day:a,monthCode:u,eraYear:h}=e;if(n){if(i=h,s&&"bis"!==s)throw new RangeError(`Unexpected leap month suffix: ${s}`);let e=cf(o,void 0!==s),r=`${o}${s||""}`,n=this.getMonthList(i,t)[r];if(void 0===n)throw new RangeError(`Unmatched month ${r} in Chinese year ${i}`);return o=n.monthIndex,{year:i,month:o,day:a,era:void 0,eraYear:h,monthCode:e}}if(this.validateCalendarDate(e),void 0===i&&(i=h),void 0===h&&(h=i),void 0===o){let e=this.getMonthList(i,t),n=u.replace("L","bis").slice(1);"0"===n[0]&&(n=n.slice(1));let s=e[n];if(o=s&&s.monthIndex,void 0===o&&u.endsWith("L")&&!a1.call(["M01L","M12L","M13L"],u)&&"constrain"===r){let t=u.slice(1,-1);"0"===t[0]&&(t=t.slice(1)),s=e[t],s&&(({daysInMonth:a,monthIndex:o}=s),u=cf(t))}if(void 0===o)throw new RangeError(`Unmatched month ${u} in Chinese year ${i}`)}else if(void 0===u){let e=this.getMonthList(i,t),n=ZM(e),s=n.length;"reject"===r?(Hi(o,1,s),Hi(a,1,this.maximumMonthLength())):(o=Wn(o,1,s),a=Wn(a,1,this.maximumMonthLength()));let h=n.find((([,e])=>e.monthIndex===o));if(void 0===h)throw new RangeError(`Invalid month ${o} in Chinese year ${i}`);u=cf(h[0].replace("bis",""),-1!==h[0].indexOf("bis"))}else{let e=this.getMonthList(i,t),r=u.replace("L","bis").slice(1);"0"===r[0]&&(r=r.slice(1));let n=e[r];if(!n)throw new RangeError(`Unmatched monthCode ${u} in Chinese year ${i}`);if(o!==n.monthIndex)throw new RangeError(`monthCode ${u} doesn't correspond to month ${o} in Chinese year ${i}`)}return{...e,year:i,eraYear:h,month:o,monthCode:u,day:a}}},hx=class extends u1{constructor(){super(...arguments),this.id="chinese"}},cx=class extends u1{constructor(){super(...arguments),this.id="dangi"}},Eie={helper:void 0,dateFromFields(e,t,r){let n=$r(t),i=new fr,o=ft(e,["day","era","eraYear","month","monthCode","year"],["day"]),{year:s,month:a,day:u}=this.helper.calendarToIsoDate(o,n,i),h=Uo(s,a,u,r);return i.setObject(h),h},yearMonthFromFields(e,t,r){let n=$r(t),i=new fr,o=ft(e,["era","eraYear","month","monthCode","year"],[]),{year:s,month:a,day:u}=this.helper.calendarToIsoDate({...o,day:1},n,i),h=mm(s,a,r,u);return i.setObject(h),h},monthDayFromFields(e,t,r){let n=$r(t),i=new fr,o=ft(e,["day","era","eraYear","month","monthCode","year"],["day"]),{year:s,month:a,day:u}=this.helper.monthDayFromFields(o,n,i),h=pm(a,u,r,s);return i.setObject(h),h},fields(e){let t=e;return a1.call(t,"year")&&(t=[...t,"era","eraYear"]),t},mergeFields(e,t){let r={...e},n={...t},{month:i,monthCode:o,year:s,era:a,eraYear:u,...h}=r,{month:f,monthCode:c,year:l,era:d,eraYear:p}=n;return void 0===f&&void 0===c&&(h.month=i,h.monthCode=o),void 0===l&&void 0===d&&void 0===p&&(h.year=s),{...h,...n}},dateAdd(e,t,r,n,i,o,s){let a=fr.getCacheForObject(e),u=this.helper.temporalToCalendarDate(e,a),h=this.helper.addCalendar(u,{years:t,months:r,weeks:n,days:i},o,a),f=this.helper.calendarToIsoDate(h,"constrain",a),{year:c,month:l,day:d}=f,p=Uo(c,l,d,s);return new fr(a).setObject(p),p},dateUntil(e,t,r){let n=fr.getCacheForObject(e),i=fr.getCacheForObject(t),o=this.helper.temporalToCalendarDate(e,n),s=this.helper.temporalToCalendarDate(t,i);return this.helper.untilCalendar(o,s,r,n)},year(e){let t=fr.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).year},month(e){let t=fr.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).month},day(e){let t=fr.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).day},era(e){if(!this.helper.hasEra)return;let t=fr.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).era},eraYear(e){if(!this.helper.hasEra)return;let t=fr.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).eraYear},monthCode(e){let t=fr.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).monthCode},dayOfWeek:e=>Cr.iso8601.dayOfWeek(e),dayOfYear(e){let t=fr.getCacheForObject(e),r=this.helper.isoToCalendarDate(e,t),n=this.helper.startOfCalendarYear(r);return this.helper.calendarDaysUntil(n,r,t)+1},weekOfYear:e=>Cr.iso8601.weekOfYear(e),daysInWeek:e=>Cr.iso8601.daysInWeek(e),daysInMonth(e){let t=fr.getCacheForObject(e),r=this.helper.temporalToCalendarDate(e,t),n=this.helper.maximumMonthLength(r);if(n===this.helper.minimumMonthLength(r))return n;let i=this.helper.startOfCalendarMonth(r),o=this.helper.addMonthsCalendar(i,1,"constrain",t);return this.helper.calendarDaysUntil(i,o,t)},daysInYear(e){let t=e;mi(t,Ne)||(t=Vt(t));let r=fr.getCacheForObject(t),n=this.helper.temporalToCalendarDate(t,r),i=this.helper.startOfCalendarYear(n),o=this.helper.addCalendar(i,{years:1},"constrain",r);return this.helper.calendarDaysUntil(i,o,r)},monthsInYear(e){let t=fr.getCacheForObject(e),r=this.helper.temporalToCalendarDate(e,t);return this.helper.monthsInYear(r,t)},inLeapYear(e){let t=e;mi(t,Ne)||(t=Vt(t));let r=fr.getCacheForObject(t),n=this.helper.temporalToCalendarDate(t,r);return this.helper.inLeapYear(n,r)}};for(let e of[YM,rx,sx,nx,ox,hx,cx,ax,ix,fx,ux,lx,f1,JM,XM,QM,ex,tx]){let t=new e;Cr[t.id]={...Eie,helper:t}}var eh=class{constructor(e,t,r,n=Hr()){let i=Kt(e),o=Kt(t),s=Kt(r),a=ji(n);if(arguments.length<3)throw new RangeError("missing argument: isoYear, isoMonth and isoDay are required");vP(this,i,o,s,a)}get calendar(){if(!yt(this))throw new TypeError("invalid receiver");return R(this,ee)}get era(){if(!yt(this))throw new TypeError("invalid receiver");return m1(R(this,ee),this)}get eraYear(){if(!yt(this))throw new TypeError("invalid receiver");return y1(R(this,ee),this)}get year(){if(!yt(this))throw new TypeError("invalid receiver");return c1(R(this,ee),this)}get month(){if(!yt(this))throw new TypeError("invalid receiver");return d1(R(this,ee),this)}get monthCode(){if(!yt(this))throw new TypeError("invalid receiver");return Rm(R(this,ee),this)}get day(){if(!yt(this))throw new TypeError("invalid receiver");return p1(R(this,ee),this)}get dayOfWeek(){if(!yt(this))throw new TypeError("invalid receiver");return bx(R(this,ee),this)}get dayOfYear(){if(!yt(this))throw new TypeError("invalid receiver");return wx(R(this,ee),this)}get weekOfYear(){if(!yt(this))throw new TypeError("invalid receiver");return _x(R(this,ee),this)}get daysInWeek(){if(!yt(this))throw new TypeError("invalid receiver");return Mx(R(this,ee),this)}get daysInMonth(){if(!yt(this))throw new TypeError("invalid receiver");return km(R(this,ee),this)}get daysInYear(){if(!yt(this))throw new TypeError("invalid receiver");return g1(R(this,ee),this)}get monthsInYear(){if(!yt(this))throw new TypeError("invalid receiver");return v1(R(this,ee),this)}get inLeapYear(){if(!yt(this))throw new TypeError("invalid receiver");return b1(R(this,ee),this)}with(e,t){if(!yt(this))throw new TypeError("invalid receiver");if(!nr(e))throw new TypeError("invalid argument");Ed(e);let r=R(this,ee),n=Vr(r,["day","month","monthCode","year"]),i=ft(e,n,"partial");if(!i)throw new TypeError("invalid date-like");let o=ft(this,n,[]);return o=Zl(r,o,i),o=ft(o,n,[]),pu(r,o,ut(t))}withCalendar(e){if(!yt(this))throw new TypeError("invalid receiver");let t=ji(e);return new eh(R(this,Ne),R(this,qe),R(this,je),t)}add(e,t){if(!yt(this))throw new TypeError("invalid receiver");let r=pd(e),n=ut(t);return gn(R(this,ee),this,r,n)}subtract(e,t){if(!yt(this))throw new TypeError("invalid receiver");let r=PP(pd(e)),n=ut(t);return gn(R(this,ee),this,r,n)}until(e,t){if(!yt(this))throw new TypeError("invalid receiver");return UI("until",this,e,t)}since(e,t){if(!yt(this))throw new TypeError("invalid receiver");return UI("since",this,e,t)}equals(e){if(!yt(this))throw new TypeError("invalid receiver");let t=Vt(e);for(let e of[Ne,qe,je])if(R(this,e)!==R(t,e))return!1;return Im(R(this,ee),R(t,ee))}toString(e){if(!yt(this))throw new TypeError("invalid receiver");return DI(this,Sm(ut(e)))}toJSON(){if(!yt(this))throw new TypeError("invalid receiver");return DI(this)}toLocaleString(e,t){if(!yt(this))throw new TypeError("invalid receiver");return new wu(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(e){if(!yt(this))throw new TypeError("invalid receiver");let t=R(this,Ne),r=R(this,qe),n=R(this,je),i=R(this,ee);if(void 0===e)return Hn(t,r,n,0,0,0,0,0,0,i);let o=uf(e);return Hn(t,r,n,R(o,Qe),R(o,et),R(o,tt),R(o,rt),R(o,it),R(o,nt),i)}toZonedDateTime(e){if(!yt(this))throw new TypeError("invalid receiver");let t,r;if(nr(e)){let n=e.timeZone;void 0===n?t=bn(e):(t=bn(n),r=e.plainTime)}else t=bn(e);let n=R(this,Ne),i=R(this,qe),o=R(this,je),s=R(this,ee),a=0,u=0,h=0,f=0,c=0,l=0;return void 0!==r&&(r=uf(r),a=R(r,Qe),u=R(r,et),h=R(r,tt),f=R(r,rt),c=R(r,it),l=R(r,nt)),$i(R(vn(t,Hn(n,i,o,a,u,h,f,c,l,s),"compatible"),Ve),t,s)}toPlainYearMonth(){if(!yt(this))throw new TypeError("invalid receiver");let e=R(this,ee);return Yl(e,ft(this,Vr(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!yt(this))throw new TypeError("invalid receiver");let e=R(this,ee);return gd(e,ft(this,Vr(e,["day","monthCode"]),[]))}getISOFields(){if(!yt(this))throw new TypeError("invalid receiver");return{calendar:R(this,ee),isoDay:R(this,je),isoMonth:R(this,qe),isoYear:R(this,Ne)}}static from(e,t){let r=ut(t);return yt(e)?($r(r),Uo(R(e,Ne),R(e,qe),R(e,je),R(e,ee))):Vt(e,r)}static compare(e,t){let r=Vt(e),n=Vt(t);return hu(R(r,Ne),R(r,qe),R(r,je),R(n,Ne),R(n,qe),R(n,je))}};wa(eh,"Temporal.PlainDate");var th=class{constructor(e,t,r,n=0,i=0,o=0,s=0,a=0,u=0,h=Hr()){let f=Kt(e),c=Kt(t),l=Kt(r),d=Kt(n),p=Kt(i),y=Kt(o),m=Kt(s),g=Kt(a),b=Kt(u),w=ji(h);if(arguments.length<3)throw new RangeError("missing argument: isoYear, isoMonth and isoDay are required");bP(this,f,c,l,d,p,y,m,g,b,w)}get calendar(){if(!st(this))throw new TypeError("invalid receiver");return R(this,ee)}get year(){if(!st(this))throw new TypeError("invalid receiver");return c1(R(this,ee),this)}get month(){if(!st(this))throw new TypeError("invalid receiver");return d1(R(this,ee),this)}get monthCode(){if(!st(this))throw new TypeError("invalid receiver");return Rm(R(this,ee),this)}get day(){if(!st(this))throw new TypeError("invalid receiver");return p1(R(this,ee),this)}get hour(){if(!st(this))throw new TypeError("invalid receiver");return R(this,Qe)}get minute(){if(!st(this))throw new TypeError("invalid receiver");return R(this,et)}get second(){if(!st(this))throw new TypeError("invalid receiver");return R(this,tt)}get millisecond(){if(!st(this))throw new TypeError("invalid receiver");return R(this,rt)}get microsecond(){if(!st(this))throw new TypeError("invalid receiver");return R(this,it)}get nanosecond(){if(!st(this))throw new TypeError("invalid receiver");return R(this,nt)}get era(){if(!st(this))throw new TypeError("invalid receiver");return m1(R(this,ee),this)}get eraYear(){if(!st(this))throw new TypeError("invalid receiver");return y1(R(this,ee),this)}get dayOfWeek(){if(!st(this))throw new TypeError("invalid receiver");return bx(R(this,ee),this)}get dayOfYear(){if(!st(this))throw new TypeError("invalid receiver");return wx(R(this,ee),this)}get weekOfYear(){if(!st(this))throw new TypeError("invalid receiver");return _x(R(this,ee),this)}get daysInWeek(){if(!st(this))throw new TypeError("invalid receiver");return Mx(R(this,ee),this)}get daysInYear(){if(!st(this))throw new TypeError("invalid receiver");return g1(R(this,ee),this)}get daysInMonth(){if(!st(this))throw new TypeError("invalid receiver");return km(R(this,ee),this)}get monthsInYear(){if(!st(this))throw new TypeError("invalid receiver");return v1(R(this,ee),this)}get inLeapYear(){if(!st(this))throw new TypeError("invalid receiver");return b1(R(this,ee),this)}with(e,t){if(!st(this))throw new TypeError("invalid receiver");if(!nr(e))throw new TypeError("invalid argument");Ed(e);let r=ut(t),n=R(this,ee),i=Vr(n,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),o=ft(e,i,"partial");if(!o)throw new TypeError("invalid date-time-like");let s=ft(this,i,[]);s=Zl(n,s,o),s=ft(s,i,[]);let{year:a,month:u,day:h,hour:f,minute:c,second:l,millisecond:d,microsecond:p,nanosecond:y}=Am(n,s,r);return Hn(a,u,h,f,c,l,d,p,y,n)}withPlainTime(e){if(!st(this))throw new TypeError("invalid receiver");let t=R(this,Ne),r=R(this,qe),n=R(this,je),i=R(this,ee);if(void 0===e)return Hn(t,r,n,0,0,0,0,0,0,i);let o=uf(e);return Hn(t,r,n,R(o,Qe),R(o,et),R(o,tt),R(o,rt),R(o,it),R(o,nt),i)}withPlainDate(e){if(!st(this))throw new TypeError("invalid receiver");let t=Vt(e),r=R(t,Ne),n=R(t,qe),i=R(t,je),o=R(t,ee),s=R(this,Qe),a=R(this,et),u=R(this,tt),h=R(this,rt),f=R(this,it),c=R(this,nt);return o=xP(R(this,ee),o),Hn(r,n,i,s,a,u,h,f,c,o)}withCalendar(e){if(!st(this))throw new TypeError("invalid receiver");let t=ji(e);return new th(R(this,Ne),R(this,qe),R(this,je),R(this,Qe),R(this,et),R(this,tt),R(this,rt),R(this,it),R(this,nt),t)}add(e,t){if(!st(this))throw new TypeError("invalid receiver");return KI("add",this,e,t)}subtract(e,t){if(!st(this))throw new TypeError("invalid receiver");return KI("subtract",this,e,t)}until(e,t){if(!st(this))throw new TypeError("invalid receiver");return zI("until",this,e,t)}since(e,t){if(!st(this))throw new TypeError("invalid receiver");return zI("since",this,e,t)}round(e){if(!st(this))throw new TypeError("invalid receiver");if(void 0===e)throw new TypeError("options parameter is required");let t="string"==typeof e?wd("smallestUnit",e):ut(e),r=pi(t,"smallestUnit","time",Gl,["day"]),n=Pn(t,"halfExpand"),i=pf(t,{day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[r],!1),o=R(this,Ne),s=R(this,qe),a=R(this,je),u=R(this,Qe),h=R(this,et),f=R(this,tt),c=R(this,rt),l=R(this,it),d=R(this,nt);return({year:o,month:s,day:a,hour:u,minute:h,second:f,millisecond:c,microsecond:l,nanosecond:d}=Dx(o,s,a,u,h,f,c,l,d,i,r,n)),Hn(o,s,a,u,h,f,c,l,d,R(this,ee))}equals(e){if(!st(this))throw new TypeError("invalid receiver");let t=$l(e);for(let e of[Ne,qe,je,Qe,et,tt,rt,it,nt])if(R(this,e)!==R(t,e))return!1;return Im(R(this,ee),R(t,ee))}toString(e){if(!st(this))throw new TypeError("invalid receiver");let t=ut(e),{precision:r,unit:n,increment:i}=Tm(t);return BI(this,r,Sm(t),{unit:n,increment:i,roundingMode:Pn(t,"trunc")})}toJSON(){if(!st(this))throw new TypeError("invalid receiver");return BI(this,"auto")}toLocaleString(e,t){if(!st(this))throw new TypeError("invalid receiver");return new wu(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(e,t){if(!st(this))throw new TypeError("invalid receiver");let r=bn(e);return $i(R(vn(r,this,dm(ut(t))),Ve),r,R(this,ee))}toPlainDate(){if(!st(this))throw new TypeError("invalid receiver");return vd(this)}toPlainYearMonth(){if(!st(this))throw new TypeError("invalid receiver");let e=R(this,ee);return Yl(e,ft(this,Vr(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!st(this))throw new TypeError("invalid receiver");let e=R(this,ee);return gd(e,ft(this,Vr(e,["day","monthCode"]),[]))}toPlainTime(){if(!st(this))throw new TypeError("invalid receiver");return xx(this)}getISOFields(){if(!st(this))throw new TypeError("invalid receiver");return{calendar:R(this,ee),isoDay:R(this,je),isoHour:R(this,Qe),isoMicrosecond:R(this,it),isoMillisecond:R(this,rt),isoMinute:R(this,et),isoMonth:R(this,qe),isoNanosecond:R(this,nt),isoSecond:R(this,tt),isoYear:R(this,Ne)}}static from(e,t){let r=ut(t);return st(e)?($r(r),Hn(R(e,Ne),R(e,qe),R(e,je),R(e,Qe),R(e,et),R(e,tt),R(e,rt),R(e,it),R(e,nt),R(e,ee))):$l(e,r)}static compare(e,t){let r=$l(e),n=$l(t);for(let e of[Ne,qe,je,Qe,et,tt,rt,it,nt]){let t=R(r,e),i=R(n,e);if(t!==i)return Vl(t-i)}return 0}};wa(th,"Temporal.PlainDateTime");var ya=class{constructor(e=0,t=0,r=0,n=0,i=0,o=0,s=0,a=0,u=0,h=0){let f=ci(e),c=ci(t),l=ci(r),d=ci(n),p=ci(i),y=ci(o),m=ci(s),g=ci(a),b=ci(u),w=ci(h);x1(f,c,l,d,p,y,m,g,b,w),_a(this),at(this,un,f),at(this,Ni,c),at(this,In,l),at(this,ln,d),at(this,hn,p),at(this,cn,y),at(this,dn,m),at(this,pn,g),at(this,mn,b),at(this,yn,w)}get years(){if(!Br(this))throw new TypeError("invalid receiver");return R(this,un)}get months(){if(!Br(this))throw new TypeError("invalid receiver");return R(this,Ni)}get weeks(){if(!Br(this))throw new TypeError("invalid receiver");return R(this,In)}get days(){if(!Br(this))throw new TypeError("invalid receiver");return R(this,ln)}get hours(){if(!Br(this))throw new TypeError("invalid receiver");return R(this,hn)}get minutes(){if(!Br(this))throw new TypeError("invalid receiver");return R(this,cn)}get seconds(){if(!Br(this))throw new TypeError("invalid receiver");return R(this,dn)}get milliseconds(){if(!Br(this))throw new TypeError("invalid receiver");return R(this,pn)}get microseconds(){if(!Br(this))throw new TypeError("invalid receiver");return R(this,mn)}get nanoseconds(){if(!Br(this))throw new TypeError("invalid receiver");return R(this,yn)}get sign(){if(!Br(this))throw new TypeError("invalid receiver");return ga(R(this,un),R(this,Ni),R(this,In),R(this,ln),R(this,hn),R(this,cn),R(this,dn),R(this,pn),R(this,mn),R(this,yn))}get blank(){if(!Br(this))throw new TypeError("invalid receiver");return 0===ga(R(this,un),R(this,Ni),R(this,In),R(this,ln),R(this,hn),R(this,cn),R(this,dn),R(this,pn),R(this,mn),R(this,yn))}with(e){if(!Br(this))throw new TypeError("invalid receiver");let t=ft(e,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],"partial");if(!t)throw new TypeError("invalid duration-like");let{years:r=R(this,un),months:n=R(this,Ni),weeks:i=R(this,In),days:o=R(this,ln),hours:s=R(this,hn),minutes:a=R(this,cn),seconds:u=R(this,dn),milliseconds:h=R(this,pn),microseconds:f=R(this,mn),nanoseconds:c=R(this,yn)}=t;return new ya(r,n,i,o,s,a,u,h,f,c)}negated(){if(!Br(this))throw new TypeError("invalid receiver");return PP(this)}abs(){if(!Br(this))throw new TypeError("invalid receiver");return new ya(Math.abs(R(this,un)),Math.abs(R(this,Ni)),Math.abs(R(this,In)),Math.abs(R(this,ln)),Math.abs(R(this,hn)),Math.abs(R(this,cn)),Math.abs(R(this,dn)),Math.abs(R(this,pn)),Math.abs(R(this,mn)),Math.abs(R(this,yn)))}add(e,t){if(!Br(this))throw new TypeError("invalid receiver");return WI("add",this,e,t)}subtract(e,t){if(!Br(this))throw new TypeError("invalid receiver");return WI("subtract",this,e,t)}round(e){if(!Br(this))throw new TypeError("invalid receiver");if(void 0===e)throw new TypeError("options parameter is required");let t=R(this,un),r=R(this,Ni),n=R(this,In),i=R(this,ln),o=R(this,hn),s=R(this,cn),a=R(this,dn),u=R(this,pn),h=R(this,mn),f=R(this,yn),c=FM(t,r,n,i,o,s,a,u,h,f),l="string"==typeof e?wd("smallestUnit",e):ut(e),d=pi(l,"smallestUnit","datetime",void 0),p=!0;d||(p=!1,d="nanosecond"),c=Kn(c,d);let y=pi(l,"largestUnit","datetime",void 0,["auto"]),m=!0;if(y||(m=!1,y=c),"auto"===y&&(y=c),!p&&!m)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(Kn(y,d)!==y)throw new RangeError(`largestUnit ${y} cannot be smaller than smallestUnit ${d}`);let g=Pn(l,"halfExpand"),b=vx(l,d),w=Vv(l);return({years:t,months:r,weeks:n,days:i}=Wv(t,r,n,i,y,w)),({years:t,months:r,weeks:n,days:i,hours:o,minutes:s,seconds:a,milliseconds:u,microseconds:h,nanoseconds:f}=yu(t,r,n,i,o,s,a,u,h,f,b,d,g,w)),({years:t,months:r,weeks:n,days:i,hours:o,minutes:s,seconds:a,milliseconds:u,microseconds:h,nanoseconds:f}=jP(t,r,n,i,o,s,a,u,h,f,b,d,g,w)),({years:t,months:r,weeks:n,days:i}=function(e,t,r,n,i,o){let s,a,u=e,h=t,f=r,c=n,l=Ke("%Temporal.Duration%"),d=ga(u,h,f,c,0,0,0,0,0,0);if(0===d)return{years:u,months:h,weeks:f,days:c};o&&(a=Vt(o),s=R(a,ee));let p=new l(d),y=new l(0,d),m=new l(0,0,d);switch(i){case"year":{if(!s)throw new RangeError("a starting point is required for years balancing");let e,t,r;for(({relativeTo:e,days:t}=Xi(s,a,p));Tt(c)>=Tt(t);)c-=t,u+=d,a=e,({relativeTo:e,days:t}=Xi(s,a,p));for(({relativeTo:e,days:r}=Xi(s,a,y));Tt(c)>=Tt(r);)c-=r,h+=d,a=e,({relativeTo:e,days:r}=Xi(s,a,y));let n=s.dateAdd;e=gn(s,a,p,void 0,n);let i=s.dateUntil,o=Wi(null);o.largestUnit="month";let f=du(s,a,e,o,i),l=R(f,Ni);for(;Tt(h)>=Tt(l);){h-=l,u+=d,a=e,e=gn(s,a,p,void 0,n);let t=Wi(null);t.largestUnit="month",f=du(s,a,e,t,i),l=R(f,Ni)}break}case"month":{if(!s)throw new RangeError("a starting point is required for months balancing");let e,t;for(({relativeTo:e,days:t}=Xi(s,a,y));Tt(c)>=Tt(t);)c-=t,h+=d,a=e,({relativeTo:e,days:t}=Xi(s,a,y));break}case"week":{if(!s)throw new RangeError("a starting point is required for weeks balancing");let e,t;for(({relativeTo:e,days:t}=Xi(s,a,m));Tt(c)>=Tt(t);)c-=t,f+=d,a=e,({relativeTo:e,days:t}=Xi(s,a,m));break}}return{years:u,months:h,weeks:f,days:c}}(t,r,n,i,y,w)),ze(w)&&(w=VM(w,t,r,n,0)),({days:i,hours:o,minutes:s,seconds:a,milliseconds:u,microseconds:h,nanoseconds:f}=Vn(i,o,s,a,u,h,f,y,w)),new ya(t,r,n,i,o,s,a,u,h,f)}total(e){if(!Br(this))throw new TypeError("invalid receiver");let t=R(this,un),r=R(this,Ni),n=R(this,In),i=R(this,ln),o=R(this,hn),s=R(this,cn),a=R(this,dn),u=R(this,pn),h=R(this,mn),f=R(this,yn);if(void 0===e)throw new TypeError("options argument is required");let c,l="string"==typeof e?wd("unit",e):ut(e),d=pi(l,"unit","datetime",Gl),p=Vv(l);({years:t,months:r,weeks:n,days:i}=Wv(t,r,n,i,d,p)),ze(p)&&(c=VM(p,t,r,n,0)),({days:i,hours:o,minutes:s,seconds:a,milliseconds:u,microseconds:h,nanoseconds:f}=Vn(i,o,s,a,u,h,f,d,c));let{total:y}=yu(t,r,n,i,o,s,a,u,h,f,1,d,"trunc",p);return y}toString(e){if(!Br(this))throw new TypeError("invalid receiver");let t=ut(e),{precision:r,unit:n,increment:i}=Tm(t);if("minute"===r)throw new RangeError('smallestUnit must not be "minute"');return DM(this,r,{unit:n,increment:i,roundingMode:Pn(t,"trunc")})}toJSON(){if(!Br(this))throw new TypeError("invalid receiver");return DM(this)}toLocaleString(e,t){if(!Br(this))throw new TypeError("invalid receiver");return typeof Intl<"u"&&void 0!==Intl.DurationFormat?new Intl.DurationFormat(e,t).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),DM(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(e){return Br(e)?new ya(R(e,un),R(e,Ni),R(e,In),R(e,ln),R(e,hn),R(e,cn),R(e,dn),R(e,pn),R(e,mn),R(e,yn)):pd(e)}static compare(e,t,r){let n=pd(e),i=pd(t),o=Vv(ut(r)),s=R(n,un),a=R(n,Ni),u=R(n,In),h=R(n,ln),f=R(n,hn),c=R(n,cn),l=R(n,dn),d=R(n,pn),p=R(n,mn),y=R(n,yn),m=R(i,un),g=R(i,Ni),b=R(i,In),w=R(i,ln),v=R(i,hn),_=R(i,cn),E=R(i,dn),S=R(i,pn),M=R(i,mn),A=R(i,yn),k=qI(o,s,a,u,h),x=qI(o,m,g,b,w);0===s&&0===m&&0===a&&0===g&&0===u&&0===b||(({days:h}=Wv(s,a,u,h,"day",o)),({days:w}=Wv(m,g,b,w,"day",o)));let T=bd(h,f,c,l,d,p,y,k),P=bd(w,v,_,E,S,M,A,x);return Vl($.default.toNumber($.default.subtract(T,P)))}};wa(ya,"Temporal.Duration");var Sie=Object.create,gm=class{constructor(e,t,r=Hr(),n=1972){let i=Kt(e),o=Kt(t),s=ji(r),a=Kt(n);if(arguments.length<2)throw new RangeError("missing argument: isoMonth and isoDay are required");wP(this,i,o,s,a)}get monthCode(){if(!Li(this))throw new TypeError("invalid receiver");return Rm(R(this,ee),this)}get day(){if(!Li(this))throw new TypeError("invalid receiver");return p1(R(this,ee),this)}get calendar(){if(!Li(this))throw new TypeError("invalid receiver");return R(this,ee)}with(e,t){if(!Li(this))throw new TypeError("invalid receiver");if(!nr(e))throw new TypeError("invalid argument");Ed(e);let r=R(this,ee),n=Vr(r,["day","month","monthCode","year"]),i=ft(e,n,"partial");if(!i)throw new TypeError("invalid month-day-like");let o=ft(this,n,[]);return o=Zl(r,o,i),o=ft(o,n,[]),gd(r,o,ut(t))}equals(e){if(!Li(this))throw new TypeError("invalid receiver");let t=II(e);for(let e of[qe,je,Ne])if(R(this,e)!==R(t,e))return!1;return Im(R(this,ee),R(t,ee))}toString(e){if(!Li(this))throw new TypeError("invalid receiver");return OI(this,Sm(ut(e)))}toJSON(){if(!Li(this))throw new TypeError("invalid receiver");return OI(this)}toLocaleString(e,t){if(!Li(this))throw new TypeError("invalid receiver");return new wu(e,t).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(e){if(!Li(this))throw new TypeError("invalid receiver");if(!nr(e))throw new TypeError("argument should be an object");let t=R(this,ee),r=Vr(t,["day","monthCode"]),n=ft(this,r,[]),i=Vr(t,["year"]),o=Zl(t,n,ft(e,i,[]));o=ft(o,[...new Set([...r,...i])],[]);let s=Sie(null);return s.overflow="reject",pu(t,o,s)}getISOFields(){if(!Li(this))throw new TypeError("invalid receiver");return{calendar:R(this,ee),isoDay:R(this,je),isoMonth:R(this,qe),isoYear:R(this,Ne)}}static from(e,t){let r=ut(t);return Li(e)?($r(r),pm(R(e,qe),R(e,je),R(e,ee),R(e,Ne))):II(e,r)}};wa(gm,"Temporal.PlainMonthDay");var Lx=()=>new(Ke("%Temporal.Instant%"))(Ox()),XI=(e,t=uu())=>{let r=bn(t),n=ji(e);return ro(r,Lx(),n)},NM=(e=uu())=>{let t=bn(e),r=Hr();return ro(t,Lx(),r)},QI=(e,t=uu())=>{let r=bn(t),n=ji(e);return $i(Ox(),r,n)},uu=()=>function(){let e=new fP("en-us");return new(Ke("%Temporal.TimeZone%"))(mP(e.resolvedOptions().timeZone))}(),eD={instant:Lx,plainDateTime:XI,plainDateTimeISO:NM,plainDate:(e,t=uu())=>vd(XI(e,t)),plainDateISO:(e=uu())=>vd(NM(e)),plainTimeISO:(e=uu())=>xx(NM(e)),timeZone:uu,zonedDateTime:QI,zonedDateTimeISO:(e=uu())=>QI(Hr(),e),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(eD,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});var Tie=Object.assign;function eP(e,t,r){let n=R(e,Qe),i=R(e,et),o=R(e,tt),s=R(e,rt),a=R(e,it),u=R(e,nt);if(r){let{unit:e,increment:t,roundingMode:h}=r;({hour:n,minute:i,second:o,millisecond:s,microsecond:a,nanosecond:u}=Bx(n,i,o,s,a,u,t,e,h))}return`${lr(n)}:${lr(i)}${w1(o,s,a,u,t)}`}var df=class{constructor(e=0,t=0,r=0,n=0,i=0,o=0){let s=Kt(e),a=Kt(t),u=Kt(r),h=Kt(n),f=Kt(i),c=Kt(o);M1(s,a,u,h,f,c),_a(this),at(this,Qe,s),at(this,et,a),at(this,tt,u),at(this,rt,h),at(this,it,f),at(this,nt,c),at(this,ee,Hr())}get calendar(){if(!Or(this))throw new TypeError("invalid receiver");return R(this,ee)}get hour(){if(!Or(this))throw new TypeError("invalid receiver");return R(this,Qe)}get minute(){if(!Or(this))throw new TypeError("invalid receiver");return R(this,et)}get second(){if(!Or(this))throw new TypeError("invalid receiver");return R(this,tt)}get millisecond(){if(!Or(this))throw new TypeError("invalid receiver");return R(this,rt)}get microsecond(){if(!Or(this))throw new TypeError("invalid receiver");return R(this,it)}get nanosecond(){if(!Or(this))throw new TypeError("invalid receiver");return R(this,nt)}with(e,t){if(!Or(this))throw new TypeError("invalid receiver");if(!nr(e))throw new TypeError("invalid argument");Ed(e);let r=e1(e,"partial"),n=$r(ut(t)),i=e1(this),{hour:o,minute:s,second:a,millisecond:u,microsecond:h,nanosecond:f}=Tie(i,r);return({hour:o,minute:s,second:a,millisecond:u,microsecond:h,nanosecond:f}=l1(o,s,a,u,h,f,n)),new df(o,s,a,u,h,f)}add(e){if(!Or(this))throw new TypeError("invalid receiver");return GI("add",this,e)}subtract(e){if(!Or(this))throw new TypeError("invalid receiver");return GI("subtract",this,e)}until(e,t){if(!Or(this))throw new TypeError("invalid receiver");return FI("until",this,e,t)}since(e,t){if(!Or(this))throw new TypeError("invalid receiver");return FI("since",this,e,t)}round(e){if(!Or(this))throw new TypeError("invalid receiver");if(void 0===e)throw new TypeError("options parameter is required");let t="string"==typeof e?wd("smallestUnit",e):ut(e),r=pi(t,"smallestUnit","time",Gl),n=Pn(t,"halfExpand"),i=pf(t,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[r],!1),o=R(this,Qe),s=R(this,et),a=R(this,tt),u=R(this,rt),h=R(this,it),f=R(this,nt);return({hour:o,minute:s,second:a,millisecond:u,microsecond:h,nanosecond:f}=Bx(o,s,a,u,h,f,i,r,n)),new df(o,s,a,u,h,f)}equals(e){if(!Or(this))throw new TypeError("invalid receiver");let t=uf(e);for(let e of[Qe,et,tt,rt,it,nt])if(R(this,e)!==R(t,e))return!1;return!0}toString(e){if(!Or(this))throw new TypeError("invalid receiver");let t=ut(e),{precision:r,unit:n,increment:i}=Tm(t);return eP(this,r,{unit:n,increment:i,roundingMode:Pn(t,"trunc")})}toJSON(){if(!Or(this))throw new TypeError("invalid receiver");return eP(this,"auto")}toLocaleString(e,t){if(!Or(this))throw new TypeError("invalid receiver");return new wu(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(e){if(!Or(this))throw new TypeError("invalid receiver");let t=Vt(e),r=R(t,Ne),n=R(t,qe),i=R(t,je),o=R(t,ee);return Hn(r,n,i,R(this,Qe),R(this,et),R(this,tt),R(this,rt),R(this,it),R(this,nt),o)}toZonedDateTime(e){if(!Or(this))throw new TypeError("invalid receiver");if(!nr(e))throw new TypeError("invalid argument");let t=e.plainDate;if(void 0===t)throw new TypeError("missing date property");let r=Vt(t),n=e.timeZone;if(void 0===n)throw new TypeError("missing timeZone property");let i=bn(n),o=R(r,Ne),s=R(r,qe),a=R(r,je),u=R(r,ee),h=R(this,Qe),f=R(this,et),c=R(this,tt),l=R(this,rt),d=R(this,it),p=R(this,nt);return $i(R(vn(i,new(Ke("%Temporal.PlainDateTime%"))(o,s,a,h,f,c,l,d,p,u),"compatible"),Ve),i,u)}getISOFields(){if(!Or(this))throw new TypeError("invalid receiver");return{calendar:R(this,ee),isoHour:R(this,Qe),isoMicrosecond:R(this,it),isoMillisecond:R(this,rt),isoMinute:R(this,et),isoNanosecond:R(this,nt),isoSecond:R(this,tt)}}static from(e,t){let r=$r(ut(t));return Or(e)?new df(R(e,Qe),R(e,et),R(e,tt),R(e,rt),R(e,it),R(e,nt)):uf(e,r)}static compare(e,t){let r=uf(e),n=uf(t);for(let e of[Qe,et,tt,rt,it,nt]){let t=R(r,e),i=R(n,e);if(t!==i)return Vl(t-i)}return 0}};wa(df,"Temporal.PlainTime");var vm=class{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");let t=Ex(e);_a(this),at(this,fu,t)}get id(){if(!pa(this))throw new TypeError("invalid receiver");return Je(this)}getOffsetNanosecondsFor(e){if(!pa(this))throw new TypeError("invalid receiver");let t=ma(e),r=R(this,fu);return om(r)?Jl(r):af(R(t,Ve),r)}getOffsetStringFor(e){if(!pa(this))throw new TypeError("invalid receiver");return $M(this,ma(e))}getPlainDateTimeFor(e,t=Hr()){return ro(this,ma(e),ji(t))}getInstantFor(e,t){if(!pa(this))throw new TypeError("invalid receiver");return vn(this,$l(e),dm(ut(t)))}getPossibleInstantsFor(e){if(!pa(this))throw new TypeError("invalid receiver");let t=$l(e),r=Ke("%Temporal.Instant%"),n=R(this,fu);if(om(n)){let e=mu(R(t,Ne),R(t,qe),R(t,je),R(t,Qe),R(t,et),R(t,tt),R(t,rt),R(t,it),R(t,nt));if(null===e)throw new RangeError("DateTime outside of supported range");let i=Jl(n);return[new r($.default.subtract(e,$.default.BigInt(i)))]}return function(e,t,r,n,i,o,s,a,u,h){let f=mu(t,r,n,i,o,s,a,u,h);if(null===f)throw new RangeError("DateTime outside of supported range");let c=$.default.subtract(f,cu);$.default.lessThan(c,um)&&(c=f);let l=$.default.add(f,cu);$.default.greaterThan(l,lm)&&(l=f);let d=af(c,e),p=af(l,e);return(d===p?[d]:[d,p]).map((c=>{let l=$.default.subtract(f,$.default.BigInt(c)),d=RP(l,e);if(t===d.year&&r===d.month&&n===d.day&&i===d.hour&&o===d.minute&&s===d.second&&a===d.millisecond&&u===d.microsecond&&h===d.nanosecond)return l})).filter((e=>void 0!==e))}(n,R(t,Ne),R(t,qe),R(t,je),R(t,Qe),R(t,et),R(t,tt),R(t,rt),R(t,it),R(t,nt)).map((e=>new r(e)))}getNextTransition(e){if(!pa(this))throw new TypeError("invalid receiver");let t=ma(e),r=R(this,fu);if(om(r)||"UTC"===r)return null;let n=R(t,Ve),i=Ke("%Temporal.Instant%");return n=function(e,t){let r=$.default.add(e,hP),n=LI(kP(),r),i=LI(lP,e),o=af(i,t),s=i,a=o;for(;o===a&&$.default.lessThan($.default.BigInt(i),n);)s=$.default.add(i,cP),a=af(s,t),o===a&&(i=s);return o===a?null:FP((e=>af(e,t)),i,s,o,a)}(n,r),null===n?null:new i(n)}getPreviousTransition(e){if(!pa(this))throw new TypeError("invalid receiver");let t=ma(e),r=R(this,fu);if(om(r)||"UTC"===r)return null;let n=R(t,Ve),i=Ke("%Temporal.Instant%");return n=IP(n,r),null===n?null:new i(n)}toString(){if(!pa(this))throw new TypeError("invalid receiver");return Je(R(this,fu))}toJSON(){if(!pa(this))throw new TypeError("invalid receiver");return Je(this)}static from(e){return bn(e)}};wa(vm,"Temporal.TimeZone");var Aie=Object.create,bm=class{constructor(e,t,r=Hr(),n=1){let i=Kt(e),o=Kt(t),s=ji(r),a=Kt(n);if(arguments.length<2)throw new RangeError("missing argument: isoYear and isoMonth are required");_P(this,i,o,s,a)}get year(){if(!Pt(this))throw new TypeError("invalid receiver");return c1(R(this,ee),this)}get month(){if(!Pt(this))throw new TypeError("invalid receiver");return d1(R(this,ee),this)}get monthCode(){if(!Pt(this))throw new TypeError("invalid receiver");return Rm(R(this,ee),this)}get calendar(){if(!Pt(this))throw new TypeError("invalid receiver");return R(this,ee)}get era(){if(!Pt(this))throw new TypeError("invalid receiver");return m1(R(this,ee),this)}get eraYear(){if(!Pt(this))throw new TypeError("invalid receiver");return y1(R(this,ee),this)}get daysInMonth(){if(!Pt(this))throw new TypeError("invalid receiver");return km(R(this,ee),this)}get daysInYear(){if(!Pt(this))throw new TypeError("invalid receiver");return g1(R(this,ee),this)}get monthsInYear(){if(!Pt(this))throw new TypeError("invalid receiver");return v1(R(this,ee),this)}get inLeapYear(){if(!Pt(this))throw new TypeError("invalid receiver");return b1(R(this,ee),this)}with(e,t){if(!Pt(this))throw new TypeError("invalid receiver");if(!nr(e))throw new TypeError("invalid argument");Ed(e);let r=R(this,ee),n=Vr(r,["month","monthCode","year"]),i=ft(e,n,"partial");if(!i)throw new TypeError("invalid year-month-like");let o=ft(this,n,[]);return o=Zl(r,o,i),o=ft(o,n,[]),Yl(r,o,ut(t))}add(e,t){if(!Pt(this))throw new TypeError("invalid receiver");return ZI("add",this,e,t)}subtract(e,t){if(!Pt(this))throw new TypeError("invalid receiver");return ZI("subtract",this,e,t)}until(e,t){if(!Pt(this))throw new TypeError("invalid receiver");return $I("until",this,e,t)}since(e,t){if(!Pt(this))throw new TypeError("invalid receiver");return $I("since",this,e,t)}equals(e){if(!Pt(this))throw new TypeError("invalid receiver");let t=im(e);for(let e of[Ne,qe,je])if(R(this,e)!==R(t,e))return!1;return Im(R(this,ee),R(t,ee))}toString(e){if(!Pt(this))throw new TypeError("invalid receiver");return CI(this,Sm(ut(e)))}toJSON(){if(!Pt(this))throw new TypeError("invalid receiver");return CI(this)}toLocaleString(e,t){if(!Pt(this))throw new TypeError("invalid receiver");return new wu(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(e){if(!Pt(this))throw new TypeError("invalid receiver");if(!nr(e))throw new TypeError("argument should be an object");let t=R(this,ee),r=Vr(t,["monthCode","year"]),n=ft(this,r,[]),i=Vr(t,["day"]),o=Zl(t,n,ft(e,i,[]));o=ft(o,[...new Set([...r,...i])],[]);let s=Aie(null);return s.overflow="reject",pu(t,o,s)}getISOFields(){if(!Pt(this))throw new TypeError("invalid receiver");return{calendar:R(this,ee),isoDay:R(this,je),isoMonth:R(this,qe),isoYear:R(this,Ne)}}static from(e,t){let r=ut(t);return Pt(e)?($r(r),mm(R(e,Ne),R(e,qe),R(e,ee),R(e,je))):im(e,r)}static compare(e,t){let r=im(e),n=im(t);return hu(R(r,Ne),R(r,qe),R(r,je),R(n,Ne),R(n,qe),R(n,je))}};wa(bm,"Temporal.PlainYearMonth");var wm=class{constructor(e,t,r=Hr()){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");MP(this,sm(e),bn(t),ji(r))}get calendar(){if(!ze(this))throw new TypeError("invalid receiver");return R(this,ee)}get timeZone(){if(!ze(this))throw new TypeError("invalid receiver");return R(this,Lt)}get year(){if(!ze(this))throw new TypeError("invalid receiver");return c1(R(this,ee),ar(this))}get month(){if(!ze(this))throw new TypeError("invalid receiver");return d1(R(this,ee),ar(this))}get monthCode(){if(!ze(this))throw new TypeError("invalid receiver");return Rm(R(this,ee),ar(this))}get day(){if(!ze(this))throw new TypeError("invalid receiver");return p1(R(this,ee),ar(this))}get hour(){if(!ze(this))throw new TypeError("invalid receiver");return R(ar(this),Qe)}get minute(){if(!ze(this))throw new TypeError("invalid receiver");return R(ar(this),et)}get second(){if(!ze(this))throw new TypeError("invalid receiver");return R(ar(this),tt)}get millisecond(){if(!ze(this))throw new TypeError("invalid receiver");return R(ar(this),rt)}get microsecond(){if(!ze(this))throw new TypeError("invalid receiver");return R(ar(this),it)}get nanosecond(){if(!ze(this))throw new TypeError("invalid receiver");return R(ar(this),nt)}get era(){if(!ze(this))throw new TypeError("invalid receiver");return m1(R(this,ee),ar(this))}get eraYear(){if(!ze(this))throw new TypeError("invalid receiver");return y1(R(this,ee),ar(this))}get epochSeconds(){if(!ze(this))throw new TypeError("invalid receiver");let e=R(this,Ve);return $.default.toNumber($.default.divide(e,lf))}get epochMilliseconds(){if(!ze(this))throw new TypeError("invalid receiver");let e=R(this,Ve);return $.default.toNumber($.default.divide(e,_o))}get epochMicroseconds(){if(!ze(this))throw new TypeError("invalid receiver");let e=R(this,Ve);return o1($.default.divide(e,qt))}get epochNanoseconds(){if(!ze(this))throw new TypeError("invalid receiver");return o1(R(this,Ve))}get dayOfWeek(){if(!ze(this))throw new TypeError("invalid receiver");return bx(R(this,ee),ar(this))}get dayOfYear(){if(!ze(this))throw new TypeError("invalid receiver");return wx(R(this,ee),ar(this))}get weekOfYear(){if(!ze(this))throw new TypeError("invalid receiver");return _x(R(this,ee),ar(this))}get hoursInDay(){if(!ze(this))throw new TypeError("invalid receiver");let e=ar(this),t=Ke("%Temporal.PlainDateTime%"),r=R(e,Ne),n=R(e,qe),i=R(e,je),o=new t(r,n,i,0,0,0,0,0,0),s=Wl(r,n,i,0,0,0,1,"reject"),a=new t(s.year,s.month,s.day,0,0,0,0,0,0),u=R(this,Lt),h=R(vn(u,o,"compatible"),Ve),f=R(vn(u,a,"compatible"),Ve);return $.default.toNumber($.default.subtract(f,h))/36e11}get daysInWeek(){if(!ze(this))throw new TypeError("invalid receiver");return Mx(R(this,ee),ar(this))}get daysInMonth(){if(!ze(this))throw new TypeError("invalid receiver");return km(R(this,ee),ar(this))}get daysInYear(){if(!ze(this))throw new TypeError("invalid receiver");return g1(R(this,ee),ar(this))}get monthsInYear(){if(!ze(this))throw new TypeError("invalid receiver");return v1(R(this,ee),ar(this))}get inLeapYear(){if(!ze(this))throw new TypeError("invalid receiver");return b1(R(this,ee),ar(this))}get offset(){if(!ze(this))throw new TypeError("invalid receiver");return $M(R(this,Lt),R(this,Qi))}get offsetNanoseconds(){if(!ze(this))throw new TypeError("invalid receiver");return Ts(R(this,Lt),R(this,Qi))}with(e,t){if(!ze(this))throw new TypeError("invalid receiver");if(!nr(e))throw new TypeError("invalid zoned-date-time-like");Ed(e);let r=ut(t),n=dm(r),i=zM(r,"prefer"),o=R(this,Lt),s=R(this,ee),a=UM(Vr(s,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),"offset"),u=ft(e,a,"partial"),h=UM(a,"timeZone"),f=ft(this,h,["timeZone","offset"]);f=Zl(s,f,u),f=ft(f,h,["timeZone","offset"]);let{year:c,month:l,day:d,hour:p,minute:y,second:m,millisecond:g,microsecond:b,nanosecond:w}=Am(s,f,r);return $i(t1(c,l,d,p,y,m,g,b,w,"option",Jl(f.offset),o,n,i,!1),R(this,Lt),s)}withPlainDate(e){if(!ze(this))throw new TypeError("invalid receiver");let t=Vt(e),r=R(t,Ne),n=R(t,qe),i=R(t,je),o=R(t,ee),s=ar(this),a=R(s,Qe),u=R(s,et),h=R(s,tt),f=R(s,rt),c=R(s,it),l=R(s,nt);o=xP(R(this,ee),o);let d=R(this,Lt);return $i(R(vn(d,new(Ke("%Temporal.PlainDateTime%"))(r,n,i,a,u,h,f,c,l,o),"compatible"),Ve),d,o)}withPlainTime(e){if(!ze(this))throw new TypeError("invalid receiver");let t=Ke("%Temporal.PlainTime%"),r=void 0===e?new t:uf(e),n=ar(this),i=R(n,Ne),o=R(n,qe),s=R(n,je),a=R(this,ee),u=R(r,Qe),h=R(r,et),f=R(r,tt),c=R(r,rt),l=R(r,it),d=R(r,nt),p=R(this,Lt);return $i(R(vn(p,new(Ke("%Temporal.PlainDateTime%"))(i,o,s,u,h,f,c,l,d,a),"compatible"),Ve),p,a)}withTimeZone(e){if(!ze(this))throw new TypeError("invalid receiver");let t=bn(e);return $i(R(this,Ve),t,R(this,ee))}withCalendar(e){if(!ze(this))throw new TypeError("invalid receiver");let t=ji(e);return $i(R(this,Ve),R(this,Lt),t)}add(e,t){if(!ze(this))throw new TypeError("invalid receiver");return YI("add",this,e,t)}subtract(e,t){if(!ze(this))throw new TypeError("invalid receiver");return YI("subtract",this,e,t)}until(e,t){if(!ze(this))throw new TypeError("invalid receiver");return HI("until",this,e,t)}since(e,t){if(!ze(this))throw new TypeError("invalid receiver");return HI("since",this,e,t)}round(e){if(!ze(this))throw new TypeError("invalid receiver");if(void 0===e)throw new TypeError("options parameter is required");let t="string"==typeof e?wd("smallestUnit",e):ut(e),r=pi(t,"smallestUnit","time",Gl,["day"]),n=Pn(t,"halfExpand"),i=pf(t,{day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[r],!1),o=ar(this),s=R(o,Ne),a=R(o,qe),u=R(o,je),h=R(o,Qe),f=R(o,et),c=R(o,tt),l=R(o,rt),d=R(o,it),p=R(o,nt),y=Ke("%Temporal.PlainDateTime%"),m=R(this,Lt),g=R(this,ee),b=vn(m,new y(R(o,Ne),R(o,qe),R(o,je),0,0,0,0,0,0),"compatible"),w=Mo(b,m,g,0,0,0,1,0,0,0,0,0,0),v=$.default.subtract(w,$.default.BigInt(R(b,Ve)));if($.default.equal(v,Fr))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero-length days");return({year:s,month:a,day:u,hour:h,minute:f,second:c,millisecond:l,microsecond:d,nanosecond:p}=Dx(s,a,u,h,f,c,l,d,p,i,r,n,$.default.toNumber(v))),$i(t1(s,a,u,h,f,c,l,d,p,"option",Ts(m,R(this,Qi)),m,"compatible","prefer",!1),m,R(this,ee))}equals(e){if(!ze(this))throw new TypeError("invalid receiver");let t=nm(e),r=R(this,Ve),n=R(t,Ve);return!!$.default.equal($.default.BigInt(r),$.default.BigInt(n))&&!!EP(R(this,Lt),R(t,Lt))&&Im(R(this,ee),R(t,ee))}toString(e){if(!ze(this))throw new TypeError("invalid receiver");let t=ut(e),{precision:r,unit:n,increment:i}=Tm(t),o=Pn(t,"trunc");return NI(this,r,Sm(t),gu(t,"timeZoneName",["auto","never"],"auto"),gu(t,"offset",["auto","never"],"auto"),{unit:n,increment:i,roundingMode:o})}toLocaleString(e,t){if(!ze(this))throw new TypeError("invalid receiver");return new wu(e,t).format(this)}toJSON(){if(!ze(this))throw new TypeError("invalid receiver");return NI(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!ze(this))throw new TypeError("invalid receiver");let e=ar(this),t=Ke("%Temporal.PlainDateTime%"),r=R(this,ee),n=new t(R(e,Ne),R(e,qe),R(e,je),0,0,0,0,0,0,r),i=R(this,Lt);return $i(R(vn(i,n,"compatible"),Ve),i,r)}toInstant(){if(!ze(this))throw new TypeError("invalid receiver");return new(Ke("%Temporal.Instant%"))(R(this,Ve))}toPlainDate(){if(!ze(this))throw new TypeError("invalid receiver");return vd(ar(this))}toPlainTime(){if(!ze(this))throw new TypeError("invalid receiver");return xx(ar(this))}toPlainDateTime(){if(!ze(this))throw new TypeError("invalid receiver");return ar(this)}toPlainYearMonth(){if(!ze(this))throw new TypeError("invalid receiver");let e=R(this,ee);return Yl(e,ft(this,Vr(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!ze(this))throw new TypeError("invalid receiver");let e=R(this,ee);return gd(e,ft(this,Vr(e,["day","monthCode"]),[]))}getISOFields(){if(!ze(this))throw new TypeError("invalid receiver");let e=ar(this),t=R(this,Lt);return{calendar:R(this,ee),isoDay:R(e,je),isoHour:R(e,Qe),isoMicrosecond:R(e,it),isoMillisecond:R(e,rt),isoMinute:R(e,et),isoMonth:R(e,qe),isoNanosecond:R(e,nt),isoSecond:R(e,tt),isoYear:R(e,Ne),offset:$M(t,R(this,Qi)),timeZone:t}}static from(e,t){let r=ut(t);return ze(e)?($r(r),dm(r),zM(r,"reject"),$i(R(e,Ve),R(e,Lt),R(e,ee))):nm(e,r)}static compare(e,t){let r=nm(e),n=nm(t),i=R(r,Ve),o=R(n,Ve);return $.default.lessThan($.default.BigInt(i),$.default.BigInt(o))?-1:$.default.greaterThan($.default.BigInt(i),$.default.BigInt(o))?1:0}};function ar(e){return ro(R(e,Lt),R(e,Qi),R(e,ee))}wa(wm,"Temporal.ZonedDateTime");var tD=Object.freeze({__proto__:null,Instant:wo,Calendar:Md,PlainDate:eh,PlainDateTime:th,Duration:ya,PlainMonthDay:gm,Now:eD,PlainTime:df,TimeZone:vm,PlainYearMonth:bm,ZonedDateTime:wm}),Rie=[wo,Md,eh,th,ya,gm,df,vm,bm,wm];for(let e of Rie){let t=Object.getOwnPropertyDescriptor(e,"prototype");(t.configurable||t.enumerable||t.writable)&&(t.configurable=!1,t.enumerable=!1,t.writable=!1,Object.defineProperty(e,"prototype",t))}function qx(e){return new Promise((t=>setTimeout(t,e)))}function wn(){return tD.Now.instant().toString({smallestUnit:"microseconds"})}x(),x(),x(),Ux();var zx=new TextEncoder,Die=new TextDecoder,Ct=class{static base64UrlToBytes(e){return Td.baseDecode(e)}static base64UrlToObject(e){let t=Td.baseDecode(e),r=Ct.bytesToString(t);return JSON.parse(r)}static bytesToBase64Url(e){return Td.baseEncode(e)}static bytesToString(e){return Die.decode(e)}static objectToBytes(e){let t=JSON.stringify(e);return zx.encode(t)}static stringToBase64Url(e){let t=zx.encode(e);return Td.baseEncode(t)}static stringToBytes(e){return zx.encode(e)}};x(),x(),x();var Eye=wt(ew(),1),on=BigInt(0),Ft=BigInt(1),M0=BigInt(2),Yz=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),Wr=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:Yz,n:Yz,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")}),eF=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),Ny=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),SCe=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),Sye=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Tye=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Aye=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Rye=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),zt=class{constructor(e,t,r,n){this.x=e,this.y=t,this.z=r,this.t=n}static fromAffine(e){if(!(e instanceof Kr))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(Kr.ZERO)?zt.ZERO:new zt(e.x,e.y,Ft,Ce(e.x*e.y))}static toAffineBatch(e){let t=Pye(e.map((e=>e.z)));return e.map(((e,r)=>e.toAffine(t[r])))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){Jz(e);let{x:t,y:r,z:n}=this,{x:i,y:o,z:s}=e,a=Ce(t*s),u=Ce(i*n),h=Ce(r*s),f=Ce(o*n);return a===u&&h===f}negate(){return new zt(Ce(-this.x),this.y,this.z,Ce(-this.t))}double(){let{x:e,y:t,z:r}=this,{a:n}=Wr,i=Ce(e*e),o=Ce(t*t),s=Ce(M0*Ce(r*r)),a=Ce(n*i),u=e+t,h=Ce(Ce(u*u)-i-o),f=a+o,c=f-s,l=a-o,d=Ce(h*c),p=Ce(f*l),y=Ce(h*l),m=Ce(c*f);return new zt(d,p,m,y)}add(e){Jz(e);let{x:t,y:r,z:n,t:i}=this,{x:o,y:s,z:a,t:u}=e,h=Ce((r-t)*(s+o)),f=Ce((r+t)*(s-o)),c=Ce(f-h);if(c===on)return this.double();let l=Ce(n*M0*u),d=Ce(i*M0*a),p=d+l,y=f+h,m=d-l,g=Ce(p*c),b=Ce(y*m),w=Ce(p*m),v=Ce(c*y);return new zt(g,b,v,w)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let t=1+256/e,r=[],n=this,i=n;for(let o=0;o<t;o++){i=n,r.push(i);for(let t=1;t<2**(e-1);t++)i=i.add(n),r.push(i);n=i.double()}return r}wNAF(e,t){!t&&this.equals(zt.BASE)&&(t=Kr.BASE);let r=t&&t._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=t&&CS.get(t);n||(n=this.precomputeWindow(r),t&&1!==r&&(n=zt.normalizeZ(n),CS.set(t,n)));let i=zt.ZERO,o=zt.ZERO,s=1+256/r,a=2**(r-1),u=BigInt(2**r-1),h=2**r,f=BigInt(r);for(let t=0;t<s;t++){let r=t*a,s=Number(e&u);if(e>>=f,s>a&&(s-=h,e+=Ft),0===s){let e=n[r];t%2&&(e=e.negate()),o=o.add(e)}else{let e=n[r+Math.abs(s)-1];s<0&&(e=e.negate()),i=i.add(e)}}return zt.normalizeZ([i,o])[0]}multiply(e,t){return this.wNAF(Xw(e,Wr.l),t)}multiplyUnsafe(e){let t=Xw(e,Wr.l,!1),r=zt.BASE,n=zt.ZERO;if(t===on)return n;if(this.equals(n)||t===Ft)return this;if(this.equals(r))return this.wNAF(t);let i=n,o=this;for(;t>on;)t&Ft&&(i=i.add(o)),o=o.double(),t>>=Ft;return i}isSmallOrder(){return this.multiplyUnsafe(Wr.h).equals(zt.ZERO)}isTorsionFree(){return this.multiplyUnsafe(Wr.l).equals(zt.ZERO)}toAffine(e=Qw(this.z)){let{x:t,y:r,z:n}=this,i=Ce(t*e),o=Ce(r*e);if(Ce(n*e)!==Ft)throw new Error("invZ was invalid");return new Kr(i,o)}fromRistrettoBytes(){DS()}toRistrettoBytes(){DS()}fromRistrettoHash(){DS()}};function Jz(e){if(!(e instanceof zt))throw new TypeError("ExtendedPoint expected")}function PS(e){if(!(e instanceof ao))throw new TypeError("RistrettoPoint expected")}function DS(){throw new Error("Legacy method: switch to RistrettoPoint")}zt.BASE=new zt(Wr.Gx,Wr.Gy,Ft,Ce(Wr.Gx*Wr.Gy)),zt.ZERO=new zt(on,Ft,Ft,on);var ao=class{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:t}=Wr,r=Ce(Ny*e*e),n=Ce((r+Ft)*Aye),i=BigInt(-1),o=Ce((i-t*r)*Ce(r+t)),{isValid:s,value:a}=LS(n,o),u=Ce(a*e);Wu(u)||(u=Ce(-u)),s||(a=u),s||(i=r);let h=Ce(i*(r-Ft)*Rye-o),f=a*a,c=Ce((a+a)*o),l=Ce(h*Sye),d=Ce(Ft-f),p=Ce(Ft+f);return new zt(Ce(c*p),Ce(d*l),Ce(l*p),Ce(c*d))}static hashToCurve(e){let t=BS((e=Vu(e,64)).slice(0,32)),r=this.calcElligatorRistrettoMap(t),n=BS(e.slice(32,64)),i=this.calcElligatorRistrettoMap(n);return new ao(r.add(i))}static fromHex(e){e=Vu(e,32);let{a:t,d:r}=Wr,n="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",i=BS(e);if(!Bye(Ly(i),e)||Wu(i))throw new Error(n);let o=Ce(i*i),s=Ce(Ft+t*o),a=Ce(Ft-t*o),u=Ce(s*s),h=Ce(a*a),f=Ce(t*r*u-h),{isValid:c,value:l}=Qz(Ce(f*h)),d=Ce(l*a),p=Ce(l*d*f),y=Ce((i+i)*d);Wu(y)&&(y=Ce(-y));let m=Ce(s*p),g=Ce(y*m);if(!c||Wu(g)||m===on)throw new Error(n);return new ao(new zt(y,m,Ft,g))}toRawBytes(){let e,{x:t,y:r,z:n,t:i}=this.ep,o=Ce(Ce(n+r)*Ce(n-r)),s=Ce(t*r),a=Ce(s*s),{value:u}=Qz(Ce(o*a)),h=Ce(u*o),f=Ce(u*s),c=Ce(h*f*i);if(Wu(i*c)){let n=Ce(r*Ny),i=Ce(t*Ny);t=n,r=i,e=Ce(h*Tye)}else e=f;Wu(t*c)&&(r=Ce(-r));let l=Ce((n-r)*e);return Wu(l)&&(l=Ce(-l)),Ly(l)}toHex(){return qy(this.toRawBytes())}toString(){return this.toHex()}equals(e){PS(e);let t=this.ep,r=e.ep,n=Ce(t.x*r.y)===Ce(t.y*r.x),i=Ce(t.y*r.y)===Ce(t.x*r.x);return n||i}add(e){return PS(e),new ao(this.ep.add(e.ep))}subtract(e){return PS(e),new ao(this.ep.subtract(e.ep))}multiply(e){return new ao(this.ep.multiply(e))}multiplyUnsafe(e){return new ao(this.ep.multiplyUnsafe(e))}};ao.BASE=new ao(zt.BASE),ao.ZERO=new ao(zt.ZERO);var CS=new WeakMap,Kr=class{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,CS.delete(this)}static fromHex(e,t=!0){let{d:r,P:n}=Wr,i=(e=Vu(e,32)).slice();i[31]=-129&e[31];let o=jy(i);if(t&&o>=n)throw new Error("Expected 0 < hex < P");if(!t&&o>=eF)throw new Error("Expected 0 < hex < 2**256");let s=Ce(o*o),a=Ce(s-Ft),u=Ce(r*s+Ft),{isValid:h,value:f}=LS(a,u);if(!h)throw new Error("Point.fromHex: invalid y coordinate");let c=(f&Ft)===Ft;return 0!=(128&e[31])!==c&&(f=Ce(-f)),new Kr(f,o)}static async fromPrivateKey(e){return(await e2(e)).point}toRawBytes(){let e=Ly(this.y);return e[31]|=this.x&Ft?128:0,e}toHex(){return qy(this.toRawBytes())}toX25519(){let{y:e}=this;return Ly(Ce((Ft+e)*Qw(Ft-e)))}isTorsionFree(){return zt.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Kr(Ce(-this.x),this.y)}add(e){return zt.fromAffine(this).add(zt.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return zt.fromAffine(this).multiply(e,this).toAffine()}};Kr.BASE=new Kr(Wr.Gx,Wr.Gy),Kr.ZERO=new Kr(on,Ft);var Kh=class{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){let t=Vu(e,64),r=Kr.fromHex(t.slice(0,32),!1),n=jy(t.slice(32,64));return new Kh(r,n)}assertValidity(){let{r:e,s:t}=this;if(!(e instanceof Kr))throw new Error("Expected Point instance");return Xw(t,Wr.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(Ly(this.s),32),e}toHex(){return qy(this.toRawBytes())}};function Xz(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Expected Uint8Array list");if(1===e.length)return e[0];let t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}var kye=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function qy(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=kye[e[r]];return t}function NS(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=2*r,i=e.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}function tF(e){return NS(e.toString(16).padStart(64,"0"))}function Ly(e){return tF(e).reverse()}function Wu(e){return(Ce(e)&Ft)===Ft}function jy(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+qy(Uint8Array.from(e).reverse()))}var Iye=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),OS;function BS(e){return Ce(jy(e)&Iye)}function Ce(e,t=Wr.P){let r=e%t;return r>=on?r:t+r}function Qw(e,t=Wr.P){if(e===on||t<=on)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=Ce(e,t),n=t,i=on,o=Ft,s=Ft,a=on;for(;r!==on;){let e=n/r,t=n%r,u=i-s*e,h=o-a*e;n=r,r=t,i=s,o=a,s=u,a=h}if(n!==Ft)throw new Error("invert: does not exist");return Ce(i,t)}function Pye(e,t=Wr.P){let r=new Array(e.length),n=Qw(e.reduce(((e,n,i)=>n===on?e:(r[i]=e,Ce(e*n,t))),Ft),t);return e.reduceRight(((e,n,i)=>n===on?e:(r[i]=Ce(e*r[i],t),Ce(e*n,t))),n),r}function qa(e,t){let{P:r}=Wr,n=e;for(;t-- >on;)n*=n,n%=r;return n}function Dye(e){let{P:t}=Wr,r=BigInt(5),n=BigInt(10),i=BigInt(20),o=BigInt(40),s=BigInt(80),a=e*e%t*e%t,u=qa(a,M0)*a%t,h=qa(u,Ft)*e%t,f=qa(h,r)*h%t,c=qa(f,n)*f%t,l=qa(c,i)*c%t,d=qa(l,o)*l%t,p=qa(d,s)*d%t,y=qa(p,s)*d%t,m=qa(y,n)*f%t;return{pow_p_5_8:qa(m,M0)*e%t,b2:a}}function LS(e,t){let r=Ce(t*t*t),n=Ce(r*r*t),i=Ce(e*r*Dye(e*n).pow_p_5_8),o=Ce(t*i*i),s=i,a=Ce(i*Ny),u=o===e,h=o===Ce(-e),f=o===Ce(-e*Ny);return u&&(i=s),(h||f)&&(i=a),Wu(i)&&(i=Ce(-i)),{isValid:u||h,value:i}}function Qz(e){return LS(Ft,e)}function Jw(e){return Ce(jy(e),Wr.l)}function Bye(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Vu(e,t){let r=e instanceof Uint8Array?Uint8Array.from(e):NS(e);if("number"==typeof t&&r.length!==t)throw new Error(`Expected ${t} bytes`);return r}function Xw(e,t,r=!0){if(!t)throw new TypeError("Specify max value");if("number"==typeof e&&Number.isSafeInteger(e)&&(e=BigInt(e)),"bigint"==typeof e&&e<t)if(r){if(on<e)return e}else if(on<=e)return e;throw new TypeError("Expected valid scalar: 0 < scalar < max")}function Oye(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function Cye(e){if(32!==(e="bigint"==typeof e||"number"==typeof e?tF(Xw(e,eF)):Vu(e)).length)throw new Error("Expected 32 bytes");return e}function Nye(e){let t=Oye(e.slice(0,32)),r=e.slice(32,64),n=Jw(t),i=Kr.BASE.multiply(n),o=i.toRawBytes();return{head:t,prefix:r,scalar:n,point:i,pointBytes:o}}async function e2(e){return Nye(await Ku.sha512(Cye(e)))}async function rF(e){return(await e2(e)).pointBytes}async function iF(e,t){e=Vu(e);let{prefix:r,scalar:n,pointBytes:i}=await e2(t),o=Jw(await Ku.sha512(r,e)),s=Kr.BASE.multiply(o),a=Ce(o+Jw(await Ku.sha512(s.toRawBytes(),i,e))*n,Wr.l);return new Kh(s,a).toRawBytes()}function Lye(e,t,r){t=Vu(t),r instanceof Kr||(r=Kr.fromHex(r,!1));let{r:n,s:i}=e instanceof Kh?e.assertValidity():Kh.fromHex(e);return{r:n,s:i,SB:zt.BASE.multiplyUnsafe(i),pub:r,msg:t}}function qye(e,t,r,n){let i=Jw(n),o=zt.fromAffine(e).multiplyUnsafe(i);return zt.fromAffine(t).add(o).subtract(r).multiplyUnsafe(Wr.h).equals(zt.ZERO)}async function nF(e,t,r){let{r:n,SB:i,msg:o,pub:s}=Lye(e,t,r),a=await Ku.sha512(n.toRawBytes(),s.toRawBytes(),o);return qye(s,n,i,a)}Kr.BASE._setWindowSize(8);var Hu={node:Eye,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},Ku={bytesToHex:qy,hexToBytes:NS,concatBytes:Xz,getExtendedPublicKey:e2,mod:Ce,invert:Qw,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:e=>{if((e=Vu(e)).length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return Ce(jy(e),Wr.l-Ft)+Ft},randomBytes:(e=32)=>{if(Hu.web)return Hu.web.getRandomValues(new Uint8Array(e));if(Hu.node){let{randomBytes:t}=Hu.node;return new Uint8Array(t(e).buffer)}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Ku.randomBytes(32),sha512:async(...e)=>{let t=Xz(...e);if(Hu.web){let e=await Hu.web.subtle.digest("SHA-512",t.buffer);return new Uint8Array(e)}if(Hu.node)return Uint8Array.from(Hu.node.createHash("sha512").update(t).digest());throw new Error("The environment doesn't have sha512 function")},precompute(e=8,t=Kr.BASE){let r=t.equals(Kr.BASE)?t:new Kr(t.x,t.y);return r._setWindowSize(e),r.multiply(M0),r},sha512Sync:void 0};function oF(e){if("OKP"!==e.kty||"Ed25519"!==e.crv)throw new Error("invalid jwk. kty MUST be OKP. crv MUST be Ed25519")}function sF(e){return{alg:"EdDSA",kty:"OKP",crv:"Ed25519",x:Ct.bytesToBase64Url(e)}}Object.defineProperties(Ku,{sha512Sync:{configurable:!1,get:()=>OS,set(e){OS||(OS=e)}}});var Uy={sign:(e,t)=>(oF(t),iF(e,Ct.base64UrlToBytes(t.d))),verify:(e,t,r)=>(oF(r),nF(t,e,Ct.base64UrlToBytes(r.x))),generateKeyPair:async()=>{let e=Ku.randomPrivateKey(),t=await rF(e),r=Ct.bytesToBase64Url(e),n=sF(t);return{publicJwk:n,privateJwk:{...n,d:r}}},publicKeyToJwk:async e=>sF(e)};x(),x();var Uye=wt(ew(),1),$t=BigInt(0),jr=BigInt(1),Zu=BigInt(2),Fy=BigInt(3),aF=BigInt(8),ii=Object.freeze({a:$t,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:jr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),fF=(e,t)=>(e+t/Zu)/t,t2={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(e){let{n:t}=ii,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-jr*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),a=fF(o*e,t),u=fF(-n*e,t),h=Fe(e-a*r-u*i,t),f=Fe(-a*n-u*o,t),c=h>s,l=f>s;if(c&&(h=t-h),l&&(f=t-f),h>s||f>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:c,k1:h,k2neg:l,k2:f}}},zs=32,S0=32,zye=32,uF=zs+1,lF=2*zs+1;function hF(e){let{a:t,b:r}=ii,n=Fe(e*e),i=Fe(n*e);return Fe(i+t*e+r)}var r2=ii.a===$t,o2=class extends Error{constructor(e){super(e)}};function cF(e){if(!(e instanceof Jt))throw new TypeError("JacobianPoint expected")}var Jt=class{constructor(e,t,r){this.x=e,this.y=t,this.z=r}static fromAffine(e){if(!(e instanceof or))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(or.ZERO)?Jt.ZERO:new Jt(e.x,e.y,jr)}static toAffineBatch(e){let t=Vye(e.map((e=>e.z)));return e.map(((e,r)=>e.toAffine(t[r])))}static normalizeZ(e){return Jt.toAffineBatch(e).map(Jt.fromAffine)}equals(e){cF(e);let{x:t,y:r,z:n}=this,{x:i,y:o,z:s}=e,a=Fe(n*n),u=Fe(s*s),h=Fe(t*u),f=Fe(i*a),c=Fe(Fe(r*s)*u),l=Fe(Fe(o*n)*a);return h===f&&c===l}negate(){return new Jt(this.x,Fe(-this.y),this.z)}double(){let{x:e,y:t,z:r}=this,n=Fe(e*e),i=Fe(t*t),o=Fe(i*i),s=e+i,a=Fe(Zu*(Fe(s*s)-n-o)),u=Fe(Fy*n),h=Fe(u*u),f=Fe(h-Zu*a),c=Fe(u*(a-f)-aF*o),l=Fe(Zu*t*r);return new Jt(f,c,l)}add(e){cF(e);let{x:t,y:r,z:n}=this,{x:i,y:o,z:s}=e;if(i===$t||o===$t)return this;if(t===$t||r===$t)return e;let a=Fe(n*n),u=Fe(s*s),h=Fe(t*u),f=Fe(i*a),c=Fe(Fe(r*s)*u),l=Fe(Fe(o*n)*a),d=Fe(f-h),p=Fe(l-c);if(d===$t)return p===$t?this.double():Jt.ZERO;let y=Fe(d*d),m=Fe(d*y),g=Fe(h*y),b=Fe(p*p-m-Zu*g),w=Fe(p*(g-b)-c*m),v=Fe(n*s*d);return new Jt(b,w,v)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let t=Jt.ZERO;if("bigint"==typeof e&&e===$t)return t;let r=mF(e);if(r===jr)return this;if(!r2){let e=t,n=this;for(;r>$t;)r&jr&&(e=e.add(n)),n=n.double(),r>>=jr;return e}let{k1neg:n,k1:i,k2neg:o,k2:s}=t2.splitScalar(r),a=t,u=t,h=this;for(;i>$t||s>$t;)i&jr&&(a=a.add(h)),s&jr&&(u=u.add(h)),h=h.double(),i>>=jr,s>>=jr;return n&&(a=a.negate()),o&&(u=u.negate()),u=new Jt(Fe(u.x*t2.beta),u.y,u.z),a.add(u)}precomputeWindow(e){let t=r2?128/e+1:256/e+1,r=[],n=this,i=n;for(let o=0;o<t;o++){i=n,r.push(i);for(let t=1;t<2**(e-1);t++)i=i.add(n),r.push(i);n=i.double()}return r}wNAF(e,t){!t&&this.equals(Jt.BASE)&&(t=or.BASE);let r=t&&t._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=t&&jS.get(t);n||(n=this.precomputeWindow(r),t&&1!==r&&(n=Jt.normalizeZ(n),jS.set(t,n)));let i=Jt.ZERO,o=Jt.BASE,s=1+(r2?128/r:256/r),a=2**(r-1),u=BigInt(2**r-1),h=2**r,f=BigInt(r);for(let t=0;t<s;t++){let r=t*a,s=Number(e&u);e>>=f,s>a&&(s-=h,e+=jr);let c=r,l=r+Math.abs(s)-1,d=t%2!=0,p=s<0;0===s?o=o.add(i2(d,n[c])):i=i.add(i2(p,n[l]))}return{p:i,f:o}}multiply(e,t){let r,n,i=mF(e);if(r2){let{k1neg:e,k1:o,k2neg:s,k2:a}=t2.splitScalar(i),{p:u,f:h}=this.wNAF(o,t),{p:f,f:c}=this.wNAF(a,t);u=i2(e,u),f=i2(s,f),f=new Jt(Fe(f.x*t2.beta),f.y,f.z),r=u.add(f),n=h.add(c)}else{let{p:e,f:o}=this.wNAF(i,t);r=e,n=o}return Jt.normalizeZ([r,n])[0]}toAffine(e){let{x:t,y:r,z:n}=this,i=this.equals(Jt.ZERO);null==e&&(e=i?aF:R0(n));let o=e,s=Fe(o*o),a=Fe(s*o),u=Fe(t*s),h=Fe(r*a),f=Fe(n*o);if(i)return or.ZERO;if(f!==jr)throw new Error("invZ was invalid");return new or(u,h)}};function i2(e,t){let r=t.negate();return e?r:t}Jt.BASE=new Jt(ii.Gx,ii.Gy,jr),Jt.ZERO=new Jt($t,jr,$t);var jS=new WeakMap,or=class{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,jS.delete(this)}hasEvenY(){return this.y%Zu===$t}static fromCompressedHex(e){let t=32===e.length,r=Yu(t?e:e.subarray(1));if(!qS(r))throw new Error("Point is not on curve");let n=Wye(hF(r)),i=(n&jr)===jr;t?i&&(n=Fe(-n)):1==(1&e[0])!==i&&(n=Fe(-n));let o=new or(r,n);return o.assertValidity(),o}static fromUncompressedHex(e){let t=Yu(e.subarray(1,zs+1)),r=Yu(e.subarray(zs+1,2*zs+1)),n=new or(t,r);return n.assertValidity(),n}static fromHex(e){let t=A0(e),r=t.length,n=t[0];if(r===zs)return this.fromCompressedHex(t);if(r===uF&&(2===n||3===n))return this.fromCompressedHex(t);if(r===lF&&4===n)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-${uF} compressed bytes or ${lF} uncompressed bytes, not ${r}`)}static fromPrivateKey(e){return or.BASE.multiply(a2(e))}static fromSignature(e,t,r){let{r:n,s:i}=yF(t);if(![0,1,2,3].includes(r))throw new Error("Cannot recover: invalid recovery bit");let o=FS(A0(e)),{n:s}=ii,a=2===r||3===r?n+s:n,u=R0(a,s),h=Fe(-o*u,s),f=Fe(i*u,s),c=1&r?"03":"02",l=or.fromHex(c+x0(a)),d=or.BASE.multiplyAndAddUnsafe(l,h,f);if(!d)throw new Error("Cannot recover signature: point at infinify");return d.assertValidity(),d}toRawBytes(e=!1){return Gh(this.toHex(e))}toHex(e=!1){let t=x0(this.x);return e?`${this.hasEvenY()?"02":"03"}${t}`:`04${t}${x0(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:t,y:r}=this;if(!qS(t)||!qS(r))throw new Error(e);let n=Fe(r*r);if(Fe(n-hF(t))!==$t)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new or(this.x,Fe(-this.y))}double(){return Jt.fromAffine(this).double().toAffine()}add(e){return Jt.fromAffine(this).add(Jt.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Jt.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,r){let n=Jt.fromAffine(this),i=t===$t||t===jr||this!==or.BASE?n.multiplyUnsafe(t):n.multiply(t),o=Jt.fromAffine(e).multiplyUnsafe(r),s=i.add(o);return s.equals(Jt.ZERO)?void 0:s.toAffine()}};function dF(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function pF(e){if(e.length<2||2!==e[0])throw new Error(`Invalid signature integer tag: ${T0(e)}`);let t=e[1],r=e.subarray(2,t+2);if(!t||r.length!==t)throw new Error("Invalid signature integer: wrong length");if(0===r[0]&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Yu(r),left:e.subarray(t+2)}}function Fye(e){if(e.length<2||48!=e[0])throw new Error(`Invalid signature tag: ${T0(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");let{data:t,left:r}=pF(e.subarray(2)),{data:n,left:i}=pF(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${T0(i)}`);return{r:t,s:n}}or.BASE=new or(ii.Gx,ii.Gy),or.ZERO=new or($t,$t);var Ua=class{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){let t=e instanceof Uint8Array,r="Signature.fromCompact";if("string"!=typeof e&&!t)throw new TypeError(`${r}: Expected string or Uint8Array`);let n=t?T0(e):e;if(128!==n.length)throw new Error(`${r}: Expected 64-byte hex`);return new Ua(s2(n.slice(0,64)),s2(n.slice(64,128)))}static fromDER(e){let t=e instanceof Uint8Array;if("string"!=typeof e&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r,s:n}=Fye(t?e:Gh(e));return new Ua(r,n)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:t}=this;if(!Hy(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Hy(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=ii.n>>jr;return this.s>e}normalizeS(){return this.hasHighS()?new Ua(this.r,Fe(-this.s,ii.n)):this}toDERRawBytes(){return Gh(this.toDERHex())}toDERHex(){let e=dF(zy(this.s)),t=dF(zy(this.r)),r=e.length/2,n=t.length/2,i=zy(r),o=zy(n);return`30${zy(n+r+4)}02${o}${t}02${i}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Gh(this.toCompactHex())}toCompactHex(){return x0(this.r)+x0(this.s)}};function Gu(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];let t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}var $ye=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function T0(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let r=0;r<e.length;r++)t+=$ye[e[r]];return t}var Hye=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function x0(e){if("bigint"!=typeof e)throw new Error("Expected bigint");if(!($t<=e&&e<Hye))throw new Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function US(e){let t=Gh(x0(e));if(32!==t.length)throw new Error("Error: expected 32 bytes");return t}function zy(e){let t=e.toString(16);return 1&t.length?`0${t}`:t}function s2(e){if("string"!=typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function Gh(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=2*r,i=e.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}function Yu(e){return s2(T0(e))}function A0(e){return e instanceof Uint8Array?Uint8Array.from(e):Gh(e)}function mF(e){if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if("bigint"==typeof e&&Hy(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function Fe(e,t=ii.P){let r=e%t;return r>=$t?r:t+r}function ss(e,t){let{P:r}=ii,n=e;for(;t-- >$t;)n*=n,n%=r;return n}function Wye(e){let{P:t}=ii,r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),a=BigInt(88),u=e*e*e%t,h=u*u*e%t,f=ss(h,Fy)*h%t,c=ss(f,Fy)*h%t,l=ss(c,Zu)*u%t,d=ss(l,n)*l%t,p=ss(d,i)*d%t,y=ss(p,s)*p%t,m=ss(y,a)*y%t,g=ss(m,s)*p%t,b=ss(g,Fy)*h%t,w=ss(b,o)*d%t,v=ss(w,r)*u%t,_=ss(v,Zu);if(_*_%t!==e)throw new Error("Cannot find square root");return _}function R0(e,t=ii.P){if(e===$t||t<=$t)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=Fe(e,t),n=t,i=$t,o=jr,s=jr,a=$t;for(;r!==$t;){let e=n/r,t=n%r,u=i-s*e,h=o-a*e;n=r,r=t,i=s,o=a,s=u,a=h}if(n!==jr)throw new Error("invert: does not exist");return Fe(i,t)}function Vye(e,t=ii.P){let r=new Array(e.length),n=R0(e.reduce(((e,n,i)=>n===$t?e:(r[i]=e,Fe(e*n,t))),jr),t);return e.reduceRight(((e,n,i)=>n===$t?e:(r[i]=Fe(e*r[i],t),Fe(e*n,t))),n),r}function Kye(e){let t=8*e.length-8*S0,r=Yu(e);return t>0?r>>BigInt(t):r}function FS(e,t=!1){let r=Kye(e);if(t)return r;let{n}=ii;return r>=n?r-n:r}var E0,$y,zS=class{constructor(e,t){if(this.hashLen=e,this.qByteLen=t,"number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return ja.hmacSha256(this.k,...e)}hmacSync(...e){return $y(this.k,...e)}checkSync(){if("function"!=typeof $y)throw new o2("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),0!==e.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),0!==e.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0,t=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);let r=this.v.slice();t.push(r),e+=this.v.length}return Gu(...t)}generateSync(){this.checkSync(),this.incr();let e=0,t=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);let r=this.v.slice();t.push(r),e+=this.v.length}return Gu(...t)}};function Hy(e){return $t<e&&e<ii.n}function qS(e){return $t<e&&e<ii.P}function Gye(e,t,r,n=!0){let{n:i}=ii,o=FS(e,!0);if(!Hy(o))return;let s=R0(o,i),a=or.BASE.multiply(o),u=Fe(a.x,i);if(u===$t)return;let h=Fe(s*Fe(t+r*u,i),i);if(h===$t)return;let f=new Ua(u,h),c=(a.x===f.r?0:2)|Number(a.y&jr);return n&&f.hasHighS()&&(f=f.normalizeS(),c^=1),{sig:f,recovery:c}}function a2(e){let t;if("bigint"==typeof e)t=e;else if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if("string"==typeof e){if(e.length!==2*S0)throw new Error("Expected 32 bytes of private key");t=s2(e)}else{if(!(e instanceof Uint8Array))throw new TypeError("Expected valid private key");if(e.length!==S0)throw new Error("Expected 32 bytes of private key");t=Yu(e)}if(!Hy(t))throw new Error("Expected private key: 0 < key < n");return t}function Zye(e){return e instanceof or?(e.assertValidity(),e):or.fromHex(e)}function yF(e){if(e instanceof Ua)return e.assertValidity(),e;try{return Ua.fromDER(e)}catch{return Ua.fromCompact(e)}}function gF(e,t=!1){return or.fromPrivateKey(e).toRawBytes(t)}function vF(e){return Yu(e.length>zs?e.slice(0,zs):e)}function Yye(e){let t=vF(e),r=Fe(t,ii.n);return bF(r<$t?t:r)}function bF(e){return US(e)}function Jye(e,t,r){if(null==e)throw new Error(`sign: expected valid message hash, not "${e}"`);let n=A0(e),i=a2(t),o=[bF(i),Yye(n)];if(null!=r){!0===r&&(r=ja.randomBytes(zs));let e=A0(r);if(e.length!==zs)throw new Error(`sign: Expected ${zs} bytes of extra data`);o.push(e)}return{seed:Gu(...o),m:vF(n),d:i}}function Xye(e,t){let{sig:r,recovery:n}=e,{der:i,recovered:o}=Object.assign({canonical:!0,der:!0},t),s=i?r.toDERRawBytes():r.toCompactRawBytes();return o?[s,n]:s}async function wF(e,t,r={}){let n,{seed:i,m:o,d:s}=Jye(e,t,r.extraEntropy),a=new zS(zye,S0);for(await a.reseed(i);!(n=Gye(await a.generate(),o,s,r.canonical));)await a.reseed();return Xye(n,r)}var Qye={strict:!0};function _F(e,t,r,n=Qye){let i;try{i=yF(e),t=A0(t)}catch{return!1}let{r:o,s}=i;if(n.strict&&i.hasHighS())return!1;let a,u=FS(t);try{a=Zye(r)}catch{return!1}let{n:h}=ii,f=R0(s,h),c=Fe(u*f,h),l=Fe(o*f,h),d=or.BASE.multiplyAndAddUnsafe(a,c,l);return!!d&&Fe(d.x,h)===o}or.BASE._setWindowSize(8);var Ao={node:Uye,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},n2={},ja={bytesToHex:T0,hexToBytes:Gh,concatBytes:Gu,mod:Fe,invert:R0,isValidPrivateKey(e){try{return a2(e),!0}catch{return!1}},_bigintTo32Bytes:US,_normalizePrivateKey:a2,hashToPrivateKey:e=>{e=A0(e);let t=S0+8;if(e.length<t||e.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");return US(Fe(Yu(e),ii.n-jr)+jr)},randomBytes:(e=32)=>{if(Ao.web)return Ao.web.getRandomValues(new Uint8Array(e));if(Ao.node){let{randomBytes:t}=Ao.node;return Uint8Array.from(t(e))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>ja.hashToPrivateKey(ja.randomBytes(S0+8)),precompute(e=8,t=or.BASE){let r=t===or.BASE?t:new or(t.x,t.y);return r._setWindowSize(e),r.multiply(Fy),r},sha256:async(...e)=>{if(Ao.web){let t=await Ao.web.subtle.digest("SHA-256",Gu(...e));return new Uint8Array(t)}if(Ao.node){let{createHash:t}=Ao.node,r=t("sha256");return e.forEach((e=>r.update(e))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(Ao.web){let r=await Ao.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=Gu(...t),i=await Ao.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}if(Ao.node){let{createHmac:r}=Ao.node,n=r("sha256",e);return t.forEach((e=>n.update(e))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...t)=>{let r=n2[e];if(void 0===r){let t=await ja.sha256(Uint8Array.from(e,(e=>e.charCodeAt(0))));r=Gu(t,t),n2[e]=r}return ja.sha256(r,...t)},taggedHashSync:(e,...t)=>{if("function"!=typeof E0)throw new o2("sha256Sync is undefined, you need to set it");let r=n2[e];if(void 0===r){let t=E0(Uint8Array.from(e,(e=>e.charCodeAt(0))));r=Gu(t,t),n2[e]=r}return E0(r,...t)},_JacobianPoint:Jt};function MF(e){if("EC"!==e.kty||"secp256k1"!==e.crv)throw new Error("invalid jwk. kty MUST be EC. crv MUST be secp256k1")}function xF(e){let t;if(33===e.byteLength){let r=ja.bytesToHex(e);t=or.fromHex(r).toRawBytes(!1)}else t=e;return{alg:"ES256K",kty:"EC",crv:"secp256k1",x:Ct.bytesToBase64Url(t.subarray(1,33)),y:Ct.bytesToBase64Url(t.subarray(33,65))}}Object.defineProperties(ja,{sha256Sync:{configurable:!1,get:()=>E0,set(e){E0||(E0=e)}},hmacSha256Sync:{configurable:!1,get:()=>$y,set(e){$y||($y=e)}}}),em();var f2={sign:async(e,t)=>{MF(t);let r=await Es.encode(e),n=Ct.base64UrlToBytes(t.d);return await wF(r,n,{der:!1})},verify:async(e,t,r)=>{MF(r);let n=Ct.base64UrlToBytes(r.x),i=Ct.base64UrlToBytes(r.y),o=new Uint8Array(n.length+i.length+1);return o.set([4],0),o.set(n,1),o.set(i,n.length+1),_F(t,await Es.encode(e),o)},generateKeyPair:async()=>{let e=ja.randomPrivateKey(),t=await gF(e),r=Ct.bytesToBase64Url(e),n=xF(t);return{publicJwk:n,privateJwk:{...n,d:r}}},publicKeyToJwk:async e=>xF(e)},k0={Ed25519:Uy,secp256k1:f2},If=class{constructor(e){this.jws=e}static async create(e,t=[]){let r={payload:Ct.bytesToBase64Url(e),signatures:[]},n=new If(r);for(let e of t)await n.addSignature(e);return n}async addSignature(e){let{privateJwk:t,protectedHeader:r}=e,n=k0[t.crv];if(!n)throw new Error(`unsupported crv. crv must be one of ${Object.keys(k0)}`);let i=JSON.stringify(r),o=Ct.stringToBase64Url(i),s=`${o}.${this.jws.payload}`,a=Ct.stringToBytes(s),u=await n.sign(a,t),h=Ct.bytesToBase64Url(u);this.jws.signatures.push({protected:o,signature:h})}getJws(){return this.jws}};x();var KF=wt(HS(),1),yi=class{static getKid(e){let{kid:t}=Ct.base64UrlToObject(e.protected);return t}static getSignerDid(e){let t=yi.getKid(e);return yi.extractDid(t)}static async verifySignature(e,t,r){let n=k0[r.crv];if(!n)throw new Error(`unsupported crv. crv must be one of ${Object.keys(k0)}`);let i=Ct.stringToBytes(`${t.protected}.${e}`),o=Ct.base64UrlToBytes(t.signature);return await n.verify(i,o,r)}static decodePlainObjectPayload(e){let t;try{t=Ct.base64UrlToObject(e.payload)}catch{throw new Error("payload is not a JSON object")}if(!(0,KF.default)(t))throw new Error("signed payload must be a plain object");return t}static extractDid(e){let[t]=e.split("#");return t}static createSignatureInputs(e){return e.map((e=>yi.createSignatureInput(e)))}static createSignatureInput(e){return{privateJwk:e.keyPair.privateJwk,protectedHeader:{alg:e.keyPair.privateJwk.alg,kid:e.keyId}}}};function Zh(e,t){return e>t?1:e<t?-1:0}x(),x();var JS={};Ht(JS,{Definitions:()=>Oge,GeneralJwk:()=>Cge,GeneralJws:()=>Nge,HooksWrite:()=>Lge,JwkVerificationMethod:()=>qge,PermissionsDefinitions:()=>jge,PermissionsGrant:()=>Uge,PermissionsRequest:()=>zge,ProtocolDefinition:()=>Fge,ProtocolRuleSet:()=>$ge,ProtocolsConfigure:()=>Hge,ProtocolsQuery:()=>Wge,PublicJwk:()=>Kge,RecordsDelete:()=>Pge,RecordsQuery:()=>Dge,RecordsRead:()=>Vge,RecordsWrite:()=>Bge}),x();var Pge=ni,GF={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-delete.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","dateModified","recordId"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Delete"],type:"string"},dateModified:{type:"string"},recordId:{type:"string"}}}}};function ni(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:i=e}={}){if(!e||"object"!=typeof e||Array.isArray(e))return ni.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.authorization&&(r="authorization")||void 0===e.descriptor&&(r="descriptor"))return ni.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{let r=0;for(let r in e)if("authorization"!==r&&"descriptor"!==r)return ni.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(0===r){if(void 0!==e.authorization){let r=e.authorization,n=0;if(!r||"object"!=typeof r||Array.isArray(r))return ni.errors=[{instancePath:t+"/authorization",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e=0;for(let e in r)if("payload"!==e&&"signatures"!==e)return ni.errors=[{instancePath:t+"/authorization",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"}],!1;if(0===e){if(void 0!==r.payload){let e=0;if("string"!=typeof r.payload)return ni.errors=[{instancePath:t+"/authorization/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/payload/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=0===e}else o=!0;if(o)if(void 0!==r.signatures){let e=r.signatures,n=0;if(0===n){if(!Array.isArray(e))return ni.errors=[{instancePath:t+"/authorization/signatures",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(e.length<1)return ni.errors=[{instancePath:t+"/authorization/signatures",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{let r=e.length;for(let n=0;n<r;n++){let r=e[n],i=0;if(0===i){if(!r||"object"!=typeof r||Array.isArray(r))return ni.errors=[{instancePath:t+"/authorization/signatures/"+n,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==r.protected){let e=0;if("string"!=typeof r.protected)return ni.errors=[{instancePath:t+"/authorization/signatures/"+n+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/items/properties/protected/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var s=0===e}else s=!0;if(s)if(void 0!==r.signature){let e=0;if("string"!=typeof r.signature)return ni.errors=[{instancePath:t+"/authorization/signatures/"+n+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/items/properties/signature/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;s=0===e}else s=!0}if(0!==i)break}}}o=0===n}else o=!0}}var a=0===n}else a=!0;if(a)if(void 0!==e.descriptor){let r=e.descriptor,n=0;if(0===n){if(!r||"object"!=typeof r||Array.isArray(r))return ni.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===r.interface&&(e="interface")||void 0===r.method&&(e="method")||void 0===r.dateModified&&(e="dateModified")||void 0===r.recordId&&(e="recordId"))return ni.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;{let e=0;for(let e in r)if("interface"!==e&&"method"!==e&&"dateModified"!==e&&"recordId"!==e)return ni.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"}],!1;if(0===e){if(void 0!==r.interface){let e=r.interface,n=0;if("string"!=typeof e)return ni.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==e)return ni.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:GF.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var u=0===n}else u=!0;if(u){if(void 0!==r.method){let e=r.method,n=0;if("string"!=typeof e)return ni.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Delete"!==e)return ni.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:GF.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;u=0===n}else u=!0;if(u){if(void 0!==r.dateModified){let e=0;if("string"!=typeof r.dateModified)return ni.errors=[{instancePath:t+"/descriptor/dateModified",schemaPath:"#/properties/descriptor/properties/dateModified/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=0===e}else u=!0;if(u)if(void 0!==r.recordId){let e=0;if("string"!=typeof r.recordId)return ni.errors=[{instancePath:t+"/descriptor/recordId",schemaPath:"#/properties/descriptor/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=0===e}else u=!0}}}}}}a=0===n}else a=!0}}}return ni.errors=null,!0}var Dge=bt,u2={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-query.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","dateCreated","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Query"],type:"string"},dateCreated:{type:"string"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},attester:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},contextId:{type:"string"},schema:{type:"string"},recordId:{type:"string"},parentId:{type:"string"},dataFormat:{type:"string"},dateCreated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{type:"string"},to:{type:"string"}}}}},dateSort:{enum:["createdAscending","createdDescending","publishedAscending","publishedDescending"],type:"string"}}}}},h2=Object.prototype.hasOwnProperty,Df=new RegExp("^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$","u");function bt(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:i=e}={}){if(!e||"object"!=typeof e||Array.isArray(e))return bt.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.authorization&&(r="authorization")||void 0===e.descriptor&&(r="descriptor"))return bt.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{let r=0;for(let r in e)if("authorization"!==r&&"descriptor"!==r)return bt.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(0===r){if(void 0!==e.authorization){let r=e.authorization,n=0;if(!r||"object"!=typeof r||Array.isArray(r))return bt.errors=[{instancePath:t+"/authorization",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e=0;for(let e in r)if("payload"!==e&&"signatures"!==e)return bt.errors=[{instancePath:t+"/authorization",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"}],!1;if(0===e){if(void 0!==r.payload){let e=0;if("string"!=typeof r.payload)return bt.errors=[{instancePath:t+"/authorization/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/payload/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=0===e}else o=!0;if(o)if(void 0!==r.signatures){let e=r.signatures,n=0;if(0===n){if(!Array.isArray(e))return bt.errors=[{instancePath:t+"/authorization/signatures",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(e.length<1)return bt.errors=[{instancePath:t+"/authorization/signatures",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{let r=e.length;for(let n=0;n<r;n++){let r=e[n],i=0;if(0===i){if(!r||"object"!=typeof r||Array.isArray(r))return bt.errors=[{instancePath:t+"/authorization/signatures/"+n,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==r.protected){let e=0;if("string"!=typeof r.protected)return bt.errors=[{instancePath:t+"/authorization/signatures/"+n+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/items/properties/protected/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var s=0===e}else s=!0;if(s)if(void 0!==r.signature){let e=0;if("string"!=typeof r.signature)return bt.errors=[{instancePath:t+"/authorization/signatures/"+n+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/items/properties/signature/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;s=0===e}else s=!0}if(0!==i)break}}}o=0===n}else o=!0}}var a=0===n}else a=!0;if(a)if(void 0!==e.descriptor){let r=e.descriptor,n=0;if(0===n){if(!r||"object"!=typeof r||Array.isArray(r))return bt.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===r.interface&&(e="interface")||void 0===r.method&&(e="method")||void 0===r.dateCreated&&(e="dateCreated")||void 0===r.filter&&(e="filter"))return bt.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;{let e=0;for(let e in r)if("interface"!==e&&"method"!==e&&"dateCreated"!==e&&"filter"!==e&&"dateSort"!==e)return bt.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"}],!1;if(0===e){if(void 0!==r.interface){let e=r.interface,n=0;if("string"!=typeof e)return bt.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==e)return bt.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:u2.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var u=0===n}else u=!0;if(u){if(void 0!==r.method){let e=r.method,n=0;if("string"!=typeof e)return bt.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==e)return bt.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:u2.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;u=0===n}else u=!0;if(u){if(void 0!==r.dateCreated){let e=0;if("string"!=typeof r.dateCreated)return bt.errors=[{instancePath:t+"/descriptor/dateCreated",schemaPath:"#/properties/descriptor/properties/dateCreated/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=0===e}else u=!0;if(u){if(void 0!==r.filter){let e=r.filter,n=0;if(0===n){if(!e||"object"!=typeof e||Array.isArray(e))return bt.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(e).length<1)return bt.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let r=0;for(let r in e)if(!h2.call(u2.properties.descriptor.properties.filter.properties,r))return bt.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(0===r){if(void 0!==e.protocol){let r=0;if("string"!=typeof e.protocol)return bt.errors=[{instancePath:t+"/descriptor/filter/protocol",schemaPath:"#/properties/descriptor/properties/filter/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var h=0===r}else h=!0;if(h){if(void 0!==e.attester){let r=e.attester,n=0;if("string"!=typeof r)return bt.errors=[{instancePath:t+"/descriptor/filter/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Df.test(r))return bt.errors=[{instancePath:t+"/descriptor/filter/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1;h=0===n}else h=!0;if(h){if(void 0!==e.recipient){let r=e.recipient,n=0;if("string"!=typeof r)return bt.errors=[{instancePath:t+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Df.test(r))return bt.errors=[{instancePath:t+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1;h=0===n}else h=!0;if(h){if(void 0!==e.contextId){let r=0;if("string"!=typeof e.contextId)return bt.errors=[{instancePath:t+"/descriptor/filter/contextId",schemaPath:"#/properties/descriptor/properties/filter/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;h=0===r}else h=!0;if(h){if(void 0!==e.schema){let r=0;if("string"!=typeof e.schema)return bt.errors=[{instancePath:t+"/descriptor/filter/schema",schemaPath:"#/properties/descriptor/properties/filter/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;h=0===r}else h=!0;if(h){if(void 0!==e.recordId){let r=0;if("string"!=typeof e.recordId)return bt.errors=[{instancePath:t+"/descriptor/filter/recordId",schemaPath:"#/properties/descriptor/properties/filter/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;h=0===r}else h=!0;if(h){if(void 0!==e.parentId){let r=0;if("string"!=typeof e.parentId)return bt.errors=[{instancePath:t+"/descriptor/filter/parentId",schemaPath:"#/properties/descriptor/properties/filter/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;h=0===r}else h=!0;if(h){if(void 0!==e.dataFormat){let r=0;if("string"!=typeof e.dataFormat)return bt.errors=[{instancePath:t+"/descriptor/filter/dataFormat",schemaPath:"#/properties/descriptor/properties/filter/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;h=0===r}else h=!0;if(h)if(void 0!==e.dateCreated){let r=e.dateCreated,n=0;if(0===n){if(!r||"object"!=typeof r||Array.isArray(r))return bt.errors=[{instancePath:t+"/descriptor/filter/dateCreated",schemaPath:"#/properties/descriptor/properties/filter/properties/dateCreated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return bt.errors=[{instancePath:t+"/descriptor/filter/dateCreated",schemaPath:"#/properties/descriptor/properties/filter/properties/dateCreated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let e=0;for(let e in r)if("from"!==e&&"to"!==e)return bt.errors=[{instancePath:t+"/descriptor/filter/dateCreated",schemaPath:"#/properties/descriptor/properties/filter/properties/dateCreated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"}],!1;if(0===e){if(void 0!==r.from){let e=0;if("string"!=typeof r.from)return bt.errors=[{instancePath:t+"/descriptor/filter/dateCreated/from",schemaPath:"#/properties/descriptor/properties/filter/properties/dateCreated/properties/from/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=0===e}else f=!0;if(f)if(void 0!==r.to){let e=0;if("string"!=typeof r.to)return bt.errors=[{instancePath:t+"/descriptor/filter/dateCreated/to",schemaPath:"#/properties/descriptor/properties/filter/properties/dateCreated/properties/to/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;f=0===e}else f=!0}}}h=0===n}else h=!0}}}}}}}}}}u=0===n}else u=!0;if(u)if(void 0!==r.dateSort){let e=r.dateSort,n=0;if("string"!=typeof e)return bt.errors=[{instancePath:t+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("createdAscending"!==e&&"createdDescending"!==e&&"publishedAscending"!==e&&"publishedDescending"!==e)return bt.errors=[{instancePath:t+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/enum",keyword:"enum",params:{allowedValues:u2.properties.descriptor.properties.dateSort.enum},message:"must be equal to one of the allowed values"}],!1;u=0===n}else u=!0}}}}}}}a=0===n}else a=!0}}}return bt.errors=null,!0}var Bge=mt,Vy={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-write.json",type:"object",additionalProperties:!1,required:["authorization","descriptor","recordId"],properties:{recordId:{type:"string"},contextId:{type:"string"},attestation:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Write"],type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},protocol:{type:"string"},schema:{type:"string"},parentId:{type:"string"},dataCid:{type:"string"},dateCreated:{type:"string"},dateModified:{type:"string"},published:{type:"boolean"},datePublished:{type:"string"},dataFormat:{type:"string"}},additionalProperties:!1,required:["interface","method","dataCid","dateCreated","dateModified","dataFormat"],allOf:[{$comment:"rule defining `published` and `datePublished` relationship",anyOf:[{properties:{published:{type:"boolean",enum:[!0]}},required:["published","datePublished"]},{properties:{published:{type:"boolean",enum:[!1]}},not:{required:["datePublished"]}},{allOf:[{not:{required:["published"]}},{not:{required:["datePublished"]}}]}]}]}},$comment:"rule defining `protocol` and `contextId` relationship",anyOf:[{properties:{descriptor:{type:"object",required:["protocol"]}},required:["contextId"]},{allOf:[{not:{required:["contextId"]}},{properties:{descriptor:{type:"object",not:{required:["protocol"]}}}}]}]};function mt(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:i=e}={}){let o=null,s=0,a=s,u=!1,h=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.contextId&&(r="contextId")){let e={instancePath:t,schemaPath:"#/anyOf/0/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===o?o=[e]:o.push(e),s++}else if(void 0!==e.descriptor){let r=e.descriptor;if(s==s)if(r&&"object"==typeof r&&!Array.isArray(r)){let e;if(void 0===r.protocol&&(e="protocol")){let r={instancePath:t+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"};null===o?o=[r]:o.push(r),s++}}else{let e={instancePath:t+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===o?o=[e]:o.push(e),s++}}}var f=h===s;if(u=u||f,!u){let r=s,n=s,i=s,a=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let t;if(void 0===e.contextId&&(t="contextId")){let e={};null===o?o=[e]:o.push(e),s++}}if(a===s){let e={instancePath:t,schemaPath:"#/anyOf/1/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===o?o=[e]:o.push(e),s++}else s=i,null!==o&&(i?o.length=i:o=null);if(n===s&&e&&"object"==typeof e&&!Array.isArray(e)&&void 0!==e.descriptor){let r=e.descriptor;if(!r||"object"!=typeof r||Array.isArray(r)){let e={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===o?o=[e]:o.push(e),s++}let n=s,i=s;if(r&&"object"==typeof r&&!Array.isArray(r)){let e;if(void 0===r.protocol&&(e="protocol")){let e={};null===o?o=[e]:o.push(e),s++}}if(i===s){let e={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};null===o?o=[e]:o.push(e),s++}else s=n,null!==o&&(n?o.length=n:o=null)}f=r===s,u=u||f}if(!u){let e={instancePath:t,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===o?o=[e]:o.push(e),s++,mt.errors=o,!1}if(s=a,null!==o&&(a?o.length=a:o=null),0===s){if(!e||"object"!=typeof e||Array.isArray(e))return mt.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.authorization&&(r="authorization")||void 0===e.descriptor&&(r="descriptor")||void 0===e.recordId&&(r="recordId"))return mt.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{let r=s;for(let r in e)if("recordId"!==r&&"contextId"!==r&&"attestation"!==r&&"authorization"!==r&&"descriptor"!==r)return mt.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(r===s){if(void 0!==e.recordId){let r=s;if("string"!=typeof e.recordId)return mt.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=r===s}else c=!0;if(c){if(void 0!==e.contextId){let r=s;if("string"!=typeof e.contextId)return mt.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;c=r===s}else c=!0;if(c){if(void 0!==e.attestation){let r=e.attestation,n=s;if(s==s){if(!r||"object"!=typeof r||Array.isArray(r))return mt.errors=[{instancePath:t+"/attestation",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e=s;for(let e in r)if("payload"!==e&&"signatures"!==e)return mt.errors=[{instancePath:t+"/attestation",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"}],!1;if(e===s){if(void 0!==r.payload){let e=s;if("string"!=typeof r.payload)return mt.errors=[{instancePath:t+"/attestation/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/payload/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var l=e===s}else l=!0;if(l)if(void 0!==r.signatures){let e=r.signatures,n=s;if(s===n){if(!Array.isArray(e))return mt.errors=[{instancePath:t+"/attestation/signatures",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(e.length<1)return mt.errors=[{instancePath:t+"/attestation/signatures",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{let r=e.length;for(let n=0;n<r;n++){let r=e[n],i=s;if(s===i){if(!r||"object"!=typeof r||Array.isArray(r))return mt.errors=[{instancePath:t+"/attestation/signatures/"+n,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==r.protected){let e=s;if("string"!=typeof r.protected)return mt.errors=[{instancePath:t+"/attestation/signatures/"+n+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/items/properties/protected/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=e===s}else d=!0;if(d)if(void 0!==r.signature){let e=s;if("string"!=typeof r.signature)return mt.errors=[{instancePath:t+"/attestation/signatures/"+n+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/items/properties/signature/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;d=e===s}else d=!0}if(i!==s)break}}}l=n===s}else l=!0}}}c=n===s}else c=!0;if(c){if(void 0!==e.authorization){let r=e.authorization,n=s;if(s==s){if(!r||"object"!=typeof r||Array.isArray(r))return mt.errors=[{instancePath:t+"/authorization",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e=s;for(let e in r)if("payload"!==e&&"signatures"!==e)return mt.errors=[{instancePath:t+"/authorization",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"}],!1;if(e===s){if(void 0!==r.payload){let e=s;if("string"!=typeof r.payload)return mt.errors=[{instancePath:t+"/authorization/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/payload/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=e===s}else p=!0;if(p)if(void 0!==r.signatures){let e=r.signatures,n=s;if(s===n){if(!Array.isArray(e))return mt.errors=[{instancePath:t+"/authorization/signatures",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(e.length<1)return mt.errors=[{instancePath:t+"/authorization/signatures",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{let r=e.length;for(let n=0;n<r;n++){let r=e[n],i=s;if(s===i){if(!r||"object"!=typeof r||Array.isArray(r))return mt.errors=[{instancePath:t+"/authorization/signatures/"+n,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==r.protected){let e=s;if("string"!=typeof r.protected)return mt.errors=[{instancePath:t+"/authorization/signatures/"+n+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/items/properties/protected/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var y=e===s}else y=!0;if(y)if(void 0!==r.signature){let e=s;if("string"!=typeof r.signature)return mt.errors=[{instancePath:t+"/authorization/signatures/"+n+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/items/properties/signature/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;y=e===s}else y=!0}if(i!==s)break}}}p=n===s}else p=!0}}}c=n===s}else c=!0;if(c)if(void 0!==e.descriptor){let r=e.descriptor,n=s,i=s,a=!1,u=s;if(r&&"object"==typeof r&&!Array.isArray(r)){let e;if(void 0===r.published&&(e="published")||void 0===r.datePublished&&(e="datePublished")){let r={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"};null===o?o=[r]:o.push(r),s++}else if(void 0!==r.published){let e=r.published;if("boolean"!=typeof e){let e={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===o?o=[e]:o.push(e),s++}if(!0!==e){let e={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:Vy.properties.descriptor.allOf[0].anyOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};null===o?o=[e]:o.push(e),s++}}}var m=u===s;if(a=a||m,!a){let e=s,n=s,i=s;if(r&&"object"==typeof r&&!Array.isArray(r)){let e;if(void 0===r.datePublished&&(e="datePublished")){let e={};null===o?o=[e]:o.push(e),s++}}if(i===s){let e={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===o?o=[e]:o.push(e),s++}else s=n,null!==o&&(n?o.length=n:o=null);if(s===e&&r&&"object"==typeof r&&!Array.isArray(r)&&void 0!==r.published){let e=r.published;if("boolean"!=typeof e){let e={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===o?o=[e]:o.push(e),s++}if(!1!==e){let e={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/enum",keyword:"enum",params:{allowedValues:Vy.properties.descriptor.allOf[0].anyOf[1].properties.published.enum},message:"must be equal to one of the allowed values"};null===o?o=[e]:o.push(e),s++}}if(m=e===s,a=a||m,!a){let e=s,n=s,i=s,u=s;if(r&&"object"==typeof r&&!Array.isArray(r)){let e;if(void 0===r.published&&(e="published")){let e={};null===o?o=[e]:o.push(e),s++}}if(u===s){let e={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===o?o=[e]:o.push(e),s++}else s=i,null!==o&&(i?o.length=i:o=null);if(n===s){let e=s,n=s;if(r&&"object"==typeof r&&!Array.isArray(r)){let e;if(void 0===r.datePublished&&(e="datePublished")){let e={};null===o?o=[e]:o.push(e),s++}}if(n===s){let e={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===o?o=[e]:o.push(e),s++}else s=e,null!==o&&(e?o.length=e:o=null)}m=e===s,a=a||m}}if(!a){let e={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===o?o=[e]:o.push(e),s++,mt.errors=o,!1}if(s=i,null!==o&&(i?o.length=i:o=null),s===n){if(!r||"object"!=typeof r||Array.isArray(r))return mt.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===r.interface&&(e="interface")||void 0===r.method&&(e="method")||void 0===r.dataCid&&(e="dataCid")||void 0===r.dateCreated&&(e="dateCreated")||void 0===r.dateModified&&(e="dateModified")||void 0===r.dataFormat&&(e="dataFormat"))return mt.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;{let e=s;for(let e in r)if(!h2.call(Vy.properties.descriptor.properties,e))return mt.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"}],!1;if(e===s){if(void 0!==r.interface){let e=r.interface,n=s;if("string"!=typeof e)return mt.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==e)return mt.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Vy.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var g=n===s}else g=!0;if(g){if(void 0!==r.method){let e=r.method,n=s;if("string"!=typeof e)return mt.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Write"!==e)return mt.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Vy.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;g=n===s}else g=!0;if(g){if(void 0!==r.recipient){let e=r.recipient,n=s;if(s==s){if("string"!=typeof e)return mt.errors=[{instancePath:t+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Df.test(e))return mt.errors=[{instancePath:t+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}g=n===s}else g=!0;if(g){if(void 0!==r.protocol){let e=s;if("string"!=typeof r.protocol)return mt.errors=[{instancePath:t+"/descriptor/protocol",schemaPath:"#/properties/descriptor/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;g=e===s}else g=!0;if(g){if(void 0!==r.schema){let e=s;if("string"!=typeof r.schema)return mt.errors=[{instancePath:t+"/descriptor/schema",schemaPath:"#/properties/descriptor/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;g=e===s}else g=!0;if(g){if(void 0!==r.parentId){let e=s;if("string"!=typeof r.parentId)return mt.errors=[{instancePath:t+"/descriptor/parentId",schemaPath:"#/properties/descriptor/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;g=e===s}else g=!0;if(g){if(void 0!==r.dataCid){let e=s;if("string"!=typeof r.dataCid)return mt.errors=[{instancePath:t+"/descriptor/dataCid",schemaPath:"#/properties/descriptor/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;g=e===s}else g=!0;if(g){if(void 0!==r.dateCreated){let e=s;if("string"!=typeof r.dateCreated)return mt.errors=[{instancePath:t+"/descriptor/dateCreated",schemaPath:"#/properties/descriptor/properties/dateCreated/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;g=e===s}else g=!0;if(g){if(void 0!==r.dateModified){let e=s;if("string"!=typeof r.dateModified)return mt.errors=[{instancePath:t+"/descriptor/dateModified",schemaPath:"#/properties/descriptor/properties/dateModified/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;g=e===s}else g=!0;if(g){if(void 0!==r.published){let e=s;if("boolean"!=typeof r.published)return mt.errors=[{instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;g=e===s}else g=!0;if(g){if(void 0!==r.datePublished){let e=s;if("string"!=typeof r.datePublished)return mt.errors=[{instancePath:t+"/descriptor/datePublished",schemaPath:"#/properties/descriptor/properties/datePublished/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;g=e===s}else g=!0;if(g)if(void 0!==r.dataFormat){let e=s;if("string"!=typeof r.dataFormat)return mt.errors=[{instancePath:t+"/descriptor/dataFormat",schemaPath:"#/properties/descriptor/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;g=e===s}else g=!0}}}}}}}}}}}}}}c=n===s}else c=!0}}}}}}}return mt.errors=o,0===s}var Oge=GS;function GS(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:i=e}={}){return e&&"object"==typeof e&&!Array.isArray(e)?(GS.errors=null,!0):(GS.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}var Cge=Yn,e$={$id:"https://identity.foundation/dwn/json-schemas/general-jwk.json",$schema:"http://json-schema.org/draft-07/schema#",type:"object",required:["kty"],properties:{alg:{type:"string"},kid:{type:"string"},kty:{enum:["EC","RSA","oct","OKP"]},crv:{type:"string"},use:{type:"string"},key_ops:{type:"string"},x5u:{type:"string"},x5c:{type:"string"},x5t:{type:"string"},"x5t#S256":{type:"string"}},oneOf:[{properties:{kty:{const:"EC"},crv:{type:"string"},x:{type:"string"},y:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"OKP"},crv:{type:"string"},x:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"RSA"},n:{type:"string"},e:{type:"string"},d:{type:"string"},p:{type:"string"},q:{type:"string"},dp:{type:"string"},dq:{type:"string"},qi:{type:"string"},oth:{type:"object"}},required:["n","e"]},{properties:{kty:{const:"oct"},k:{type:"string"}},required:["k"]}]};function Yn(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:i=e}={}){let o=null,s=0,a=s,u=!1,h=null,f=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.crv&&(r="crv")||void 0===e.x&&(r="x")){let e={instancePath:t,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===o?o=[e]:o.push(e),s++}else{if(void 0!==e.kty){let r=s;if("EC"!==e.kty){let e={instancePath:t+"/kty",schemaPath:"#/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};null===o?o=[e]:o.push(e),s++}var c=r===s}else c=!0;if(c){if(void 0!==e.crv){let r=s;if("string"!=typeof e.crv){let e={instancePath:t+"/crv",schemaPath:"#/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}c=r===s}else c=!0;if(c){if(void 0!==e.x){let r=s;if("string"!=typeof e.x){let e={instancePath:t+"/x",schemaPath:"#/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}c=r===s}else c=!0;if(c){if(void 0!==e.y){let r=s;if("string"!=typeof e.y){let e={instancePath:t+"/y",schemaPath:"#/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}c=r===s}else c=!0;if(c)if(void 0!==e.d){let r=s;if("string"!=typeof e.d){let e={instancePath:t+"/d",schemaPath:"#/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}c=r===s}else c=!0}}}}}(m=f===s)&&(u=!0,h=0);let l=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.crv&&(r="crv")||void 0===e.x&&(r="x")){let e={instancePath:t,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===o?o=[e]:o.push(e),s++}else{if(void 0!==e.kty){let r=s;if("OKP"!==e.kty){let e={instancePath:t+"/kty",schemaPath:"#/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};null===o?o=[e]:o.push(e),s++}var d=r===s}else d=!0;if(d){if(void 0!==e.crv){let r=s;if("string"!=typeof e.crv){let e={instancePath:t+"/crv",schemaPath:"#/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}d=r===s}else d=!0;if(d){if(void 0!==e.x){let r=s;if("string"!=typeof e.x){let e={instancePath:t+"/x",schemaPath:"#/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}d=r===s}else d=!0;if(d)if(void 0!==e.d){let r=s;if("string"!=typeof e.d){let e={instancePath:t+"/d",schemaPath:"#/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}d=r===s}else d=!0}}}}if((m=l===s)&&u)u=!1,h=[h,1];else{m&&(u=!0,h=1);let r=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.n&&(r="n")||void 0===e.e&&(r="e")){let e={instancePath:t,schemaPath:"#/oneOf/2/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===o?o=[e]:o.push(e),s++}else{if(void 0!==e.kty){let r=s;if("RSA"!==e.kty){let e={instancePath:t+"/kty",schemaPath:"#/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};null===o?o=[e]:o.push(e),s++}var p=r===s}else p=!0;if(p){if(void 0!==e.n){let r=s;if("string"!=typeof e.n){let e={instancePath:t+"/n",schemaPath:"#/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}p=r===s}else p=!0;if(p){if(void 0!==e.e){let r=s;if("string"!=typeof e.e){let e={instancePath:t+"/e",schemaPath:"#/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}p=r===s}else p=!0;if(p){if(void 0!==e.d){let r=s;if("string"!=typeof e.d){let e={instancePath:t+"/d",schemaPath:"#/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}p=r===s}else p=!0;if(p){if(void 0!==e.p){let r=s;if("string"!=typeof e.p){let e={instancePath:t+"/p",schemaPath:"#/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}p=r===s}else p=!0;if(p){if(void 0!==e.q){let r=s;if("string"!=typeof e.q){let e={instancePath:t+"/q",schemaPath:"#/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}p=r===s}else p=!0;if(p){if(void 0!==e.dp){let r=s;if("string"!=typeof e.dp){let e={instancePath:t+"/dp",schemaPath:"#/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}p=r===s}else p=!0;if(p){if(void 0!==e.dq){let r=s;if("string"!=typeof e.dq){let e={instancePath:t+"/dq",schemaPath:"#/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}p=r===s}else p=!0;if(p){if(void 0!==e.qi){let r=s;if("string"!=typeof e.qi){let e={instancePath:t+"/qi",schemaPath:"#/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}p=r===s}else p=!0;if(p)if(void 0!==e.oth){let r=e.oth,n=s;if(!r||"object"!=typeof r||Array.isArray(r)){let e={instancePath:t+"/oth",schemaPath:"#/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};null===o?o=[e]:o.push(e),s++}p=n===s}else p=!0}}}}}}}}}}if((m=r===s)&&u)u=!1,h=[h,2];else{m&&(u=!0,h=2);let r=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.k&&(r="k")){let e={instancePath:t,schemaPath:"#/oneOf/3/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===o?o=[e]:o.push(e),s++}else{if(void 0!==e.kty){let r=s;if("oct"!==e.kty){let e={instancePath:t+"/kty",schemaPath:"#/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};null===o?o=[e]:o.push(e),s++}var y=r===s}else y=!0;if(y)if(void 0!==e.k){let r=s;if("string"!=typeof e.k){let e={instancePath:t+"/k",schemaPath:"#/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}y=r===s}else y=!0}}var m;(m=r===s)&&u?(u=!1,h=[h,3]):m&&(u=!0,h=3)}}if(!u){let e={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:h},message:"must match exactly one schema in oneOf"};return null===o?o=[e]:o.push(e),s++,Yn.errors=o,!1}if(s=a,null!==o&&(a?o.length=a:o=null),0===s){if(!e||"object"!=typeof e||Array.isArray(e))return Yn.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.kty&&(r="kty"))return Yn.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;if(void 0!==e.alg){let r=s;if("string"!=typeof e.alg)return Yn.errors=[{instancePath:t+"/alg",schemaPath:"#/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var g=r===s}else g=!0;if(g){if(void 0!==e.kid){let r=s;if("string"!=typeof e.kid)return Yn.errors=[{instancePath:t+"/kid",schemaPath:"#/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;g=r===s}else g=!0;if(g){if(void 0!==e.kty){let r=e.kty,n=s;if("EC"!==r&&"RSA"!==r&&"oct"!==r&&"OKP"!==r)return Yn.errors=[{instancePath:t+"/kty",schemaPath:"#/properties/kty/enum",keyword:"enum",params:{allowedValues:e$.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;g=n===s}else g=!0;if(g){if(void 0!==e.crv){let r=s;if("string"!=typeof e.crv)return Yn.errors=[{instancePath:t+"/crv",schemaPath:"#/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;g=r===s}else g=!0;if(g){if(void 0!==e.use){let r=s;if("string"!=typeof e.use)return Yn.errors=[{instancePath:t+"/use",schemaPath:"#/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;g=r===s}else g=!0;if(g){if(void 0!==e.key_ops){let r=s;if("string"!=typeof e.key_ops)return Yn.errors=[{instancePath:t+"/key_ops",schemaPath:"#/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;g=r===s}else g=!0;if(g){if(void 0!==e.x5u){let r=s;if("string"!=typeof e.x5u)return Yn.errors=[{instancePath:t+"/x5u",schemaPath:"#/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;g=r===s}else g=!0;if(g){if(void 0!==e.x5c){let r=s;if("string"!=typeof e.x5c)return Yn.errors=[{instancePath:t+"/x5c",schemaPath:"#/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;g=r===s}else g=!0;if(g){if(void 0!==e.x5t){let r=s;if("string"!=typeof e.x5t)return Yn.errors=[{instancePath:t+"/x5t",schemaPath:"#/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;g=r===s}else g=!0;if(g)if(void 0!==e["x5t#S256"]){let r=s;if("string"!=typeof e["x5t#S256"])return Yn.errors=[{instancePath:t+"/x5t#S256",schemaPath:"#/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;g=r===s}else g=!0}}}}}}}}}}return Yn.errors=o,0===s}var Nge=za;function za(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:i=e}={}){if(!e||"object"!=typeof e||Array.isArray(e))return za.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r=0;for(let r in e)if("payload"!==r&&"signatures"!==r)return za.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(0===r){if(void 0!==e.payload){let r=0;if("string"!=typeof e.payload)return za.errors=[{instancePath:t+"/payload",schemaPath:"#/properties/payload/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=0===r}else o=!0;if(o)if(void 0!==e.signatures){let r=e.signatures,n=0;if(0===n){if(!Array.isArray(r))return za.errors=[{instancePath:t+"/signatures",schemaPath:"#/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(r.length<1)return za.errors=[{instancePath:t+"/signatures",schemaPath:"#/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{let e=r.length;for(let n=0;n<e;n++){let e=r[n],i=0;if(0===i){if(!e||"object"!=typeof e||Array.isArray(e))return za.errors=[{instancePath:t+"/signatures/"+n,schemaPath:"#/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==e.protected){let r=0;if("string"!=typeof e.protected)return za.errors=[{instancePath:t+"/signatures/"+n+"/protected",schemaPath:"#/properties/signatures/items/properties/protected/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var s=0===r}else s=!0;if(s)if(void 0!==e.signature){let r=0;if("string"!=typeof e.signature)return za.errors=[{instancePath:t+"/signatures/"+n+"/signature",schemaPath:"#/properties/signatures/items/properties/signature/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;s=0===r}else s=!0}if(0!==i)break}}}o=0===n}else o=!0}}return za.errors=null,!0}var Lge=Lr,ZF={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/hooks-write.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","dateCreated","uri","filter"],properties:{interface:{enum:["Hooks"],type:"string"},method:{enum:["Write"],type:"string"},dateCreated:{type:"string"},schema:{type:"string"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{method:{type:"string"}}}}}}};function Lr(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:i=e}={}){if(!e||"object"!=typeof e||Array.isArray(e))return Lr.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.authorization&&(r="authorization")||void 0===e.descriptor&&(r="descriptor"))return Lr.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{let r=0;for(let r in e)if("authorization"!==r&&"descriptor"!==r)return Lr.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(0===r){if(void 0!==e.authorization){let r=e.authorization,n=0;if(!r||"object"!=typeof r||Array.isArray(r))return Lr.errors=[{instancePath:t+"/authorization",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e=0;for(let e in r)if("payload"!==e&&"signatures"!==e)return Lr.errors=[{instancePath:t+"/authorization",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"}],!1;if(0===e){if(void 0!==r.payload){let e=0;if("string"!=typeof r.payload)return Lr.errors=[{instancePath:t+"/authorization/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/payload/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=0===e}else o=!0;if(o)if(void 0!==r.signatures){let e=r.signatures,n=0;if(0===n){if(!Array.isArray(e))return Lr.errors=[{instancePath:t+"/authorization/signatures",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(e.length<1)return Lr.errors=[{instancePath:t+"/authorization/signatures",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{let r=e.length;for(let n=0;n<r;n++){let r=e[n],i=0;if(0===i){if(!r||"object"!=typeof r||Array.isArray(r))return Lr.errors=[{instancePath:t+"/authorization/signatures/"+n,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==r.protected){let e=0;if("string"!=typeof r.protected)return Lr.errors=[{instancePath:t+"/authorization/signatures/"+n+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/items/properties/protected/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var s=0===e}else s=!0;if(s)if(void 0!==r.signature){let e=0;if("string"!=typeof r.signature)return Lr.errors=[{instancePath:t+"/authorization/signatures/"+n+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/items/properties/signature/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;s=0===e}else s=!0}if(0!==i)break}}}o=0===n}else o=!0}}var a=0===n}else a=!0;if(a)if(void 0!==e.descriptor){let r=e.descriptor,n=0;if(0===n){if(!r||"object"!=typeof r||Array.isArray(r))return Lr.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===r.interface&&(e="interface")||void 0===r.method&&(e="method")||void 0===r.dateCreated&&(e="dateCreated")||void 0===r.uri&&(e="uri")||void 0===r.filter&&(e="filter"))return Lr.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;{let e=0;for(let e in r)if("interface"!==e&&"method"!==e&&"dateCreated"!==e&&"schema"!==e&&"filter"!==e)return Lr.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"}],!1;if(0===e){if(void 0!==r.interface){let e=r.interface,n=0;if("string"!=typeof e)return Lr.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Hooks"!==e)return Lr.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:ZF.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var u=0===n}else u=!0;if(u){if(void 0!==r.method){let e=r.method,n=0;if("string"!=typeof e)return Lr.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Write"!==e)return Lr.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:ZF.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;u=0===n}else u=!0;if(u){if(void 0!==r.dateCreated){let e=0;if("string"!=typeof r.dateCreated)return Lr.errors=[{instancePath:t+"/descriptor/dateCreated",schemaPath:"#/properties/descriptor/properties/dateCreated/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=0===e}else u=!0;if(u){if(void 0!==r.schema){let e=0;if("string"!=typeof r.schema)return Lr.errors=[{instancePath:t+"/descriptor/schema",schemaPath:"#/properties/descriptor/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=0===e}else u=!0;if(u)if(void 0!==r.filter){let e=r.filter,n=0;if(0===n){if(!e||"object"!=typeof e||Array.isArray(e))return Lr.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(e).length<1)return Lr.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let r=0;for(let r in e)if("method"!==r)return Lr.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(0===r&&void 0!==e.method&&"string"!=typeof e.method)return Lr.errors=[{instancePath:t+"/descriptor/filter/method",schemaPath:"#/properties/descriptor/properties/filter/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1}}u=0===n}else u=!0}}}}}}}a=0===n}else a=!0}}}return Lr.errors=null,!0}var qge=Pf;function Ki(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:i=e}={}){let o=null,s=0,a=s,u=s,h=!1,f=null,c=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.crv&&(r="crv")||void 0===e.x&&(r="x")){let e={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===o?o=[e]:o.push(e),s++}else{if(void 0!==e.kty){let r=s;if("EC"!==e.kty){let e={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};null===o?o=[e]:o.push(e),s++}var l=r===s}else l=!0;if(l){if(void 0!==e.crv){let r=s;if("string"!=typeof e.crv){let e={instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}l=r===s}else l=!0;if(l){if(void 0!==e.x){let r=s;if("string"!=typeof e.x){let e={instancePath:t+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}l=r===s}else l=!0;if(l){if(void 0!==e.y){let r=s;if("string"!=typeof e.y){let e={instancePath:t+"/y",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}l=r===s}else l=!0;if(l)if(void 0!==e.d){let r=s;if("string"!=typeof e.d){let e={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}l=r===s}else l=!0}}}}}(g=c===s)&&(h=!0,f=0);let d=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.crv&&(r="crv")||void 0===e.x&&(r="x")){let e={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===o?o=[e]:o.push(e),s++}else{if(void 0!==e.kty){let r=s;if("OKP"!==e.kty){let e={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};null===o?o=[e]:o.push(e),s++}var p=r===s}else p=!0;if(p){if(void 0!==e.crv){let r=s;if("string"!=typeof e.crv){let e={instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}p=r===s}else p=!0;if(p){if(void 0!==e.x){let r=s;if("string"!=typeof e.x){let e={instancePath:t+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}p=r===s}else p=!0;if(p)if(void 0!==e.d){let r=s;if("string"!=typeof e.d){let e={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}p=r===s}else p=!0}}}}if((g=d===s)&&h)h=!1,f=[f,1];else{g&&(h=!0,f=1);let r=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.n&&(r="n")||void 0===e.e&&(r="e")){let e={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===o?o=[e]:o.push(e),s++}else{if(void 0!==e.kty){let r=s;if("RSA"!==e.kty){let e={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};null===o?o=[e]:o.push(e),s++}var y=r===s}else y=!0;if(y){if(void 0!==e.n){let r=s;if("string"!=typeof e.n){let e={instancePath:t+"/n",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}y=r===s}else y=!0;if(y){if(void 0!==e.e){let r=s;if("string"!=typeof e.e){let e={instancePath:t+"/e",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}y=r===s}else y=!0;if(y){if(void 0!==e.d){let r=s;if("string"!=typeof e.d){let e={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}y=r===s}else y=!0;if(y){if(void 0!==e.p){let r=s;if("string"!=typeof e.p){let e={instancePath:t+"/p",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}y=r===s}else y=!0;if(y){if(void 0!==e.q){let r=s;if("string"!=typeof e.q){let e={instancePath:t+"/q",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}y=r===s}else y=!0;if(y){if(void 0!==e.dp){let r=s;if("string"!=typeof e.dp){let e={instancePath:t+"/dp",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}y=r===s}else y=!0;if(y){if(void 0!==e.dq){let r=s;if("string"!=typeof e.dq){let e={instancePath:t+"/dq",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}y=r===s}else y=!0;if(y){if(void 0!==e.qi){let r=s;if("string"!=typeof e.qi){let e={instancePath:t+"/qi",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}y=r===s}else y=!0;if(y)if(void 0!==e.oth){let r=e.oth,n=s;if(!r||"object"!=typeof r||Array.isArray(r)){let e={instancePath:t+"/oth",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};null===o?o=[e]:o.push(e),s++}y=n===s}else y=!0}}}}}}}}}}if((g=r===s)&&h)h=!1,f=[f,2];else{g&&(h=!0,f=2);let r=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.k&&(r="k")){let e={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===o?o=[e]:o.push(e),s++}else{if(void 0!==e.kty){let r=s;if("oct"!==e.kty){let e={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};null===o?o=[e]:o.push(e),s++}var m=r===s}else m=!0;if(m)if(void 0!==e.k){let r=s;if("string"!=typeof e.k){let e={instancePath:t+"/k",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}m=r===s}else m=!0}}var g;(g=r===s)&&h?(h=!1,f=[f,3]):g&&(h=!0,f=3)}}if(!h){let e={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf",keyword:"oneOf",params:{passingSchemas:f},message:"must match exactly one schema in oneOf"};return null===o?o=[e]:o.push(e),s++,Ki.errors=o,!1}if(s=u,null!==o&&(u?o.length=u:o=null),s===a){if(!e||"object"!=typeof e||Array.isArray(e))return Ki.errors=[{instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.kty&&(r="kty"))return Ki.errors=[{instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;if(void 0!==e.alg){let r=s;if("string"!=typeof e.alg)return Ki.errors=[{instancePath:t+"/alg",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var b=r===s}else b=!0;if(b){if(void 0!==e.kid){let r=s;if("string"!=typeof e.kid)return Ki.errors=[{instancePath:t+"/kid",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=r===s}else b=!0;if(b){if(void 0!==e.kty){let r=e.kty,n=s;if("EC"!==r&&"RSA"!==r&&"oct"!==r&&"OKP"!==r)return Ki.errors=[{instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kty/enum",keyword:"enum",params:{allowedValues:e$.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;b=n===s}else b=!0;if(b){if(void 0!==e.crv){let r=s;if("string"!=typeof e.crv)return Ki.errors=[{instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=r===s}else b=!0;if(b){if(void 0!==e.use){let r=s;if("string"!=typeof e.use)return Ki.errors=[{instancePath:t+"/use",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=r===s}else b=!0;if(b){if(void 0!==e.key_ops){let r=s;if("string"!=typeof e.key_ops)return Ki.errors=[{instancePath:t+"/key_ops",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=r===s}else b=!0;if(b){if(void 0!==e.x5u){let r=s;if("string"!=typeof e.x5u)return Ki.errors=[{instancePath:t+"/x5u",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=r===s}else b=!0;if(b){if(void 0!==e.x5c){let r=s;if("string"!=typeof e.x5c)return Ki.errors=[{instancePath:t+"/x5c",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=r===s}else b=!0;if(b){if(void 0!==e.x5t){let r=s;if("string"!=typeof e.x5t)return Ki.errors=[{instancePath:t+"/x5t",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=r===s}else b=!0;if(b)if(void 0!==e["x5t#S256"]){let r=s;if("string"!=typeof e["x5t#S256"])return Ki.errors=[{instancePath:t+"/x5t#S256",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=r===s}else b=!0}}}}}}}}}}if(a===s){let r=s,n=s,i=s,a=!1,u=s,h=s,f=!1,c=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let t;if(void 0===e.d&&(t="d")){let e={};null===o?o=[e]:o.push(e),s++}}if(f=f||c===s,f)s=h,null!==o&&(h?o.length=h:o=null);else{let e={};null===o?o=[e]:o.push(e),s++}if(s===u)if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0!==e.kty&&"EC"!==e.kty){let e={};null===o?o=[e]:o.push(e),s++}}else{let e={};null===o?o=[e]:o.push(e),s++}var w=u===s;if(a=a||w,!a){let t=s,r=s,n=!1,i=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let t;if(void 0===e.d&&(t="d")){let e={};null===o?o=[e]:o.push(e),s++}}if(n=n||i===s,n)s=r,null!==o&&(r?o.length=r:o=null);else{let e={};null===o?o=[e]:o.push(e),s++}if(s===t)if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0!==e.kty&&"OKP"!==e.kty){let e={};null===o?o=[e]:o.push(e),s++}}else{let e={};null===o?o=[e]:o.push(e),s++}if(w=t===s,a=a||w,!a){let t=s,r=s,n=!1,i=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let t;if(void 0===e.d&&(t="d")){let e={};null===o?o=[e]:o.push(e),s++}}var v=i===s;if(n=n||v,!n){let t=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let t;if(void 0===e.p&&(t="p")){let e={};null===o?o=[e]:o.push(e),s++}}if(v=t===s,n=n||v,!n){let t=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let t;if(void 0===e.q&&(t="q")){let e={};null===o?o=[e]:o.push(e),s++}}if(v=t===s,n=n||v,!n){let t=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let t;if(void 0===e.dp&&(t="dp")){let e={};null===o?o=[e]:o.push(e),s++}}if(v=t===s,n=n||v,!n){let t=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let t;if(void 0===e.dq&&(t="dq")){let e={};null===o?o=[e]:o.push(e),s++}}if(v=t===s,n=n||v,!n){let t=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let t;if(void 0===e.qi&&(t="qi")){let e={};null===o?o=[e]:o.push(e),s++}}if(v=t===s,n=n||v,!n){let t=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let t;if(void 0===e.oth&&(t="oth")){let e={};null===o?o=[e]:o.push(e),s++}}v=t===s,n=n||v}}}}}}if(n)s=r,null!==o&&(r?o.length=r:o=null);else{let e={};null===o?o=[e]:o.push(e),s++}if(s===t)if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0!==e.kty){let t=s;if("RSA"!==e.kty){let e={};null===o?o=[e]:o.push(e),s++}var _=t===s}else _=!0;if(_)if(void 0!==e.oth){let t=e.oth,r=s;if(!t||"object"!=typeof t||Array.isArray(t)){let e={};null===o?o=[e]:o.push(e),s++}_=r===s}else _=!0}else{let e={};null===o?o=[e]:o.push(e),s++}w=t===s,a=a||w}}if(a)s=i,null!==o&&(i?o.length=i:o=null);else{let e={};null===o?o=[e]:o.push(e),s++}if(n===s)return Ki.errors=[{instancePath:t,schemaPath:"#/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=r,null!==o&&(r?o.length=r:o=null)}return Ki.errors=o,0===s}function Pf(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:i=e}={}){let o=null,s=0;if(0===s){if(!e||"object"!=typeof e||Array.isArray(e))return Pf.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.id&&(r="id")||void 0===e.type&&(r="type")||void 0===e.controller&&(r="controller")||void 0===e.publicKeyJwk&&(r="publicKeyJwk"))return Pf.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{let r=s;for(let r in e)if("id"!==r&&"type"!==r&&"controller"!==r&&"publicKeyJwk"!==r)return Pf.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(r===s){if(void 0!==e.id){let r=s;if("string"!=typeof e.id)return Pf.errors=[{instancePath:t+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=r===s}else a=!0;if(a){if(void 0!==e.type){let r=s;if("JsonWebKey2020"!==e.type)return Pf.errors=[{instancePath:t+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue:"JsonWebKey2020"},message:"must be equal to constant"}],!1;a=r===s}else a=!0;if(a){if(void 0!==e.controller){let r=e.controller,n=s;if(s==s){if("string"!=typeof r)return Pf.errors=[{instancePath:t+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Df.test(r))return Pf.errors=[{instancePath:t+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}a=n===s}else a=!0;if(a)if(void 0!==e.publicKeyJwk){let r=s;Ki(e.publicKeyJwk,{instancePath:t+"/publicKeyJwk",parentData:e,parentDataProperty:"publicKeyJwk",rootData:i})||(o=null===o?Ki.errors:o.concat(Ki.errors),s=o.length),a=r===s}else a=!0}}}}}}return Pf.errors=o,0===s}var jge=ZS;function ZS(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:i=e}={}){return e&&"object"==typeof e&&!Array.isArray(e)?(ZS.errors=null,!0):(ZS.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}var Uge=lt,WS={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/permissions-grant.json",type:"object",required:["authorization","descriptor"],additionalProperties:!1,properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},delegationChain:{description:"the parent grant",$ref:"#"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","dateCreated"],properties:{dateCreated:{type:"string"},conditions:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions"},delegatedFrom:{description:"CID of the parent grant",type:"string"},description:{type:"string"},grantedTo:{description:"DID of the grantee",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo"},grantedBy:{description:"DID of the grantor",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy"},interface:{enum:["Permissions"],type:"string"},method:{enum:["Grant"],type:"string"},scope:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope"},objectId:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/uuid"}}}}},l2={type:"object",additionalProperties:!1,properties:{attestation:{enum:["optional","required"],type:"string"},delegation:{type:"boolean"},encryption:{enum:["optional","required"],type:"string"},publication:{type:"boolean"},sharedAccess:{type:"boolean"}}},t$=new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$","u");function lt(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:i=e}={}){let o=null,s=0;if(0===s){if(!e||"object"!=typeof e||Array.isArray(e))return lt.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.authorization&&(r="authorization")||void 0===e.descriptor&&(r="descriptor"))return lt.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{let r=s;for(let r in e)if("authorization"!==r&&"delegationChain"!==r&&"descriptor"!==r)return lt.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(r===s){if(void 0!==e.authorization){let r=e.authorization,n=s;if(s==s){if(!r||"object"!=typeof r||Array.isArray(r))return lt.errors=[{instancePath:t+"/authorization",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e=s;for(let e in r)if("payload"!==e&&"signatures"!==e)return lt.errors=[{instancePath:t+"/authorization",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"}],!1;if(e===s){if(void 0!==r.payload){let e=s;if("string"!=typeof r.payload)return lt.errors=[{instancePath:t+"/authorization/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/payload/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=e===s}else a=!0;if(a)if(void 0!==r.signatures){let e=r.signatures,n=s;if(s===n){if(!Array.isArray(e))return lt.errors=[{instancePath:t+"/authorization/signatures",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(e.length<1)return lt.errors=[{instancePath:t+"/authorization/signatures",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{let r=e.length;for(let n=0;n<r;n++){let r=e[n],i=s;if(s===i){if(!r||"object"!=typeof r||Array.isArray(r))return lt.errors=[{instancePath:t+"/authorization/signatures/"+n,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==r.protected){let e=s;if("string"!=typeof r.protected)return lt.errors=[{instancePath:t+"/authorization/signatures/"+n+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/items/properties/protected/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=e===s}else u=!0;if(u)if(void 0!==r.signature){let e=s;if("string"!=typeof r.signature)return lt.errors=[{instancePath:t+"/authorization/signatures/"+n+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/items/properties/signature/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=e===s}else u=!0}if(i!==s)break}}}a=n===s}else a=!0}}}var h=n===s}else h=!0;if(h){if(void 0!==e.delegationChain){let r=s;lt(e.delegationChain,{instancePath:t+"/delegationChain",parentData:e,parentDataProperty:"delegationChain",rootData:i})||(o=null===o?lt.errors:o.concat(lt.errors),s=o.length),h=r===s}else h=!0;if(h)if(void 0!==e.descriptor){let r=e.descriptor,n=s;if(s===n){if(!r||"object"!=typeof r||Array.isArray(r))return lt.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===r.interface&&(e="interface")||void 0===r.method&&(e="method")||void 0===r.dateCreated&&(e="dateCreated"))return lt.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;{let e=s;for(let e in r)if(!h2.call(WS.properties.descriptor.properties,e))return lt.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"}],!1;if(e===s){if(void 0!==r.dateCreated){let e=s;if("string"!=typeof r.dateCreated)return lt.errors=[{instancePath:t+"/descriptor/dateCreated",schemaPath:"#/properties/descriptor/properties/dateCreated/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=e===s}else f=!0;if(f){if(void 0!==r.conditions){let e=r.conditions,n=s;if(s==s){if(!e||"object"!=typeof e||Array.isArray(e))return lt.errors=[{instancePath:t+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r=s;for(let r in e)if("attestation"!==r&&"delegation"!==r&&"encryption"!==r&&"publication"!==r&&"sharedAccess"!==r)return lt.errors=[{instancePath:t+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(r===s){if(void 0!==e.attestation){let r=e.attestation,n=s;if("string"!=typeof r)return lt.errors=[{instancePath:t+"/descriptor/conditions/attestation",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/attestation/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("optional"!==r&&"required"!==r)return lt.errors=[{instancePath:t+"/descriptor/conditions/attestation",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/attestation/enum",keyword:"enum",params:{allowedValues:l2.properties.attestation.enum},message:"must be equal to one of the allowed values"}],!1;var c=n===s}else c=!0;if(c){if(void 0!==e.delegation){let r=s;if("boolean"!=typeof e.delegation)return lt.errors=[{instancePath:t+"/descriptor/conditions/delegation",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/delegation/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;c=r===s}else c=!0;if(c){if(void 0!==e.encryption){let r=e.encryption,n=s;if("string"!=typeof r)return lt.errors=[{instancePath:t+"/descriptor/conditions/encryption",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/encryption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("optional"!==r&&"required"!==r)return lt.errors=[{instancePath:t+"/descriptor/conditions/encryption",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/encryption/enum",keyword:"enum",params:{allowedValues:l2.properties.encryption.enum},message:"must be equal to one of the allowed values"}],!1;c=n===s}else c=!0;if(c){if(void 0!==e.publication){let r=s;if("boolean"!=typeof e.publication)return lt.errors=[{instancePath:t+"/descriptor/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/publication/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;c=r===s}else c=!0;if(c)if(void 0!==e.sharedAccess){let r=s;if("boolean"!=typeof e.sharedAccess)return lt.errors=[{instancePath:t+"/descriptor/conditions/sharedAccess",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/sharedAccess/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;c=r===s}else c=!0}}}}}}f=n===s}else f=!0;if(f){if(void 0!==r.delegatedFrom){let e=s;if("string"!=typeof r.delegatedFrom)return lt.errors=[{instancePath:t+"/descriptor/delegatedFrom",schemaPath:"#/properties/descriptor/properties/delegatedFrom/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;f=e===s}else f=!0;if(f){if(void 0!==r.description){let e=s;if("string"!=typeof r.description)return lt.errors=[{instancePath:t+"/descriptor/description",schemaPath:"#/properties/descriptor/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;f=e===s}else f=!0;if(f){if(void 0!==r.grantedTo){let e=r.grantedTo,n=s;if(s==s){if("string"!=typeof e)return lt.errors=[{instancePath:t+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Df.test(e))return lt.errors=[{instancePath:t+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}f=n===s}else f=!0;if(f){if(void 0!==r.grantedBy){let e=r.grantedBy,n=s;if(s==s){if("string"!=typeof e)return lt.errors=[{instancePath:t+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Df.test(e))return lt.errors=[{instancePath:t+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}f=n===s}else f=!0;if(f){if(void 0!==r.interface){let e=r.interface,n=s;if("string"!=typeof e)return lt.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Permissions"!==e)return lt.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:WS.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;f=n===s}else f=!0;if(f){if(void 0!==r.method){let e=r.method,n=s;if("string"!=typeof e)return lt.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Grant"!==e)return lt.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:WS.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;f=n===s}else f=!0;if(f){if(void 0!==r.scope){let e=r.scope,n=s;if(s==s){if(!e||"object"!=typeof e||Array.isArray(e))return lt.errors=[{instancePath:t+"/descriptor/scope",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r=s;for(let r in e)if("method"!==r&&"objectId"!==r&&"schema"!==r)return lt.errors=[{instancePath:t+"/descriptor/scope",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(r===s){if(void 0!==e.method){let r=s;if("string"!=typeof e.method)return lt.errors=[{instancePath:t+"/descriptor/scope/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var l=r===s}else l=!0;if(l){if(void 0!==e.objectId){let r=s;if("string"!=typeof e.objectId)return lt.errors=[{instancePath:t+"/descriptor/scope/objectId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/properties/objectId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;l=r===s}else l=!0;if(l)if(void 0!==e.schema){let r=s;if("string"!=typeof e.schema)return lt.errors=[{instancePath:t+"/descriptor/scope/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;l=r===s}else l=!0}}}}f=n===s}else f=!0;if(f)if(void 0!==r.objectId){let e=r.objectId,n=s;if(s==s){if("string"!=typeof e)return lt.errors=[{instancePath:t+"/descriptor/objectId",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/uuid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!t$.test(e))return lt.errors=[{instancePath:t+"/descriptor/objectId",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/uuid/pattern",keyword:"pattern",params:{pattern:"^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$"},message:'must match pattern "^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$"'}],!1}f=n===s}else f=!0}}}}}}}}}}}}h=n===s}else h=!0}}}}}return lt.errors=o,0===s}var zge=gt,VS={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/permissions-request.json",additionalProperties:!1,type:"object",required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","dateCreated"],properties:{dateCreated:{type:"string"},conditions:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions"},description:{type:"string"},grantedTo:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo"},grantedBy:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy"},interface:{enum:["Permissions"],type:"string"},method:{enum:["Request"],type:"string"},scope:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope"},objectId:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/uuid"}}}}};function gt(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:i=e}={}){if(!e||"object"!=typeof e||Array.isArray(e))return gt.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.authorization&&(r="authorization")||void 0===e.descriptor&&(r="descriptor"))return gt.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{let r=0;for(let r in e)if("authorization"!==r&&"descriptor"!==r)return gt.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(0===r){if(void 0!==e.authorization){let r=e.authorization,n=0;if(!r||"object"!=typeof r||Array.isArray(r))return gt.errors=[{instancePath:t+"/authorization",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e=0;for(let e in r)if("payload"!==e&&"signatures"!==e)return gt.errors=[{instancePath:t+"/authorization",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"}],!1;if(0===e){if(void 0!==r.payload){let e=0;if("string"!=typeof r.payload)return gt.errors=[{instancePath:t+"/authorization/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/payload/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=0===e}else o=!0;if(o)if(void 0!==r.signatures){let e=r.signatures,n=0;if(0===n){if(!Array.isArray(e))return gt.errors=[{instancePath:t+"/authorization/signatures",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(e.length<1)return gt.errors=[{instancePath:t+"/authorization/signatures",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{let r=e.length;for(let n=0;n<r;n++){let r=e[n],i=0;if(0===i){if(!r||"object"!=typeof r||Array.isArray(r))return gt.errors=[{instancePath:t+"/authorization/signatures/"+n,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==r.protected){let e=0;if("string"!=typeof r.protected)return gt.errors=[{instancePath:t+"/authorization/signatures/"+n+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/items/properties/protected/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var s=0===e}else s=!0;if(s)if(void 0!==r.signature){let e=0;if("string"!=typeof r.signature)return gt.errors=[{instancePath:t+"/authorization/signatures/"+n+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/items/properties/signature/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;s=0===e}else s=!0}if(0!==i)break}}}o=0===n}else o=!0}}var a=0===n}else a=!0;if(a)if(void 0!==e.descriptor){let r=e.descriptor,n=0;if(0===n){if(!r||"object"!=typeof r||Array.isArray(r))return gt.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===r.interface&&(e="interface")||void 0===r.method&&(e="method")||void 0===r.dateCreated&&(e="dateCreated"))return gt.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;{let e=0;for(let e in r)if(!h2.call(VS.properties.descriptor.properties,e))return gt.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"}],!1;if(0===e){if(void 0!==r.dateCreated){let e=0;if("string"!=typeof r.dateCreated)return gt.errors=[{instancePath:t+"/descriptor/dateCreated",schemaPath:"#/properties/descriptor/properties/dateCreated/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=0===e}else u=!0;if(u){if(void 0!==r.conditions){let e=r.conditions,n=0;if(!e||"object"!=typeof e||Array.isArray(e))return gt.errors=[{instancePath:t+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r=0;for(let r in e)if("attestation"!==r&&"delegation"!==r&&"encryption"!==r&&"publication"!==r&&"sharedAccess"!==r)return gt.errors=[{instancePath:t+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(0===r){if(void 0!==e.attestation){let r=e.attestation,n=0;if("string"!=typeof r)return gt.errors=[{instancePath:t+"/descriptor/conditions/attestation",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/attestation/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("optional"!==r&&"required"!==r)return gt.errors=[{instancePath:t+"/descriptor/conditions/attestation",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/attestation/enum",keyword:"enum",params:{allowedValues:l2.properties.attestation.enum},message:"must be equal to one of the allowed values"}],!1;var h=0===n}else h=!0;if(h){if(void 0!==e.delegation){let r=0;if("boolean"!=typeof e.delegation)return gt.errors=[{instancePath:t+"/descriptor/conditions/delegation",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/delegation/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;h=0===r}else h=!0;if(h){if(void 0!==e.encryption){let r=e.encryption,n=0;if("string"!=typeof r)return gt.errors=[{instancePath:t+"/descriptor/conditions/encryption",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/encryption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("optional"!==r&&"required"!==r)return gt.errors=[{instancePath:t+"/descriptor/conditions/encryption",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/encryption/enum",keyword:"enum",params:{allowedValues:l2.properties.encryption.enum},message:"must be equal to one of the allowed values"}],!1;h=0===n}else h=!0;if(h){if(void 0!==e.publication){let r=0;if("boolean"!=typeof e.publication)return gt.errors=[{instancePath:t+"/descriptor/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/publication/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;h=0===r}else h=!0;if(h)if(void 0!==e.sharedAccess){let r=0;if("boolean"!=typeof e.sharedAccess)return gt.errors=[{instancePath:t+"/descriptor/conditions/sharedAccess",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/sharedAccess/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;h=0===r}else h=!0}}}}}u=0===n}else u=!0;if(u){if(void 0!==r.description){let e=0;if("string"!=typeof r.description)return gt.errors=[{instancePath:t+"/descriptor/description",schemaPath:"#/properties/descriptor/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=0===e}else u=!0;if(u){if(void 0!==r.grantedTo){let e=r.grantedTo,n=0;if("string"!=typeof e)return gt.errors=[{instancePath:t+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Df.test(e))return gt.errors=[{instancePath:t+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1;u=0===n}else u=!0;if(u){if(void 0!==r.grantedBy){let e=r.grantedBy,n=0;if("string"!=typeof e)return gt.errors=[{instancePath:t+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Df.test(e))return gt.errors=[{instancePath:t+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1;u=0===n}else u=!0;if(u){if(void 0!==r.interface){let e=r.interface,n=0;if("string"!=typeof e)return gt.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Permissions"!==e)return gt.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:VS.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;u=0===n}else u=!0;if(u){if(void 0!==r.method){let e=r.method,n=0;if("string"!=typeof e)return gt.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Request"!==e)return gt.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:VS.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;u=0===n}else u=!0;if(u){if(void 0!==r.scope){let e=r.scope,n=0;if(!e||"object"!=typeof e||Array.isArray(e))return gt.errors=[{instancePath:t+"/descriptor/scope",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r=0;for(let r in e)if("method"!==r&&"objectId"!==r&&"schema"!==r)return gt.errors=[{instancePath:t+"/descriptor/scope",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(0===r){if(void 0!==e.method){let r=0;if("string"!=typeof e.method)return gt.errors=[{instancePath:t+"/descriptor/scope/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=0===r}else f=!0;if(f){if(void 0!==e.objectId){let r=0;if("string"!=typeof e.objectId)return gt.errors=[{instancePath:t+"/descriptor/scope/objectId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/properties/objectId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;f=0===r}else f=!0;if(f)if(void 0!==e.schema){let r=0;if("string"!=typeof e.schema)return gt.errors=[{instancePath:t+"/descriptor/scope/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;f=0===r}else f=!0}}}u=0===n}else u=!0;if(u)if(void 0!==r.objectId){let e=r.objectId,n=0;if("string"!=typeof e)return gt.errors=[{instancePath:t+"/descriptor/objectId",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/uuid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!t$.test(e))return gt.errors=[{instancePath:t+"/descriptor/objectId",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/uuid/pattern",keyword:"pattern",params:{pattern:"^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$"},message:'must match pattern "^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$"'}],!1;u=0===n}else u=!0}}}}}}}}}}}a=0===n}else a=!0}}}return gt.errors=null,!0}var Fge=Ro,YS=new RegExp(".*","u"),YF={$id:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json",$schema:"http://json-schema.org/draft-07/schema#",type:"object",additionalProperties:!1,properties:{allow:{type:"object",oneOf:[{type:"object",additionalProperties:!1,properties:{anyone:{type:"object",additionalProperties:!1,properties:{to:{type:"array",minItems:1,items:{type:"string",enum:["write"]}}},required:["to"]}}},{type:"object",additionalProperties:!1,properties:{recipient:{type:"object",additionalProperties:!1,properties:{of:{type:"string"},to:{type:"array",minItems:1,items:{type:"string",enum:["write"]}}},required:["of","to"]}}}]},records:{type:"object",patternProperties:{".*":{$ref:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json"}}}}},KS={validate:Fs};function Fs(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:i=e}={}){let o=null,s=0;if(0===s){if(!e||"object"!=typeof e||Array.isArray(e))return Fs.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r=s;for(let r in e)if("allow"!==r&&"records"!==r)return Fs.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(r===s){if(void 0!==e.allow){let r=e.allow,n=s;if(!r||"object"!=typeof r||Array.isArray(r))return Fs.errors=[{instancePath:t+"/allow",schemaPath:"#/properties/allow/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;let i=s,f=!1,c=null,l=s;if(s===l)if(r&&"object"==typeof r&&!Array.isArray(r)){let e=s;for(let e in r)if("anyone"!==e){let r={instancePath:t+"/allow",schemaPath:"#/properties/allow/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"};null===o?o=[r]:o.push(r),s++;break}if(e===s&&void 0!==r.anyone){let e=r.anyone;if(s==s)if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.to&&(r="to")){let e={instancePath:t+"/allow/anyone",schemaPath:"#/properties/allow/oneOf/0/properties/anyone/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===o?o=[e]:o.push(e),s++}else{let r=s;for(let r in e)if("to"!==r){let e={instancePath:t+"/allow/anyone",schemaPath:"#/properties/allow/oneOf/0/properties/anyone/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"};null===o?o=[e]:o.push(e),s++;break}if(r===s&&void 0!==e.to){let r=e.to;if(s==s)if(Array.isArray(r))if(r.length<1){let e={instancePath:t+"/allow/anyone/to",schemaPath:"#/properties/allow/oneOf/0/properties/anyone/properties/to/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===o?o=[e]:o.push(e),s++}else{let e=r.length;for(let n=0;n<e;n++){let e=r[n],i=s;if("string"!=typeof e){let e={instancePath:t+"/allow/anyone/to/"+n,schemaPath:"#/properties/allow/oneOf/0/properties/anyone/properties/to/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}if("write"!==e){let e={instancePath:t+"/allow/anyone/to/"+n,schemaPath:"#/properties/allow/oneOf/0/properties/anyone/properties/to/items/enum",keyword:"enum",params:{allowedValues:YF.properties.allow.oneOf[0].properties.anyone.properties.to.items.enum},message:"must be equal to one of the allowed values"};null===o?o=[e]:o.push(e),s++}if(i!==s)break}}else{let e={instancePath:t+"/allow/anyone/to",schemaPath:"#/properties/allow/oneOf/0/properties/anyone/properties/to/type",keyword:"type",params:{type:"array"},message:"must be array"};null===o?o=[e]:o.push(e),s++}}}}else{let e={instancePath:t+"/allow/anyone",schemaPath:"#/properties/allow/oneOf/0/properties/anyone/type",keyword:"type",params:{type:"object"},message:"must be object"};null===o?o=[e]:o.push(e),s++}}}else{let e={instancePath:t+"/allow",schemaPath:"#/properties/allow/oneOf/0/type",keyword:"type",params:{type:"object"},message:"must be object"};null===o?o=[e]:o.push(e),s++}l===s&&(f=!0,c=0);let d=s;if(s===d)if(r&&"object"==typeof r&&!Array.isArray(r)){let e=s;for(let e in r)if("recipient"!==e){let r={instancePath:t+"/allow",schemaPath:"#/properties/allow/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"};null===o?o=[r]:o.push(r),s++;break}if(e===s&&void 0!==r.recipient){let e=r.recipient;if(s==s)if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.of&&(r="of")||void 0===e.to&&(r="to")){let e={instancePath:t+"/allow/recipient",schemaPath:"#/properties/allow/oneOf/1/properties/recipient/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===o?o=[e]:o.push(e),s++}else{let r=s;for(let r in e)if("of"!==r&&"to"!==r){let e={instancePath:t+"/allow/recipient",schemaPath:"#/properties/allow/oneOf/1/properties/recipient/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"};null===o?o=[e]:o.push(e),s++;break}if(r===s){if(void 0!==e.of){let r=s;if("string"!=typeof e.of){let e={instancePath:t+"/allow/recipient/of",schemaPath:"#/properties/allow/oneOf/1/properties/recipient/properties/of/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}var a=r===s}else a=!0;if(a)if(void 0!==e.to){let r=e.to,n=s;if(s===n)if(Array.isArray(r))if(r.length<1){let e={instancePath:t+"/allow/recipient/to",schemaPath:"#/properties/allow/oneOf/1/properties/recipient/properties/to/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===o?o=[e]:o.push(e),s++}else{let e=r.length;for(let n=0;n<e;n++){let e=r[n],i=s;if("string"!=typeof e){let e={instancePath:t+"/allow/recipient/to/"+n,schemaPath:"#/properties/allow/oneOf/1/properties/recipient/properties/to/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}if("write"!==e){let e={instancePath:t+"/allow/recipient/to/"+n,schemaPath:"#/properties/allow/oneOf/1/properties/recipient/properties/to/items/enum",keyword:"enum",params:{allowedValues:YF.properties.allow.oneOf[1].properties.recipient.properties.to.items.enum},message:"must be equal to one of the allowed values"};null===o?o=[e]:o.push(e),s++}if(i!==s)break}}else{let e={instancePath:t+"/allow/recipient/to",schemaPath:"#/properties/allow/oneOf/1/properties/recipient/properties/to/type",keyword:"type",params:{type:"array"},message:"must be array"};null===o?o=[e]:o.push(e),s++}a=n===s}else a=!0}}}else{let e={instancePath:t+"/allow/recipient",schemaPath:"#/properties/allow/oneOf/1/properties/recipient/type",keyword:"type",params:{type:"object"},message:"must be object"};null===o?o=[e]:o.push(e),s++}}}else{let e={instancePath:t+"/allow",schemaPath:"#/properties/allow/oneOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};null===o?o=[e]:o.push(e),s++}var u;if((u=d===s)&&f?(f=!1,c=[c,1]):u&&(f=!0,c=1),!f){let e={instancePath:t+"/allow",schemaPath:"#/properties/allow/oneOf",keyword:"oneOf",params:{passingSchemas:c},message:"must match exactly one schema in oneOf"};return null===o?o=[e]:o.push(e),s++,Fs.errors=o,!1}s=i,null!==o&&(i?o.length=i:o=null);var h=n===s}else h=!0;if(h)if(void 0!==e.records){let r=e.records,n=s;if(s===n){if(!r||"object"!=typeof r||Array.isArray(r))return Fs.errors=[{instancePath:t+"/records",schemaPath:"#/properties/records/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;for(let e in r)if(YS.test(e)){let n=s;if(KS.validate(r[e],{instancePath:t+"/records/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:r,parentDataProperty:e,rootData:i})||(o=null===o?KS.validate.errors:o.concat(KS.validate.errors),s=o.length),n!==s)break}}h=n===s}else h=!0}}}return Fs.errors=o,0===s}function Ro(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:i=e}={}){let o=null,s=0;if(0===s){if(!e||"object"!=typeof e||Array.isArray(e))return Ro.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.labels&&(r="labels")||void 0===e.records&&(r="records"))return Ro.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{let r=s;for(let r in e)if("labels"!==r&&"records"!==r)return Ro.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(r===s){if(void 0!==e.labels){let r=e.labels,n=s;if(s===n){if(!r||"object"!=typeof r||Array.isArray(r))return Ro.errors=[{instancePath:t+"/labels",schemaPath:"#/properties/labels/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;for(let e in r)if(YS.test(e)){let n=r[e],i=s;if(s===i){if(!n||"object"!=typeof n||Array.isArray(n))return Ro.errors=[{instancePath:t+"/labels/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/labels/patternProperties/.*/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r=s;for(let r in n)if("schema"!==r)return Ro.errors=[{instancePath:t+"/labels/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/labels/patternProperties/.*/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(r===s&&void 0!==n.schema&&"string"!=typeof n.schema)return Ro.errors=[{instancePath:t+"/labels/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/schema",schemaPath:"#/properties/labels/patternProperties/.*/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1}}if(i!==s)break}}var a=n===s}else a=!0;if(a)if(void 0!==e.records){let r=e.records,n=s;if(s===n){if(!r||"object"!=typeof r||Array.isArray(r))return Ro.errors=[{instancePath:t+"/records",schemaPath:"#/properties/records/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;for(let e in r)if(YS.test(e)){let n=s;if(Fs(r[e],{instancePath:t+"/records/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:r,parentDataProperty:e,rootData:i})||(o=null===o?Fs.errors:o.concat(Fs.errors),s=o.length),n!==s)break}}a=n===s}else a=!0}}}}return Ro.errors=o,0===s}var $ge=Fs,Hge=oi,JF={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/protocols-configure.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","protocol","dateCreated","definition"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Configure"],type:"string"},protocol:{type:"string"},dateCreated:{type:"string"},definition:{$ref:"https://identity.foundation/dwn/json-schemas/protocol-definition.json"}}}}};function oi(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:i=e}={}){let o=null,s=0;if(0===s){if(!e||"object"!=typeof e||Array.isArray(e))return oi.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.authorization&&(r="authorization")||void 0===e.descriptor&&(r="descriptor"))return oi.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{let r=s;for(let r in e)if("authorization"!==r&&"descriptor"!==r)return oi.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(r===s){if(void 0!==e.authorization){let r=e.authorization,n=s;if(s==s){if(!r||"object"!=typeof r||Array.isArray(r))return oi.errors=[{instancePath:t+"/authorization",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e=s;for(let e in r)if("payload"!==e&&"signatures"!==e)return oi.errors=[{instancePath:t+"/authorization",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"}],!1;if(e===s){if(void 0!==r.payload){let e=s;if("string"!=typeof r.payload)return oi.errors=[{instancePath:t+"/authorization/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/payload/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=e===s}else a=!0;if(a)if(void 0!==r.signatures){let e=r.signatures,n=s;if(s===n){if(!Array.isArray(e))return oi.errors=[{instancePath:t+"/authorization/signatures",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(e.length<1)return oi.errors=[{instancePath:t+"/authorization/signatures",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{let r=e.length;for(let n=0;n<r;n++){let r=e[n],i=s;if(s===i){if(!r||"object"!=typeof r||Array.isArray(r))return oi.errors=[{instancePath:t+"/authorization/signatures/"+n,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==r.protected){let e=s;if("string"!=typeof r.protected)return oi.errors=[{instancePath:t+"/authorization/signatures/"+n+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/items/properties/protected/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=e===s}else u=!0;if(u)if(void 0!==r.signature){let e=s;if("string"!=typeof r.signature)return oi.errors=[{instancePath:t+"/authorization/signatures/"+n+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/items/properties/signature/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=e===s}else u=!0}if(i!==s)break}}}a=n===s}else a=!0}}}var h=n===s}else h=!0;if(h)if(void 0!==e.descriptor){let r=e.descriptor,n=s;if(s===n){if(!r||"object"!=typeof r||Array.isArray(r))return oi.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===r.interface&&(e="interface")||void 0===r.method&&(e="method")||void 0===r.protocol&&(e="protocol")||void 0===r.dateCreated&&(e="dateCreated")||void 0===r.definition&&(e="definition"))return oi.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;{let e=s;for(let e in r)if("interface"!==e&&"method"!==e&&"protocol"!==e&&"dateCreated"!==e&&"definition"!==e)return oi.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"}],!1;if(e===s){if(void 0!==r.interface){let e=r.interface,n=s;if("string"!=typeof e)return oi.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==e)return oi.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:JF.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var f=n===s}else f=!0;if(f){if(void 0!==r.method){let e=r.method,n=s;if("string"!=typeof e)return oi.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Configure"!==e)return oi.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:JF.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;f=n===s}else f=!0;if(f){if(void 0!==r.protocol){let e=s;if("string"!=typeof r.protocol)return oi.errors=[{instancePath:t+"/descriptor/protocol",schemaPath:"#/properties/descriptor/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;f=e===s}else f=!0;if(f){if(void 0!==r.dateCreated){let e=s;if("string"!=typeof r.dateCreated)return oi.errors=[{instancePath:t+"/descriptor/dateCreated",schemaPath:"#/properties/descriptor/properties/dateCreated/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;f=e===s}else f=!0;if(f)if(void 0!==r.definition){let e=s;Ro(r.definition,{instancePath:t+"/descriptor/definition",parentData:r,parentDataProperty:"definition",rootData:i})||(o=null===o?Ro.errors:o.concat(Ro.errors),s=o.length),f=e===s}else f=!0}}}}}}}h=n===s}else h=!0}}}}return oi.errors=o,0===s}var Wge=Pr,XF={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/protocols-query.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","dateCreated"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Query"],type:"string"},dateCreated:{type:"string"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"}}}}}}};function Pr(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:i=e}={}){if(!e||"object"!=typeof e||Array.isArray(e))return Pr.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.authorization&&(r="authorization")||void 0===e.descriptor&&(r="descriptor"))return Pr.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{let r=0;for(let r in e)if("authorization"!==r&&"descriptor"!==r)return Pr.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(0===r){if(void 0!==e.authorization){let r=e.authorization,n=0;if(!r||"object"!=typeof r||Array.isArray(r))return Pr.errors=[{instancePath:t+"/authorization",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e=0;for(let e in r)if("payload"!==e&&"signatures"!==e)return Pr.errors=[{instancePath:t+"/authorization",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"}],!1;if(0===e){if(void 0!==r.payload){let e=0;if("string"!=typeof r.payload)return Pr.errors=[{instancePath:t+"/authorization/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/payload/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=0===e}else o=!0;if(o)if(void 0!==r.signatures){let e=r.signatures,n=0;if(0===n){if(!Array.isArray(e))return Pr.errors=[{instancePath:t+"/authorization/signatures",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(e.length<1)return Pr.errors=[{instancePath:t+"/authorization/signatures",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{let r=e.length;for(let n=0;n<r;n++){let r=e[n],i=0;if(0===i){if(!r||"object"!=typeof r||Array.isArray(r))return Pr.errors=[{instancePath:t+"/authorization/signatures/"+n,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==r.protected){let e=0;if("string"!=typeof r.protected)return Pr.errors=[{instancePath:t+"/authorization/signatures/"+n+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/items/properties/protected/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var s=0===e}else s=!0;if(s)if(void 0!==r.signature){let e=0;if("string"!=typeof r.signature)return Pr.errors=[{instancePath:t+"/authorization/signatures/"+n+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/items/properties/signature/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;s=0===e}else s=!0}if(0!==i)break}}}o=0===n}else o=!0}}var a=0===n}else a=!0;if(a)if(void 0!==e.descriptor){let r=e.descriptor,n=0;if(0===n){if(!r||"object"!=typeof r||Array.isArray(r))return Pr.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===r.interface&&(e="interface")||void 0===r.method&&(e="method")||void 0===r.dateCreated&&(e="dateCreated"))return Pr.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;{let e=0;for(let e in r)if("interface"!==e&&"method"!==e&&"dateCreated"!==e&&"filter"!==e)return Pr.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"}],!1;if(0===e){if(void 0!==r.interface){let e=r.interface,n=0;if("string"!=typeof e)return Pr.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==e)return Pr.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:XF.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var u=0===n}else u=!0;if(u){if(void 0!==r.method){let e=r.method,n=0;if("string"!=typeof e)return Pr.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==e)return Pr.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:XF.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;u=0===n}else u=!0;if(u){if(void 0!==r.dateCreated){let e=0;if("string"!=typeof r.dateCreated)return Pr.errors=[{instancePath:t+"/descriptor/dateCreated",schemaPath:"#/properties/descriptor/properties/dateCreated/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=0===e}else u=!0;if(u)if(void 0!==r.filter){let e=r.filter,n=0;if(0===n){if(!e||"object"!=typeof e||Array.isArray(e))return Pr.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(e).length<1)return Pr.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let r=0;for(let r in e)if("protocol"!==r&&"recipient"!==r)return Pr.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(0===r){if(void 0!==e.protocol){let r=0;if("string"!=typeof e.protocol)return Pr.errors=[{instancePath:t+"/descriptor/filter/protocol",schemaPath:"#/properties/descriptor/properties/filter/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var h=0===r}else h=!0;if(h)if(void 0!==e.recipient){let r=e.recipient,n=0;if("string"!=typeof r)return Pr.errors=[{instancePath:t+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Df.test(r))return Pr.errors=[{instancePath:t+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1;h=0===n}else h=!0}}}u=0===n}else u=!0}}}}}}a=0===n}else a=!0}}}return Pr.errors=null,!0}var Vge=si,QF={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-read.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","date","recordId"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Read"],type:"string"},date:{type:"string"},recordId:{type:"string"}}}}};function si(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:i=e}={}){if(!e||"object"!=typeof e||Array.isArray(e))return si.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.descriptor&&(r="descriptor"))return si.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{let r=0;for(let r in e)if("authorization"!==r&&"descriptor"!==r)return si.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(0===r){if(void 0!==e.authorization){let r=e.authorization,n=0;if(!r||"object"!=typeof r||Array.isArray(r))return si.errors=[{instancePath:t+"/authorization",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e=0;for(let e in r)if("payload"!==e&&"signatures"!==e)return si.errors=[{instancePath:t+"/authorization",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"}],!1;if(0===e){if(void 0!==r.payload){let e=0;if("string"!=typeof r.payload)return si.errors=[{instancePath:t+"/authorization/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/payload/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=0===e}else o=!0;if(o)if(void 0!==r.signatures){let e=r.signatures,n=0;if(0===n){if(!Array.isArray(e))return si.errors=[{instancePath:t+"/authorization/signatures",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(e.length<1)return si.errors=[{instancePath:t+"/authorization/signatures",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{let r=e.length;for(let n=0;n<r;n++){let r=e[n],i=0;if(0===i){if(!r||"object"!=typeof r||Array.isArray(r))return si.errors=[{instancePath:t+"/authorization/signatures/"+n,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==r.protected){let e=0;if("string"!=typeof r.protected)return si.errors=[{instancePath:t+"/authorization/signatures/"+n+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/items/properties/protected/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var s=0===e}else s=!0;if(s)if(void 0!==r.signature){let e=0;if("string"!=typeof r.signature)return si.errors=[{instancePath:t+"/authorization/signatures/"+n+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jws.json/properties/signatures/items/properties/signature/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;s=0===e}else s=!0}if(0!==i)break}}}o=0===n}else o=!0}}var a=0===n}else a=!0;if(a)if(void 0!==e.descriptor){let r=e.descriptor,n=0;if(0===n){if(!r||"object"!=typeof r||Array.isArray(r))return si.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===r.interface&&(e="interface")||void 0===r.method&&(e="method")||void 0===r.date&&(e="date")||void 0===r.recordId&&(e="recordId"))return si.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;{let e=0;for(let e in r)if("interface"!==e&&"method"!==e&&"date"!==e&&"recordId"!==e)return si.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"}],!1;if(0===e){if(void 0!==r.interface){let e=r.interface,n=0;if("string"!=typeof e)return si.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==e)return si.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:QF.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var u=0===n}else u=!0;if(u){if(void 0!==r.method){let e=r.method,n=0;if("string"!=typeof e)return si.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Read"!==e)return si.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:QF.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;u=0===n}else u=!0;if(u){if(void 0!==r.date){let e=0;if("string"!=typeof r.date)return si.errors=[{instancePath:t+"/descriptor/date",schemaPath:"#/properties/descriptor/properties/date/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=0===e}else u=!0;if(u)if(void 0!==r.recordId){let e=0;if("string"!=typeof r.recordId)return si.errors=[{instancePath:t+"/descriptor/recordId",schemaPath:"#/properties/descriptor/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=0===e}else u=!0}}}}}}a=0===n}else a=!0}}}return si.errors=null,!0}var Kge=Ki;function c2(e,t){let r=JS[e];if(!r)throw new Error(`schema for ${e} not found.`);if(r(t),!r.errors)return;let[n]=r.errors,{instancePath:i,message:o}=n;throw i||(i=e),new Error(`${i}: ${o}`)}var sn=(n=sn||{},n.Hooks="Hooks",n.Permissions="Permissions",n.Protocols="Protocols",n.Records="Records",n),qn=(p=qn||{},p.Configure="Configure",p.Grant="Grant",p.Query="Query",p.Read="Read",p.Request="Request",p.Write="Write",p.Delete="Delete",p),Ye=class{constructor(e){this.message=e,this.authorizationPayload=yi.decodePlainObjectPayload(e.authorization),this.author=Ye.getAuthor(e)}toJSON(){return this.message}static validateJsonSchema(e){c2(e.descriptor.interface+e.descriptor.method,e)}static getAuthor(e){return yi.getSignerDid(e.authorization.signatures[0])}static async getCid(e){let t={...e};return void 0!==t.encodedData&&delete t.encodedData,await Ss(t)}static async compareCid(e,t){return Zh(await Ye.getCid(e),await Ye.getCid(t))}static async isCidLarger(e,t){return await Ye.compareCid(e,t)>0}static async getMessageWithLargestCid(e){let t;for(let r of e)(void 0===t||await Ye.isCidLarger(r,t))&&(t=r);return t}static async signAsAuthorization(e,t){let r={descriptorCid:await Ss(e)},n=JSON.stringify(r),i=(new TextEncoder).encode(n);return(await If.create(i,[t])).getJws()}static async getNewestMessage(e){let t;for(let r of e)(void 0===t||await Ye.isNewer(r,t))&&(t=r);return t}static async isNewer(e,t){return await Ye.compareModifiedTime(e,t)>0}static async isOlder(e,t){return await Ye.compareModifiedTime(e,t)<0}static async compareModifiedTime(e,t){return e.descriptor.dateModified>t.descriptor.dateModified?1:e.descriptor.dateModified<t.descriptor.dateModified?-1:Ye.compareCid(e,t)}},p,n;function as(e){Object.keys(e).forEach((t=>{void 0===e[t]?delete e[t]:"object"==typeof e[t]&&as(e[t])}))}x(),x(),x(),x();var s$=wt(i5(),1),P0=class{constructor(e){this.timeToLiveInSeconds=e,this.cache=new s$.default({max:1e5,ttl:1e3*e})}async set(e,t){try{this.cache.set(e,t)}catch{}}async get(e){return this.cache.get(e)}},D0=class{constructor(e,t){this.jws=e,this.cache=t||new P0(600)}async verify(e){let t=[];for(let r of this.jws.signatures){let n,i=`${r.protected}.${this.jws.payload}.${r.signature}`,o=yi.getKid(r),s=await D0.getPublicKey(o,e),a=await this.cache.get(i);void 0===a?(n=await yi.verifySignature(this.jws.payload,r,s),await this.cache.set(i,n)):n=a;let u=yi.extractDid(o);if(!n)throw new Error(`signature verification failed for ${u}`);t.push(u)}return{signers:t}}static async getPublicKey(e,t){let r,n=yi.extractDid(e),{didDocument:i}=await t.resolve(n),{verificationMethod:o=[]}=i||{};for(let t of o)if(e.endsWith(t.id)){r=t;break}if(!r)throw new Error("public key needed to verify signature not found in DID Document");c2("JwkVerificationMethod",r);let{publicKeyJwk:s}=r;return s}};async function B0(e,t,r){await Of(t.message.authorization,r),await Gy(e,t)}async function fo(e,t){if(1!==e.authorization.signatures.length)throw new Error("expected no more than 1 signature for authorization");let r=yi.decodePlainObjectPayload(e.authorization),{descriptorCid:n}=r,i=await Ss(e.descriptor);if(n!==i)throw new Error(`provided descriptorCid ${n} does not match expected CID ${i}`);let o=t?.allowedProperties??new Set,s={...r};delete s.descriptorCid;for(let e in s){if(!o.has(e))throw new Error(`${e} not allowed in auth payload.`);try{MI(r[e])}catch{throw new Error(`${e} must be a valid CID`)}}return r}async function Of(e,t){await new D0(e).verify(t)}async function Gy(e,t){if(t.author!==e)throw new Error("message failed authorization, permission grant check not yet implemented")}var n5=(e=>(e.CreatedAscending="createdAscending",e.CreatedDescending="createdDescending",e.PublishedAscending="publishedAscending",e.PublishedDescending="publishedDescending",e))(n5||{}),jn=class extends Ye{constructor(e){super(e)}static async parse(e){return await fo(e),new jn(e)}static async create(e){let t={interface:"Records",method:"Query",dateCreated:e.dateCreated??wn(),filter:e.filter,dateSort:e.dateSort};as(t);let r={descriptor:t,authorization:await Ye.signAsAuthorization(t,e.authorizationSignatureInput)};return Ye.validateJsonSchema(r),new jn(r)}async authorize(e){if(this.author===e)return;let t=this.message.descriptor.filter.recipient;if(void 0!==t&&t!==this.author)throw new Error(`${this.author} is not allowed to query records intended for another recipient: ${t}`)}static getExactCriteria(e){let t={...e};return delete t.dateCreated,as(t),t}static getRangeCriteria(e){return e.dateCreated?{dateCreated:e.dateCreated}:{}}};x();var kW=wt(X5(),1),tl=class{static async toBytes(e){return new Promise(((t,r)=>{let n=[];e.on("data",(e=>{n.push(e)})),e.on("end",(()=>{let e=tl.concatenateArrayOfBytes(n);t(e)})),e.on("error",r)}))}static concatenateArrayOfBytes(e){let t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return r}static fromBytes(e){return new kW.Readable({read(t){this.push(e),this.push(null)}})}static fromObject(e){let t=Ct.objectToBytes(e);return tl.fromBytes(t)}};x();var tT=wt(jW(),1);wv(),x();var H0=class{static getMethodSpecificId(e){let t=e.indexOf(":",4);return e.substring(t+1)}static validate(e){if("string"!=typeof e)throw new Error(`DID is not string: ${e}`);if(!/^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(\/[^#?]*)?([?][^#]*)?(#.*)?$/.test(e))throw new TypeError(`DID is not a valid DID: ${e}`)}static getMethodName(e){let t=e.indexOf(":",4);return e.substring(4,t)}},rl=class{method(){return"key"}static getMulticodecSize(e){let t=0;for(;;){let r=e[t];if(t++,128!=(128&r))break}return t}async resolve(e){let[t,r,n]=e.split(":",3);try{let t,r=go.decode(n),i=tT.default.decode(r),o=rl.getMulticodecSize(r),s=r.slice(o),a=[];if(237===i)a.push("https://w3id.org/security/suites/ed25519-2020/v1"),t=await Uy.publicKeyToJwk(s);else{if(231!==i)throw Error(`key type of multicodec ${i} is not supported`);t=await f2.publicKeyToJwk(s)}let u=`${e}#${n}`;return{"@context":"https://w3id.org/did-resolution/v1",didDocument:{"@context":["https://www.w3.org/ns/did/v1","https://w3id.org/security/suites/jws-2020/v1",...a],id:e,verificationMethod:[{id:u,type:"JsonWebKey2020",controller:e,publicKeyJwk:t}],authentication:[u],assertionMethod:[u],capabilityDelegation:[u],capabilityInvocation:[u]},didDocumentMetadata:{},didResolutionMetadata:{}}}catch{return{didDocument:null,didDocumentMetadata:{},didResolutionMetadata:{error:"invalidDid"}}}}static async generate(){let{publicJwk:e,privateJwk:t}=await Uy.generateKeyPair(),r=tT.default.encode(237),n=Ct.base64UrlToBytes(e.x),i=new Uint8Array(r.length+n.byteLength);i.set(r,0),i.set(n,r.length);let o=`did:key:${go.encode(i)}`;return{did:o,keyId:rl.getKeyId(o),keyPair:{publicJwk:e,privateJwk:t}}}static getKeyId(e){return`${e}#${H0.getMethodSpecificId(e)}`}};x();var $W=wt(FW(),1),D2e=globalThis.fetch??$W.default,rg=class{constructor(e="https://discover.did.msidentity.com/1.0/identifiers/"){this.resolutionEndpoint=e}method(){return"ion"}async resolve(e){let t=new URL("./"+e,this.resolutionEndpoint).toString(),r=await D2e(t);if(200!==r.status)throw new Error(`unable to resolve ${e}, got http status ${r.status}`);return await r.json()}};x();var ig=class{constructor(e,t){this.cache=t||new P0(600),(void 0===e||0===e.length)&&(e=[new rg,new rl]),this.didResolvers=new Map;for(let t of e)this.didResolvers.set(t.method(),t)}async resolve(e){H0.validate(e);let t=e.split(":",3)[1],r=this.didResolvers.get(t);if(!r)throw new Error(`${t} DID method not supported`);let n=await this.cache.get(e),i=n??await r.resolve(e);void 0===n&&await this.cache.set(e,i);let{didDocument:o,didResolutionMetadata:s}=i;if(!o||s?.error){let{error:t}=s,r=`Failed to resolve DID ${e}.`;throw r+=t?` Error: ${t}`:"",new Error(r)}return i}};x(),x(),x();var VV=wt(WV(),1),rp=class{constructor(e){this.db=new VV.Level(e,{keyEncoding:"utf8",valueEncoding:"binary"})}async open(){for(;"opening"===this.db.status||"closing"===this.db.status;)await qx(200);if("open"!==this.db.status)return this.db.open()}async close(){for(;"opening"===this.db.status||"closing"===this.db.status;)await qx(200);if("closed"!==this.db.status)return this.db.close()}put(e,t,r){return this.db.put(e.toString(),t)}async get(e,t){try{return await this.db.get(e.toString())}catch(e){if("LEVEL_NOT_FOUND"===e.code)return;throw e}}async has(e,t){return!!await this.get(e)}delete(e,t){return this.db.del(e.toString())}async*putMany(e,t){for await(let r of e)await this.put(r.key,r.value,t),yield r}async*getMany(e,t){for await(let t of e)yield this.get(t)}async*deleteMany(e,t){for await(let r of e)await this.delete(r,t),yield r}clear(){return this.db.clear()}batch(){throw new Error("not implemented")}query(e,t){throw new Error("not implemented")}queryKeys(e,t){throw new Error("not implemented")}};bs(),x();var I_=wt(Fn(),1);bs(),x();var _G=wt(Fn(),1);x(),bs(),x();var D_e=new TextDecoder;function VT(e,t){let r=0;for(let n=0;;n+=7){if(n>=64)throw new Error("protobuf: varint overflow");if(t>=e.length)throw new Error("protobuf: unexpected end of data");let i=e[t++];if(r+=n<28?(127&i)<<n:(127&i)*2**n,i<128)break}return[r,t]}function y_(e,t){let r;[r,t]=VT(e,t);let n=t+r;if(r<0||n<0)throw new Error("protobuf: invalid length");if(n>e.length)throw new Error("protobuf: unexpected end of data");return[e.subarray(t,n),n]}function KV(e,t){let r;return[r,t]=VT(e,t),[7&r,r>>3,t]}function B_e(e){let t={},r=e.length,n=0;for(;n<r;){let r,i;if([r,i,n]=KV(e,n),1===i){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(2!==r)throw new Error(`protobuf: (PBLink) wrong wireType (${r}) for Hash`);if(void 0!==t.Name)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,n]=y_(e,n)}else if(2===i){if(void 0!==t.Name)throw new Error("protobuf: (PBLink) duplicate Name section");if(2!==r)throw new Error(`protobuf: (PBLink) wrong wireType (${r}) for Name`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let i;[i,n]=y_(e,n),t.Name=D_e.decode(i)}else{if(3!==i)throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${i}`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(0!==r)throw new Error(`protobuf: (PBLink) wrong wireType (${r}) for Tsize`);[t.Tsize,n]=VT(e,n)}}if(n>r)throw new Error("protobuf: (PBLink) unexpected end of data");return t}function GV(e){let t,r,n=e.length,i=0,o=!1;for(;i<n;){let n,s;if([n,s,i]=KV(e,i),2!==n)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${n}`);if(1===s){if(r)throw new Error("protobuf: (PBNode) duplicate Data section");[r,i]=y_(e,i),t&&(o=!0)}else{if(2!==s)throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${s}`);{if(o)throw new Error("protobuf: (PBNode) duplicate Links section");let r;t||(t=[]),[r,i]=y_(e,i),t.push(B_e(r))}}}if(i>n)throw new Error("protobuf: (PBNode) unexpected end of data");let s={};return r&&(s.Data=r),s.Links=t||[],s}x();var Dje=new TextEncoder,Bje=2**32,Oje=2**31;x(),bs();var qje=new TextEncoder,g_=112;function dl(e){let t=GV(e),r={};return t.Data&&(r.Data=t.Data),t.Links&&(r.Links=t.Links.map((e=>{let t={};try{t.Hash=Xe.decode(e.Hash)}catch{}if(!t.Hash)throw new Error("Invalid Hash field found in link, expected CID");return void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t}))),r}x(),bs();var O_e=42;function C_e(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return Xe.decode(e.subarray(1))}var YV={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};YV.tags[O_e]=C_e;var v_=113,b_=e=>Tp(e,YV);__(),JT(),x();var k_=wt(Fn(),1);x();var E_=wt(Fn(),1);x();var Vf=wt(kK(),1),ip=Vf.default.Reader,lA=Vf.default.Writer,ot=Vf.default.util,Sn=Vf.default.roots["ipfs-unixfs"]||(Vf.default.roots["ipfs-unixfs"]={}),IK=Sn.Data=(()=>{function e(e){if(this.blocksizes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.Type=0,e.prototype.Data=ot.newBuffer([]),e.prototype.filesize=ot.Long?ot.Long.fromBits(0,0,!0):0,e.prototype.blocksizes=ot.emptyArray,e.prototype.hashType=ot.Long?ot.Long.fromBits(0,0,!0):0,e.prototype.fanout=ot.Long?ot.Long.fromBits(0,0,!0):0,e.prototype.mode=0,e.prototype.mtime=null,e.encode=function(e,t){if(t||(t=lA.create()),t.uint32(8).int32(e.Type),null!=e.Data&&Object.hasOwnProperty.call(e,"Data")&&t.uint32(18).bytes(e.Data),null!=e.filesize&&Object.hasOwnProperty.call(e,"filesize")&&t.uint32(24).uint64(e.filesize),null!=e.blocksizes&&e.blocksizes.length)for(var r=0;r<e.blocksizes.length;++r)t.uint32(32).uint64(e.blocksizes[r]);return null!=e.hashType&&Object.hasOwnProperty.call(e,"hashType")&&t.uint32(40).uint64(e.hashType),null!=e.fanout&&Object.hasOwnProperty.call(e,"fanout")&&t.uint32(48).uint64(e.fanout),null!=e.mode&&Object.hasOwnProperty.call(e,"mode")&&t.uint32(56).uint32(e.mode),null!=e.mtime&&Object.hasOwnProperty.call(e,"mtime")&&Sn.UnixTime.encode(e.mtime,t.uint32(66).fork()).ldelim(),t},e.decode=function(e,t){e instanceof ip||(e=ip.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Sn.Data;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Type=e.int32();break;case 2:n.Data=e.bytes();break;case 3:n.filesize=e.uint64();break;case 4:if(n.blocksizes&&n.blocksizes.length||(n.blocksizes=[]),2==(7&i))for(var o=e.uint32()+e.pos;e.pos<o;)n.blocksizes.push(e.uint64());else n.blocksizes.push(e.uint64());break;case 5:n.hashType=e.uint64();break;case 6:n.fanout=e.uint64();break;case 7:n.mode=e.uint32();break;case 8:n.mtime=Sn.UnixTime.decode(e,e.uint32());break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Type"))throw ot.ProtocolError("missing required 'Type'",{instance:n});return n},e.fromObject=function(e){if(e instanceof Sn.Data)return e;var t=new Sn.Data;switch(e.Type){case"Raw":case 0:t.Type=0;break;case"Directory":case 1:t.Type=1;break;case"File":case 2:t.Type=2;break;case"Metadata":case 3:t.Type=3;break;case"Symlink":case 4:t.Type=4;break;case"HAMTShard":case 5:t.Type=5}if(null!=e.Data&&("string"==typeof e.Data?ot.base64.decode(e.Data,t.Data=ot.newBuffer(ot.base64.length(e.Data)),0):e.Data.length&&(t.Data=e.Data)),null!=e.filesize&&(ot.Long?(t.filesize=ot.Long.fromValue(e.filesize)).unsigned=!0:"string"==typeof e.filesize?t.filesize=parseInt(e.filesize,10):"number"==typeof e.filesize?t.filesize=e.filesize:"object"==typeof e.filesize&&(t.filesize=new ot.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0))),e.blocksizes){if(!Array.isArray(e.blocksizes))throw TypeError(".Data.blocksizes: array expected");t.blocksizes=[];for(var r=0;r<e.blocksizes.length;++r)ot.Long?(t.blocksizes[r]=ot.Long.fromValue(e.blocksizes[r])).unsigned=!0:"string"==typeof e.blocksizes[r]?t.blocksizes[r]=parseInt(e.blocksizes[r],10):"number"==typeof e.blocksizes[r]?t.blocksizes[r]=e.blocksizes[r]:"object"==typeof e.blocksizes[r]&&(t.blocksizes[r]=new ot.LongBits(e.blocksizes[r].low>>>0,e.blocksizes[r].high>>>0).toNumber(!0))}if(null!=e.hashType&&(ot.Long?(t.hashType=ot.Long.fromValue(e.hashType)).unsigned=!0:"string"==typeof e.hashType?t.hashType=parseInt(e.hashType,10):"number"==typeof e.hashType?t.hashType=e.hashType:"object"==typeof e.hashType&&(t.hashType=new ot.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0))),null!=e.fanout&&(ot.Long?(t.fanout=ot.Long.fromValue(e.fanout)).unsigned=!0:"string"==typeof e.fanout?t.fanout=parseInt(e.fanout,10):"number"==typeof e.fanout?t.fanout=e.fanout:"object"==typeof e.fanout&&(t.fanout=new ot.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0))),null!=e.mode&&(t.mode=e.mode>>>0),null!=e.mtime){if("object"!=typeof e.mtime)throw TypeError(".Data.mtime: object expected");t.mtime=Sn.UnixTime.fromObject(e.mtime)}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.blocksizes=[]),t.defaults){if(r.Type=t.enums===String?"Raw":0,t.bytes===String?r.Data="":(r.Data=[],t.bytes!==Array&&(r.Data=ot.newBuffer(r.Data))),ot.Long){var n=new ot.Long(0,0,!0);r.filesize=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.filesize=t.longs===String?"0":0;ot.Long?(n=new ot.Long(0,0,!0),r.hashType=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.hashType=t.longs===String?"0":0,ot.Long?(n=new ot.Long(0,0,!0),r.fanout=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.fanout=t.longs===String?"0":0,r.mode=0,r.mtime=null}if(null!=e.Type&&e.hasOwnProperty("Type")&&(r.Type=t.enums===String?Sn.Data.DataType[e.Type]:e.Type),null!=e.Data&&e.hasOwnProperty("Data")&&(r.Data=t.bytes===String?ot.base64.encode(e.Data,0,e.Data.length):t.bytes===Array?Array.prototype.slice.call(e.Data):e.Data),null!=e.filesize&&e.hasOwnProperty("filesize")&&("number"==typeof e.filesize?r.filesize=t.longs===String?String(e.filesize):e.filesize:r.filesize=t.longs===String?ot.Long.prototype.toString.call(e.filesize):t.longs===Number?new ot.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0):e.filesize),e.blocksizes&&e.blocksizes.length){r.blocksizes=[];for(var i=0;i<e.blocksizes.length;++i)"number"==typeof e.blocksizes[i]?r.blocksizes[i]=t.longs===String?String(e.blocksizes[i]):e.blocksizes[i]:r.blocksizes[i]=t.longs===String?ot.Long.prototype.toString.call(e.blocksizes[i]):t.longs===Number?new ot.LongBits(e.blocksizes[i].low>>>0,e.blocksizes[i].high>>>0).toNumber(!0):e.blocksizes[i]}return null!=e.hashType&&e.hasOwnProperty("hashType")&&("number"==typeof e.hashType?r.hashType=t.longs===String?String(e.hashType):e.hashType:r.hashType=t.longs===String?ot.Long.prototype.toString.call(e.hashType):t.longs===Number?new ot.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0):e.hashType),null!=e.fanout&&e.hasOwnProperty("fanout")&&("number"==typeof e.fanout?r.fanout=t.longs===String?String(e.fanout):e.fanout:r.fanout=t.longs===String?ot.Long.prototype.toString.call(e.fanout):t.longs===Number?new ot.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0):e.fanout),null!=e.mode&&e.hasOwnProperty("mode")&&(r.mode=e.mode),null!=e.mtime&&e.hasOwnProperty("mtime")&&(r.mtime=Sn.UnixTime.toObject(e.mtime,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Vf.default.util.toJSONOptions)},e.DataType=function(){let e={},t=Object.create(e);return t[e[0]="Raw"]=0,t[e[1]="Directory"]=1,t[e[2]="File"]=2,t[e[3]="Metadata"]=3,t[e[4]="Symlink"]=4,t[e[5]="HAMTShard"]=5,t}(),e})(),SUe=Sn.UnixTime=(()=>{function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.Seconds=ot.Long?ot.Long.fromBits(0,0,!1):0,e.prototype.FractionalNanoseconds=0,e.encode=function(e,t){return t||(t=lA.create()),t.uint32(8).int64(e.Seconds),null!=e.FractionalNanoseconds&&Object.hasOwnProperty.call(e,"FractionalNanoseconds")&&t.uint32(21).fixed32(e.FractionalNanoseconds),t},e.decode=function(e,t){e instanceof ip||(e=ip.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Sn.UnixTime;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Seconds=e.int64();break;case 2:n.FractionalNanoseconds=e.fixed32();break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Seconds"))throw ot.ProtocolError("missing required 'Seconds'",{instance:n});return n},e.fromObject=function(e){if(e instanceof Sn.UnixTime)return e;var t=new Sn.UnixTime;return null!=e.Seconds&&(ot.Long?(t.Seconds=ot.Long.fromValue(e.Seconds)).unsigned=!1:"string"==typeof e.Seconds?t.Seconds=parseInt(e.Seconds,10):"number"==typeof e.Seconds?t.Seconds=e.Seconds:"object"==typeof e.Seconds&&(t.Seconds=new ot.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber())),null!=e.FractionalNanoseconds&&(t.FractionalNanoseconds=e.FractionalNanoseconds>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(ot.Long){var n=new ot.Long(0,0,!1);r.Seconds=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.Seconds=t.longs===String?"0":0;r.FractionalNanoseconds=0}return null!=e.Seconds&&e.hasOwnProperty("Seconds")&&("number"==typeof e.Seconds?r.Seconds=t.longs===String?String(e.Seconds):e.Seconds:r.Seconds=t.longs===String?ot.Long.prototype.toString.call(e.Seconds):t.longs===Number?new ot.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber():e.Seconds),null!=e.FractionalNanoseconds&&e.hasOwnProperty("FractionalNanoseconds")&&(r.FractionalNanoseconds=e.FractionalNanoseconds),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Vf.default.util.toJSONOptions)},e})(),TUe=Sn.Metadata=(()=>{function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.MimeType="",e.encode=function(e,t){return t||(t=lA.create()),null!=e.MimeType&&Object.hasOwnProperty.call(e,"MimeType")&&t.uint32(10).string(e.MimeType),t},e.decode=function(e,t){e instanceof ip||(e=ip.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Sn.Metadata;e.pos<r;){var i=e.uint32();i>>>3==1?n.MimeType=e.string():e.skipType(7&i)}return n},e.fromObject=function(e){if(e instanceof Sn.Metadata)return e;var t=new Sn.Metadata;return null!=e.MimeType&&(t.MimeType=String(e.MimeType)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.MimeType=""),null!=e.MimeType&&e.hasOwnProperty("MimeType")&&(r.MimeType=e.MimeType),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Vf.default.util.toJSONOptions)},e})(),Kf=IK,PK=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],V_e=["directory","hamt-sharded-directory"],DK=parseInt("0644",8),BK=parseInt("0755",8);function hA(e){if(null!=e)return"number"==typeof e?4095&e:"0"===(e=e.toString()).substring(0,1)?4095&parseInt(e,8):4095&parseInt(e,10)}function OK(e){if(null==e)return;let t;if(null!=e.secs&&(t={secs:e.secs,nsecs:e.nsecs}),null!=e.Seconds&&(t={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(t={secs:e[0],nsecs:e[1]}),e instanceof Date){let r=e.getTime(),n=Math.floor(r/1e3);t={secs:n,nsecs:1e3*(r-1e3*n)}}if(Object.prototype.hasOwnProperty.call(t,"secs")){if(null!=t&&null!=t.nsecs&&(t.nsecs<0||t.nsecs>999999999))throw(0,E_.default)(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return t}}var gl=class{static unmarshal(e){let t=Kf.decode(e),r=Kf.toObject(t,{defaults:!1,arrays:!0,longs:Number,objects:!1}),n=new gl({type:PK[r.Type],data:r.Data,blockSizes:r.blocksizes,mode:r.mode,mtime:r.mtime?{secs:r.mtime.Seconds,nsecs:r.mtime.FractionalNanoseconds}:void 0});return n._originalMode=r.mode||0,n}constructor(e={type:"file"}){let{type:t,data:r,blockSizes:n,hashType:i,fanout:o,mtime:s,mode:a}=e;if(t&&!PK.includes(t))throw(0,E_.default)(new Error("Type: "+t+" is not valid"),"ERR_INVALID_TYPE");this.type=t||"file",this.data=r,this.hashType=i,this.fanout=o,this.blockSizes=n||[],this._originalMode=0,this.mode=hA(a),s&&(this.mtime=OK(s),this.mtime&&!this.mtime.nsecs&&(this.mtime.nsecs=0))}set mode(e){this._mode=this.isDirectory()?BK:DK;let t=hA(e);void 0!==t&&(this._mode=t)}get mode(){return this._mode}isDirectory(){return Boolean(this.type&&V_e.includes(this.type))}addBlockSize(e){this.blockSizes.push(e)}removeBlockSize(e){this.blockSizes.splice(e,1)}fileSize(){if(this.isDirectory())return 0;let e=0;return this.blockSizes.forEach((t=>{e+=t})),this.data&&(e+=this.data.length),e}marshal(){let e;switch(this.type){case"raw":e=Kf.DataType.Raw;break;case"directory":e=Kf.DataType.Directory;break;case"file":e=Kf.DataType.File;break;case"metadata":e=Kf.DataType.Metadata;break;case"symlink":e=Kf.DataType.Symlink;break;case"hamt-sharded-directory":e=Kf.DataType.HAMTShard;break;default:throw(0,E_.default)(new Error("Type: "+e+" is not valid"),"ERR_INVALID_TYPE")}let t,r,n=this.data;if((!this.data||!this.data.length)&&(n=void 0),null!=this.mode&&(t=4294963200&this._originalMode|(hA(this.mode)||0),t===DK&&!this.isDirectory()&&(t=void 0),t===BK&&this.isDirectory()&&(t=void 0)),null!=this.mtime){let e=OK(this.mtime);e&&(r={Seconds:e.secs,FractionalNanoseconds:e.nsecs},0===r.FractionalNanoseconds&&delete r.FractionalNanoseconds)}let i={Type:e,Data:n,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:t,mtime:r};return Kf.encode(i).finish()}};x();var A_=wt(oG(),1);x(),Hv(),S_();var MA=wt(hM(),1);function b3e(e){let t=new Array(4);for(let r=0;r<4;r++)t[r]=255&e,e>>=8;return new Uint8Array(t)}var wze=hd({name:"murmur3-32",code:35,encode:e=>b3e(MA.default.x86.hash32(e))}),sG=hd({name:"murmur3-128",code:34,encode:e=>Hc.fromHex(MA.default.x64.hash128(e))}),w3e=async function(e){return(await sG.encode(e)).slice(0,8).reverse()},_3e=(e,t,r)=>Promise.all(e.map((e=>{if(null==e.Name)throw new Error("Unexpected Link without a Name");if(2===e.Name.length){let n=parseInt(e.Name,16);return t._putObjectAt(n,new A_.Bucket({hash:r._options.hash,bits:r._options.bits},t,n))}return r.put(e.Name.substring(2),!0)}))),aG=e=>e.toString(16).toUpperCase().padStart(2,"0").substring(0,2),M3e=e=>{let t=e.bucket,r=[];for(;t._parent;)r.push(t),t=t._parent;return r.push(t),r.reverse()},fG=async(e,t,r,n,i)=>{if(!n){let e=(0,A_.createHAMT)({hashFn:w3e});n={rootBucket:e,hamtDepth:1,lastBucket:e}}await _3e(e.Links,n.lastBucket,n.rootBucket);let o=await n.rootBucket._findNewBucketAndPos(t),s=aG(o.pos),a=M3e(o);a.length>n.hamtDepth&&(n.lastBucket=a[n.hamtDepth],s=aG(n.lastBucket._posAtParent));let u=e.Links.find((e=>{if(null==e.Name)return!1;let r=e.Name.substring(0,2),n=e.Name.substring(2);return!(r!==s||n&&n!==t)}));return u?null!=u.Name&&u.Name.substring(2)===t?u.Hash:(n.hamtDepth++,e=dl(await r.get(u.Hash,i)),fG(e,t,r,n,i)):null},uG=fG;function x3e(e,t,r,n){let i=t+e.length;return r>=i||n<t?new Uint8Array(0):(n>=t&&n<i&&(e=e.slice(0,n-t)),r>=t&&r<i&&(e=e.slice(r-t)),e)}x(),x();var wc=x3e;x();var R_=wt(Fn(),1),E3e=(e,t,r)=>{if(t||(t=0),t<0)throw(0,R_.default)(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(t>e)throw(0,R_.default)(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(!r&&0!==r&&(r=e-t),r<0)throw(0,R_.default)(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");return t+r>e&&(r=e-t),{offset:t,length:r}},np=E3e,xA=wt(Fn(),1);async function*lG(e,t,r,n,i=0,o){if(t instanceof Uint8Array){let e=wc(t,i,r,n);return e.length&&(yield e),i+e.length}if(null==t.Data)throw(0,xA.default)(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");let s;try{s=gl.unmarshal(t.Data)}catch(e){throw(0,xA.default)(e,"ERR_NOT_UNIXFS")}if(s.data&&s.data.length){let e=wc(s.data,i,r,n);e.length&&(yield e),i+=s.data.length}let a=i;for(let u=0;u<t.Links.length;u++){let h=t.Links[u],f=i+s.blockSizes[u];if(r>=a&&r<f||n>a&&n<=f||r<a&&n>f){let t,s=await e.get(h.Hash,{signal:o.signal});switch(h.Hash.code){case g_:t=await dl(s);break;case w_:t=s;break;case v_:t=await b_(s);break;default:throw Error(`Unsupported codec: ${h.Hash.code}`)}for await(let s of lG(e,t,r,n,i,o))i+=s.length,yield s}i=f,a=f+1}}__();var S3e=(e,t,r,n,i,o,s)=>function(e={}){let n=r.fileSize();if(void 0===n)throw new Error("File was a directory");let{offset:i,length:o}=np(n,e.offset,e.length);return lG(s,t,i,i+o,0,e)},EA=S3e;x();var T3e=(e,t,r,n,i,o,s)=>async function*(e={}){let r=e.offset||0,a=e.length||t.Links.length,u=t.Links.slice(r,a);for(let t of u){let r=await i(t.Hash,t.Name||"",`${n}/${t.Name||""}`,[],o+1,s,e);r.entry&&(yield r.entry)}},hG=T3e;x();var A3e=(e,t,r,n,i,o,s)=>function(e={}){return cG(t,n,i,o,s,e)};async function*cG(e,t,r,n,i,o){let s=e.Links;for(let a of s){let s=null!=a.Name?a.Name.substring(2):null;if(s)yield(await r(a.Hash,s,`${t}/${s}`,[],n+1,i,o)).entry;else{e=dl(await i.get(a.Hash));for await(let s of cG(e,t,r,n,i,o))yield s}}}var dG=A3e,R3e=(e,t)=>{let r=e.Links.find((e=>e.Name===t));return r&&r.Hash},k3e={raw:EA,file:EA,directory:hG,"hamt-sharded-directory":dG,metadata:(e,t,r,n,i,o,s)=>()=>[],symlink:(e,t,r,n,i,o,s)=>()=>[]},I3e=async(e,t,r,n,i,o,s,a)=>{let u,h,f=dl(await s.get(e,a));if(t||(t=e.toString()),null==f.Data)throw(0,k_.default)(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{u=gl.unmarshal(f.Data)}catch(e){throw(0,k_.default)(e,"ERR_NOT_UNIXFS")}if(r||(r=t),n.length){let e;if(e=u&&"hamt-sharded-directory"===u.type?await uG(f,n[0],s):R3e(f,n[0]),!e)throw(0,k_.default)(new Error("file does not exist"),"ERR_NOT_FOUND");let t=n.shift();h={cid:e,toResolve:n,name:t||"",path:`${r}/${t}`}}return{entry:{type:u.isDirectory()?"directory":"file",name:t,path:r,cid:e,content:k3e[u.type](e,f,u,r,i,o,s),unixfs:u,depth:o,node:f,size:u.fileSize()},next:h}},pG=I3e;x();var mG=wt(Fn(),1),P3e=e=>async function*(t={}){let{offset:r,length:n}=np(e.length,t.offset,t.length);yield wc(e,0,r,r+n)},D3e=async(e,t,r,n,i,o,s,a)=>{if(n.length)throw(0,mG.default)(new Error(`No link named ${r} found in raw node ${e}`),"ERR_NOT_FOUND");let u=await s.get(e,a);return{entry:{type:"raw",name:t,path:r,cid:e,content:P3e(u),depth:o,size:u.length,node:u}}},yG=D3e;x(),bs();var gG=wt(Fn(),1),B3e=async(e,t,r,n,i,o,s,a)=>{let u=await s.get(e),h=b_(u),f=h,c=r;for(;n.length;){let i=n[0];if(!(i in f))throw(0,gG.default)(new Error(`No property named ${i} found in cbor node ${e}`),"ERR_NO_PROP");{n.shift(),c=`${c}/${i}`;let s=Xe.asCID(f[i]);if(s)return{entry:{type:"object",name:t,path:r,cid:e,node:u,depth:o,size:u.length,content:async function*(){yield h}},next:{cid:s,name:i,path:c,toResolve:n}};f=f[i]}}return{entry:{type:"object",name:t,path:r,cid:e,node:u,depth:o,size:u.length,content:async function*(){yield h}}}},vG=B3e;x();var bG=wt(Fn(),1);Kc();var O3e=e=>async function*(t={}){let{offset:r,length:n}=np(e.length,t.offset,t.length);yield wc(e,0,r,r+n)},C3e=async(e,t,r,n,i,o,s,a)=>{if(n.length)throw(0,bG.default)(new Error(`No link named ${r} found in raw node ${e}`),"ERR_NOT_FOUND");let u=await vv(e.multihash.bytes);return{entry:{type:"identity",name:t,path:r,cid:e,content:O3e(u.digest),depth:o,size:u.digest.length,node:u.digest}}},wG=C3e,N3e={[g_]:pG,[w_]:yG,[v_]:vG,[ZT.code]:wG};function MG(e,t,r,n,i,o,s){let a=N3e[e.code];if(!a)throw(0,_G.default)(new Error(`No resolver for code ${e.code}`),"ERR_NO_RESOLVER");return a(e,t,r,n,MG,i,o,s)}var xG=MG,TG=wt(SG(),1),q3e=(e="")=>(e.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean),j3e=e=>{if(e instanceof Uint8Array)return{cid:Xe.decode(e),toResolve:[]};let t=Xe.asCID(e);if(t)return{cid:t,toResolve:[]};if("string"==typeof e){0===e.indexOf("/ipfs/")&&(e=e.substring(6));let t=q3e(e);return{cid:Xe.parse(t[0]),toResolve:t.slice(1)}}throw(0,I_.default)(new Error(`Unknown path type ${e}`),"ERR_BAD_PATH")};async function*U3e(e,t,r={}){let{cid:n,toResolve:i}=j3e(e),o=n.toString(),s=o,a=i.length;for(;;){let u=await xG(n,o,s,i,a,t,r);if(!u.entry&&!u.next)throw(0,I_.default)(new Error(`Could not resolve ${e}`),"ERR_NOT_FOUND");if(u.entry&&(yield u.entry),!u.next)return;i=u.next.toResolve,n=u.next.cid,o=u.next.name,s=u.next.path}}async function AG(e,t,r={}){let n=await(0,TG.default)(U3e(e,t,r));if(!n)throw(0,I_.default)(new Error(`Could not resolve ${e}`),"ERR_NOT_FOUND");return n}var RG=wt(X5(),1),P_=class{constructor(e="DATASTORE"){this.blockstore=new rp(e)}async open(){await this.blockstore.open()}async close(){await this.blockstore.close()}async put(e,t,r){let n,i=Gp([{content:r}],this.blockstore,{cidVersion:1});for await(n of i);return n.cid.toString()}async get(e,t,r){let n=Xe.parse(r);if(!await this.blockstore.get(n))return;let i=(await AG(r,this.blockstore)).content()[Symbol.asyncIterator]();return new RG.Readable({async read(){let e=await i.next();e.done?this.push(null):this.push(e.value)}})}async has(e,t,r){let n=Xe.parse(r);return void 0!==await this.blockstore.get(n)}async delete(e,t,r){let n=Xe.parse(r);await this.blockstore.delete(n)}async clear(){await this.blockstore.clear()}};x();var vt=class{constructor(e){let{status:t,entries:r,data:n}=e;this.status=t,this.entries=r,this.data=n}};x(),x(),S_();var D_=({enumerable:e=!0,configurable:t=!1}={})=>({enumerable:e,configurable:t,writable:!1}),SA=function*(e,t){if(null!=e&&!(e instanceof Uint8Array))for(let[r,n]of Object.entries(e)){let e=[...t,r];if(null!=n&&"object"==typeof n)if(Array.isArray(n))for(let[t,r]of n.entries()){let n=[...e,t],i=Xe.asCID(r);i?yield[n.join("/"),i]:"object"==typeof r&&(yield*SA(r,n))}else{let t=Xe.asCID(n);t?yield[e.join("/"),t]:yield*SA(n,e)}}},TA=function*(e,t){if(null!=e)for(let[r,n]of Object.entries(e)){let e=[...t,r];if(yield e.join("/"),!(null==n||n instanceof Uint8Array||"object"!=typeof n||Xe.asCID(n)))if(Array.isArray(n))for(let[t,r]of n.entries()){let n=[...e,t];yield n.join("/"),"object"==typeof r&&!Xe.asCID(r)&&(yield*TA(r,n))}else yield*TA(n,e)}},z3e=(e,t)=>{let r=e;for(let[e,n]of t.entries()){if(r=r[n],null==r)throw new Error(`Object has no property at ${t.slice(0,e+1).map((e=>`[${JSON.stringify(e)}]`)).join("")}`);let i=Xe.asCID(r);if(i)return{value:i,remaining:t.slice(e+1).join("/")}}return{value:r}},B_=class{constructor({cid:e,bytes:t,value:r}){if(!e||!t||typeof r>"u")throw new Error("Missing required argument");this.cid=e,this.bytes=t,this.value=r,this.asBlock=this,Object.defineProperties(this,{cid:D_(),bytes:D_(),value:D_(),asBlock:D_()})}links(){return SA(this.value,[])}tree(){return TA(this.value,[])}get(e="/"){return z3e(this.value,e.split("/").filter(Boolean))}},kG=async({value:e,codec:t,hasher:r})=>{if(typeof e>"u")throw new Error('Missing required argument "value"');if(!t||!r)throw new Error("Missing required argument: codec or hasher");let n=t.encode(e),i=await r.digest(n),o=Xe.create(1,t.code,i);return new B_({value:e,bytes:n,cid:o})},IG=async({bytes:e,codec:t,hasher:r})=>{if(!e)throw new Error('Missing required argument "bytes"');if(!t||!r)throw new Error("Missing required argument: codec or hasher");let n=t.decode(e),i=await r.digest(e),o=Xe.create(1,t.code,i);return new B_({value:n,bytes:e,cid:o})},HJ=wt(HS(),1),WJ=wt($J(),1);bs(),em();var Qf=class{constructor(e={}){this.config={blockstoreLocation:"BLOCKSTORE",indexLocation:"INDEX",...e},this.blockstore=new rp(this.config.blockstoreLocation)}async open(){await this.blockstore.open(),this.index||(this.index=await(0,WJ.default)({name:this.config.indexLocation}))}async close(){await this.blockstore.close(),await this.index.INDEX.STORE.close()}async get(e){let t=Xe.parse(e),r=await this.blockstore.get(t);return r?(await IG({bytes:r,codec:Zc,hasher:Es})).value:void 0}async query(e,t){let r=[],n=Qf.buildExactQueryTerms(e),i=Qf.buildRangeQueryTerms(t),{RESULT:o}=await this.index.QUERY({AND:[...n,...i]});for(let e of o){let t=await this.get(e._id);r.push(t)}return r}async delete(e){let t=Xe.parse(e);await this.blockstore.delete(t),await this.index.DELETE(e)}async put(e,t){let r=await kG({value:e,codec:Zc,hasher:Es});await this.blockstore.put(r.cid,r.bytes);let n={_id:r.cid.toString(),...t};await this.index.PUT([n],{tokenSplitRegex:/.+/})}async clear(){await this.blockstore.clear(),await this.index.FLUSH()}static buildExactQueryTerms(e,t=[],r=""){for(let n in e){let i=e[n];if((0,HJ.default)(i))Qf.buildExactQueryTerms(i,t,`${r}${n}.`);else{let e={FIELD:[`${r}${n}`],VALUE:i};t.push(e)}}return t}static buildRangeQueryTerms(e={}){let t=[];for(let r in e){let n=e[r],i={FIELD:[`${r}`],VALUE:{}};void 0!==n.from&&(i.VALUE.GTE=n.from),void 0!==n.to&&(i.VALUE.LTE=n.to),t.push(i)}return t}};x(),x(),x(),x();var _3,dEe=new Uint8Array(16);function E7(){if(!_3&&!(_3=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _3(dEe)}x(),x(),x();var VJ=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function pEe(e){return"string"==typeof e&&VJ.test(e)}var KJ=pEe,An=[],M3;for(M3=0;M3<256;++M3)An.push((M3+256).toString(16).substr(1));function mEe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(An[e[t+0]]+An[e[t+1]]+An[e[t+2]]+An[e[t+3]]+"-"+An[e[t+4]]+An[e[t+5]]+"-"+An[e[t+6]]+An[e[t+7]]+"-"+An[e[t+8]]+An[e[t+9]]+"-"+An[e[t+10]]+An[e[t+11]]+An[e[t+12]]+An[e[t+13]]+An[e[t+14]]+An[e[t+15]]).toLowerCase();if(!KJ(r))throw TypeError("Stringified UUID is invalid");return r}var GJ=mEe;function yEe(e,t,r){var n=(e=e||{}).random||(e.rng||E7)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return GJ(n)}x();var S7=yEe,Dc=class extends Ye{constructor(e){super(e)}static async parse(e){return await fo(e),new Dc(e)}static async create(e){let{conditions:t}=e,r={...gEe,...t||{}},n={interface:"Permissions",method:"Request",dateCreated:e.dateCreated??wn(),conditions:r,description:e.description,grantedTo:e.grantedTo,grantedBy:e.grantedBy,objectId:e.objectId?e.objectId:S7(),scope:e.scope};Ye.validateJsonSchema({descriptor:n,authorization:{}});let i=await Ye.signAsAuthorization(n,e.authorizationSignatureInput);return new Dc({descriptor:n,authorization:i})}get id(){return this.message.descriptor.objectId}get conditions(){return this.message.descriptor.conditions}get grantedBy(){return this.message.descriptor.grantedBy}get grantedTo(){return this.message.descriptor.grantedTo}get description(){return this.message.descriptor.description}get scope(){return this.message.descriptor.scope}},gEe={attestation:"optional",delegation:!1,encryption:"optional",publication:!1,sharedAccess:!1},x3=class{constructor(e,t,r){this.didResolver=e,this.messageStore=t,this.dataStore=r}async handle({tenant:e,message:t}){let r=await Dc.parse(t),{author:n}=r;if(e!==r.grantedBy&&e!==r.grantedTo)return new vt({status:{code:400,detail:"grantedBy or grantedTo must be the targeted message recipient"}});if(await B0(e,r,this.didResolver),n!==r.grantedTo)throw new Error("grantee must be signer");let i={tenant:e,author:n,...t.descriptor};return await this.messageStore.put(t,i),new vt({status:{code:202,detail:"Accepted"}})}};x(),x();var Sl=class extends Ye{constructor(e){super(e)}static async parse(e){return await fo(e),new Sl(e)}static async create(e){let t={interface:"Protocols",method:"Configure",dateCreated:e.dateCreated??wn(),protocol:e.protocol,definition:e.definition};Ye.validateJsonSchema({descriptor:t,authorization:{}});let r=await Ye.signAsAuthorization(t,e.authorizationSignatureInput);return new Sl({descriptor:t,authorization:r})}};x(),x();var Jg=class extends Error{constructor(e,t){super(`${e}: ${t}`),this.code=e,this.name="DwnError"}},ea=class{static async put(e,t,r,n,i){if(void 0!==r.descriptor.dataCid)if(void 0===i){if(!await t.has("not used yet","not used yet",r.descriptor.dataCid))throw new Jg("MessageStoreDataNotFound",`data with dataCid ${r.descriptor.dataCid} not found in store`)}else{let e=await t.put("not used yet","not used yet",i);if(r.descriptor.dataCid!==e)throw await t.delete("not used yet","not used yet",e),new Jg("MessageStoreDataCidMismatch",`actual data CID ${e} does not match dataCid in descriptor: ${r.descriptor.dataCid}`)}await e.put(r,n)}static async query(e,t,r,n){let i=await e.query(r,n);for(let e of i){let r=e.descriptor.dataCid;if(void 0!==r){let n=await t.get("not used yet","not used yet",r),i=await tl.toBytes(n);e.encodedData=Ct.bytesToBase64Url(i)}}return i}},E3=class{constructor(e,t,r){this.didResolver=e,this.messageStore=t,this.dataStore=r}async handle({tenant:e,message:t,dataStream:r}){let n,i=t;try{n=await Sl.parse(i)}catch(e){return new vt({status:{code:400,detail:e.message}})}try{await B0(e,n,this.didResolver)}catch(e){return new vt({status:{code:401,detail:e.message}})}let o,s={tenant:e,interface:"Protocols",method:"Configure",protocol:i.descriptor.protocol},a=await this.messageStore.query(s),u=await Ye.getMessageWithLargestCid(a),h=!1;if((void 0===u||await Ye.isCidLarger(i,u))&&(h=!0,u=i),h){let{author:s}=n,a={tenant:e,author:s,...t.descriptor};await ea.put(this.messageStore,this.dataStore,i,a,r),o=new vt({status:{code:202,detail:"Accepted"}})}else o=new vt({status:{code:409,detail:"Conflict"}});for(let e of a)if(await Ye.isCidLarger(u,e)){let t=await Ye.getCid(e);await this.messageStore.delete(t)}return o}};x(),x();var Tl=class extends Ye{constructor(e){super(e)}static async parse(e){return await fo(e),new Tl(e)}static async create(e){let t={interface:"Protocols",method:"Query",dateCreated:e.dateCreated??wn(),filter:e.filter};as(t),Ye.validateJsonSchema({descriptor:t,authorization:{}});let r=await Ye.signAsAuthorization(t,e.authorizationSignatureInput);return new Tl({descriptor:t,authorization:r})}},S3=class{constructor(e,t,r){this.didResolver=e,this.messageStore=t,this.dataStore=r}async handle({tenant:e,message:t}){let r,n=t;try{r=await Tl.parse(n)}catch(e){return new vt({status:{code:400,detail:e.message}})}try{await B0(e,r,this.didResolver)}catch(e){return new vt({status:{code:401,detail:e.message}})}let i={tenant:e,interface:"Protocols",method:"Configure",...n.descriptor.filter};as(i);let o=await this.messageStore.query(i);return new vt({status:{code:200,detail:"OK"},entries:o})}};x(),x(),x(),x();var bEe={Write:"write"},ys=class{static async authorize(e,t,r,n){let i=await ys.fetchProtocolDefinition(e,t,n),o=await ys.constructAncestorMessageChain(e,t,n),s=new Map;for(let e in i.labels)s[i.labels[e].schema]=e;let a=ys.getRuleSet(t.message,i,o,s);ys.verifyAllowedRequester(e,r,a,o,s),ys.verifyAllowedActions(e,r,t,a),await ys.verifyActionCondition(t,n)}static async fetchProtocolDefinition(e,t,r){let n=t.message.descriptor.protocol,i={tenant:e,interface:"Protocols",method:"Configure",protocol:n},o=await r.query(i);if(0===o.length)throw new Error(`unable to find protocol definition for ${n}`);return o[0].descriptor.definition}static async constructAncestorMessageChain(e,t,r){let n=[],i=t.message.descriptor.protocol,o=t.message.contextId,s=t.message.descriptor.parentId;for(;void 0!==s;){let t={tenant:e,interface:"Records",method:"Write",protocol:i,contextId:o,recordId:s},a=await r.query(t);if(0===a.length)throw new Error(`no parent found with ID ${s}`);let u=a[0];n.push(u),s=u.descriptor.parentId}return n.reverse()}static getRuleSet(e,t,r,n){let i=[...r,e],o=t.records,s=0;for(;;){let e=i[s].descriptor.schema,t=n[e];if(void 0===t)throw new Error(`record with schema '${e}' not allowed in protocol`);if(!(t in o))throw new Error(`record with schema: '${e}' not allowed in structure level ${s}`);if(s===i.length-1)return o[t];o=o[t].records,s++}}static verifyAllowedRequester(e,t,r,n,i){let o=r.allow;if(void 0===o){if(t!==e)throw new Error(`no allow rule defined for requester, ${t} is unauthorized`)}else if(void 0===o.anyone){if(void 0===o.recipient)throw new Error("no matching allow requester condition");{let e=ys.getMessage(n,o.recipient.of,i).descriptor.recipient;if(t!==e)throw new Error(`unexpected inbound message author: ${t}, expected ${e}`)}}}static verifyAllowedActions(e,t,r,n){let i,o=n.allow,s=r.message.descriptor.method;if(void 0===o){if(t===e)return;throw new Error(`no allow rule defined for ${s}, ${t} is unauthorized`)}void 0!==o.anyone?i=o.anyone.to:void 0!==o.recipient&&(i=o.recipient.to);let a=bEe[s];if(!i.includes(a))throw new Error(`inbound message action '${a}' not in list of allowed actions ${i}`)}static async verifyActionCondition(e,t){if(!await e.isInitialWrite()){let r={entryId:e.message.recordId},n=(await t.query(r))[0],i=Ye.getAuthor(n);if(e.author!==i)throw new Error(`author of incoming message '${e.author}' must match to author of initial write '${i}'`)}}static getMessage(e,t,r){let n=t.split("/");if(n.length>e.length)throw new Error("specified path to expected recipient is longer than actual length of ancestor message chain");let i=0;for(;;){let t=n[i],o=e[i],s=r[o.descriptor.schema];if(s!==t)throw new Error(`mismatching record schema: expecting ${t} but actual ${s}`);if(i+1===n.length)return o;i++}}},ir=class extends Ye{constructor(e){super(e),this.attesters=ir.getAttesters(e)}static async parse(e){await fo(e,{allowedProperties:new Set(["recordId","contextId","attestationCid"])}),await ir.validateAttestationIntegrity(e);let t=new ir(e);return await t.validateIntegrity(),t}static async create(e){let t=wn();if(void 0===e.data&&void 0===e.dataCid||void 0!==e.data&&void 0!==e.dataCid)throw new Error("one and only one parameter between `data` and `dataCid` is allowed");let r=e.dataCid??await tm.computeDagPbCidFromBytes(e.data),n={interface:"Records",method:"Write",protocol:e.protocol,recipient:e.recipient,schema:e.schema,parentId:e.parentId,dataCid:r,dateCreated:e.dateCreated??t,dateModified:e.dateModified??t,published:e.published,datePublished:e.datePublished,dataFormat:e.dataFormat};!0===e.published&&void 0===e.datePublished&&(n.datePublished=t),as(n);let i,o=yi.extractDid(e.authorizationSignatureInput.protectedHeader.kid),s=e.recordId??await ir.getEntryId(o,n);void 0!==e.contextId?i=e.contextId:void 0!==n.protocol&&(i=await ir.getEntryId(o,n));let a=await Ss(n),u=await ir.createAttestation(a,e.attestationSignatureInputs),h={recordId:s,descriptor:n,authorization:await ir.createAuthorization(s,i,a,u,e.authorizationSignatureInput)};return void 0!==i&&(h.contextId=i),void 0!==u&&(h.attestation=u),Ye.validateJsonSchema(h),new ir(h)}static async createFrom(e){let t,r=e.unsignedRecordsWriteMessage,n=wn(),i=e.published??(!!e.datePublished||r.descriptor.published);e.datePublished?t=e.datePublished:i&&(t=r.descriptor.published?r.descriptor.datePublished:n);let o={recipient:r.descriptor.recipient,recordId:r.recordId,dateCreated:r.descriptor.dateCreated,contextId:r.contextId,protocol:r.descriptor.protocol,parentId:r.descriptor.parentId,schema:r.descriptor.schema,dataFormat:r.descriptor.dataFormat,dateModified:e.dateModified??n,published:i,datePublished:t,data:e.data,dataCid:e.data?void 0:r.descriptor.dataCid,authorizationSignatureInput:e.authorizationSignatureInput,attestationSignatureInputs:e.attestationSignatureInputs};return await ir.create(o)}async authorize(e,t){void 0!==this.message.descriptor.protocol?await ys.authorize(e,this,this.author,t):await Gy(e,this)}async validateIntegrity(){if(this.message.recordId!==this.authorizationPayload.recordId)throw new Error(`recordId in message ${this.message.recordId} does not match recordId in authorization: ${this.authorizationPayload.recordId}`);if(await this.isInitialWrite()){let e=this.message.descriptor.dateCreated,t=this.message.descriptor.dateModified;if(t!==e)throw new Error(`dateModified ${t} must match dateCreated ${e} for the initial write`);if(void 0!==this.message.descriptor.protocol&&void 0===this.message.descriptor.parentId){let e=await this.getEntryId();if(this.message.contextId!==e)throw new Error(`contextId in message: ${this.message.contextId} does not match deterministic contextId: ${e}`)}}if(this.message.contextId!==this.authorizationPayload.contextId)throw new Error(`contextId in message ${this.message.contextId} does not match contextId in authorization: ${this.authorizationPayload.contextId}`);if(void 0!==this.message.attestation){let e=await Ss(this.message.attestation),t=this.authorizationPayload.attestationCid;if(t!==e)throw new Error(`CID ${e} of attestation property in message does not match attestationCid in authorization: ${t}`)}}static async validateAttestationIntegrity(e){if(void 0===e.attestation)return;if(1!==e.attestation.signatures.length)throw new Error(`Currently implementation only supports 1 attester, but got ${e.attestation.signatures.length}`);let t=yi.decodePlainObjectPayload(e.attestation),{descriptorCid:r}=t,n=await Ss(e.descriptor);if(r!==n)throw new Error(`descriptorCid ${r} does not match expected descriptorCid ${n}`);let i=Object.keys(t).length;if(i>1)throw new Error(`Only 'descriptorCid' is allowed in attestation payload, but got ${i} properties.`)}async getEntryId(){return await ir.getEntryId(this.author,this.message.descriptor)}static async getEntryId(e,t){let r={...t};return r.author=e,await Ss(r)}async isInitialWrite(){return await this.getEntryId()===this.message.recordId}static async isInitialWrite(e){if("Records"!==e.descriptor.interface||"Write"!==e.descriptor.method)return!1;let t=e,r=Ye.getAuthor(e);return await ir.getEntryId(r,t.descriptor)===t.recordId}static async createAttestation(e,t){if(void 0===t||0===t.length)return;let r={descriptorCid:e},n=Ct.objectToBytes(r);return(await If.create(n,t)).getJws()}static async createAuthorization(e,t,r,n,i){let o={recordId:e,descriptorCid:r},s=n?await Ss(n):void 0;void 0!==t&&(o.contextId=t),void 0!==s&&(o.attestationCid=s);let a=Ct.objectToBytes(o);return(await If.create(a,[i])).getJws()}static async getInitialWrite(e){for(let t of e)if(await ir.isInitialWrite(t))return t;throw new Error("initial write is not found")}static verifyEqualityOfImmutableProperties(e,t){let r=["dataCid","datePublished","published","dateModified"],n=[];n.push(...Object.keys(e.descriptor)),n.push(...Object.keys(t.descriptor)),n=[...new Set(n)];for(let i of n)if(-1===r.indexOf(i)){let r=e.descriptor[i],n=t.descriptor[i];if(n!==r)throw new Error(`${i} is an immutable property: cannot change '${r}' to '${n}'`)}return!0}static getAttesters(e){return(e.attestation?.signatures??[]).map((e=>yi.getSignerDid(e)))}};x();var T3=class{constructor(e,t,r){this.didResolver=e,this.messageStore=t,this.dataStore=r}async handle({tenant:e,message:t,dataStream:r}){let n,i=t;try{n=await ir.parse(i)}catch(e){return new vt({status:{code:400,detail:e.message}})}try{await Of(t.authorization,this.didResolver),await n.authorize(e,this.messageStore)}catch(e){return new vt({status:{code:401,detail:e.message}})}let o={tenant:e,interface:"Records",recordId:i.recordId},s=await this.messageStore.query(o);if(!await n.isInitialWrite())try{let e=await ir.getInitialWrite(s);ir.verifyEqualityOfImmutableProperties(e,i)}catch(e){return new vt({status:{code:400,detail:e.message}})}let a,u,h=await ir.getNewestMessage(s),f=!1;if(void 0===h||await ir.isNewer(i,h)?(f=!0,a=i):a=h,f){let t=await T7(e,n,!0);try{await ea.put(this.messageStore,this.dataStore,i,t,r)}catch(e){if("MessageStoreDataCidMismatch"===e.code||"MessageStoreDataNotFound"===e.code)return new vt({status:{code:400,detail:e.message}});throw e}u=new vt({status:{code:202,detail:"Accepted"}})}else u=new vt({status:{code:409,detail:"Conflict"}});return await A3(e,s,a,this.messageStore),u}};async function T7(e,t,r){let n=t.message,i={...n.descriptor};delete i.published;let o={tenant:e,isLatestBaseState:r.toString(),author:t.author,recordId:n.recordId,entryId:await ir.getEntryId(t.author,t.message.descriptor),...i};return t.attesters.length>0&&(o.attester=t.attesters[0]),void 0!==n.contextId&&(o.contextId=n.contextId),!0===n.descriptor.published?o.published="true":o.published="false",o}async function A3(e,t,r,n){for(let i of t)if(await ir.isOlder(i,r)){let t=await Ye.getCid(i);if(await n.delete(t),await ir.isInitialWrite(i)){let t=await ir.parse(i),r=await T7(e,t,!1);await n.put(i,r)}}}x();var Al=class extends Ye{constructor(e){super(e)}static async parse(e){return await fo(e),new Al(e)}static async create(e){let t=e.recordId,r=wn(),n={interface:"Records",method:"Delete",recordId:t,dateModified:e.dateModified??r},i={descriptor:n,authorization:await Ye.signAsAuthorization(n,e.authorizationSignatureInput)};return Ye.validateJsonSchema(i),new Al(i)}async authorize(e){await Gy(e,this)}},R3=class{constructor(e,t,r){this.didResolver=e,this.messageStore=t,this.dataStore=r}async handle({tenant:e,message:t}){let r,n=t;try{r=await Al.parse(n)}catch(e){return new vt({status:{code:400,detail:e.message}})}try{await Of(t.authorization,this.didResolver),await r.authorize(e)}catch(e){return new vt({status:{code:401,detail:e.message}})}let i,o,s={tenant:e,interface:"Records",recordId:n.descriptor.recordId},a=await this.messageStore.query(s),u=await ir.getNewestMessage(a),h=!1;if(void 0===u||await ir.isNewer(n,u)?(h=!0,i=n):i=u,h){let t=await wEe(e,r);await this.messageStore.put(n,t),o=new vt({status:{code:202,detail:"Accepted"}})}else o=new vt({status:{code:409,detail:"Conflict"}});return await A3(e,a,i,this.messageStore),o}};async function wEe(e,t){let r={...t.message.descriptor};return{tenant:e,author:t.author,...r}}x();var k3=class{constructor(e,t,r){this.didResolver=e,this.messageStore=t,this.dataStore=r}async handle({tenant:e,message:t}){let r,n;try{r=await jn.parse(t)}catch(e){return new vt({status:{code:400,detail:e.message}})}try{await Of(t.authorization,this.didResolver),await r.authorize(e)}catch(e){return new vt({status:{code:401,detail:e.message}})}n=r.author===e?await this.fetchRecordsAsOwner(e,r):await this.fetchRecordsAsNonOwner(e,r),r.message.descriptor.dateSort&&(n=await _Ee(n,r.message.descriptor.dateSort));let i=[];for(let e of n){let t={...e};delete t.authorization,i.push(t)}return new vt({status:{code:200,detail:"OK"},entries:i})}async fetchRecordsAsOwner(e,t){let r={tenant:e,interface:"Records",method:"Write",isLatestBaseState:"true",...jn.getExactCriteria(t.message.descriptor.filter)},n=jn.getRangeCriteria(t.message.descriptor.filter);return await ea.query(this.messageStore,this.dataStore,r,n)}async fetchRecordsAsNonOwner(e,t){return[...await this.fetchPublishedRecords(e,t),...await this.fetchUnpublishedRecordsForRequester(e,t),...await this.fetchUnpublishedRecordsByRequester(e,t)]}async fetchPublishedRecords(e,t){let r={tenant:e,interface:"Records",method:"Write",published:"true",isLatestBaseState:"true",...jn.getExactCriteria(t.message.descriptor.filter)},n=jn.getRangeCriteria(t.message.descriptor.filter);return await ea.query(this.messageStore,this.dataStore,r,n)}async fetchUnpublishedRecordsForRequester(e,t){let r=jn.getExactCriteria(t.message.descriptor.filter),n={tenant:e,interface:"Records",method:"Write",recipient:t.author,isLatestBaseState:"true",published:"false",...r},i=jn.getRangeCriteria(t.message.descriptor.filter);return await ea.query(this.messageStore,this.dataStore,n,i)}async fetchUnpublishedRecordsByRequester(e,t){let r=jn.getExactCriteria(t.message.descriptor.filter),n={tenant:e,author:t.author,interface:"Records",method:"Write",isLatestBaseState:"true",published:"false",...r},i=jn.getRangeCriteria(t.message.descriptor.filter);return await ea.query(this.messageStore,this.dataStore,n,i)}};async function _Ee(e,t){let r=e;switch(t){case"createdAscending":return r.sort(((e,t)=>Zh(e.descriptor.dateCreated,t.descriptor.dateCreated)));case"createdDescending":return r.sort(((e,t)=>Zh(t.descriptor.dateCreated,e.descriptor.dateCreated)));case"publishedAscending":return r.filter((e=>e.descriptor.published)).sort(((e,t)=>Zh(e.descriptor.datePublished,t.descriptor.datePublished)));case"publishedDescending":return r.filter((e=>e.descriptor.published)).sort(((e,t)=>Zh(t.descriptor.datePublished,e.descriptor.datePublished)))}}x(),x();var Rl=class{constructor(e){this.message=e,void 0!==e.authorization&&(this.author=Ye.getAuthor(e))}static async parse(e){return void 0!==e.authorization&&await fo(e),new Rl(e)}static async create(e){let t=e.recordId,r=wn(),n={interface:"Records",method:"Read",recordId:t,date:e.date??r},i={descriptor:n};if(e.authorizationSignatureInput){let t=await Ye.signAsAuthorization(n,e.authorizationSignatureInput);i.authorization=t}return Ye.validateJsonSchema(i),new Rl(i)}async authorize(e){if(this.author!==e)throw new Error("message failed authorization")}},I3=class{constructor(e,t,r){this.didResolver=e,this.messageStore=t,this.dataStore=r}async handle({tenant:e,message:t}){let r,n=t;try{r=await Rl.parse(n)}catch(e){return new vt({status:{code:400,detail:e.message}})}try{void 0!==r.author&&await Of(t.authorization,this.didResolver)}catch(e){return new vt({status:{code:401,detail:e.message}})}let i={tenant:e,interface:"Records",recordId:n.descriptor.recordId},o=await this.messageStore.query(i),s=await ir.getNewestMessage(o);if(void 0===s||"Delete"===s.descriptor.method)return new vt({status:{code:404,detail:"Not Found"}});let a=s;if(!0!==a.descriptor.published)try{await r.authorize(e)}catch(e){return new vt({status:{code:401,detail:e.message}})}let u=await this.dataStore.get(e,a.recordId,a.descriptor.dataCid);return new vt(void 0===u?{status:{code:404,detail:"Not Found"}}:{status:{code:200,detail:"OK"},data:u})}},Xg=class{constructor(e){this.didResolver=e.didResolver,this.messageStore=e.messageStore,this.dataStore=e.dataStore,this.tenantGate=e.tenantGate,this.methodHandlers={PermissionsRequest:new x3(this.didResolver,this.messageStore,this.dataStore),ProtocolsConfigure:new E3(this.didResolver,this.messageStore,this.dataStore),ProtocolsQuery:new S3(this.didResolver,this.messageStore,this.dataStore),RecordsDelete:new R3(this.didResolver,this.messageStore,this.dataStore),RecordsQuery:new k3(this.didResolver,this.messageStore,this.dataStore),RecordsRead:new I3(this.didResolver,this.messageStore,this.dataStore),RecordsWrite:new T3(this.didResolver,this.messageStore,this.dataStore)}}static async create(e){e??={},e.didResolver??=new ig,e.tenantGate??=new bp,e.messageStore??=new Qf,e.dataStore??=new P_;let t=new Xg(e);return await t.open(),t}async open(){await this.messageStore.open(),await this.dataStore.open()}async close(){this.messageStore.close(),this.dataStore.close()}async processMessage(e,t,r){if(!await this.tenantGate.isTenant(e))return new vt({status:{code:401,detail:`${e} is not a tenant`}});let n=t?.descriptor?.interface,i=t?.descriptor?.method;if(void 0===n||void 0===i)return new vt({status:{code:400,detail:`Both interface and method must be present, interface: ${n}, method: ${i}`}});try{Ye.validateJsonSchema(t)}catch(e){return new vt({status:{code:400,detail:e.message}})}let o=n+i;return await this.methodHandlers[o].handle({tenant:e,message:t,dataStream:r})}};x();var Qg=class extends Ye{constructor(e){super(e)}static async create(e){let t={interface:"Hooks",method:"Write",dateCreated:e.dateCreated??wn(),uri:e.uri,filter:e.filter};as(t);let r={descriptor:t,authorization:await Ye.signAsAuthorization(t,e.authorizationSignatureInput)};return Ye.validateJsonSchema(r),new Qg(r)}};x(),x(),x()},9880:(e,t,r)=>{"use strict";r.d(t,{kU:()=>f,Dp:()=>h,ET:()=>c});var n=r(5934);class i{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class o{constructor(e,t,r){this.name=e,this.prefix=t,this.baseDecode=r}decode(e){if("string"==typeof e){if(e[0]===this.prefix)return this.baseDecode(e.slice(1));throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}throw Error("Can only multibase decode strings")}or(e){return a(this,e)}}class s{constructor(e){this.decoders=e}or(e){return a(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const a=(e,t)=>new s({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class u{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new i(e,t,r),this.decoder=new o(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const h=({name:e,prefix:t,encode:r,decode:n})=>new u(e,t,r,n),f=({prefix:e,name:t,alphabet:r})=>{const{encode:i,decode:o}=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=i}var a=e.length,u=e.charAt(0),h=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function c(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*h+1>>>0,s=new Uint8Array(o);e[t];){var f=r[e.charCodeAt(t)];if(255===f)return;for(var c=0,l=o-1;(0!==f||c<i)&&-1!==l;l--,c++)f+=a*s[l]>>>0,s[l]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=c,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===s[d];)d++;for(var p=new Uint8Array(n+(o-d)),y=n;d!==o;)p[y++]=s[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*f+1>>>0,h=new Uint8Array(s);i!==o;){for(var c=t[i],l=0,d=s-1;(0!==c||l<n)&&-1!==d;d--,l++)c+=256*h[d]>>>0,h[d]=c%a>>>0,c=c/a>>>0;if(0!==c)throw new Error("Non-zero carry");n=l,i++}for(var p=s-n;p!==s&&0===h[p];)p++;for(var y=u.repeat(r);p<s;++p)y+=e.charAt(h[p]);return y},decodeUnsafe:c,decode:function(e){var r=c(e);if(r)return r;throw new Error(`Non-${t} character`)}}}(r,t);return h({prefix:e,name:t,encode:i,decode:e=>(0,n.coerce)(o(e))})},c=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>h({prefix:t,name:e,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],i=(1<<r)-1;let o="",s=0,a=0;for(let n=0;n<e.length;++n)for(a=a<<8|e[n],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o})(e,n,r),decode:t=>((e,t,r,n)=>{const i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*r/8|0);let a=0,u=0,h=0;for(let t=0;t<o;++t){const o=i[e[t]];if(void 0===o)throw new SyntaxError(`Non-${n} character`);u=u<<r|o,a+=r,a>=8&&(a-=8,s[h++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,n,r,e)})},2817:(e,t,r)=>{"use strict";r.r(t),r.d(t,{base32:()=>i,base32hex:()=>u,base32hexpad:()=>f,base32hexpadupper:()=>c,base32hexupper:()=>h,base32pad:()=>s,base32padupper:()=>a,base32upper:()=>o,base32z:()=>l});var n=r(9880);const i=(0,n.ET)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),o=(0,n.ET)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),s=(0,n.ET)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),a=(0,n.ET)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),u=(0,n.ET)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),h=(0,n.ET)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),f=(0,n.ET)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),c=(0,n.ET)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),l=(0,n.ET)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})},9086:(e,t,r)=>{"use strict";r.r(t),r.d(t,{base58btc:()=>i,base58flickr:()=>o});var n=r(9880);const i=(0,n.kU)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),o=(0,n.kU)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},9885:(e,t,r)=>{"use strict";r.r(t),r.d(t,{base64:()=>i,base64pad:()=>o,base64url:()=>s,base64urlpad:()=>a});var n=r(9880);const i=(0,n.ET)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),o=(0,n.ET)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),s=(0,n.ET)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),a=(0,n.ET)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})},8503:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CID:()=>U.k,bases:()=>F,bytes:()=>d,codecs:()=>$,digest:()=>k,hasher:()=>z,hashes:()=>q,varint:()=>H});var n={};r.r(n),r.d(n,{identity:()=>p});var i={};r.r(i),r.d(i,{base2:()=>y});var o={};r.r(o),r.d(o,{base8:()=>m});var s={};r.r(s),r.d(s,{base10:()=>g});var a={};r.r(a),r.d(a,{base16:()=>b,base16upper:()=>w});var u={};r.r(u),r.d(u,{base36:()=>_,base36upper:()=>E});var h={};r.r(h),r.d(h,{identity:()=>T});var f={};r.r(f),r.d(f,{code:()=>I,decode:()=>O,encode:()=>R,name:()=>P});var c={};r.r(c),r.d(c,{code:()=>j,decode:()=>N,encode:()=>D,name:()=>L});var l=r(9880),d=r(5934);const p=(0,l.Dp)({prefix:"\0",name:"identity",encode:e=>(0,d.toString)(e),decode:e=>(0,d.fromString)(e)}),y=(0,l.ET)({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),m=(0,l.ET)({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),g=(0,l.kU)({prefix:"9",name:"base10",alphabet:"0123456789"}),b=(0,l.ET)({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),w=(0,l.ET)({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var v=r(2817);const _=(0,l.kU)({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),E=(0,l.kU)({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var S=r(9086),M=r(9885),A=r(6155),k=r(8924);const x=d.coerce,T={code:0,name:"identity",encode:x,digest:e=>k.create(0,x(e))},P="raw",I=85,R=e=>(0,d.coerce)(e),O=e=>(0,d.coerce)(e),B=new TextEncoder,C=new TextDecoder,L="json",j=512,D=e=>B.encode(JSON.stringify(e)),N=e=>JSON.parse(C.decode(e));var U=r(1362),H=r(4714),z=r(7225);const F={...n,...i,...o,...s,...a,...v,...u,...S,...M},q={...A,...h},$={raw:f,json:c}},5934:(e,t,r)=>{"use strict";r.r(t),r.d(t,{coerce:()=>a,empty:()=>n,equals:()=>s,fromHex:()=>o,fromString:()=>h,isBinary:()=>u,toHex:()=>i,toString:()=>f});const n=new Uint8Array(0),i=e=>e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),""),o=e=>{const t=e.match(/../g);return t?new Uint8Array(t.map((e=>parseInt(e,16)))):n},s=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},a=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},u=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),h=e=>(new TextEncoder).encode(e),f=e=>(new TextDecoder).decode(e)},1362:(e,t,r)=>{"use strict";r.d(t,{k:()=>u});var n=r(4714),i=r(8924),o=r(9086),s=r(2817),a=r(5934);class u{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:g,byteLength:g,code:m,version:m,multihash:m,bytes:m,_baseCache:g,asCID:g})}toV0(){if(0===this.version)return this;{const{code:e,multihash:t}=this;if(e!==l)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==d)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return u.createV0(t)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=i.create(e,t);return u.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&i.equals(this.multihash,e.multihash)}toString(e){const{bytes:t,version:r,_baseCache:n}=this;return 0===r?f(t,n,e||o.base58btc.encoder):c(t,n,e||s.base32.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return b(/^0\.0/,w),!(!e||!e[y]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof u)return e;if(null!=e&&e.asCID===e){const{version:t,code:r,multihash:n,bytes:i}=e;return new u(t,r,n,i||p(t,r,n.bytes))}if(null!=e&&!0===e[y]){const{version:t,multihash:r,code:n}=e,o=i.decode(r);return u.create(t,n,o)}return null}static create(e,t,r){if("number"!=typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==l)throw new Error(`Version 0 CID must use dag-pb (code: ${l}) block encoding`);return new u(e,t,r,r.bytes);case 1:{const n=p(e,t,r.bytes);return new u(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return u.create(0,l,e)}static createV1(e,t){return u.create(1,e,t)}static decode(e){const[t,r]=u.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=u.inspectBytes(e),r=t.size-t.multihashSize,n=(0,a.coerce)(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");const o=n.subarray(t.multihashSize-t.digestSize),s=new i.Digest(t.multihashCode,t.digestSize,o,n);return[0===t.version?u.createV0(s):u.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,i]=n.decode(e.subarray(t));return t+=i,r};let i=r(),o=l;if(18===i?(i=0,t=0):1===i&&(o=r()),0!==i&&1!==i)throw new RangeError(`Invalid CID version ${i}`);const s=t,a=r(),u=r(),h=t+u;return{version:i,codec:o,multihashCode:a,digestSize:u,multihashSize:h-s,size:h}}static parse(e,t){const[r,n]=h(e,t),i=u.decode(n);return i._baseCache.set(r,e),i}}const h=(e,t)=>{switch(e[0]){case"Q":{const r=t||o.base58btc;return[o.base58btc.prefix,r.decode(`${o.base58btc.prefix}${e}`)]}case o.base58btc.prefix:{const r=t||o.base58btc;return[o.base58btc.prefix,r.decode(e)]}case s.base32.prefix:{const r=t||s.base32;return[s.base32.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},f=(e,t,r)=>{const{prefix:n}=r;if(n!==o.base58btc.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const i=t.get(n);if(null==i){const i=r.encode(e).slice(1);return t.set(n,i),i}return i},c=(e,t,r)=>{const{prefix:n}=r,i=t.get(n);if(null==i){const i=r.encode(e);return t.set(n,i),i}return i},l=112,d=18,p=(e,t,r)=>{const i=n.encodingLength(e),o=i+n.encodingLength(t),s=new Uint8Array(o+r.byteLength);return n.encodeTo(e,s,0),n.encodeTo(t,s,i),s.set(r,o),s},y=Symbol.for("@ipld/js-cid/CID"),m={writable:!1,configurable:!1,enumerable:!0},g={writable:!1,enumerable:!1,configurable:!1},b=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);console.warn(t)},w="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n"},8924:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Digest:()=>u,create:()=>o,decode:()=>s,equals:()=>a});var n=r(5934),i=r(4714);const o=(e,t)=>{const r=t.byteLength,n=i.encodingLength(e),o=n+i.encodingLength(r),s=new Uint8Array(o+r);return i.encodeTo(e,s,0),i.encodeTo(r,s,n),s.set(t,o),new u(e,r,t,s)},s=e=>{const t=(0,n.coerce)(e),[r,o]=i.decode(t),[s,a]=i.decode(t.subarray(o)),h=t.subarray(o+a);if(h.byteLength!==s)throw new Error("Incorrect length");return new u(r,s,h,t)},a=(e,t)=>e===t||e.code===t.code&&e.size===t.size&&(0,n.equals)(e.bytes,t.bytes);class u{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}},7225:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Hasher:()=>o,from:()=>i});var n=r(8924);const i=({name:e,code:t,encode:r})=>new o(e,t,r);class o{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?n.create(this.code,t):t.then((e=>n.create(this.code,e)))}throw Error("Unknown type, must be binary type")}}},6155:(e,t,r)=>{"use strict";r.r(t),r.d(t,{sha256:()=>o,sha512:()=>s});var n=r(7225);const i=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),o=(0,n.from)({name:"sha2-256",code:18,encode:i("SHA-256")}),s=(0,n.from)({name:"sha2-512",code:19,encode:i("SHA-512")})},4714:(e,t,r)=>{"use strict";r.r(t),r.d(t,{decode:()=>p,encodeTo:()=>y,encodingLength:()=>m});var n=Math.pow(2,31),i=Math.pow(2,7),o=Math.pow(2,14),s=Math.pow(2,21),a=Math.pow(2,28),u=Math.pow(2,35),h=Math.pow(2,42),f=Math.pow(2,49),c=Math.pow(2,56),l=Math.pow(2,63);const d={encode:function e(t,r,i){r=r||[];for(var o=i=i||0;t>=n;)r[i++]=255&t|128,t/=128;for(;-128&t;)r[i++]=255&t|128,t>>>=7;return r[i]=0|t,e.bytes=i-o+1,r},decode:function e(t,r){var n,i=0,o=0,s=r=r||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[s++],i+=o<28?(127&n)<<o:(127&n)*Math.pow(2,o),o+=7}while(n>=128);return e.bytes=s-r,i},encodingLength:function(e){return e<i?1:e<o?2:e<s?3:e<a?4:e<u?5:e<h?6:e<f?7:e<c?8:e<l?9:10}},p=e=>[d.decode(e),d.decode.bytes],y=(e,t,r=0)=>(d.encode(e,t,r),t),m=e=>d.encodingLength(e)},2217:(e,t,r)=>{"use strict";r.r(t),r.d(t,{fromString:()=>i});var n=r(7645);function i(e,t="utf8"){const r=n.Z[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return r.decoder.decode(`${r.prefix}${e}`)}},733:(e,t,r)=>{"use strict";function n(e,t){for(let r=0;r<e.byteLength;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0}function i(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const r=new Uint8Array(t);let n=0;for(const t of e)r.set(t,n),n+=t.length;return r}function o(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}r.r(t),r.d(t,{compare:()=>n,concat:()=>i,equals:()=>o,fromString:()=>s.fromString,toString:()=>u,xor:()=>h});var s=r(2217),a=r(7645);function u(e,t="utf8"){const r=a.Z[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return r.encoder.encode(e).substring(1)}function h(e,t){if(e.length!==t.length)throw new Error("Inputs should have the same length");const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}},7645:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(8503);function i(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const o=i("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),s=i("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{e=e.substring(1);const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),a={utf8:o,"utf-8":o,hex:n.bases.base16,latin1:s,ascii:s,binary:s,...n.bases}},5809:e=>{"use strict";e.exports=JSON.parse('{"COMPRESSED_TYPE_INVALID":"compressed should be a boolean","EC_PRIVATE_KEY_TYPE_INVALID":"private key should be a Buffer","EC_PRIVATE_KEY_LENGTH_INVALID":"private key length is invalid","EC_PRIVATE_KEY_RANGE_INVALID":"private key range is invalid","EC_PRIVATE_KEY_TWEAK_ADD_FAIL":"tweak out of range or resulting private key is invalid","EC_PRIVATE_KEY_TWEAK_MUL_FAIL":"tweak out of range","EC_PRIVATE_KEY_EXPORT_DER_FAIL":"couldn\'t export to DER format","EC_PRIVATE_KEY_IMPORT_DER_FAIL":"couldn\'t import from DER format","EC_PUBLIC_KEYS_TYPE_INVALID":"public keys should be an Array","EC_PUBLIC_KEYS_LENGTH_INVALID":"public keys Array should have at least 1 element","EC_PUBLIC_KEY_TYPE_INVALID":"public key should be a Buffer","EC_PUBLIC_KEY_LENGTH_INVALID":"public key length is invalid","EC_PUBLIC_KEY_PARSE_FAIL":"the public key could not be parsed or is invalid","EC_PUBLIC_KEY_CREATE_FAIL":"private was invalid, try again","EC_PUBLIC_KEY_TWEAK_ADD_FAIL":"tweak out of range or resulting public key is invalid","EC_PUBLIC_KEY_TWEAK_MUL_FAIL":"tweak out of range","EC_PUBLIC_KEY_COMBINE_FAIL":"the sum of the public keys is not valid","ECDH_FAIL":"scalar was invalid (zero or overflow)","ECDSA_SIGNATURE_TYPE_INVALID":"signature should be a Buffer","ECDSA_SIGNATURE_LENGTH_INVALID":"signature length is invalid","ECDSA_SIGNATURE_PARSE_FAIL":"couldn\'t parse signature","ECDSA_SIGNATURE_PARSE_DER_FAIL":"couldn\'t parse DER signature","ECDSA_SIGNATURE_SERIALIZE_DER_FAIL":"couldn\'t serialize signature to DER format","ECDSA_SIGN_FAIL":"nonce generation function failed or private key is invalid","ECDSA_RECOVER_FAIL":"couldn\'t recover public key from signature","MSG32_TYPE_INVALID":"message should be a Buffer","MSG32_LENGTH_INVALID":"message length is invalid","OPTIONS_TYPE_INVALID":"options should be an Object","OPTIONS_DATA_TYPE_INVALID":"options.data should be a Buffer","OPTIONS_DATA_LENGTH_INVALID":"options.data length is invalid","OPTIONS_NONCEFN_TYPE_INVALID":"options.noncefn should be a Function","RECOVERY_ID_TYPE_INVALID":"recovery should be a Number","RECOVERY_ID_VALUE_INVALID":"recovery should have value between -1 and 4","TWEAK_TYPE_INVALID":"tweak should be a Buffer","TWEAK_LENGTH_INVALID":"tweak length is invalid"}')},8597:e=>{"use strict";e.exports={i8:"6.5.4"}}},__webpack_module_cache__={},leafPrototypes,getProto;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.amdO={},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},getProto=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var r=Object.create(null);__webpack_require__.r(r);var n={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var i=2&t&&e;"object"==typeof i&&!~leafPrototypes.indexOf(i);i=getProto(i))Object.getOwnPropertyNames(i).forEach((t=>n[t]=()=>e[t]));return n.default=()=>e,__webpack_require__.d(r,n),r},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{code:()=>Wu,decode:()=>Yu,encode:()=>Gu,name:()=>Vu});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{sha256:()=>gh,sha512:()=>bh});var r={};__webpack_require__.r(r),__webpack_require__.d(r,{base58btc:()=>hf,base58flickr:()=>ff});var n={};__webpack_require__.r(n),__webpack_require__.d(n,{base32:()=>cf,base32hex:()=>yf,base32hexpad:()=>gf,base32hexpadupper:()=>bf,base32hexupper:()=>mf,base32pad:()=>df,base32padupper:()=>pf,base32upper:()=>lf,base32z:()=>wf});var i={};__webpack_require__.r(i),__webpack_require__.d(i,{code:()=>If,decode:()=>Of,encode:()=>Rf,name:()=>Pf});var o={};__webpack_require__.r(o),__webpack_require__.d(o,{identity:()=>Bf});var s={};__webpack_require__.r(s),__webpack_require__.d(s,{base2:()=>Cf});var a={};__webpack_require__.r(a),__webpack_require__.d(a,{base8:()=>Lf});var u={};__webpack_require__.r(u),__webpack_require__.d(u,{base10:()=>jf});var h={};__webpack_require__.r(h),__webpack_require__.d(h,{base16:()=>Df,base16upper:()=>Nf});var f={};__webpack_require__.r(f),__webpack_require__.d(f,{base36:()=>Uf,base36upper:()=>Hf});var c={};__webpack_require__.r(c),__webpack_require__.d(c,{base64:()=>zf,base64pad:()=>Ff,base64url:()=>qf,base64urlpad:()=>$f});var l={};__webpack_require__.r(l),__webpack_require__.d(l,{base256emoji:()=>Gf});var d={};__webpack_require__.r(d),__webpack_require__.d(d,{identity:()=>Jf});var p={};__webpack_require__.r(p),__webpack_require__.d(p,{code:()=>ec,decode:()=>rc,encode:()=>tc,name:()=>Qf});var y={};__webpack_require__.r(y),__webpack_require__.d(y,{identity:()=>pc});var m={};__webpack_require__.r(m),__webpack_require__.d(m,{base2:()=>yc});var g={};__webpack_require__.r(g),__webpack_require__.d(g,{base8:()=>mc});var b={};__webpack_require__.r(b),__webpack_require__.d(b,{base10:()=>gc});var w={};__webpack_require__.r(w),__webpack_require__.d(w,{base16:()=>bc,base16upper:()=>wc});var v={};__webpack_require__.r(v),__webpack_require__.d(v,{base32:()=>vc,base32hex:()=>Mc,base32hexpad:()=>kc,base32hexpadupper:()=>xc,base32hexupper:()=>Ac,base32pad:()=>Ec,base32padupper:()=>Sc,base32upper:()=>_c,base32z:()=>Tc});var _={};__webpack_require__.r(_),__webpack_require__.d(_,{base36:()=>Pc,base36upper:()=>Ic});var E={};__webpack_require__.r(E),__webpack_require__.d(E,{base58btc:()=>Rc,base58flickr:()=>Oc});var S={};__webpack_require__.r(S),__webpack_require__.d(S,{base64:()=>Bc,base64pad:()=>Cc,base64url:()=>Lc,base64urlpad:()=>jc});var M={};__webpack_require__.r(M),__webpack_require__.d(M,{base256emoji:()=>Hc});var A={};__webpack_require__.r(A),__webpack_require__.d(A,{sha256:()=>sl,sha512:()=>al});var k={};__webpack_require__.r(k),__webpack_require__.d(k,{identity:()=>hl});var x={};__webpack_require__.r(x),__webpack_require__.d(x,{code:()=>cl,decode:()=>dl,encode:()=>ll,name:()=>fl});var T={};function P(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function I(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}__webpack_require__.r(T),__webpack_require__.d(T,{code:()=>gl,decode:()=>wl,encode:()=>bl,name:()=>ml});const R={number:P,bool:function(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)},bytes:I,hash:function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");P(e.outputLen),P(e.blockLen)},exists:function(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,t){I(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}},O=("object"==typeof self&&"crypto"in self&&self.crypto,e=>new DataView(e.buffer,e.byteOffset,e.byteLength)),B=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");const C=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function L(e){if("string"!=typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}function j(e){if("string"==typeof e&&(e=L(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}function D(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}class N{clone(){return this._cloneInto()}}function U(e){const t=t=>e().update(j(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}class H extends N{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,R.hash(e);const r=j(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return R.exists(this),this.iHash.update(e),this}digestInto(e){R.exists(this),R.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const z=(e,t,r)=>new H(e,t).update(r).digest();z.create=(e,t)=>new H(e,t);class F extends N{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=O(this.buffer)}update(e){R.exists(this);const{view:t,buffer:r,blockLen:n}=this,i=(e=j(e)).length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);if(s!==n)r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=O(e);for(;n<=i-o;o+=n)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){R.exists(this),R.output(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let e=o;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),u=n?4:0,h=n?0:4;e.setUint32(t+u,s,n),e.setUint32(t+h,a,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);const s=O(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=a/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<u;e++)s.setUint32(4*e,h[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}const q=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),$=Uint8Array.from({length:16},((e,t)=>t)),K=$.map((e=>(9*e+5)%16));let V=[$],W=[K];for(let e=0;e<4;e++)for(let t of[V,W])t.push(t[e].map((e=>q[e])));const G=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),Y=V.map(((e,t)=>e.map((e=>G[t][e])))),J=W.map(((e,t)=>e.map((e=>G[t][e])))),Z=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),X=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Q=(e,t)=>e<<t|e>>>32-t;function ee(e,t,r,n){return 0===e?t^r^n:1===e?t&r|~t&n:2===e?(t|~r)^n:3===e?t&n|r&~n:t^(r|~n)}const te=new Uint32Array(16);class re extends F{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:r,h3:n,h4:i}=this;return[e,t,r,n,i]}set(e,t,r,n,i){this.h0=0|e,this.h1=0|t,this.h2=0|r,this.h3=0|n,this.h4=0|i}process(e,t){for(let r=0;r<16;r++,t+=4)te[r]=e.getUint32(t,!0);let r=0|this.h0,n=r,i=0|this.h1,o=i,s=0|this.h2,a=s,u=0|this.h3,h=u,f=0|this.h4,c=f;for(let e=0;e<5;e++){const t=4-e,l=Z[e],d=X[e],p=V[e],y=W[e],m=Y[e],g=J[e];for(let t=0;t<16;t++){const n=Q(r+ee(e,i,s,u)+te[p[t]]+l,m[t])+f|0;r=f,f=u,u=0|Q(s,10),s=i,i=n}for(let e=0;e<16;e++){const r=Q(n+ee(t,o,a,h)+te[y[e]]+d,g[e])+c|0;n=c,c=h,h=0|Q(a,10),a=o,o=r}}this.set(this.h1+s+h|0,this.h2+u+c|0,this.h3+f+n|0,this.h4+r+o|0,this.h0+i+a|0)}roundClean(){te.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const ne=U((()=>new re)),ie=(e,t,r)=>e&t^e&r^t&r,oe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),se=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ae=new Uint32Array(64);class ue extends F{constructor(){super(64,32,8,!1),this.A=0|se[0],this.B=0|se[1],this.C=0|se[2],this.D=0|se[3],this.E=0|se[4],this.F=0|se[5],this.G=0|se[6],this.H=0|se[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)ae[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=ae[e-15],r=ae[e-2],n=B(t,7)^B(t,18)^t>>>3,i=B(r,17)^B(r,19)^r>>>10;ae[e]=i+ae[e-7]+n+ae[e-16]|0}let{A:r,B:n,C:i,D:o,E:s,F:a,G:u,H:h}=this;for(let e=0;e<64;e++){const t=h+(B(s,6)^B(s,11)^B(s,25))+((f=s)&a^~f&u)+oe[e]+ae[e]|0,c=(B(r,2)^B(r,13)^B(r,22))+ie(r,n,i)|0;h=u,u=a,a=s,s=o+t|0,o=i,i=n,n=r,r=t+c|0}var f;r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,u=u+this.G|0,h=h+this.H|0,this.set(r,n,i,o,s,a,u,h)}roundClean(){ae.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class he extends ue{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const fe=U((()=>new ue)),ce=(U((()=>new he)),BigInt(2**32-1)),le=BigInt(32);function de(e,t=!1){return t?{h:Number(e&ce),l:Number(e>>le&ce)}:{h:0|Number(e>>le&ce),l:0|Number(e&ce)}}const pe={fromBig:de,split:function(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=de(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]},toBig:(e,t)=>BigInt(e>>>0)<<le|BigInt(t>>>0),shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,r)=>e<<r|t>>>32-r,rotlSL:(e,t,r)=>t<<r|e>>>32-r,rotlBH:(e,t,r)=>t<<r-32|e>>>64-r,rotlBL:(e,t,r)=>e<<r-32|t>>>64-r,add:function(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,add5H:(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)},ye=pe,[me,ge]=ye.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),be=new Uint32Array(80),we=new Uint32Array(80);class ve extends F{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:o,Dh:s,Dl:a,Eh:u,El:h,Fh:f,Fl:c,Gh:l,Gl:d,Hh:p,Hl:y}=this;return[e,t,r,n,i,o,s,a,u,h,f,c,l,d,p,y]}set(e,t,r,n,i,o,s,a,u,h,f,c,l,d,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|u,this.El=0|h,this.Fh=0|f,this.Fl=0|c,this.Gh=0|l,this.Gl=0|d,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let r=0;r<16;r++,t+=4)be[r]=e.getUint32(t),we[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|be[e-15],r=0|we[e-15],n=ye.rotrSH(t,r,1)^ye.rotrSH(t,r,8)^ye.shrSH(t,r,7),i=ye.rotrSL(t,r,1)^ye.rotrSL(t,r,8)^ye.shrSL(t,r,7),o=0|be[e-2],s=0|we[e-2],a=ye.rotrSH(o,s,19)^ye.rotrBH(o,s,61)^ye.shrSH(o,s,6),u=ye.rotrSL(o,s,19)^ye.rotrBL(o,s,61)^ye.shrSL(o,s,6),h=ye.add4L(i,u,we[e-7],we[e-16]),f=ye.add4H(h,n,a,be[e-7],be[e-16]);be[e]=0|f,we[e]=0|h}let{Ah:r,Al:n,Bh:i,Bl:o,Ch:s,Cl:a,Dh:u,Dl:h,Eh:f,El:c,Fh:l,Fl:d,Gh:p,Gl:y,Hh:m,Hl:g}=this;for(let e=0;e<80;e++){const t=ye.rotrSH(f,c,14)^ye.rotrSH(f,c,18)^ye.rotrBH(f,c,41),b=ye.rotrSL(f,c,14)^ye.rotrSL(f,c,18)^ye.rotrBL(f,c,41),w=f&l^~f&p,v=c&d^~c&y,_=ye.add5L(g,b,v,ge[e],we[e]),E=ye.add5H(_,m,t,w,me[e],be[e]),S=0|_,M=ye.rotrSH(r,n,28)^ye.rotrBH(r,n,34)^ye.rotrBH(r,n,39),A=ye.rotrSL(r,n,28)^ye.rotrBL(r,n,34)^ye.rotrBL(r,n,39),k=r&i^r&s^i&s,x=n&o^n&a^o&a;m=0|p,g=0|y,p=0|l,y=0|d,l=0|f,d=0|c,({h:f,l:c}=ye.add(0|u,0|h,0|E,0|S)),u=0|s,h=0|a,s=0|i,a=0|o,i=0|r,o=0|n;const T=ye.add3L(S,A,x);r=ye.add3H(T,E,M,k),n=0|T}({h:r,l:n}=ye.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:o}=ye.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=ye.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:u,l:h}=ye.add(0|this.Dh,0|this.Dl,0|u,0|h)),({h:f,l:c}=ye.add(0|this.Eh,0|this.El,0|f,0|c)),({h:l,l:d}=ye.add(0|this.Fh,0|this.Fl,0|l,0|d)),({h:p,l:y}=ye.add(0|this.Gh,0|this.Gl,0|p,0|y)),({h:m,l:g}=ye.add(0|this.Hh,0|this.Hl,0|m,0|g)),this.set(r,n,i,o,s,a,u,h,f,c,l,d,p,y,m,g)}roundClean(){be.fill(0),we.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class _e extends ve{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class Ee extends ve{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class Se extends ve{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const Me=U((()=>new ve));U((()=>new _e)),U((()=>new Ee)),U((()=>new Se));var Ae=__webpack_require__(5856),ke=__webpack_require__.t(Ae,2);const xe=BigInt(0),Te=BigInt(1),Pe=BigInt(2),Ie=BigInt(3),Re=BigInt(8),Oe=Object.freeze({a:xe,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Te,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),Be=(e,t)=>(e+t/Pe)/t,Ce={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(e){const{n:t}=Oe,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Te*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),a=Be(o*e,t),u=Be(-n*e,t);let h=it(e-a*r-u*i,t),f=it(-a*n-u*o,t);const c=h>s,l=f>s;if(c&&(h=t-h),l&&(f=t-f),h>s||f>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:c,k1:h,k2neg:l,k2:f}}};function Le(e){const{a:t,b:r}=Oe,n=it(e*e),i=it(n*e);return it(i+t*e+r)}const je=Oe.a===xe;class De extends Error{constructor(e){super(e)}}function Ne(e){if(!(e instanceof Ue))throw new TypeError("JacobianPoint expected")}class Ue{constructor(e,t,r){this.x=e,this.y=t,this.z=r}static fromAffine(e){if(!(e instanceof Fe))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(Fe.ZERO)?Ue.ZERO:new Ue(e.x,e.y,Te)}static toAffineBatch(e){const t=function(e,t=Oe.P){const r=new Array(e.length),n=st(e.reduce(((e,n,i)=>n===xe?e:(r[i]=e,it(e*n,t))),Te),t);return e.reduceRight(((e,n,i)=>n===xe?e:(r[i]=it(e*r[i],t),it(e*n,t))),n),r}(e.map((e=>e.z)));return e.map(((e,r)=>e.toAffine(t[r])))}static normalizeZ(e){return Ue.toAffineBatch(e).map(Ue.fromAffine)}equals(e){Ne(e);const{x:t,y:r,z:n}=this,{x:i,y:o,z:s}=e,a=it(n*n),u=it(s*s),h=it(t*u),f=it(i*a),c=it(it(r*s)*u),l=it(it(o*n)*a);return h===f&&c===l}negate(){return new Ue(this.x,it(-this.y),this.z)}double(){const{x:e,y:t,z:r}=this,n=it(e*e),i=it(t*t),o=it(i*i),s=e+i,a=it(Pe*(it(s*s)-n-o)),u=it(Ie*n),h=it(u*u),f=it(h-Pe*a),c=it(u*(a-f)-Re*o),l=it(Pe*t*r);return new Ue(f,c,l)}add(e){Ne(e);const{x:t,y:r,z:n}=this,{x:i,y:o,z:s}=e;if(i===xe||o===xe)return this;if(t===xe||r===xe)return e;const a=it(n*n),u=it(s*s),h=it(t*u),f=it(i*a),c=it(it(r*s)*u),l=it(it(o*n)*a),d=it(f-h),p=it(l-c);if(d===xe)return p===xe?this.double():Ue.ZERO;const y=it(d*d),m=it(d*y),g=it(h*y),b=it(p*p-m-Pe*g),w=it(p*(g-b)-c*m),v=it(n*s*d);return new Ue(b,w,v)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const t=Ue.ZERO;if("bigint"==typeof e&&e===xe)return t;let r=nt(e);if(r===Te)return this;if(!je){let e=t,n=this;for(;r>xe;)r&Te&&(e=e.add(n)),n=n.double(),r>>=Te;return e}let{k1neg:n,k1:i,k2neg:o,k2:s}=Ce.splitScalar(r),a=t,u=t,h=this;for(;i>xe||s>xe;)i&Te&&(a=a.add(h)),s&Te&&(u=u.add(h)),h=h.double(),i>>=Te,s>>=Te;return n&&(a=a.negate()),o&&(u=u.negate()),u=new Ue(it(u.x*Ce.beta),u.y,u.z),a.add(u)}precomputeWindow(e){const t=je?128/e+1:256/e+1,r=[];let n=this,i=n;for(let o=0;o<t;o++){i=n,r.push(i);for(let t=1;t<2**(e-1);t++)i=i.add(n),r.push(i);n=i.double()}return r}wNAF(e,t){!t&&this.equals(Ue.BASE)&&(t=Fe.BASE);const r=t&&t._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=t&&ze.get(t);n||(n=this.precomputeWindow(r),t&&1!==r&&(n=Ue.normalizeZ(n),ze.set(t,n)));let i=Ue.ZERO,o=Ue.BASE;const s=1+(je?128/r:256/r),a=2**(r-1),u=BigInt(2**r-1),h=2**r,f=BigInt(r);for(let t=0;t<s;t++){const r=t*a;let s=Number(e&u);e>>=f,s>a&&(s-=h,e+=Te);const c=r,l=r+Math.abs(s)-1,d=t%2!=0,p=s<0;0===s?o=o.add(He(d,n[c])):i=i.add(He(p,n[l]))}return{p:i,f:o}}multiply(e,t){let r,n,i=nt(e);if(je){const{k1neg:e,k1:o,k2neg:s,k2:a}=Ce.splitScalar(i);let{p:u,f:h}=this.wNAF(o,t),{p:f,f:c}=this.wNAF(a,t);u=He(e,u),f=He(s,f),f=new Ue(it(f.x*Ce.beta),f.y,f.z),r=u.add(f),n=h.add(c)}else{const{p:e,f:o}=this.wNAF(i,t);r=e,n=o}return Ue.normalizeZ([r,n])[0]}toAffine(e){const{x:t,y:r,z:n}=this,i=this.equals(Ue.ZERO);null==e&&(e=i?Re:st(n));const o=e,s=it(o*o),a=it(s*o),u=it(t*s),h=it(r*a),f=it(n*o);if(i)return Fe.ZERO;if(f!==Te)throw new Error("invZ was invalid");return new Fe(u,h)}}function He(e,t){const r=t.negate();return e?r:t}Ue.BASE=new Ue(Oe.Gx,Oe.Gy,Te),Ue.ZERO=new Ue(xe,Te,xe);const ze=new WeakMap;class Fe{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,ze.delete(this)}hasEvenY(){return this.y%Pe===xe}static fromCompressedHex(e){const t=32===e.length,r=tt(t?e:e.subarray(1));if(!lt(r))throw new Error("Point is not on curve");let n=function(e){const{P:t}=Oe,r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),a=BigInt(88),u=e*e*e%t,h=u*u*e%t,f=ot(h,Ie)*h%t,c=ot(f,Ie)*h%t,l=ot(c,Pe)*u%t,d=ot(l,n)*l%t,p=ot(d,i)*d%t,y=ot(p,s)*p%t,m=ot(y,a)*y%t,g=ot(m,s)*p%t,b=ot(g,Ie)*h%t,w=ot(b,o)*d%t,v=ot(w,r)*u%t,_=ot(v,Pe);if(_*_%t!==e)throw new Error("Cannot find square root");return _}(Le(r));const i=(n&Te)===Te;t?i&&(n=it(-n)):1==(1&e[0])!==i&&(n=it(-n));const o=new Fe(r,n);return o.assertValidity(),o}static fromUncompressedHex(e){const t=tt(e.subarray(1,33)),r=tt(e.subarray(33,65)),n=new Fe(t,r);return n.assertValidity(),n}static fromHex(e){const t=rt(e),r=t.length,n=t[0];if(32===r)return this.fromCompressedHex(t);if(33===r&&(2===n||3===n))return this.fromCompressedHex(t);if(65===r&&4===n)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${r}`)}static fromPrivateKey(e){return Fe.BASE.multiply(pt(e))}static fromSignature(e,t,r){const{r:n,s:i}=mt(t);if(![0,1,2,3].includes(r))throw new Error("Cannot recover: invalid recovery bit");const o=at(rt(e)),{n:s}=Oe,a=2===r||3===r?n+s:n,u=st(a,s),h=it(-o*u,s),f=it(i*u,s),c=1&r?"03":"02",l=Fe.fromHex(c+Je(a)),d=Fe.BASE.multiplyAndAddUnsafe(l,h,f);if(!d)throw new Error("Cannot recover signature: point at infinify");return d.assertValidity(),d}toRawBytes(e=!1){return et(this.toHex(e))}toHex(e=!1){const t=Je(this.x);return e?`${this.hasEvenY()?"02":"03"}${t}`:`04${t}${Je(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:t,y:r}=this;if(!lt(t)||!lt(r))throw new Error(e);const n=it(r*r);if(it(n-Le(t))!==xe)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Fe(this.x,it(-this.y))}double(){return Ue.fromAffine(this).double().toAffine()}add(e){return Ue.fromAffine(this).add(Ue.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Ue.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,r){const n=Ue.fromAffine(this),i=t===xe||t===Te||this!==Fe.BASE?n.multiplyUnsafe(t):n.multiply(t),o=Ue.fromAffine(e).multiplyUnsafe(r),s=i.add(o);return s.equals(Ue.ZERO)?void 0:s.toAffine()}}function qe(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function $e(e){if(e.length<2||2!==e[0])throw new Error(`Invalid signature integer tag: ${Ge(e)}`);const t=e[1],r=e.subarray(2,t+2);if(!t||r.length!==t)throw new Error("Invalid signature integer: wrong length");if(0===r[0]&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:tt(r),left:e.subarray(t+2)}}Fe.BASE=new Fe(Oe.Gx,Oe.Gy),Fe.ZERO=new Fe(xe,xe);class Ke{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){const t=e instanceof Uint8Array,r="Signature.fromCompact";if("string"!=typeof e&&!t)throw new TypeError(`${r}: Expected string or Uint8Array`);const n=t?Ge(e):e;if(128!==n.length)throw new Error(`${r}: Expected 64-byte hex`);return new Ke(Qe(n.slice(0,64)),Qe(n.slice(64,128)))}static fromDER(e){const t=e instanceof Uint8Array;if("string"!=typeof e&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r,s:n}=function(e){if(e.length<2||48!=e[0])throw new Error(`Invalid signature tag: ${Ge(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:r}=$e(e.subarray(2)),{data:n,left:i}=$e(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${Ge(i)}`);return{r:t,s:n}}(t?e:et(e));return new Ke(r,n)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:t}=this;if(!ct(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!ct(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=Oe.n>>Te;return this.s>e}normalizeS(){return this.hasHighS()?new Ke(this.r,it(-this.s,Oe.n)):this}toDERRawBytes(){return et(this.toDERHex())}toDERHex(){const e=qe(Xe(this.s)),t=qe(Xe(this.r)),r=e.length/2,n=t.length/2,i=Xe(r),o=Xe(n);return`30${Xe(n+r+4)}02${o}${t}02${i}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return et(this.toCompactHex())}toCompactHex(){return Je(this.r)+Je(this.s)}}function Ve(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}const We=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Ge(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let r=0;r<e.length;r++)t+=We[e[r]];return t}const Ye=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Je(e){if("bigint"!=typeof e)throw new Error("Expected bigint");if(!(xe<=e&&e<Ye))throw new Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function Ze(e){const t=et(Je(e));if(32!==t.length)throw new Error("Error: expected 32 bytes");return t}function Xe(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function Qe(e){if("string"!=typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function et(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r,i=e.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}function tt(e){return Qe(Ge(e))}function rt(e){return e instanceof Uint8Array?Uint8Array.from(e):et(e)}function nt(e){if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if("bigint"==typeof e&&ct(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function it(e,t=Oe.P){const r=e%t;return r>=xe?r:t+r}function ot(e,t){const{P:r}=Oe;let n=e;for(;t-- >xe;)n*=n,n%=r;return n}function st(e,t=Oe.P){if(e===xe||t<=xe)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=it(e,t),n=t,i=xe,o=Te,s=Te,a=xe;for(;r!==xe;){const e=n/r,t=n%r,u=i-s*e,h=o-a*e;n=r,r=t,i=s,o=a,s=u,a=h}if(n!==Te)throw new Error("invert: does not exist");return it(i,t)}function at(e,t=!1){const r=function(e){const t=8*e.length-256,r=tt(e);return t>0?r>>BigInt(t):r}(e);if(t)return r;const{n}=Oe;return r>=n?r-n:r}let ut,ht;class ft{constructor(e,t){if(this.hashLen=e,this.qByteLen=t,"number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return Dt.hmacSha256(this.k,...e)}hmacSync(...e){return ht(this.k,...e)}checkSync(){if("function"!=typeof ht)throw new De("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),0!==e.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),0!==e.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);const r=this.v.slice();t.push(r),e+=this.v.length}return Ve(...t)}generateSync(){this.checkSync(),this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);const r=this.v.slice();t.push(r),e+=this.v.length}return Ve(...t)}}function ct(e){return xe<e&&e<Oe.n}function lt(e){return xe<e&&e<Oe.P}function dt(e,t,r,n=!0){const{n:i}=Oe,o=at(e,!0);if(!ct(o))return;const s=st(o,i),a=Fe.BASE.multiply(o),u=it(a.x,i);if(u===xe)return;const h=it(s*it(t+r*u,i),i);if(h===xe)return;let f=new Ke(u,h),c=(a.x===f.r?0:2)|Number(a.y&Te);return n&&f.hasHighS()&&(f=f.normalizeS(),c^=1),{sig:f,recovery:c}}function pt(e){let t;if("bigint"==typeof e)t=e;else if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if("string"==typeof e){if(64!==e.length)throw new Error("Expected 32 bytes of private key");t=Qe(e)}else{if(!(e instanceof Uint8Array))throw new TypeError("Expected valid private key");if(32!==e.length)throw new Error("Expected 32 bytes of private key");t=tt(e)}if(!ct(t))throw new Error("Expected private key: 0 < key < n");return t}function yt(e){return e instanceof Fe?(e.assertValidity(),e):Fe.fromHex(e)}function mt(e){if(e instanceof Ke)return e.assertValidity(),e;try{return Ke.fromDER(e)}catch(t){return Ke.fromCompact(e)}}function gt(e,t=!1){return Fe.fromPrivateKey(e).toRawBytes(t)}function bt(e){const t=e instanceof Uint8Array,r="string"==typeof e,n=(t||r)&&e.length;return t?33===n||65===n:r?66===n||130===n:e instanceof Fe}function wt(e,t,r=!1){if(bt(e))throw new TypeError("getSharedSecret: first arg must be private key");if(!bt(t))throw new TypeError("getSharedSecret: second arg must be public key");const n=yt(t);return n.assertValidity(),n.multiply(pt(e)).toRawBytes(r)}function vt(e){return tt(e.length>32?e.slice(0,32):e)}function _t(e){const t=vt(e),r=it(t,Oe.n);return Et(r<xe?t:r)}function Et(e){return Ze(e)}function St(e,t,r={}){const{seed:n,m:i,d:o}=function(e,t,r){if(null==e)throw new Error(`sign: expected valid message hash, not "${e}"`);const n=rt(e),i=pt(t),o=[Et(i),_t(n)];if(null!=r){!0===r&&(r=Dt.randomBytes(32));const e=rt(r);if(32!==e.length)throw new Error("sign: Expected 32 bytes of extra data");o.push(e)}return{seed:Ve(...o),m:vt(n),d:i}}(e,t,r.extraEntropy),s=new ft(32,32);let a;for(s.reseedSync(n);!(a=dt(s.generateSync(),i,o,r.canonical));)s.reseedSync();return function(e,t){const{sig:r,recovery:n}=e,{der:i,recovered:o}=Object.assign({canonical:!0,der:!0},t),s=i?r.toDERRawBytes():r.toCompactRawBytes();return o?[s,n]:s}(a,r)}const Mt={strict:!0};function At(e,t,r,n=Mt){let i;try{i=mt(e),t=rt(t)}catch(e){return!1}const{r:o,s}=i;if(n.strict&&i.hasHighS())return!1;const a=at(t);let u;try{u=yt(r)}catch(e){return!1}const{n:h}=Oe,f=st(s,h),c=it(a*f,h),l=it(o*f,h),d=Fe.BASE.multiplyAndAddUnsafe(u,c,l);return!!d&&it(d.x,h)===o}function kt(e){return it(tt(e),Oe.n)}class xt{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){const t=rt(e);if(64!==t.length)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${t.length}`);const r=tt(t.subarray(0,32)),n=tt(t.subarray(32,64));return new xt(r,n)}assertValidity(){const{r:e,s:t}=this;if(!lt(e)||!ct(t))throw new Error("Invalid signature")}toHex(){return Je(this.r)+Je(this.s)}toRawBytes(){return et(this.toHex())}}class Tt{constructor(e,t,r=Dt.randomBytes()){if(null==e)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=rt(e);const{x:n,scalar:i}=this.getScalar(pt(t));if(this.px=n,this.d=i,this.rand=rt(r),32!==this.rand.length)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){const t=Fe.fromPrivateKey(e),r=t.hasEvenY()?e:Oe.n-e;return{point:t,scalar:r,x:t.toRawX()}}initNonce(e,t){return Ze(e^tt(t))}finalizeNonce(e){const t=it(tt(e),Oe.n);if(t===xe)throw new Error("sign: Creation of signature failed. k is zero");const{point:r,x:n,scalar:i}=this.getScalar(t);return{R:r,rx:n,k:i}}finalizeSig(e,t,r,n){return new xt(e.x,it(t+r*n,Oe.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){const{m:e,d:t,px:r,rand:n}=this,i=Dt.taggedHash,o=this.initNonce(t,await i(Lt.aux,n)),{R:s,rx:a,k:u}=this.finalizeNonce(await i(Lt.nonce,o,r,e)),h=kt(await i(Lt.challenge,a,r,e)),f=this.finalizeSig(s,u,h,t);return await Rt(f,e,r)||this.error(),f}calcSync(){const{m:e,d:t,px:r,rand:n}=this,i=Dt.taggedHashSync,o=this.initNonce(t,i(Lt.aux,n)),{R:s,rx:a,k:u}=this.finalizeNonce(i(Lt.nonce,o,r,e)),h=kt(i(Lt.challenge,a,r,e)),f=this.finalizeSig(s,u,h,t);return Ot(f,e,r)||this.error(),f}}function Pt(e,t,r){const n=e instanceof xt,i=n?e:xt.fromHex(e);return n&&i.assertValidity(),{...i,m:rt(t),P:yt(r)}}function It(e,t,r,n){const i=Fe.BASE.multiplyAndAddUnsafe(t,pt(r),it(-n,Oe.n));return!(!i||!i.hasEvenY()||i.x!==e)}async function Rt(e,t,r){try{const{r:n,s:i,m:o,P:s}=Pt(e,t,r),a=kt(await Dt.taggedHash(Lt.challenge,Ze(n),s.toRawX(),o));return It(n,s,i,a)}catch(e){return!1}}function Ot(e,t,r){try{const{r:n,s:i,m:o,P:s}=Pt(e,t,r),a=kt(Dt.taggedHashSync(Lt.challenge,Ze(n),s.toRawX(),o));return It(n,s,i,a)}catch(e){if(e instanceof De)throw e;return!1}}const Bt={Signature:xt,getPublicKey:function(e){return Fe.fromPrivateKey(e).toRawX()},sign:async function(e,t,r){return new Tt(e,t,r).calc()},verify:Rt,signSync:function(e,t,r){return new Tt(e,t,r).calcSync()},verifySync:Ot};Fe.BASE._setWindowSize(8);const Ct={node:ke,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},Lt={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},jt={},Dt={bytesToHex:Ge,hexToBytes:et,concatBytes:Ve,mod:it,invert:st,isValidPrivateKey(e){try{return pt(e),!0}catch(e){return!1}},_bigintTo32Bytes:Ze,_normalizePrivateKey:pt,hashToPrivateKey:e=>{if((e=rt(e)).length<40||e.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");return Ze(it(tt(e),Oe.n-Te)+Te)},randomBytes:(e=32)=>{if(Ct.web)return Ct.web.getRandomValues(new Uint8Array(e));if(Ct.node){const{randomBytes:t}=Ct.node;return Uint8Array.from(t(e))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Dt.hashToPrivateKey(Dt.randomBytes(40)),precompute(e=8,t=Fe.BASE){const r=t===Fe.BASE?t:new Fe(t.x,t.y);return r._setWindowSize(e),r.multiply(Ie),r},sha256:async(...e)=>{if(Ct.web){const t=await Ct.web.subtle.digest("SHA-256",Ve(...e));return new Uint8Array(t)}if(Ct.node){const{createHash:t}=Ct.node,r=t("sha256");return e.forEach((e=>r.update(e))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(Ct.web){const r=await Ct.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=Ve(...t),i=await Ct.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}if(Ct.node){const{createHmac:r}=Ct.node,n=r("sha256",e);return t.forEach((e=>n.update(e))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...t)=>{let r=jt[e];if(void 0===r){const t=await Dt.sha256(Uint8Array.from(e,(e=>e.charCodeAt(0))));r=Ve(t,t),jt[e]=r}return Dt.sha256(r,...t)},taggedHashSync:(e,...t)=>{if("function"!=typeof ut)throw new De("sha256Sync is undefined, you need to set it");let r=jt[e];if(void 0===r){const t=ut(Uint8Array.from(e,(e=>e.charCodeAt(0))));r=Ve(t,t),jt[e]=r}return ut(r,...t)},_JacobianPoint:Ue};function Nt(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function Ut(...e){const t=(e,t)=>r=>e(t(r));return{encode:Array.from(e).reverse().reduce(((e,r)=>e?t(e,r.encode):r.encode),void 0),decode:e.reduce(((e,r)=>e?t(e,r.decode):r.decode),void 0)}}function Ht(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(Nt(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const r=e.indexOf(t);if(-1===r)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return r}))}}}function zt(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function Ft(e,t="="){if(Nt(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;r.length*e%8;)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let n=r.length;if(n*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if(!((n-1)*e%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,n)}}}function qt(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function $t(e,t,r){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let n=0;const i=[],o=Array.from(e);for(o.forEach((e=>{if(Nt(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,s=!0;for(let i=n;i<o.length;i++){const a=o[i],u=t*e+a;if(!Number.isSafeInteger(u)||t*e/t!==e||u-a!=t*e)throw new Error("convertRadix: carry overflow");if(e=u%r,o[i]=Math.floor(u/r),!Number.isSafeInteger(o[i])||o[i]*r+e!==u)throw new Error("convertRadix: carry overflow");s&&(o[i]?s=!1:n=i)}if(i.push(e),s)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}Object.defineProperties(Dt,{sha256Sync:{configurable:!1,get:()=>ut,set(e){ut||(ut=e)}},hmacSha256Sync:{configurable:!1,get:()=>ht,set(e){ht||(ht=e)}}});const Kt=(e,t)=>t?Kt(t,e%t):e,Vt=(e,t)=>e+(t-Kt(e,t));function Wt(e,t,r,n){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(Vt(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${Vt(t,r)}`);let i=0,o=0;const s=2**r-1,a=[];for(const n of e){if(Nt(n),n>=2**t)throw new Error(`convertRadix2: invalid data word=${n} from=${t}`);if(i=i<<t|n,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=r;o-=r)a.push((i>>o-r&s)>>>0);i&=2**o-1}if(i=i<<r-o&s,!n&&o>=t)throw new Error("Excess padding");if(!n&&i)throw new Error(`Non-zero padding: ${i}`);return n&&o>0&&a.push(i>>>0),a}function Gt(e,t=!1){if(Nt(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(Vt(8,e)>32||Vt(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!(r instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Wt(Array.from(r),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Wt(r,e,8,t))}}}function Yt(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}const Jt=Ut(Gt(4),Ht("0123456789ABCDEF"),zt("")),Zt=Ut(Gt(5),Ht("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Ft(5),zt("")),Xt=(Ut(Gt(5),Ht("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Ft(5),zt("")),Ut(Gt(5),Ht("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),zt(""),qt((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),Ut(Gt(6),Ht("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Ft(6),zt(""))),Qt=Ut(Gt(6),Ht("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Ft(6),zt("")),er=e=>{return Ut((Nt(t=58),{encode:e=>{if(!(e instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return $t(Array.from(e),256,t)},decode:e=>{if(!Array.isArray(e)||e.length&&"number"!=typeof e[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from($t(e,t,256))}}),Ht(e),zt(""));var t},tr=er("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),rr=(er("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),er("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),[0,2,3,5,6,7,9,10,11]),nr={encode(e){let t="";for(let r=0;r<e.length;r+=8){const n=e.subarray(r,r+8);t+=tr.encode(n).padStart(rr[n.length],"1")}return t},decode(e){let t=[];for(let r=0;r<e.length;r+=11){const n=e.slice(r,r+11),i=rr.indexOf(n.length),o=tr.decode(n);for(let e=0;e<o.length-i;e++)if(0!==o[e])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(o.slice(o.length-i)))}return Uint8Array.from(t)}},ir=Ut(Ht("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),zt("")),or=[996825010,642813549,513874426,1027748829,705979059];function sr(e){const t=e>>25;let r=(33554431&e)<<5;for(let e=0;e<or.length;e++)1==(t>>e&1)&&(r^=or[e]);return r}function ar(e,t,r=1){const n=e.length;let i=1;for(let t=0;t<n;t++){const r=e.charCodeAt(t);if(r<33||r>126)throw new Error(`Invalid prefix (${e})`);i=sr(i)^r>>5}i=sr(i);for(let t=0;t<n;t++)i=sr(i)^31&e.charCodeAt(t);for(let e of t)i=sr(i)^e;for(let e=0;e<6;e++)i=sr(i);return i^=r,ir.encode(Wt([i%2**30],30,5,!1))}function ur(e){const t="bech32"===e?1:734539939,r=Gt(5),n=r.decode,i=r.encode,o=Yt(n);function s(e,r=90){if("string"!=typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==r&&e.length>r)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${r})`);const n=e.toLowerCase();if(e!==n&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const i=(e=n).lastIndexOf("1");if(0===i||-1===i)throw new Error('Letter "1" must be present between prefix and data only');const o=e.slice(0,i),s=e.slice(i+1);if(s.length<6)throw new Error("Data must be at least 6 characters long");const a=ir.decode(s).slice(0,-6),u=ar(o,a,t);if(!s.endsWith(u))throw new Error(`Invalid checksum in ${e}: expected "${u}"`);return{prefix:o,words:a}}return{encode:function(e,r,n=90){if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof r);const i=e.length+7+r.length;if(!1!==n&&i>n)throw new TypeError(`Length ${i} exceeds limit ${n}`);return`${e=e.toLowerCase()}1${ir.encode(r)}${ar(e,r,t)}`},decode:s,decodeToBytes:function(e){const{prefix:t,words:r}=s(e,!1);return{prefix:t,words:r,bytes:n(r)}},decodeUnsafe:Yt(s),fromWords:n,fromWordsUnsafe:o,toWords:i}}const hr=ur("bech32"),fr={utf8:(ur("bech32m"),{encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)}),hex:Ut(Gt(4),Ht("0123456789abcdef"),zt(""),qt((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}))),base16:Jt,base32:Zt,base64:Xt,base64url:Qt,base58:tr,base58xmr:nr};Object.keys(fr).join(", "),Dt.hmacSha256Sync=(e,...t)=>z(fe,e,Dt.concatBytes(...t));const cr=(lr=fe,Ut(function(e,t){if(Nt(e),"function"!=typeof t)throw new Error("checksum fn should be function");return{encode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const n=t(r).slice(0,e),i=new Uint8Array(r.length+e);return i.set(r),i.set(n,r.length),i},decode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const n=r.slice(0,-e),i=t(n).slice(0,e),o=r.slice(-e);for(let t=0;t<e;t++)if(i[t]!==o[t])throw new Error("Invalid checksum");return n}}}(4,(e=>lr(lr(e)))),tr));var lr;function dr(e){return BigInt(`0x${function(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=C[e[r]];return t}(e)}`)}const pr=L("Bitcoin seed"),yr={private:76066276,public:76067358},mr=2147483648,gr=e=>{if(!Number.isSafeInteger(e)||e<0||e>2**32-1)throw new Error(`Invalid number=${e}. Should be from 0 to 2 ** 32 - 1`);const t=new Uint8Array(4);return O(t).setUint32(0,e,!1),t};class br{constructor(e){if(this.depth=0,this.index=0,this.chainCode=null,this.parentFingerprint=0,!e||"object"!=typeof e)throw new Error("HDKey.constructor must not be called directly");if(this.versions=e.versions||yr,this.depth=e.depth||0,this.chainCode=e.chainCode,this.index=e.index||0,this.parentFingerprint=e.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");if(e.publicKey&&e.privateKey)throw new Error("HDKey: publicKey and privateKey at same time.");if(e.privateKey){if(!Dt.isValidPrivateKey(e.privateKey))throw new Error("Invalid private key");this.privKey="bigint"==typeof e.privateKey?e.privateKey:dr(e.privateKey),this.privKeyBytes=function(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r,i=e.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}(this.privKey.toString(16).padStart(64,"0")),this.pubKey=gt(e.privateKey,!0)}else{if(!e.publicKey)throw new Error("HDKey: no public or private key provided");this.pubKey=Fe.fromHex(e.publicKey).toRawBytes(!0)}var t;this.pubHash=(t=this.pubKey,ne(fe(t)))}get fingerprint(){if(!this.pubHash)throw new Error("No publicKey set!");return e=this.pubHash,O(e).getUint32(0,!1);var e}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this.privKeyBytes||null}get publicKey(){return this.pubKey||null}get privateExtendedKey(){const e=this.privateKey;if(!e)throw new Error("No private key");return cr.encode(this.serialize(this.versions.private,D(new Uint8Array([0]),e)))}get publicExtendedKey(){if(!this.pubKey)throw new Error("No public key");return cr.encode(this.serialize(this.versions.public,this.pubKey))}static fromMasterSeed(e,t=yr){if(I(e),8*e.length<128||8*e.length>512)throw new Error(`HDKey: wrong seed length=${e.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const r=z(Me,pr,e);return new br({versions:t,chainCode:r.slice(32),privateKey:r.slice(0,32)})}static fromExtendedKey(e,t=yr){const r=cr.decode(e),n=O(r),i=n.getUint32(0,!1),o={versions:t,depth:r[4],parentFingerprint:n.getUint32(5,!1),index:n.getUint32(9,!1),chainCode:r.slice(13,45)},s=r.slice(45),a=0===s[0];if(i!==t[a?"private":"public"])throw new Error("Version mismatch");return new br(a?{...o,privateKey:s.slice(1)}:{...o,publicKey:s})}static fromJSON(e){return br.fromExtendedKey(e.xpriv)}derive(e){if(!/^[mM]'?/.test(e))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(e))return this;const t=e.replace(/^[mM]'?\//,"").split("/");let r=this;for(const e of t){const t=/^(\d+)('?)$/.exec(e);if(!t||3!==t.length)throw new Error(`Invalid child index: ${e}`);let n=+t[1];if(!Number.isSafeInteger(n)||n>=mr)throw new Error("Invalid index");"'"===t[2]&&(n+=mr),r=r.deriveChild(n)}return r}deriveChild(e){if(!this.pubKey||!this.chainCode)throw new Error("No publicKey or chainCode set");let t=gr(e);if(e>=mr){const e=this.privateKey;if(!e)throw new Error("Could not derive hardened child key");t=D(new Uint8Array([0]),e,t)}else t=D(this.pubKey,t);const r=z(Me,this.chainCode,t),n=dr(r.slice(0,32)),i=r.slice(32);if(!Dt.isValidPrivateKey(n))throw new Error("Tweak bigger than curve order");const o={versions:this.versions,chainCode:i,depth:this.depth+1,parentFingerprint:this.fingerprint,index:e};try{if(this.privateKey){const e=Dt.mod(this.privKey+n,Oe.n);if(!Dt.isValidPrivateKey(e))throw new Error("The tweak was out of range or the resulted private key is invalid");o.privateKey=e}else{const e=Fe.fromHex(this.pubKey).add(Fe.fromPrivateKey(n));if(e.equals(Fe.ZERO))throw new Error("The tweak was equal to negative P, which made the result key invalid");o.publicKey=e.toRawBytes(!0)}return new br(o)}catch(t){return this.deriveChild(e+1)}}sign(e){if(!this.privateKey)throw new Error("No privateKey set!");return I(e,32),St(e,this.privKey,{canonical:!0,der:!1})}verify(e,t){if(I(e,32),I(t,64),!this.publicKey)throw new Error("No publicKey set!");let r;try{r=Ke.fromCompact(t)}catch(e){return!1}return At(r,e,this.publicKey)}wipePrivateData(){return this.privKey=void 0,this.privKeyBytes&&(this.privKeyBytes.fill(0),this.privKeyBytes=void 0),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(e,t){if(!this.chainCode)throw new Error("No chainCode set");return I(t,33),D(gr(e),new Uint8Array([this.depth]),gr(this.parentFingerprint),gr(this.index),this.chainCode,t)}}var wr,vr,_r=__webpack_require__(939),Er=__webpack_require__(8764).Buffer;class Sr{constructor(e){this.networkLoader=e,this.allNetworks=this.networkLoader.getAllNetworks()}getAddress(e,t,r){const n=this.getNetwork(e.networkType),i=br.fromExtendedKey(e.xpub,n.bip32).deriveChild(t).deriveChild(r);return{index:r,address:this.getAddressByNetwork(Er.from(i.publicKey),n,e.purposeAddress)}}getNetwork(e){return this.allNetworks.find((t=>t.id==e))}getAddressByNetwork(e,t,r){if(44==r){const{address:r}=_r.payments.p2pkh({pubkey:e,network:t});return r}if(49==r)throw Error(`The address purpose ${r} is currently not supported.`);if(84==r){const{address:r}=_r.payments.p2wpkh({pubkey:e,network:t});return r}if(340==r)return this.getIdentifier(e);throw Error(`The address purpose ${r} is currently not supported.`)}convertToBech32(e,t){const r=this.ensureSchnorrPublicKey(e),n=hr.toWords(r);return hr.encode(t,n)}ensureSchnorrPublicKey(e){return 33==e.length?e.slice(1):e}getIdentifier(e){return this.schnorrPublicKeyToHex(this.convertEdcsaPublicKeyToSchnorr(e))}convertEdcsaPublicKeyToSchnorr(e){if(33!=e.length)throw Error("The public key must be compressed EDCSA public key of length 33.");return e.slice(1)}schnorrPublicKeyToHex(e){return Dt.bytesToHex(e)}getAddressByNetworkp2wsh(e,t){const{address:r}=_r.payments.p2wsh({pubkey:e.publicKey,network:t});return r}getAddressByNetworkp2pkh(e,t){const{address:r}=_r.payments.p2pkh({pubkey:e.publicKey,network:t});return r}getAddressByNetworkp2pkhFromBuffer(e,t){const{address:r}=_r.payments.p2pkh({pubkey:e,network:t});return r}getAddressByNetworkp2wpkh(e,t){const{address:r}=_r.payments.p2wpkh({pubkey:e.publicKey,network:t});return r}}let Mr,Ar;!function(e){e[e.Unknown=0]="Unknown",e[e.Online=1]="Online",e[e.Offline=2]="Offline",e[e.Syncing=3]="Syncing",e[e.Error=4]="Error"}(wr||(wr={})),function(e){e[e.publicKey=0]="publicKey",e[e.identity=1]="identity",e[e.sign=2]="sign",e[e.encrypt=3]="encrypt",e[e.decrypt=4]="decrypt"}(vr||(vr={}));const kr=new WeakMap,xr=new WeakMap,Tr=new WeakMap,Pr=new WeakMap,Ir=new WeakMap;let Rr={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return xr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Tr.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Br(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Or(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ar||(Ar=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(Cr(this),e),Br(kr.get(this))}:function(...e){return Br(t.apply(Cr(this),e))}:function(e,...r){const n=t.call(Cr(this),e,...r);return Tr.set(n,e.sort?e.sort():[e]),Br(n)}:(e instanceof IDBTransaction&&function(e){if(xr.has(e))return;const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),n()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));xr.set(e,t)}(e),r=e,(Mr||(Mr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>r instanceof e))?new Proxy(e,Rr):e);var t,r}function Br(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Br(e.result)),n()},o=()=>{r(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&kr.set(t,e)})).catch((()=>{})),Ir.set(t,e),t}(e);if(Pr.has(e))return Pr.get(e);const t=Or(e);return t!==e&&(Pr.set(e,t),Ir.set(t,e)),t}const Cr=e=>Ir.get(e),Lr=["get","getKey","getAll","getAllKeys","count"],jr=["put","add","delete","clear"],Dr=new Map;function Nr(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Dr.get(t))return Dr.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=jr.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!i&&!Lr.includes(r))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;return n&&(s=s.index(t.shift())),(await Promise.all([s[r](...t),i&&o.done]))[0]};return Dr.set(t,o),o}var Ur,Hr;Ur=Rr,Rr={...Ur,get:(e,t,r)=>Nr(e,t)||Ur.get(e,t,r),has:(e,t)=>!!Nr(e,t)||Ur.has(e,t)};class zr{}zr.Instance=new class{constructor(e){this.name=e}async open(){this.db||(this.db=await function(e,t,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Br(s);return n&&s.addEventListener("upgradeneeded",(e=>{n(Br(s.result),e.oldVersion,e.newVersion,Br(s.transaction),e)})),r&&s.addEventListener("blocked",(e=>r(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(this.name,1,{upgrade(e,t,r,n,i){switch(t){case 0:e.createObjectStore("bucket",{keyPath:"id"});break;case 1:case 2:break;default:console.error("Unknown database version.")}},blocked(e,t,r){},blocking(e,t,r){},terminated(){}}))}close(){this.db.close()}async getState(){return this.db.get("state",1)}async putState(e){return e.id=1,e.modified=Math.floor(Date.now()/1e3),this.db.put("state",e)}async getAccount(e){return this.db.get("account",e)}async getAccounts(){return this.db.getAll("account")}async putAccount(e){return this.db.put("account",e)}async deleteAccount(e){return this.db.delete("account",e)}async getAccountState(e){return this.db.get("accountstate",e)}async getAccountStates(){return this.db.getAll("accountstate")}async putAccountState(e){return this.db.put("accountstate",e)}async deleteAccountState(e){return this.db.delete("accountstate",e)}async deleteDatabase(){await function(e,{blocked:t}={}){const r=indexedDB.deleteDatabase(e);return t&&r.addEventListener("blocked",(e=>t(e.oldVersion,e))),Br(r).then((()=>{}))}(this.name,{blocked(){console.log("BLOCKED...")}})}async getAccountHistory(e){return this.db.get("accounthistory",e)}async getAccountHistories(){return this.db.getAll("accounthistory")}async putAccountHistory(e){return this.db.put("accounthistory",e)}async deleteAccountHistory(e){return this.db.delete("accounthistory",e)}async getSetting(e){return this.db.get("settings",e)}async getSettings(){return this.db.getAll("settings")}async putSettings(e){return this.db.put("settings",e)}async deleteSettings(e){return this.db.delete("settings",e)}async getNetworkState(e){return this.db.get("networkstate",e)}async getNetworkStates(){return this.db.getAll("networkstate")}async putNetworkState(e){return this.db.put("networkstate",e)}async deleteNetworkState(e){return this.db.delete("networkstate",e)}async getApp(e){return this.db.get("app",e)}async getApps(){return this.db.getAll("app")}async putApp(e){return this.db.put("app",e)}async deleteApp(e){return this.db.delete("app",e)}async getWallet(e){return this.db.get("wallet",e)}async getWallets(){return this.db.getAll("wallet")}async putWallet(e){return this.db.put("wallet",e)}async deleteWallet(e){return this.db.delete("wallet",e)}async getBucket(e){return this.get("bucket",e)}async putBucket(e,t){return this.put("bucket",{id:e,value:t})}async deleteBucket(e){return this.delete("bucket",e)}async get(e,t){return this.db.get(e,t)}async getAll(e){return this.db.getAll(e)}async put(e,t){return this.db.put(e,t)}async delete(e,t){return this.db.delete(e,t)}}("blockcore-wallet");class Fr{constructor(){this.db=zr.Instance}async set(e,t){await this.db.putBucket(e,t),globalThis.chrome&&globalThis.chrome.storage?await globalThis.chrome.storage.local.set({[e]:t}):globalThis.localStorage.setItem(e,JSON.stringify(t))}async get(e){const t=await this.db.getBucket(e);if(t)return t.value;if(!t){if(globalThis.chrome&&globalThis.chrome.storage){const t=await globalThis.chrome.storage.local.get(e);return t[e]&&await this.db.putBucket(e,t[e]),t[e]}{let t=globalThis.localStorage.getItem(e);return t?(await this.db.putBucket(e,JSON.parse(t)),JSON.parse(t)):void 0}}}async remove(e){await this.db.deleteBucket(e),globalThis.chrome&&globalThis.chrome.storage?await globalThis.chrome.storage.local.remove(e):globalThis.localStorage.removeItem(e)}}class qr{constructor(e){this.stateKey=e,this.items=new Map,this.state=new Fr}async wipe(){await this.state.remove(this.stateKey),this.items.clear()}async save(){return this.state.set(this.stateKey,Object.fromEntries(this.items.entries()))}set(e,t){this.items.set(e,t)}get(e){return this.items.get(e)}remove(e){this.items.delete(e)}all(){return Array.from(this.items.values())}async load(){const e=await this.state.get(this.stateKey);null!=e&&Object.keys(e).length>0?this.items=new Map(Object.entries(e)):this.items=new Map}}class $r{constructor(e){this.stateKey=e,this.state=new Fr}get(){return this.item}set(e){this.item=e}async load(){this.item=await this.state.get(this.stateKey),null==this.item&&(this.item=this.defaultItem())}async save(){return this.state.set(this.stateKey,this.item)}async wipe(){await this.state.remove(this.stateKey),this.item=void 0}defaultItem(){}}class Kr extends qr{constructor(){super("address")}}class Vr extends qr{constructor(){super("networkstatus")}}!function(e){e[e.publicKey=0]="publicKey",e[e.identity=1]="identity",e[e.sign=2]="sign",e[e.encrypt=3]="encrypt",e[e.decrypt=4]="decrypt"}(Hr||(Hr={}));class Wr extends $r{constructor(){super("setting"),this.serverGroup="group1"}defaultItem(){return{autoTimeout:15,indexer:"https://{id}.indexer.blockcore.net",dataVault:"https://vault.blockcore.net",server:this.serverGroup,theme:"dark",themeColor:"primary",language:"en",amountFormat:"bitcoin",developer:!1}}}class Gr extends qr{constructor(){super("transaction")}}class Yr extends qr{constructor(){super("wallet")}getWallets(){return Array.from(this.items.values())}}class Jr extends qr{constructor(){super("accounthistory")}}class Zr extends qr{constructor(){super("addresswatch")}byAccountId(e){return Array.from(this.items.values()).filter((t=>t.accountId===e))}}class Xr extends qr{constructor(){super("addressindexed")}}class Qr extends qr{constructor(){super("accountstate")}getAllAddresses(e){const t=this.get(e);return null==t?[]:[...t.receive.map((e=>e.address)),...t.change.map((e=>e.address))]}}const en={group1:[{url:"https://ns.blockcore.net",contact:"post@blockcore.net"},{url:"https://ns.coinvault.io",contact:"post@coinvault.io"}],group2:[{url:"https://ns.blockcore.net",contact:"post@blockcore.net"},{url:"https://ns.coinvault.io",contact:"post@coinvault.io"}]};class tn{constructor(){this.id="BTC",this.name="Bitcoin",this.symbol="BTC",this.bech32="bc",this.network=0,this.purpose=44,this.messagePrefix="Bitcoin Signed Message:\n",this.bip32={public:76067358,private:76066276},this.pubKeyHash=0,this.scriptHash=5,this.wif=8,this.minimumFeeRate=20,this.maximumFeeRate=5e3,this.testnet=!1,this.smartContractSupport=!1,this.type="coin"}}class rn{constructor(){this.id="CITY",this.name="City Chain",this.symbol="CITY",this.network=1926,this.purpose=44,this.messagePrefix="Bitcoin Signed Message:\n",this.bech32="city",this.bip32={public:76067358,private:76066276},this.pubKeyHash=28,this.scriptHash=88,this.wif=8,this.minimumFeeRate=10,this.maximumFeeRate=5e3,this.testnet=!1,this.isProofOfStake=!0,this.smartContractSupport=!1,this.type="coin"}}class nn{constructor(){this.id="CRS",this.name="Cirrus",this.symbol="CRS",this.network=401,this.purpose=44,this.messagePrefix="Bitcoin Signed Message:\n",this.bech32="tb",this.bip32={public:76067358,private:76066276},this.pubKeyHash=28,this.scriptHash=88,this.wif=8,this.minimumFeeRate=10,this.maximumFeeRate=5e3,this.testnet=!1,this.singleAddress=!0,this.smartContractSupport=!0,this.type="coin",this.sidechains=[{name:"Stratis",symbol:"STRAX",targetType:"mainchain",peg:{type:"Federation",address:"cYTNBJDbgjRgcKARAvi2UCSsDdyHkjUqJ2"},confirmations:[{low:0,high:50,count:30},{low:50,high:1e3,count:70},{low:1e3,count:140}]}]}}class on{constructor(){this.id="CY",this.name="Cybits",this.symbol="CY",this.network=3601,this.purpose=44,this.purposeAddress=84,this.messagePrefix="Bitcoin Signed Message:\n",this.bech32="cy",this.bip32={public:76067358,private:76066276},this.pubKeyHash=28,this.scriptHash=87,this.wif=8,this.minimumFeeRate=0,this.maximumFeeRate=0,this.testnet=!1,this.smartContractSupport=!1,this.isProofOfStake=!0,this.type="coin"}}class sn{constructor(){this.id="IDENTITY",this.name="Identity (did:is)",this.symbol="did:is",this.network=616,this.purpose=302,this.messagePrefix="Bitcoin Signed Message:\n",this.bech32="id",this.bip32={public:76067358,private:76066276},this.pubKeyHash=55,this.scriptHash=117,this.wif=8,this.testnet=!1,this.smartContractSupport=!1,this.type="identity"}}class an{constructor(){this.id="KEY",this.name="Identity (did:key)",this.symbol="did:key",this.network=618,this.purpose=302,this.messagePrefix="Bitcoin Signed Message:\n",this.bech32="key",this.bip32={public:76067358,private:76066276},this.pubKeyHash=55,this.scriptHash=117,this.wif=8,this.testnet=!1,this.smartContractSupport=!1,this.type="identity"}}class un{constructor(){this.id="IMPLX",this.name="ImpleumX",this.symbol="IMPLX",this.network=701,this.purpose=44,this.messagePrefix="Bitcoin Signed Message:\n",this.bech32="implx",this.bip32={public:76067358,private:76066276},this.pubKeyHash=76,this.scriptHash=141,this.wif=8,this.minimumFeeRate=10,this.maximumFeeRate=5e3,this.testnet=!1,this.isProofOfStake=!0,this.smartContractSupport=!1,this.type="coin"}}class hn{constructor(){this.id="MOL",this.name="Molie",this.symbol="MOL",this.network=772,this.purpose=44,this.messagePrefix="Bitcoin Signed Message:\n",this.bech32="mol",this.bip32={public:76067358,private:76066276},this.pubKeyHash=51,this.scriptHash=141,this.wif=8,this.feeRate=1e4,this.minFeeRate=1e4,this.testnet=!1,this.isProofOfStake=!0,this.smartContractSupport=!1,this.type="coin"}}class fn{constructor(){this.id="NOSTR",this.name="Nostr",this.symbol="nostr:key",this.network=1237,this.purpose=44,this.addressPurpose=340,this.messagePrefix="Bitcoin Signed Message:\n",this.bech32="npub",this.bip32={public:76067358,private:76066276},this.pubKeyHash=0,this.scriptHash=5,this.wif=8,this.testnet=!1,this.smartContractSupport=!1,this.type="identity",this.singleAddress=!0}}class cn{constructor(){this.id="RSC",this.name="Royal Sports City",this.symbol="RSC",this.network=6599,this.purpose=44,this.purposeAddress=84,this.messagePrefix="Bitcoin Signed Message:\n",this.bech32="rsc",this.bip32={public:76067358,private:76066276},this.pubKeyHash=60,this.scriptHash=122,this.wif=8,this.minimumFeeRate=1e3,this.maximumFeeRate=5e5,this.testnet=!1,this.smartContractSupport=!1,this.isProofOfStake=!0,this.type="coin"}}class ln{constructor(){this.id="SBC",this.name="Senior Blockchain",this.symbol="SBC",this.network=5006,this.purpose=44,this.purposeAddress=84,this.messagePrefix="Bitcoin Signed Message:\n",this.bech32="sbc",this.bip32={public:76067358,private:76066276},this.pubKeyHash=63,this.scriptHash=125,this.wif=8,this.minimumFeeRate=10,this.maximumFeeRate=5e3,this.testnet=!1,this.smartContractSupport=!1,this.isProofOfStake=!0,this.type="coin"}}class dn{constructor(){this.id="STRAX",this.name="Stratis",this.symbol="STRAX",this.network=105105,this.purpose=44,this.messagePrefix="Bitcoin Signed Message:\n",this.bech32="strax",this.bip32={public:76067358,private:76066276},this.pubKeyHash=75,this.scriptHash=140,this.wif=8,this.minimumFeeRate=10,this.maximumFeeRate=5e3,this.testnet=!1,this.smartContractSupport=!1,this.type="coin",this.sidechains=[{name:"Cirrus",symbol:"CRS",targetType:"sidechain",peg:{type:"Federation",address:"yU2jNwiac7XF8rQvSk2bgibmwsNLkkhsHV"},confirmations:[{low:0,high:50,count:10},{low:50,high:1e3,count:25},{low:1e3,count:50}]}]}}class pn{constructor(){this.id="TCRS",this.name="CirrusTest",this.symbol="TCRS",this.network=400,this.purpose=44,this.messagePrefix="Bitcoin Signed Message:\n",this.bech32="tb",this.bip32={public:76067358,private:76066276},this.pubKeyHash=127,this.scriptHash=137,this.wif=8,this.minimumFeeRate=10,this.maximumFeeRate=5e3,this.testnet=!0,this.singleAddress=!0,this.smartContractSupport=!0,this.type="coin",this.sidechains=[{name:"Stratis Test",symbol:"TSTRAX",targetType:"mainchain",peg:{type:"Federation",address:"xHtgXLa3CSjAVtmydqNrrMU7nZw7qdq2w6"},confirmations:[{low:0,high:50,count:30},{low:50,high:1e3,count:70},{low:1e3,count:140}]}]}}class yn{constructor(){this.id="TSTRAX",this.name="StratisTest",this.symbol="TSTRAX",this.network=1,this.purpose=44,this.messagePrefix="Bitcoin Signed Message:\n",this.bech32="tstrax",this.bip32={public:76067358,private:76066276},this.pubKeyHash=120,this.scriptHash=127,this.wif=8,this.minimumFeeRate=10,this.maximumFeeRate=5e3,this.testnet=!0,this.smartContractSupport=!1,this.type="coin",this.sidechains=[{name:"Cirrus Test",symbol:"TCRS",targetType:"sidechain",peg:{type:"Federation",address:"tGWegFbA6e6QKZP7Pe3g16kFVXMghbSfY8"},confirmations:[{low:0,high:50,count:10},{low:50,high:1e3,count:25},{low:1e3,count:50}]}]}}class mn{constructor(){this.id="X42",this.name="X42",this.symbol="x42",this.network=424242,this.purpose=44,this.messagePrefix="Bitcoin Signed Message:\n",this.bech32="x42",this.bip32={public:76067358,private:76066276},this.pubKeyHash=75,this.scriptHash=125,this.wif=8,this.minimumFeeRate=0,this.maximumFeeRate=0,this.testnet=!1,this.smartContractSupport=!1,this.isProofOfStake=!0,this.type="coin"}}class gn{constructor(){this.id="XRC",this.name="xRhodium",this.symbol="XRC",this.network=10291,this.purpose=44,this.messagePrefix="Bitcoin Signed Message:\n",this.bech32="rh",this.bip32={public:76067358,private:76066276},this.pubKeyHash=61,this.scriptHash=123,this.wif=100,this.minimumFeeRate=1e3,this.maximumFeeRate=1e8,this.testnet=!1,this.smartContractSupport=!1,this.isProofOfStake=!1,this.type="coin"}}class bn{constructor(){this.id="SERF",this.name="SERF",this.symbol="SERF",this.network=712,this.purpose=44,this.messagePrefix="Bitcoin Signed Message:\n",this.bech32="serf",this.bip32={public:76067358,private:76066276},this.pubKeyHash=63,this.scriptHash=110,this.wif=8,this.feeRate=1e4,this.minFeeRate=1e4,this.testnet=!1,this.smartContractSupport=!1,this.isProofOfStake=!0,this.type="coin"}}class wn{constructor(){this.id="BITCOIN_TESTNET",this.name="Bitcoin Testnet",this.symbol="BTC_TEST",this.network=1,this.purpose=44,this.messagePrefix="Bitcoin Signed Message:\n",this.bech32="tb",this.bip32={public:70617039,private:70615956},this.pubKeyHash=111,this.scriptHash=196,this.wif=239,this.minimumFeeRate=1,this.maximumFeeRate=1e3,this.testnet=!0,this.isProofOfStake=!1,this.smartContractSupport=!1,this.type="coin",this.explorer={url:"https://live.blockcypher.com/btc-testnet/",tx:"tx/",address:"address/"}}}class vn{constructor(){this.id="JWK",this.name="Identity (did:jwk)",this.symbol="did:jwk",this.network=617,this.purpose=302,this.messagePrefix="Bitcoin Signed Message:\n",this.bech32="jwk",this.bip32={public:76067358,private:76066276},this.pubKeyHash=55,this.scriptHash=117,this.wif=8,this.testnet=!1,this.smartContractSupport=!1,this.type="identity"}}const{v4:_n}=__webpack_require__(7429);class En{static getNetworks(){const e=[];return e.push(new tn),e.push(new rn),e.push(new nn),e.push(new on),e.push(new sn),e.push(new vn),e.push(new an),e.push(new un),e.push(new hn),e.push(new fn),e.push(new cn),e.push(new ln),e.push(new dn),e.push(new pn),e.push(new yn),e.push(new mn),e.push(new gn),e.push(new bn),e.push(new wn),e}static getDefaultAccounts(e){let t=[];switch(e){case"blockcore":t=[{identifier:_n(),index:0,networkType:"CITY",mode:"normal",selected:!1,name:"City Coin",type:"coin",network:1926,purpose:44,purposeAddress:44,icon:"paid"},{identifier:_n(),selected:!1,networkType:"CRS",mode:"normal",index:0,name:"Cirrus",type:"coin",network:401,purpose:44,purposeAddress:44,icon:"paid"},{identifier:_n(),index:0,networkType:"CY",mode:"normal",selected:!1,name:"Cybits",type:"coin",network:3601,purpose:84,purposeAddress:84,icon:"paid"},{identifier:_n(),selected:!1,networkType:"IMPLX",mode:"normal",index:0,name:"Impleum",type:"coin",network:701,purpose:44,purposeAddress:44,icon:"paid"},{identifier:_n(),selected:!1,networkType:"MOL",mode:"normal",index:0,name:"Molie",type:"coin",network:772,purpose:44,purposeAddress:44,icon:"paid"},{identifier:_n(),index:0,networkType:"RSC",mode:"normal",selected:!1,name:"Royal Sports City",type:"coin",network:6599,purpose:84,purposeAddress:84,icon:"paid"},{identifier:_n(),index:0,networkType:"SBC",mode:"normal",selected:!1,name:"Senior Blockchain",type:"coin",network:5006,purpose:84,purposeAddress:84,icon:"paid"},{identifier:_n(),selected:!1,networkType:"STRAX",mode:"normal",index:0,name:"Stratis",type:"coin",network:105105,purpose:44,purposeAddress:44,icon:"paid"},{identifier:_n(),index:0,networkType:"X42",mode:"normal",selected:!1,name:"X42",type:"coin",network:424242,purpose:44,purposeAddress:44,icon:"paid"},{identifier:_n(),index:0,networkType:"TCRS",mode:"normal",selected:!1,name:"CirrusTest",type:"coin",network:400,purpose:44,purposeAddress:44,icon:"account_circle"},{identifier:_n(),index:0,networkType:"TSTRAX",mode:"normal",selected:!1,name:"StratisTest",type:"coin",network:1,purpose:44,purposeAddress:44,icon:"account_circle"},{identifier:_n(),index:0,networkType:"IDENTITY",selected:!1,mode:"normal",name:"Identity",type:"identity",network:616,purpose:302,purposeAddress:340,icon:"account_circle"},{identifier:_n(),index:0,networkType:"NOSTR",selected:!1,mode:"normal",name:"Nostr",type:"identity",network:1237,purpose:44,purposeAddress:340,icon:"account_circle"},{identifier:_n(),index:0,networkType:"XRC",mode:"normal",selected:!1,name:"XRC",type:"coin",network:10291,purpose:44,purposeAddress:44,icon:"paid"},{identifier:_n(),selected:!1,networkType:"SERF",mode:"normal",index:0,name:"Serf",type:"coin",network:712,purpose:44,purposeAddress:44,icon:"paid"}];break;case"coinvault":t=[{identifier:_n(),index:0,networkType:"STRAX",mode:"normal",selected:!0,name:"Stratis",type:"coin",network:105105,purpose:44,purposeAddress:44,icon:"account_circle"},{identifier:_n(),index:0,networkType:"CRS",mode:"normal",selected:!0,name:"Cirrus",type:"coin",network:401,purpose:44,purposeAddress:44,icon:"account_circle"},{identifier:_n(),index:0,networkType:"TSTRAX",mode:"normal",selected:!1,name:"StratisTest",type:"coin",network:1,purpose:44,purposeAddress:44,icon:"account_circle"},{identifier:_n(),index:0,networkType:"TCRS",mode:"normal",selected:!1,name:"CirrusTest",type:"coin",network:400,purpose:44,purposeAddress:44,icon:"account_circle"},{identifier:_n(),index:0,networkType:"BITCOIN_TESTNET",mode:"normal",selected:!1,name:"Bitcoin Testnet",type:"coin",network:1,purpose:44,purposeAddress:44,icon:"paid"}];break;case"freecity":t=[{identifier:_n(),index:0,networkType:"CITY",mode:"normal",selected:!0,name:"City Coin",type:"coin",network:1926,purpose:44,purposeAddress:44,icon:"paid"},{identifier:_n(),index:0,networkType:"IDENTITY",selected:!0,mode:"normal",name:"City Chain Identity",type:"identity",network:616,purpose:302,purposeAddress:340,icon:"account_circle"}]}return t}}var Sn=__webpack_require__(7790),Mn=__webpack_require__(7647),An=__webpack_require__(733),kn=(__webpack_require__(8503),__webpack_require__(3294)),xn=(__webpack_require__(1094),__webpack_require__(6266)),Tn=(__webpack_require__(1050),__webpack_require__(5456));__webpack_require__(7715);function Pn(e){return An.toString(e,"base64url")}function In(e){const t=e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return An.fromString(t,"base64url")}function Rn(e){return An.toString(e,"base16")}function On({r:e,s:t,recoveryParam:r},n){const i=new Uint8Array(n?65:64);if(i.set(An.fromString(e,"base16"),0),i.set(An.fromString(t,"base16"),32),n){if(void 0===r)throw new Error("Signer did not return a recoveryParam");i[64]=r}return Pn(i)}function Bn(e,t=64){return e.length===t?e:"0".repeat(t-e.length)+e}__webpack_require__(7664),__webpack_require__(9375),__webpack_require__(1416),__webpack_require__(2217);function Cn(e){const t="string"==typeof e?An.fromString(e):e;return(0,kn.hash)(t)}const Ln=new xn.ec("secp256k1");function jn(e,t=!1){const r=e;if(32!==r.length)throw new Error(`bad_key: Invalid private key format. Expecting 32 bytes, but got ${r.length}`);const n=Ln.keyFromPrivate(r);return function(e){try{const{r,s:i,recoveryParam:o}=n.sign(Cn(e));return Promise.resolve(On({r:Bn(r.toString("hex")),s:Bn(i.toString("hex")),recoveryParam:o},t))}catch(e){return Promise.reject(e)}}}function Dn(e){return"object"==typeof e&&"r"in e&&"s"in e}function Nn(e){return function(t,r){try{return Promise.resolve(r(t)).then((function(t){if(Dn(t))return On(t,e);if(e&&void 0===function(e){const t=In(e);if(t.length<64||t.length>65)throw new TypeError(`Wrong size for signature. Expected 64 or 65 bytes, but got ${t.length}`);return{r:Rn(t.slice(0,32)),s:Rn(t.slice(32,64)),recoveryParam:65===t.length?t[64]:void 0}}(t).recoveryParam)throw new Error("not_supported: ES256K-R not supported when signer doesn't provide a recovery param");return t}))}catch(e){return Promise.reject(e)}}}function Un(){return function(e,t){try{return Promise.resolve(t(e)).then((function(e){if(Dn(e))throw new Error("invalid_config: expected a signer function that returns a string instead of signature object");return e}))}catch(e){return Promise.reject(e)}}}new xn.ec("p256");const Hn={ES256:function(e,t){try{return Promise.resolve(t(e)).then((function(e){return Dn(e)?On(e):e}))}catch(e){return Promise.reject(e)}},ES256K:Nn(),"ES256K-R":Nn(!0),Ed25519:Un(),EdDSA:Un()};xn.ec,new xn.ec("secp256k1"),new xn.ec("p256");const zn=function(e,t,r={},n={}){try{r.alg||(r.alg=Fn);const i="string"==typeof e?e:qn(e,n.canonicalize),o=[qn(r,n.canonicalize),i].join("."),s=function(e){const t=Hn[e];if(!t)throw new Error(`not_supported: Unsupported algorithm ${e}`);return t}(r.alg);return Promise.resolve(s(o,t)).then((function(e){return[o,e].join(".")}))}catch(e){return Promise.reject(e)}},Fn="ES256K";function qn(e,t=!1){return r=t?Tn(e):JSON.stringify(e),Pn(An.fromString(r));var r}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));var $n=__webpack_require__(8764).Buffer;class Kn{constructor(e){this.backgroundManager=e,this.action=["did.request"]}async signData(e,t,r){return Sn.sign(r,$n.from(t.privateKey),!0,e.messagePrefix).toString("base64")}async prepare(e){return{content:e.message.request.params[0].challenge,consent:!0}}async execute(e,t,r=null){const{network:n,node:i}=await this.backgroundManager.getKey(t.walletId,t.accountId,t.keyId,r);if(e.content){e.content;const r={challenge:e.content,origin:e.message.app,type:"web5.did.get"},o=new Mn.BlockcoreIdentityTools,s=i.publicKey,a=i.privateKey,u=o.getVerificationMethod(s,0,n.symbol),h=new Mn.BlockcoreIdentity(u),f=await zn(r,o.getSigner(a),{kid:`${h.did}${u.id}`});return{key:t.key,response:{did:t.key,proof:f,challenge:e.content},network:n.id}}return{key:"",response:null,network:n.id}}}class Vn{constructor(e){this.backgroundManager=e,this.action=["did.supportedMethods"]}async prepare(e){return{content:["did:is","did:jwk","did:key"],consent:!1}}async execute(e,t){return{response:e.content}}}class Wn{constructor(e){this.backgroundManager=e,this.action=["payment"]}async prepare(e){return{content:null,consent:!0}}async execute(e,t){return{response:null}}}var Gn=__webpack_require__(8764).Buffer;class Yn{constructor(e){this.backgroundManager=e,this.action=["payment.sign"]}async signData(e,t,r){return Sn.sign(r,Gn.from(t.privateKey),!0,e.messagePrefix).toString("base64")}async prepare(e){return{content:e.message.request.params[0].challenge,consent:!0}}async execute(e,t){const{network:r,node:n}=await this.backgroundManager.getKey(t.walletId,t.accountId,t.keyId);if(e.content){e.content;const i={challenge:e.content,origin:e.message.app,type:"payment.sign"},o=new Mn.BlockcoreIdentityTools,s=n.publicKey,a=n.privateKey,u=o.getVerificationMethod(s,0,r.symbol),h=new Mn.BlockcoreIdentity(u),f=await zn(i,o.getSigner(a),{kid:`${h.did}${u.id}`});return{key:t.key,response:{did:t.key,proof:f,content:e.content},network:r.id}}return{key:"",response:null,network:r.id}}}var Jn=__webpack_require__(8764).Buffer;class Zn{constructor(e){this.backgroundManager=e,this.action=["signMessage"]}async signData(e,t,r){return Sn.sign(r,Jn.from(t.privateKey),!0,e.messagePrefix).toString("base64")}async prepare(e){if(!(e.message&&e.message.request&&e.message.request.params&&e.message.request.params[0]&&e.message.request.params[0].message))throw Error("The params must include a single entry that has a message field.");return{content:e.message.request.params[0].message,consent:!0}}async execute(e,t){const{network:r,node:n}=await this.backgroundManager.getKey(t.walletId,t.accountId,t.keyId);if(e.content){let i=e.content;"string"!=typeof e.content&&(i=JSON.stringify(e.content));let o=await this.signData(r,n,i);return{key:t.key,walletId:t.walletId,accountId:t.accountId,response:{signature:o,content:e.content},network:r.id}}return{key:"",response:null,network:r.id}}}var Xn=__webpack_require__(7786),Qn=__webpack_require__(7235),ei=__webpack_require__(3482),ti=__webpack_require__.n(ei),ri=__webpack_require__(8355),ni=__webpack_require__.n(ri),ii=__webpack_require__(5217),oi=__webpack_require__(8764).Buffer;Dt.sha256Sync=(...e)=>{const t=ti()("sha256");for(const r of e)t.update(r);return t.digest()},Dt.hmacSha256Sync=(e,...t)=>{const r=ni()("sha256",oi.from(e));return t.forEach((e=>r.update(e))),Uint8Array.from(r.digest())};const si=Dt._normalizePrivateKey,ai=e=>!1!==e;function ui(e){try{return e()}catch(e){return null}}function hi(e,t){if(32===e.length!==t)return!1;try{return!!Fe.fromHex(e)}catch(e){return!1}}function fi(e){if("string"!=typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function ci(e){let t;if("bigint"==typeof e)t=e;else if("number"==typeof e&&Number.isSafeInteger(e)&&e>=0)t=BigInt(e);else if("string"==typeof e){if(64!==e.length)throw new Error("Expected 32 bytes of private scalar");t=fi(e)}else{if(!(e instanceof Uint8Array))throw new TypeError("Expected valid private scalar");if(32!==e.length)throw new Error("Expected 32 bytes of private scalar");t=function(e){return fi(Dt.bytesToHex(e))}(e)}if(t<0)throw new Error("Expected private scalar >= 0");return t}function li(e,t,r){const n=Fe.fromHex(e),i=ci(t),o=Fe.BASE.multiplyAndAddUnsafe(n,i,BigInt(1));if(!o)throw new Error("Tweaked point at infinity");return o.toRawBytes(r)}const di={isPoint:e=>hi(e,!1),isPrivate:e=>Dt.isValidPrivateKey(e),isXOnlyPoint:e=>hi(e,!0),xOnlyPointAddTweak:(e,t)=>ui((()=>{const r=li(e,t,!0);return{parity:r[0]%2==1?1:0,xOnlyPubkey:r.slice(1)}})),pointFromScalar:(e,t)=>ui((()=>gt(e,ai(t)))),pointCompress:(e,t)=>Fe.fromHex(e).toRawBytes(ai(t)),pointMultiply:(e,t,r)=>ui((()=>function(e,t,r){const n=Fe.fromHex(e),i="string"==typeof t?t:Dt.bytesToHex(t),o=BigInt(`0x${i}`);return n.multiply(o).toRawBytes(r)}(e,t,ai(r)))),pointAdd:(e,t,r)=>ui((()=>{const n=Fe.fromHex(e),i=Fe.fromHex(t);return n.add(i).toRawBytes(ai(r))})),pointAddScalar:(e,t,r)=>ui((()=>li(e,t,ai(r)))),privateAdd:(e,t)=>ui((()=>{const r=function(e,t){const r=si(e),n=ci(t),i=Dt._bigintTo32Bytes(Dt.mod(r+n,Oe.n));return Dt.isValidPrivateKey(i)?i:null}(e,t);return r?.every((e=>0===e))?null:r})),privateNegate:e=>function(e){const t=si(e),r=Dt._bigintTo32Bytes(Oe.n-t);return Dt.isValidPrivateKey(r)?r:null}(e),sign:(e,t,r)=>St(e,t,{der:!1,extraEntropy:r}),signSchnorr:(e,t,r=oi.alloc(32,0))=>Bt.signSync(e,t,r),verify:(e,t,r,n)=>At(r,e,t,{strict:n}),verifySchnorr:(e,t,r)=>Bt.verifySync(r,e,t)},pi=((0,ii.eA)(di),(0,Xn.GA)(di));var yi=__webpack_require__(8764).Buffer;const mi=(0,Xn.ZP)(Qn);class gi{constructor(e){this.backgroundManager=e,this.action=["signPsbt"]}hexToBase64(e){return yi.from(e,"hex").toString("base64")}async signPsbt(e,t,r){var n=t;const i=this.hexToBase64(n),o=_r.Psbt.fromBase64(i,{network:e}),s=mi.fromBase58(r,e);return o.signAllInputsHD(s).toBase64()}async prepare(e){if(!(e.message&&e.message.request&&e.message.request.params&&e.message.request.params[0]&&e.message.request.params[0].message))throw Error("The params must include a single entry that has a message field.");return{content:e.message.request.params[0].message,consent:!0}}async execute(e,t){const{node:r,network:n}=await this.backgroundManager.getKey(t.walletId,t.accountId,t.keyId),i=await this.backgroundManager.getMasterSeedBase64(t.walletId),o=yi.from(i,"base64"),s=pi.fromSeed(o,n).toBase58();if(e.content){let r=e.content;"string"!=typeof e.content&&(r=JSON.stringify(e.content));let i=await this.signPsbt(n,r,s);return{key:t.key,walletId:t.walletId,accountId:t.accountId,response:{signature:i,content:e.content},network:n.id}}return{key:"",response:null,network:n.id}}}var bi=__webpack_require__(8764).Buffer;class wi{constructor(e){this.backgroundManager=e,this.action=["vc.request"]}async signData(e,t,r){return Sn.sign(r,bi.from(t.privateKey),!0,e.messagePrefix).toString("base64")}async prepare(e){return{content:{type:e.message.request.params[0].type,id:e.message.request.params[0].id,claim:JSON.parse(e.message.request.params[0].claim)},consent:!0}}async execute(e,t){const{network:r,node:n}=await this.backgroundManager.getKey(t.walletId,t.accountId,t.keyId);if(e.content){const i=new Mn.BlockcoreIdentityTools,o=n.publicKey,s=n.privateKey,a=i.getVerificationMethod(o,0,r.symbol),u=new Mn.BlockcoreIdentity(a),h=i.getIssuer(u.did,s),f=`${a.controller}${a.id}`,c=e.content,l=await u.verifiableCredential(c.claim,h,f,c.id,c.type);return{key:t.key,response:{did:t.key,vc:l,content:e.content},network:r.id}}return{key:"",request:e.message.request,network:r.id}}}class vi{constructor(e){this.backgroundManager=e,this.action=["accountbalance"]}async prepare(e){if(!(e.message&&e.message.request&&e.message.request.params&&e.message.request.params[0]))throw Error("The params must include a single entry that has a message field.");var t=e.message.request.params[0];if(!t.walletId||!t.accountId)throw Error("The params walletId and accountId are missing.");return{content:e.message.request.params[0],consent:!1}}async execute(e,t){var r=e.content;const{network:n,account:i,accountState:o,accountHistory:s}=await this.backgroundManager.getAccount(r.walletId,r.accountId);return e.content?{key:r.key,response:{balance:s.balance},network:n.id}:{key:"",response:null,network:n.id}}}class _i{constructor(e){this.backgroundManager=e,this.action=["wallets"]}async prepare(e){return{content:"Wallet access",consent:!0}}async execute(e,t){const r=await this.backgroundManager.getWalletAndAccounts(t.walletId);return r.wallet.key=t.key,r?{key:t.key,response:r}:{key:"",response:null}}}class Ei{convertEdcsaPublicKeyToSchnorr(e){if(33!=e.length)throw Error("The public key must be compressed EDCSA public key of length 33.");return e.slice(1)}keyToHex(e){return Dt.bytesToHex(e)}getIdentifier(e){return 33==e.length?this.keyToHex(this.convertEdcsaPublicKeyToSchnorr(e)):this.keyToHex(e)}getNostrIdentifier(e){const t=this.hexToArray(e);return this.convertToBech32(t,"npub")}hexToArray(e){return Dt.hexToBytes(e)}convertToBech32(e,t){const r=this.ensureSchnorrPublicKey(e),n=hr.toWords(r);return hr.encode(t,n)}ensureSchnorrPublicKey(e){return 33==e.length?e.slice(1):e}}class Si{constructor(e){this.backgroundManager=e,this.action=["nostr.publickey"],this.utility=new Ei}async prepare(e){return{content:[],consent:!0}}async execute(e,t){let r=t.key;return r.indexOf(":")>-1&&(r=r.substring(r.lastIndexOf(":")+1)),{key:r,response:r}}}const Mi={node:void 0,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},Ai=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),ki=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function xi(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}function Ti(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0"))),(()=>{const e="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);try{if(e){const{setImmediate:t}=e("timers")}}catch(e){}})();class Pi{clone(){return this._cloneInto()}}class Ii extends Pi{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Ai(this.buffer)}update(e){if(this.destroyed)throw new Error("instance is destroyed");const{view:t,buffer:r,blockLen:n,finished:i}=this;if(i)throw new Error("digest() was already called");const o=(e=xi(e)).length;for(let i=0;i<o;){const s=Math.min(n-this.pos,o-i);if(s!==n)r.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=Ai(e);for(;n<=o-i;i+=n)this.process(t,i)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){if(this.destroyed)throw new Error("instance is destroyed");if(!(e instanceof Uint8Array)||e.length<this.outputLen)throw new Error("_Sha2: Invalid output buffer");if(this.finished)throw new Error("digest() was already called");this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let e=o;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),u=n?4:0,h=n?0:4;e.setUint32(t+u,s,n),e.setUint32(t+h,a,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);const s=Ai(e);this.get().forEach(((e,t)=>s.setUint32(4*t,e,i)))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}const Ri=(e,t,r)=>e&t^e&r^t&r,Oi=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Bi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ci=new Uint32Array(64);class Li extends Ii{constructor(){super(64,32,8,!1),this.A=0|Bi[0],this.B=0|Bi[1],this.C=0|Bi[2],this.D=0|Bi[3],this.E=0|Bi[4],this.F=0|Bi[5],this.G=0|Bi[6],this.H=0|Bi[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)Ci[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=Ci[e-15],r=Ci[e-2],n=ki(t,7)^ki(t,18)^t>>>3,i=ki(r,17)^ki(r,19)^r>>>10;Ci[e]=i+Ci[e-7]+n+Ci[e-16]|0}let{A:r,B:n,C:i,D:o,E:s,F:a,G:u,H:h}=this;for(let e=0;e<64;e++){const t=h+(ki(s,6)^ki(s,11)^ki(s,25))+((f=s)&a^~f&u)+Oi[e]+Ci[e]|0,c=(ki(r,2)^ki(r,13)^ki(r,22))+Ri(r,n,i)|0;h=u,u=a,a=s,s=o+t|0,o=i,i=n,n=r,r=t+c|0}var f;r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,u=u+this.G|0,h=h+this.H|0,this.set(r,n,i,o,s,a,u,h)}roundClean(){Ci.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const ji=function(e){const t=t=>e().update(xi(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}((()=>new Li));var Di=__webpack_require__(1083),Ni=__webpack_require__(7286);class Ui extends Pi{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Ti(e.outputLen),Ti(e.blockLen)}(e);const r=xi(t);if(this.iHash=e.create(),!(this.iHash instanceof Pi))throw new TypeError("Expected instance of class which extends utils.Hash");const n=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const i=new Uint8Array(n);i.set(r.length>this.iHash.blockLen?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){if(this.destroyed)throw new Error("instance is destroyed");return this.iHash.update(e),this}digestInto(e){if(this.destroyed)throw new Error("instance is destroyed");if(!(e instanceof Uint8Array)||e.length!==this.outputLen)throw new Error("HMAC: Invalid output buffer");if(this.finished)throw new Error("digest() was already called");this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Hi=(e,t,r)=>new Ui(e,t).update(r).digest();Hi.create=(e,t)=>new Ui(e,t);var zi=Object.defineProperty,Fi=(e,t)=>{for(var r in t)zi(e,r,{get:t[r],enumerable:!0})};function qi(e){return Dt.bytesToHex(Bt.getPublicKey(e))}Fi({},{insertEventIntoAscendingList:()=>Gi,insertEventIntoDescendingList:()=>Wi,normalizeURL:()=>Vi,utf8Decoder:()=>$i,utf8Encoder:()=>Ki});var $i=new TextDecoder("utf-8"),Ki=new TextEncoder;function Vi(e){let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),("80"===t.port&&"ws:"===t.protocol||"443"===t.port&&"wss:"===t.protocol)&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}function Wi(e,t){let r,n=0,i=e.length-1,o=n;if(i<0)o=0;else if(t.created_at<e[i].created_at)o=i+1;else if(t.created_at>=e[n].created_at)o=n;else for(;;){if(i<=n+1){o=i;break}if(r=Math.floor(n+(i-n)/2),e[r].created_at>t.created_at)n=r;else{if(!(e[r].created_at<t.created_at)){o=r;break}i=r}}return e[o]?.id!==t.id?[...e.slice(0,o),t,...e.slice(o)]:e}function Gi(e,t){let r,n=0,i=e.length-1,o=n;if(i<0)o=0;else if(t.created_at>e[i].created_at)o=i+1;else if(t.created_at<=e[n].created_at)o=n;else for(;;){if(i<=n+1){o=i;break}if(r=Math.floor(n+(i-n)/2),e[r].created_at<t.created_at)n=r;else{if(!(e[r].created_at>t.created_at)){o=r;break}i=r}}return e[o]?.id!==t.id?[...e.slice(0,o),t,...e.slice(o)]:e}function Yi(e){let t=ji(Ki.encode(function(e){if(!Ji(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}(e)));return Dt.bytesToHex(t)}function Ji(e){if("object"!=typeof e)return!1;if("number"!=typeof e.kind)return!1;if("string"!=typeof e.content)return!1;if("number"!=typeof e.created_at)return!1;if("string"!=typeof e.pubkey)return!1;if(!e.pubkey.match(/^[a-f0-9]{64}$/))return!1;if(!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let r=e.tags[t];if(!Array.isArray(r))return!1;for(let e=0;e<r.length;e++)if("object"==typeof r[e])return!1}return!0}function Zi(e,t){let r=t.length+3,n=e.indexOf(`"${t}":`)+r,i=e.slice(n).indexOf('"')+n+1;return e.slice(i,i+64)}function Xi(e,t){let r=t.length,n=e.indexOf(`"${t}":`)+r+3,i=e.slice(n),o=Math.min(i.indexOf(","),i.indexOf("}"));return parseInt(i.slice(0,o),10)}function Qi(e){let t=e.slice(0,22).indexOf('"EVENT"');if(-1===t)return null;let r=e.slice(t+7+1).indexOf('"');if(-1===r)return null;let n=t+7+1+r,i=e.slice(n+1,80).indexOf('"');if(-1===i)return null;let o=n+1+i;return e.slice(n+1,o)}function eo(e,t){return t===Zi(e,"id")}function to(e,t){return t===Zi(e,"pubkey")}function ro(e,t){return t===Xi(e,"kind")}Fi({},{getHex64:()=>Zi,getInt:()=>Xi,getSubscriptionId:()=>Qi,matchEventId:()=>eo,matchEventKind:()=>ro,matchEventPubkey:()=>to});var no,io={};async function oo(e,t,r){const n=ao(wt(e,"02"+t));let i=Uint8Array.from(function(e=32){if(Mi.web)return Mi.web.getRandomValues(new Uint8Array(e));if(Mi.node)return new Uint8Array(Mi.node.randomBytes(e).buffer);throw new Error("The environment doesn't have randomBytes function")}(16)),o=Ki.encode(r),s=await crypto.subtle.importKey("raw",n,{name:"AES-CBC"},!1,["encrypt"]),a=await crypto.subtle.encrypt({name:"AES-CBC",iv:i},s,o);return`${Xt.encode(new Uint8Array(a))}?iv=${Xt.encode(new Uint8Array(i.buffer))}`}async function so(e,t,r){let[n,i]=r.split("?iv="),o=ao(wt(e,"02"+t)),s=await crypto.subtle.importKey("raw",o,{name:"AES-CBC"},!1,["decrypt"]),a=Xt.decode(n),u=Xt.decode(i),h=await crypto.subtle.decrypt({name:"AES-CBC",iv:u},s,a);return $i.decode(h)}function ao(e){return e.slice(1,33)}Fi(io,{decrypt:()=>so,encrypt:()=>oo}),Fi({},{queryProfile:()=>fo,searchDomain:()=>ho,useFetchImplementation:()=>uo});try{no=fetch}catch{}function uo(e){no=e}async function ho(e,t=""){try{return(await(await no(`https://${e}/.well-known/nostr.json?name=${t}`)).json()).names}catch(e){return{}}}async function fo(e){let t,[r,n]=e.split("@");if(n||(n=r,r="_"),!r.match(/^[A-Za-z0-9-_]+$/))return null;try{t=await(await no(`https://${n}/.well-known/nostr.json?name=${r}`)).json()}catch(e){return null}if(!t?.names?.[r])return null;let i=t.names[r];return{pubkey:i,relays:t.relays?.[i]||[]}}function co(e,t){let r=br.fromMasterSeed((0,Ni.Z1)(e,t)).derive("m/44'/1237'/0'/0/0").privateKey;if(!r)throw new Error("could not derive private key");return Dt.bytesToHex(r)}function lo(){return(0,Ni.OF)(Di.U)}function po(e){return(0,Ni._I)(e,Di.U)}Fi({},{generateSeedWords:()=>lo,privateKeyFromSeedWords:()=>co,validateWords:()=>po}),Fi({},{decode:()=>go,naddrEncode:()=>Ao,neventEncode:()=>Mo,noteEncode:()=>_o,nprofileEncode:()=>So,npubEncode:()=>vo,nsecEncode:()=>wo});var yo,mo=5e3;function go(e){let{prefix:t,words:r}=hr.decode(e,mo),n=new Uint8Array(hr.fromWords(r));switch(t){case"nprofile":{let e=bo(n);if(!e[0]?.[0])throw new Error("missing TLV 0 for nprofile");if(32!==e[0][0].length)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Dt.bytesToHex(e[0][0]),relays:e[1]?e[1].map((e=>$i.decode(e))):[]}}}case"nevent":{let e=bo(n);if(!e[0]?.[0])throw new Error("missing TLV 0 for nevent");if(32!==e[0][0].length)throw new Error("TLV 0 should be 32 bytes");return{type:"nevent",data:{id:Dt.bytesToHex(e[0][0]),relays:e[1]?e[1].map((e=>$i.decode(e))):[]}}}case"naddr":{let e=bo(n);if(!e[0]?.[0])throw new Error("missing TLV 0 for naddr");if(!e[2]?.[0])throw new Error("missing TLV 2 for naddr");if(32!==e[2][0].length)throw new Error("TLV 2 should be 32 bytes");if(!e[3]?.[0])throw new Error("missing TLV 3 for naddr");if(4!==e[3][0].length)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:$i.decode(e[0][0]),pubkey:Dt.bytesToHex(e[2][0]),kind:parseInt(Dt.bytesToHex(e[3][0]),16),relays:e[1]?e[1].map((e=>$i.decode(e))):[]}}}case"nsec":case"npub":case"note":return{type:t,data:Dt.bytesToHex(n)};default:throw new Error(`unknown prefix ${t}`)}}function bo(e){let t={},r=e;for(;r.length>0;){let e=r[0],n=r[1],i=r.slice(2,2+n);r=r.slice(2+n),i.length<n||(t[e]=t[e]||[],t[e].push(i))}return t}function wo(e){return Eo("nsec",e)}function vo(e){return Eo("npub",e)}function _o(e){return Eo("note",e)}function Eo(e,t){let r=Dt.hexToBytes(t),n=hr.toWords(r);return hr.encode(e,n,mo)}function So(e){let t=ko({0:[Dt.hexToBytes(e.pubkey)],1:(e.relays||[]).map((e=>Ki.encode(e)))}),r=hr.toWords(t);return hr.encode("nprofile",r,mo)}function Mo(e){let t=ko({0:[Dt.hexToBytes(e.id)],1:(e.relays||[]).map((e=>Ki.encode(e)))}),r=hr.toWords(t);return hr.encode("nevent",r,mo)}function Ao(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let r=ko({0:[Ki.encode(e.identifier)],1:(e.relays||[]).map((e=>Ki.encode(e))),2:[Dt.hexToBytes(e.pubkey)],3:[new Uint8Array(t)]}),n=hr.toWords(r);return hr.encode("naddr",n,mo)}function ko(e){let t=[];return Object.entries(e).forEach((([e,r])=>{r.forEach((r=>{let n=new Uint8Array(r.length+2);n.set([parseInt(e)],0),n.set([r.length],1),n.set(r,2),t.push(n)}))})),Dt.concatBytes(...t)}function xo(e,t){let r=[];(t.kind||-1)>=0&&r.push(`kind=${t.kind}`),t.until&&r.push(`created_at<${t.until}`),t.since&&r.push(`created_at>${t.since}`);let n=r.join("&");if(""===n)throw new Error("refusing to create a delegation without any conditions");let i=ji(Ki.encode(`nostr:delegation:${t.pubkey}:${n}`)),o=Dt.bytesToHex(Bt.signSync(i,e));return{from:qi(e),to:t.pubkey,cond:n,sig:o}}function To(e){let t=e.tags.find((e=>"delegation"===e[0]&&e.length>=4));if(!t)return null;let r=t[1],n=t[2],i=t[3],o=n.split("&");for(let t=0;t<o.length;t++){let[r,n,i]=o[t].split(/\b/);if(("kind"!==r||"="!==n||e.kind!==parseInt(i))&&!("created_at"===r&&"<"===n&&e.created_at<parseInt(i)||"created_at"===r&&">"===n&&e.created_at>parseInt(i)))return null}let s=ji(Ki.encode(`nostr:delegation:${e.pubkey}:${n}`));return Bt.verifySync(i,s,r)?r:null}Fi({},{createDelegation:()=>xo,getDelegator:()=>To}),Fi({},{getZapEndpoint:()=>Io,makeZapReceipt:()=>Bo,makeZapRequest:()=>Ro,useFetchImplementation:()=>Po,validateZapRequest:()=>Oo});try{yo=fetch}catch{}function Po(e){yo=e}async function Io(e){try{let t="",{lud06:r,lud16:n}=JSON.parse(e.content);if(r){let{words:e}=hr.decode(r,1e3),n=hr.fromWords(e);t=$i.decode(n)}else{if(!n)return null;{let[e,r]=n.split("@");t=`https://${r}/.well-known/lnurlp/${e}`}}let i=await yo(t),o=await i.json();if(o.allowsNostr&&o.nostrPubkey)return o.callback}catch(e){}return null}function Ro({profile:e,event:t,amount:r,relays:n,comment:i=""}){if(!r)throw new Error("amount not given");if(!e)throw new Error("profile not given");let o={kind:9734,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e],["amount",r.toString()],["relays",...n]]};return t&&o.tags.push(["e",t]),o}function Oo(e){let t;try{t=JSON.parse(e)}catch(e){return"Invalid zap request JSON."}if(!Ji(t))return"Zap request is not a valid Nostr event.";if(r=t,!Bt.verifySync(r.sig,Yi(r),r.pubkey))return"Invalid signature on zap request.";var r;let n=t.tags.find((([e,t])=>"p"===e&&t));if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let i=t.tags.find((([e,t])=>"e"===e&&t));return i&&!i[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find((([e,t])=>"relays"===e&&t))?null:"Zap request doesn't have a 'relays' tag."}function Bo({zapRequest:e,preimage:t,bolt11:r,paidAt:n}){let i=JSON.parse(e).tags.filter((([e])=>"e"===e||"p"===e||"a"===e)),o={kind:9735,created_at:Math.round(n.getTime()/1e3),content:"",tags:[...i,["bolt11",r],["description",e]]};return t&&o.tags.push(["preimage",t]),o}Dt.hmacSha256Sync=(e,...t)=>Hi(ji,e,Dt.concatBytes(...t)),Dt.sha256Sync=(...e)=>ji(Dt.concatBytes(...e));class Co{constructor(e){this.backgroundManager=e,this.action=["nostr.signevent"],this.utility=new Ei}async prepare(e){return{content:e.message.request.params[0],consent:!0}}async execute(e,t){const{network:r,node:n}=await this.backgroundManager.getKey(t.walletId,t.accountId,t.keyId),i=e.content;if(i.pubkey=qi(n.privateKey),i.id||(i.id=await Yi(i)),!Ji(i))throw new Error("Invalid Nostr event.");const o=function(e,t){return Dt.bytesToHex(Bt.signSync(Yi(e),t))}(i,n.privateKey);return i.sig=o,{key:i.pubkey,response:i}}}class Lo{constructor(e){this.backgroundManager=e,this.action=["nostr.getrelays"]}async prepare(e){return{content:{"wss://nostr-pub.wellorder.net":{read:!0,write:!0},"wss://relay.damus.io":{read:!0,write:!0},"wss://relay.nostr.info":{read:!0,write:!0},"wss://relay.nostr.ch":{read:!0,write:!0}},consent:!1}}async execute(e,t){return{response:e.content}}}class jo{constructor(e){this.backgroundManager=e,this.action=["nostr.encrypt"],this.utility=new Ei}async prepare(e){return{content:e.message.request.params[0],consent:!0}}async execute(e,t){const{network:r,node:n}=await this.backgroundManager.getKey(t.walletId,t.accountId,t.keyId),i=n.privateKey;"string"!=typeof e.content.plaintext&&(e.content.plaintext=JSON.stringify(e.content.plaintext));const o=await io.encrypt(i,e.message.request.params[0].peer,e.content.plaintext);return{key:qi(i),response:o}}}class Do{constructor(e){this.backgroundManager=e,this.action=["nostr.decrypt"],this.utility=new Ei}async prepare(e){return{content:e.message.request.params[0],consent:!0}}async execute(e,t){const{network:r,node:n}=await this.backgroundManager.getKey(t.walletId,t.accountId,t.keyId),i=n.privateKey,o=await io.decrypt(i,e.message.request.params[0].peer,e.content.ciphertext);return{key:qi(i),response:o}}}class No{constructor(e){this.backgroundManager=e,this.action=["sendtransaction"]}async prepare(e){if(!(e.message&&e.message.request&&e.message.request.params&&e.message.request.params[0]))throw Error("The params must include a single entry that has a message field.");var t=e.message.request.params[0];if(!t||!t.recipients)throw Error("The param recipients is missing.");return{content:e.message.request.params[0],consent:!0}}async execute(e,t){return null}}class Uo{constructor(e){this.backgroundManager=e,this.action=["atomicswaps.key"],this.utility=new Ei}async prepare(e){if(!(e.message&&e.message.request&&e.message.request.params&&e.message.request.params[0]))throw Error("The params must include a single entry that has a message field.");var t=e.message.request.params[0];if(!t.walletId||!t.accountId)throw Error("The params walletId and accountId are missing.");return{content:e.message.request.params[0],consent:!1}}async execute(e,t){var r=e.content;const{network:n,node:i}=await this.backgroundManager.getDerivedKeyFromWalletPath(r.walletId,r.accountId,"0'/0");var o;return e.content?(o={publicKey:this.utility.keyToHex(i.publicKey)},{key:r.key,request:e.message.request,response:o,network:n.id}):{key:"",response:null}}}class Ho{constructor(e){this.backgroundManager=e,this.action=["atomicswaps.secret"],this.utility=new Ei}async prepare(e){if(!(e.message&&e.message.request&&e.message.request.params&&e.message.request.params[0]))throw Error("The params must include a single entry that has a message field.");var t=e.message.request.params[0];if(!t.walletId||!t.accountId)throw Error("The params walletId and accountId are missing.");if(!t.message)throw Error("The param sessionid is missing.");return{content:e.message.request.params[0],consent:!1}}async execute(e,t){var r=e.content;const{network:n,node:i}=await this.backgroundManager.getDerivedKeyFromWalletPath(r.walletId,r.accountId,"0'/0");var o=Uint8Array.from(r.message),s=i.privateKey,a=new Uint8Array(s.length+o.length);a.set(s),a.set(o,o.length);const u=await Dt.sha256(a);if(e.content){var h={secret:this.utility.keyToHex(u)};return{key:r.key,request:e.message.request,response:h,network:n.id}}return{key:"",response:null}}}class zo{constructor(e){this.backgroundManager=e,this.action=["atomicswaps.send"],this.utility=new Ei}async prepare(e){if(!(e.message&&e.message.request&&e.message.request.params&&e.message.request.params[0]))throw Error("The params must include a single entry that has a message field.");var t=e.message.request.params[0];if(!t.walletId||!t.accountId)throw Error("The params walletId and accountId are missing.");return{content:e.message.request.params[0],consent:!0}}async execute(e,t){var r=e.content;const{network:n,node:i}=await this.backgroundManager.getDerivedKeyFromWalletPath(r.walletId,r.accountId,"0'/0");if(e.content){var o={privateKey:this.utility.keyToHex(i.privateKey)};return{key:r.key,request:e.message.request,response:o,network:n.id}}return{key:"",response:null}}}class Fo{}const{v4:qo}=__webpack_require__(7429);var $o=function(e,t){return $o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},$o(e,t)};function Ko(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}$o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function Vo(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wo(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function Go(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function Yo(e){return"function"==typeof e}function Jo(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}Object.create,Object.create;var Zo=Jo((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function Xo(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var Qo=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,r,n,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var s=Vo(o),a=s.next();!a.done;a=s.next())a.value.remove(this)}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else o.remove(this);var u=this.initialTeardown;if(Yo(u))try{u()}catch(e){i=e instanceof Zo?e.errors:[e]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var f=Vo(h),c=f.next();!c.done;c=f.next()){var l=c.value;try{rs(l)}catch(e){i=null!=i?i:[],e instanceof Zo?i=Go(Go([],Wo(i)),Wo(e.errors)):i.push(e)}}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}}if(i)throw new Zo(i)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)rs(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Xo(t,e)},e.prototype.remove=function(t){var r=this._finalizers;r&&Xo(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e;var t}(),es=Qo.EMPTY;function ts(e){return e instanceof Qo||e&&"closed"in e&&Yo(e.remove)&&Yo(e.add)&&Yo(e.unsubscribe)}function rs(e){Yo(e)?e():e.unsubscribe()}var ns=null,is=null,os=void 0,ss=!1,as=!1,us={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=us.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,Go([e,t],Wo(r))):setTimeout.apply(void 0,Go([e,t],Wo(r)))},clearTimeout:function(e){var t=us.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function hs(){}var fs=cs("C",void 0,void 0);function cs(e,t,r){return{kind:e,value:t,error:r}}var ls=null;function ds(e){if(ss){var t=!ls;if(t&&(ls={errorThrown:!1,error:null}),e(),t){var r=ls,n=r.errorThrown,i=r.error;if(ls=null,n)throw i}}else e()}var ps=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,ts(t)&&t.add(r)):r.destination=_s,r}return Ko(t,e),t.create=function(e,t,r){return new bs(e,t,r)},t.prototype.next=function(e){this.isStopped?vs(function(e){return cs("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?vs(cs("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?vs(fs,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Qo),ys=Function.prototype.bind;function ms(e,t){return ys.call(e,t)}var gs=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){ws(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){ws(e)}else ws(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){ws(e)}},e}(),bs=function(e){function t(t,r,n){var i,o,s=e.call(this)||this;return Yo(t)||!t?i={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:s&&as?((o=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},i={next:t.next&&ms(t.next,o),error:t.error&&ms(t.error,o),complete:t.complete&&ms(t.complete,o)}):i=t,s.destination=new gs(i),s}return Ko(t,e),t}(ps);function ws(e){var t;ss?(t=e,ss&&ls&&(ls.errorThrown=!0,ls.error=t)):function(e){us.setTimeout((function(){if(!ns)throw e;ns(e)}))}(e)}function vs(e,t){var r=is;r&&us.setTimeout((function(){return r(e,t)}))}var _s={closed:!0,next:hs,error:function(e){throw e},complete:hs},Es="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ss(e){return e}function Ms(e){return 0===e.length?Ss:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var As=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n,i=this,o=(n=e)&&n instanceof ps||function(e){return e&&Yo(e.next)&&Yo(e.error)&&Yo(e.complete)}(n)&&ts(n)?e:new bs(e,t,r);return ds((function(){var e=i,t=e.operator,r=e.source;o.add(t?t.call(o,r):r?i._subscribe(o):i._trySubscribe(o))})),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=ks(t))((function(t,n){var i=new bs({next:function(t){try{e(t)}catch(e){n(e),i.unsubscribe()}},error:n,complete:t});r.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[Es]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ms(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=ks(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function ks(e){var t;return null!==(t=null!=e?e:os)&&void 0!==t?t:Promise}var xs=Jo((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),Ts=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return Ko(t,e),t.prototype.lift=function(e){var t=new Ps(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new xs},t.prototype.next=function(e){var t=this;ds((function(){var r,n;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=Vo(t.currentObservers),o=i.next();!o.done;o=i.next())o.value.next(e)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}}))},t.prototype.error=function(e){var t=this;ds((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var r=t.observers;r.length;)r.shift().error(e)}}))},t.prototype.complete=function(){var e=this;ds((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,r=this,n=r.hasError,i=r.isStopped,o=r.observers;return n||i?es:(this.currentObservers=null,o.push(e),new Qo((function(){t.currentObservers=null,Xo(o,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,r=t.hasError,n=t.thrownError,i=t.isStopped;r?e.error(n):i&&e.complete()},t.prototype.asObservable=function(){var e=new As;return e.source=this,e},t.create=function(e,t){return new Ps(e,t)},t}(As),Ps=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return Ko(t,e),t.prototype.next=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)},t.prototype.error=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:es},t}(Ts);function Is(e){return function(t){if(function(e){return Yo(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function Rs(e,t,r,n,i){return new Os(e,t,r,n,i)}var Os=function(e){function t(t,r,n,i,o,s){var a=e.call(this,t)||this;return a.onFinalize=o,a.shouldUnsubscribe=s,a._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return Ko(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(ps);function Bs(e,t){return Is((function(r,n){var i=0;r.subscribe(Rs(n,(function(r){n.next(e.call(t,r,i++))})))}))}const{v4:Cs}=__webpack_require__(7429);class Ls{constructor(e,t){this._id=Cs(),this._key=e,this._data=t,this._timestamp=(new Date).getTime()}get id(){return this._id}get key(){return this._key}get data(){return this._data}get timestamp(){return this._timestamp}}class js{static async fetchText(e){return(await js.fetchUrl(e)).text()}static async fetchJson(e){return(await js.fetchUrl(e)).json()}static async fetchUrl(e){return await fetch(e,{method:"GET",mode:"cors",cache:"no-cache",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer"})}}class Ds{constructor(e){Object.defineProperty(this,"activeServer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.setActiveServer(e)}setActiveServer(e){this.activeServer=e}async getServicesByType(e){const t=`${this.activeServer}/api/dns/services/service/${e}`;try{return await js.fetchJson(t)}catch(e){return console.warn(`No services found for ${t}`),console.error(e),[]}}async getServicesByTypeAndNetwork(e,t){const r=`${this.activeServer}/api/dns/services/symbol/${t}/service/${e}`;try{return await js.fetchJson(r)}catch(e){return console.warn(`No services found for ${r}`),console.error(e),[]}}async getServicesByNetwork(e){const t=`${this.activeServer}/api/dns/services/symbol/${e}`;try{return await js.fetchJson(t)}catch(e){return console.warn(`No services found for ${t}`),console.error(e),[]}}async getExternalIP(){const e=`${this.activeServer}/api/dns/ipaddress`;try{return await js.fetchText(e)}catch(e){return console.warn("Unable to find external IP."),console.error(e),""}}}class Ns{constructor(){Object.defineProperty(this,"nameservers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"services",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"api",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.api=new Ds("")}async getDnsServers(){const e="https://chains.blockcore.net/services/DNS.json";try{return await js.fetchJson(e)}catch(t){return console.warn(`Unable to retrieve DNS list, using fixed list instead. URL: ${e}`),console.error(t),[{url:"https://ns.blockcore.net",contact:"post@blockcore.net"},{url:"https://ns.coinvault.io",contact:"post@coinvault.io"},{url:"https://ns.seniorblockchain.io",contact:"post@seniorblockchain.io"}]}}getNameServers(){return this.nameservers}getOnlineServicesByNetwork(e){return this.services.filter((t=>t.symbol===e&&!0===t.online))}getServices(){return this.services}async load(e,t="Indexer"){this.nameservers=e||await this.getDnsServers();const r=new Map;for(let e=0;e<this.nameservers.length;e++){const n=this.nameservers[e];if(n&&(this.api.setActiveServer(n.url),t))try{(await this.api.getServicesByType(t)).forEach((e=>r.set(e.domain,{...r.get(e.domain),...e})))}catch(e){console.warn(`Unable to load services from ${n.url}`),console.error(e)}}this.services=Array.from(r.values());const n=this.getRandomInt(this.nameservers.length);this.api.setActiveServer(this.nameservers[n].url)}getRandomInt(e){return Math.floor(Math.random()*e)}}class Us{constructor(){}async loadServices(e){if("custom"!==e){let t=new Ns;await t.load(en[e]),this.services=t.getServices()}}getGroups(){return this.groupBy(this.services,(e=>e.symbol.toUpperCase()))}groupBy(e,t){const r=new Map;return e.forEach((e=>{const n=t(e),i=r.get(n);i?i.push(e):r.set(n,[e])})),r}}class Hs{async fetch(e){return fetch(e,{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrerPolicy:"no-referrer"})}async fetchWithTimeout(e,t){const{timeout:r=15e3}=t,n=new AbortController,i=setTimeout((()=>n.abort()),r),o=fetch(e,{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrerPolicy:"no-referrer",signal:n.signal,...t});return clearTimeout(i),o}}const zs=["string","number","bigint","symbol"],Fs=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];class qs{constructor(e,t,r){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}qs.uint=new qs(0,"uint",!0),qs.negint=new qs(1,"negint",!0),qs.bytes=new qs(2,"bytes",!0),qs.string=new qs(3,"string",!0),qs.array=new qs(4,"array",!1),qs.map=new qs(5,"map",!1),qs.tag=new qs(6,"tag",!1),qs.float=new qs(7,"float",!0),qs.false=new qs(7,"false",!0),qs.true=new qs(7,"true",!0),qs.null=new qs(7,"null",!0),qs.undefined=new qs(7,"undefined",!0),qs.break=new qs(7,"break",!0);class $s{constructor(e,t,r){this.type=e,this.value=t,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const Ks=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,Vs=new TextDecoder,Ws=new TextEncoder;function Gs(e){return Ks&&globalThis.Buffer.isBuffer(e)}function Ys(e){return e instanceof Uint8Array?Gs(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const Js=Ks?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):na(e,t,r):(e,t,r)=>r-t>64?Vs.decode(e.subarray(t,r)):na(e,t,r),Zs=Ks?e=>e.length>64?globalThis.Buffer.from(e):ra(e):e=>e.length>64?Ws.encode(e):ra(e),Xs=e=>Uint8Array.from(e),Qs=Ks?(e,t,r)=>Gs(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),ea=Ks?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),Ys(globalThis.Buffer.concat(e,t))):(e,t)=>{const r=new Uint8Array(t);let n=0;for(let t of e)n+t.length>r.length&&(t=t.subarray(0,r.length-n)),r.set(t,n),n+=t.length;return r},ta=Ks?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function ra(e,t=1/0){let r;const n=e.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function na(e,t,r){const n=[];for(;t<r;){const i=e[t];let o=null,s=i>239?4:i>223?3:i>191?2:1;if(t+s<=r){let r,n,a,u;switch(s){case 1:i<128&&(o=i);break;case 2:r=e[t+1],128==(192&r)&&(u=(31&i)<<6|63&r,u>127&&(o=u));break;case 3:r=e[t+1],n=e[t+2],128==(192&r)&&128==(192&n)&&(u=(15&i)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:r=e[t+1],n=e[t+2],a=e[t+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(u=(15&i)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),t+=s}return function(e){const t=e.length;if(t<=ia)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=ia));return r}(n)}const ia=4096;class oa{constructor(e=256){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const r=t.length-(this.maxCursor-this.cursor)-1;t.set(e,r)}else{if(t){const e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=ta(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){const r=this.chunks[0];e&&this.cursor>r.length/2?(t=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=Qs(r,0,this.cursor)}else t=ea(this.chunks,this.cursor);return e&&this.reset(),t}}const sa=[];function aa(e,t,r){if(e.length-t<r)throw new Error("CBOR decode error: not enough data for type")}sa[23]=1,sa[24]=2,sa[25]=3,sa[26]=5,sa[27]=9;const ua=[24,256,65536,4294967296,BigInt("18446744073709551616")];function ha(e,t,r){aa(e,t,1);const n=e[t];if(!0===r.strict&&n<ua[0])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return n}function fa(e,t,r){aa(e,t,2);const n=e[t]<<8|e[t+1];if(!0===r.strict&&n<ua[1])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return n}function ca(e,t,r){aa(e,t,4);const n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===r.strict&&n<ua[2])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return n}function la(e,t,r){aa(e,t,8);const n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],i=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],o=(BigInt(n)<<BigInt(32))+BigInt(i);if(!0===r.strict&&o<ua[3])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(!0===r.allowBigInt)return o;throw new Error("CBOR decode error: integers outside of the safe integer range are not supported")}function da(e,t){return pa(e,0,t.value)}function pa(e,t,r){if(r<ua[0]){const n=Number(r);e.push([t|n])}else if(r<ua[1]){const n=Number(r);e.push([24|t,n])}else if(r<ua[2]){const n=Number(r);e.push([25|t,n>>>8,255&n])}else if(r<ua[3]){const n=Number(r);e.push([26|t,n>>>24&255,n>>>16&255,n>>>8&255,255&n])}else{const n=BigInt(r);if(!(n<ua[4]))throw new Error("CBOR decode error: encountered BigInt larger than allowable range");{const r=[27|t,0,0,0,0,0,0,0];let i=Number(n&BigInt(4294967295)),o=Number(n>>BigInt(32)&BigInt(4294967295));r[8]=255&i,i>>=8,r[7]=255&i,i>>=8,r[6]=255&i,i>>=8,r[5]=255&i,r[4]=255&o,o>>=8,r[3]=255&o,o>>=8,r[2]=255&o,o>>=8,r[1]=255&o,e.push(r)}}}da.encodedSize=function(e){return pa.encodedSize(e.value)},pa.encodedSize=function(e){return e<ua[0]?1:e<ua[1]?2:e<ua[2]?3:e<ua[3]?5:9},da.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};const ya=BigInt(-1),ma=BigInt(1);function ga(e,t){const r=t.value,n="bigint"==typeof r?r*ya-ma:-1*r-1;pa(e,t.type.majorEncoded,n)}function ba(e,t,r,n){aa(e,t,r+n);const i=Qs(e,t+r,t+r+n);return new $s(qs.bytes,i,r+n)}function wa(e,t,r,n){return ba(e,t,1,r)}function va(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===qs.string?Zs(e.value):e.value),e.encodedBytes}function _a(e,t){const r=va(t);pa(e,t.type.majorEncoded,r.length),e.push(r)}function Ea(e,t,r,n,i){const o=r+n;aa(e,t,o);const s=new $s(qs.string,Js(e,t+r,t+o),o);return!0===i.retainStringBytes&&(s.byteValue=Qs(e,t+r,t+o)),s}function Sa(e,t,r,n){return Ea(e,t,1,r,n)}ga.encodedSize=function(e){const t=e.value,r="bigint"==typeof t?t*ya-ma:-1*t-1;return r<ua[0]?1:r<ua[1]?2:r<ua[2]?3:r<ua[3]?5:9},ga.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},_a.encodedSize=function(e){const t=va(e);return pa.encodedSize(t.length)+t.length},_a.compareTokens=function(e,t){return r=va(e),n=va(t),r.length<n.length?-1:r.length>n.length?1:function(e,t){if(Gs(e)&&Gs(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}(r,n);var r,n};const Ma=_a;function Aa(e,t,r,n){return new $s(qs.array,n,r)}function ka(e,t,r,n){return Aa(0,0,1,r)}function xa(e,t){pa(e,qs.array.majorEncoded,t.value)}function Ta(e,t,r,n){return new $s(qs.map,n,r)}function Pa(e,t,r,n){return Ta(0,0,1,r)}function Ia(e,t){pa(e,qs.map.majorEncoded,t.value)}function Ra(e,t,r,n){return new $s(qs.tag,r,1)}function Oa(e,t){pa(e,qs.tag.majorEncoded,t.value)}function Ba(e,t,r){if(r){if(!1===r.allowNaN&&Number.isNaN(e))throw new Error("CBOR decode error: NaN values are not supported");if(!1===r.allowInfinity&&(e===1/0||e===-1/0))throw new Error("CBOR decode error: Infinity values are not supported")}return new $s(qs.float,e,t)}function Ca(e,t,r){const n=t.value;if(!1===n)e.push([20|qs.float.majorEncoded]);else if(!0===n)e.push([21|qs.float.majorEncoded]);else if(null===n)e.push([22|qs.float.majorEncoded]);else if(void 0===n)e.push([23|qs.float.majorEncoded]);else{let t,o=!1;r&&!0===r.float64||(Na(n),t=Ua(Da,1),n===t||Number.isNaN(n)?(Da[0]=249,e.push(Da.slice(0,3)),o=!0):(Ha(n),t=za(Da,1),n===t&&(Da[0]=250,e.push(Da.slice(0,5)),o=!0))),o||(i=n,ja.setFloat64(0,i,!1),t=Fa(Da,1),Da[0]=251,e.push(Da.slice(0,9)))}var i}xa.compareTokens=da.compareTokens,xa.encodedSize=function(e){return pa.encodedSize(e.value)},Ia.compareTokens=da.compareTokens,Ia.encodedSize=function(e){return pa.encodedSize(e.value)},Oa.compareTokens=da.compareTokens,Oa.encodedSize=function(e){return pa.encodedSize(e.value)},Ca.encodedSize=function(e,t){const r=e.value;if(!1===r||!0===r||null==r)return 1;if(!t||!0!==t.float64){Na(r);let e=Ua(Da,1);if(r===e||Number.isNaN(r))return 3;if(Ha(r),e=za(Da,1),r===e)return 5}return 9};const La=new ArrayBuffer(9),ja=new DataView(La,1),Da=new Uint8Array(La,0);function Na(e){if(e===1/0)ja.setUint16(0,31744,!1);else if(e===-1/0)ja.setUint16(0,64512,!1);else if(Number.isNaN(e))ja.setUint16(0,32256,!1);else{ja.setFloat32(0,e);const t=ja.getUint32(0),r=(2139095040&t)>>23,n=8388607&t;if(255===r)ja.setUint16(0,31744,!1);else if(0===r)ja.setUint16(0,(2147483648&e)>>16|n>>13,!1);else{const e=r-127;e<-24?ja.setUint16(0,0):e<-14?ja.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):ja.setUint16(0,(2147483648&t)>>16|e+15<<10|n>>13,!1)}}}function Ua(e,t){if(e.length-t<2)throw new Error("CBOR decode error: not enough data for float16");const r=(e[t]<<8)+e[t+1];if(31744===r)return 1/0;if(64512===r)return-1/0;if(32256===r)return NaN;const n=r>>10&31,i=1023&r;let o;return o=0===n?i*2**-24:31!==n?(i+1024)*2**(n-25):0===i?1/0:NaN,32768&r?-o:o}function Ha(e){ja.setFloat32(0,e,!1)}function za(e,t){if(e.length-t<4)throw new Error("CBOR decode error: not enough data for float32");const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function Fa(e,t){if(e.length-t<8)throw new Error("CBOR decode error: not enough data for float64");const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}function qa(e,t,r){throw new Error(`CBOR decode error: encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function $a(e){return()=>{throw new Error(`CBOR decode error: ${e}`)}}Ca.compareTokens=da.compareTokens;const Ka=[];for(let e=0;e<=23;e++)Ka[e]=qa;Ka[24]=function(e,t,r,n){return new $s(qs.uint,ha(e,t+1,n),2)},Ka[25]=function(e,t,r,n){return new $s(qs.uint,fa(e,t+1,n),3)},Ka[26]=function(e,t,r,n){return new $s(qs.uint,ca(e,t+1,n),5)},Ka[27]=function(e,t,r,n){return new $s(qs.uint,la(e,t+1,n),9)},Ka[28]=qa,Ka[29]=qa,Ka[30]=qa,Ka[31]=qa;for(let e=32;e<=55;e++)Ka[e]=qa;Ka[56]=function(e,t,r,n){return new $s(qs.negint,-1-ha(e,t+1,n),2)},Ka[57]=function(e,t,r,n){return new $s(qs.negint,-1-fa(e,t+1,n),3)},Ka[58]=function(e,t,r,n){return new $s(qs.negint,-1-ca(e,t+1,n),5)},Ka[59]=function(e,t,r,n){const i=la(e,t+1,n);if("bigint"!=typeof i){const e=-1-i;if(e>=Number.MIN_SAFE_INTEGER)return new $s(qs.negint,e,9)}if(!0!==n.allowBigInt)throw new Error("CBOR decode error: integers outside of the safe integer range are not supported");return new $s(qs.negint,ya-BigInt(i),9)},Ka[60]=qa,Ka[61]=qa,Ka[62]=qa,Ka[63]=qa;for(let e=64;e<=87;e++)Ka[e]=wa;Ka[88]=function(e,t,r,n){return ba(e,t,2,ha(e,t+1,n))},Ka[89]=function(e,t,r,n){return ba(e,t,3,fa(e,t+1,n))},Ka[90]=function(e,t,r,n){return ba(e,t,5,ca(e,t+1,n))},Ka[91]=function(e,t,r,n){const i=la(e,t+1,n);if("bigint"==typeof i)throw new Error("CBOR decode error: 64-bit integer bytes lengths not supported");return ba(e,t,9,i)},Ka[92]=qa,Ka[93]=qa,Ka[94]=qa,Ka[95]=$a("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)Ka[e]=Sa;Ka[120]=function(e,t,r,n){return Ea(e,t,2,ha(e,t+1,n),n)},Ka[121]=function(e,t,r,n){return Ea(e,t,3,fa(e,t+1,n),n)},Ka[122]=function(e,t,r,n){return Ea(e,t,5,ca(e,t+1,n),n)},Ka[123]=function(e,t,r,n){const i=la(e,t+1,n);if("bigint"==typeof i)throw new Error("CBOR decode error: 64-bit integer string lengths not supported");return Ea(e,t,9,i,n)},Ka[124]=qa,Ka[125]=qa,Ka[126]=qa,Ka[127]=$a("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)Ka[e]=ka;Ka[152]=function(e,t,r,n){return Aa(0,0,2,ha(e,t+1,n))},Ka[153]=function(e,t,r,n){return Aa(0,0,3,fa(e,t+1,n))},Ka[154]=function(e,t,r,n){return Aa(0,0,5,ca(e,t+1,n))},Ka[155]=function(e,t,r,n){const i=la(e,t+1,n);if("bigint"==typeof i)throw new Error("CBOR decode error: 64-bit integer array lengths not supported");return Aa(0,0,9,i)},Ka[156]=qa,Ka[157]=qa,Ka[158]=qa,Ka[159]=function(e,t,r,n){if(!1===n.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return Aa(0,0,1,1/0)};for(let e=160;e<=183;e++)Ka[e]=Pa;Ka[184]=function(e,t,r,n){return Ta(0,0,2,ha(e,t+1,n))},Ka[185]=function(e,t,r,n){return Ta(0,0,3,fa(e,t+1,n))},Ka[186]=function(e,t,r,n){return Ta(0,0,5,ca(e,t+1,n))},Ka[187]=function(e,t,r,n){const i=la(e,t+1,n);if("bigint"==typeof i)throw new Error("CBOR decode error: 64-bit integer map lengths not supported");return Ta(0,0,9,i)},Ka[188]=qa,Ka[189]=qa,Ka[190]=qa,Ka[191]=function(e,t,r,n){if(!1===n.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return Ta(0,0,1,1/0)};for(let e=192;e<=215;e++)Ka[e]=Ra;Ka[216]=function(e,t,r,n){return new $s(qs.tag,ha(e,t+1,n),2)},Ka[217]=function(e,t,r,n){return new $s(qs.tag,fa(e,t+1,n),3)},Ka[218]=function(e,t,r,n){return new $s(qs.tag,ca(e,t+1,n),5)},Ka[219]=function(e,t,r,n){return new $s(qs.tag,la(e,t+1,n),9)},Ka[220]=qa,Ka[221]=qa,Ka[222]=qa,Ka[223]=qa;for(let e=224;e<=243;e++)Ka[e]=$a("simple values are not supported");Ka[244]=qa,Ka[245]=qa,Ka[246]=qa,Ka[247]=function(e,t,r,n){if(!1===n.allowUndefined)throw new Error("CBOR decode error: undefined values are not supported");return!0===n.coerceUndefinedToNull?new $s(qs.null,null,1):new $s(qs.undefined,void 0,1)},Ka[248]=$a("simple values are not supported"),Ka[249]=function(e,t,r,n){return Ba(Ua(e,t+1),3,n)},Ka[250]=function(e,t,r,n){return Ba(za(e,t+1),5,n)},Ka[251]=function(e,t,r,n){return Ba(Fa(e,t+1),9,n)},Ka[252]=qa,Ka[253]=qa,Ka[254]=qa,Ka[255]=function(e,t,r,n){if(!1===n.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return new $s(qs.break,void 0,1)};const Va=[];for(let e=0;e<24;e++)Va[e]=new $s(qs.uint,e,1);for(let e=-1;e>=-24;e--)Va[31-e]=new $s(qs.negint,e,1);Va[64]=new $s(qs.bytes,new Uint8Array(0),1),Va[96]=new $s(qs.string,"",1),Va[128]=new $s(qs.array,0,1),Va[160]=new $s(qs.map,0,1),Va[244]=new $s(qs.false,!1,1),Va[245]=new $s(qs.true,!0,1),Va[246]=new $s(qs.null,null,1);const Wa={float64:!1,mapSorter:function(e,t){const r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);const i=r.type.major,o=Ga[i].compareTokens(r,n);return 0===o&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),o},quickEncodeToken:function(e){switch(e.type){case qs.false:return Xs([244]);case qs.true:return Xs([245]);case qs.null:return Xs([246]);case qs.bytes:return e.value.length?void 0:Xs([64]);case qs.string:return""===e.value?Xs([96]):void 0;case qs.array:return 0===e.value?Xs([128]):void 0;case qs.map:return 0===e.value?Xs([160]):void 0;case qs.uint:return e.value<24?Xs([Number(e.value)]):void 0;case qs.negint:if(e.value>=-24)return Xs([31-Number(e.value)])}}},Ga=function(){const e=[];return e[qs.uint.major]=da,e[qs.negint.major]=ga,e[qs.bytes.major]=_a,e[qs.string.major]=Ma,e[qs.array.major]=xa,e[qs.map.major]=Ia,e[qs.tag.major]=Oa,e[qs.float.major]=Ca,e}(),Ya=new oa;class Ja{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error("CBOR encode error: object contains circular references");return new Ja(t,e)}}const Za={null:new $s(qs.null,null),undefined:new $s(qs.undefined,void 0),true:new $s(qs.true,!0),false:new $s(qs.false,!1),emptyArray:new $s(qs.array,0),emptyMap:new $s(qs.map,0)},Xa={number:(e,t,r,n)=>Number.isInteger(e)&&Number.isSafeInteger(e)?new $s(e>=0?qs.uint:qs.negint,e):new $s(qs.float,e),bigint:(e,t,r,n)=>e>=BigInt(0)?new $s(qs.uint,e):new $s(qs.negint,e),Uint8Array:(e,t,r,n)=>new $s(qs.bytes,e),string:(e,t,r,n)=>new $s(qs.string,e),boolean:(e,t,r,n)=>e?Za.true:Za.false,null:(e,t,r,n)=>Za.null,undefined:(e,t,r,n)=>Za.undefined,ArrayBuffer:(e,t,r,n)=>new $s(qs.bytes,new Uint8Array(e)),DataView:(e,t,r,n)=>new $s(qs.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,r,n){if(!e.length)return!0===r.addBreakTokens?[Za.emptyArray,new $s(qs.break)]:Za.emptyArray;n=Ja.createCheck(n,e);const i=[];let o=0;for(const t of e)i[o++]=Qa(t,r,n);return r.addBreakTokens?[new $s(qs.array,e.length),i,new $s(qs.break)]:[new $s(qs.array,e.length),i]},Object(e,t,r,n){const i="Object"!==t,o=i?e.keys():Object.keys(e),s=i?e.size:o.length;if(!s)return!0===r.addBreakTokens?[Za.emptyMap,new $s(qs.break)]:Za.emptyMap;n=Ja.createCheck(n,e);const a=[];let u=0;for(const t of o)a[u++]=[Qa(t,r,n),Qa(i?e.get(t):e[t],r,n)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(a,r),r.addBreakTokens?[new $s(qs.map,s),a,new $s(qs.break)]:[new $s(qs.map,s),a]}};Xa.Map=Xa.Object,Xa.Buffer=Xa.Uint8Array;for(const e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Xa[`${e}Array`]=Xa.DataView;function Qa(e,t={},r){const n=function(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";const t=typeof e;if(zs.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";const r=function(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(Fs.includes(t))return t}(e);return r||"Object"}(e),i=t&&t.typeEncoders&&t.typeEncoders[n]||Xa[n];if("function"==typeof i){const o=i(e,n,t,r);if(null!=o)return o}const o=Xa[n];if(!o)throw new Error(`CBOR encode error: unsupported type: ${n}`);return o(e,n,t,r)}function eu(e,t,r,n){if(Array.isArray(t))for(const i of t)eu(e,i,r,n);else r[t.type.major](e,t,n)}function tu(e,t,r){const n=Qa(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){const e=r.quickEncodeToken(n);if(e)return e;const i=t[n.type.major];if(i.encodedSize){const e=i.encodedSize(n,r),t=new oa(e);if(i(t,n,r),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return Ys(t.chunks[0])}}return Ya.reset(),eu(Ya,n,t,r),Ya.toBytes(!0)}const ru={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class nu{constructor(e,t={}){this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){const e=this.data[this.pos];let t=Va[e];if(void 0===t){const r=Ka[e];if(!r)throw new Error(`CBOR decode error: no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const n=31&e;t=r(this.data,this.pos,n,this.options)}return this.pos+=t.encodedLength,t}}const iu=Symbol.for("DONE"),ou=Symbol.for("BREAK");function su(e,t){if(e.done())return iu;const r=e.next();if(r.type===qs.break)return ou;if(r.type.terminal)return r.value;if(r.type===qs.array)return function(e,t,r){const n=[];for(let i=0;i<e.value;i++){const o=su(t,r);if(o===ou){if(e.value===1/0)break;throw new Error("CBOR decode error: got unexpected break to lengthed array")}if(o===iu)throw new Error(`CBOR decode error: found array but not enough entries (got ${i}, expected ${e.value})`);n[i]=o}return n}(r,e,t);if(r.type===qs.map)return function(e,t,r){const n=!0===r.useMaps,i=n?void 0:{},o=n?new Map:void 0;for(let s=0;s<e.value;s++){const a=su(t,r);if(a===ou){if(e.value===1/0)break;throw new Error("CBOR decode error: got unexpected break to lengthed map")}if(a===iu)throw new Error(`CBOR decode error: found map but not enough entries (got ${s} [no key], expected ${e.value})`);if(!0!==n&&"string"!=typeof a)throw new Error(`CBOR decode error: non-string keys not supported (got ${typeof a})`);const u=su(t,r);if(u===iu)throw new Error(`CBOR decode error: found map but not enough entries (got ${s} [no value], expected ${e.value})`);n?o.set(a,u):i[a]=u}return n?o:i}(r,e,t);if(r.type===qs.tag){if(t.tags&&"function"==typeof t.tags[r.value]){const n=su(e,t);return t.tags[r.value](n)}throw new Error(`CBOR decode error: tag not supported (${r.value})`)}throw new Error("unsupported")}var au=Math.pow(2,31),uu=Math.pow(2,7),hu=Math.pow(2,14),fu=Math.pow(2,21),cu=Math.pow(2,28),lu=Math.pow(2,35),du=Math.pow(2,42),pu=Math.pow(2,49),yu=Math.pow(2,56),mu=Math.pow(2,63);const gu={encode:function e(t,r,n){r=r||[];for(var i=n=n||0;t>=au;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r},decode:function e(t,r){var n,i=0,o=0,s=r=r||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[s++],i+=o<28?(127&n)<<o:(127&n)*Math.pow(2,o),o+=7}while(n>=128);return e.bytes=s-r,i},encodingLength:function(e){return e<uu?1:e<hu?2:e<fu?3:e<cu?4:e<lu?5:e<du?6:e<pu?7:e<yu?8:e<mu?9:10}},bu=(e,t=0)=>[gu.decode(e,t),gu.decode.bytes],wu=(e,t,r=0)=>(gu.encode(e,t,r),t),vu=e=>gu.encodingLength(e),_u=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class Eu{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}const Su=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=i}var a=e.length,u=e.charAt(0),h=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function c(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*h+1>>>0,s=new Uint8Array(o);e[t];){var f=r[e.charCodeAt(t)];if(255===f)return;for(var c=0,l=o-1;(0!==f||c<i)&&-1!==l;l--,c++)f+=a*s[l]>>>0,s[l]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=c,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===s[d];)d++;for(var p=new Uint8Array(n+(o-d)),y=n;d!==o;)p[y++]=s[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*f+1>>>0,h=new Uint8Array(s);i!==o;){for(var c=t[i],l=0,d=s-1;(0!==c||l<n)&&-1!==d;d--,l++)c+=256*h[d]>>>0,h[d]=c%a>>>0,c=c/a>>>0;if(0!==c)throw new Error("Non-zero carry");n=l,i++}for(var p=s-n;p!==s&&0===h[p];)p++;for(var y=u.repeat(r);p<s;++p)y+=e.charAt(h[p]);return y},decodeUnsafe:c,decode:function(e){var r=c(e);if(r)return r;throw new Error(`Non-${t} character`)}}};class Mu{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Au{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return xu(this,e)}}class ku{constructor(e){this.decoders=e}or(e){return xu(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const xu=(e,t)=>new ku({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Tu{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new Mu(e,t,r),this.decoder=new Au(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Pu=({name:e,prefix:t,encode:r,decode:n})=>new Tu(e,t,r,n),Iu=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=Su(r,t);return Pu({prefix:e,name:t,encode:n,decode:e=>_u(i(e))})},Ru=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>Pu({prefix:t,name:e,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],i=(1<<r)-1;let o="",s=0,a=0;for(let n=0;n<e.length;++n)for(a=a<<8|e[n],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o})(e,n,r),decode:t=>((e,t,r,n)=>{const i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*r/8|0);let a=0,u=0,h=0;for(let t=0;t<o;++t){const o=i[e[t]];if(void 0===o)throw new SyntaxError(`Non-${n} character`);u=u<<r|o,a+=r,a>=8&&(a-=8,s[h++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,n,r,e)}),Ou=Iu({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Bu=(Iu({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Ru({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5})),Cu=(Ru({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Ru({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Ru({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Ru({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Ru({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Ru({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Ru({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Ru({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),new WeakMap),Lu=e=>{const t=Cu.get(e);if(null==t){const t=new Map;return Cu.set(e,t),t}return t};class ju{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==Hu)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==zu)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return ju.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=((e,t)=>{const r=t.byteLength,n=vu(e),i=n+vu(r),o=new Uint8Array(i+r);return wu(e,o,0),wu(r,o,n),o.set(t,i),new Eu(e,r,t,o)})(e,t);return ju.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return ju.equals(this,e)}static equals(e,t){const r=t;return r&&e.code===r.code&&e.version===r.version&&((e,t)=>{if(e===t)return!0;{const r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0})(e.bytes,r.bytes)}})(e.multihash,r.multihash)}toString(e){return((e,t)=>{const{bytes:r,version:n}=e;return 0===n?Nu(r,Lu(e),t||Ou.encoder):Uu(r,Lu(e),t||Bu.encoder)})(this,e)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof ju)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:r,multihash:n,bytes:i}=t;return new ju(e,r,n,i||Fu(e,r,n.bytes))}if(!0===t[qu]){const{version:e,multihash:r,code:n}=t,i=(e=>{const t=_u(e),[r,n]=bu(t),[i,o]=bu(t.subarray(n)),s=t.subarray(n+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new Eu(r,i,s,t)})(r);return ju.create(e,n,i)}return null}static create(e,t,r){if("number"!=typeof t)throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==Hu)throw new Error(`Version 0 CID must use dag-pb (code: ${Hu}) block encoding`);return new ju(e,t,r,r.bytes);case 1:{const n=Fu(e,t,r.bytes);return new ju(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return ju.create(0,Hu,e)}static createV1(e,t){return ju.create(1,e,t)}static decode(e){const[t,r]=ju.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=ju.inspectBytes(e),r=t.size-t.multihashSize,n=_u(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");const i=n.subarray(t.multihashSize-t.digestSize),o=new Eu(t.multihashCode,t.digestSize,i,n);return[0===t.version?ju.createV0(o):ju.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,n]=bu(e.subarray(t));return t+=n,r};let n=r(),i=Hu;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw new RangeError(`Invalid CID version ${n}`);const o=t,s=r(),a=r(),u=t+a;return{version:n,codec:i,multihashCode:s,digestSize:a,multihashSize:u-o,size:u}}static parse(e,t){const[r,n]=Du(e,t),i=ju.decode(n);return Lu(i).set(r,e),i}}const Du=(e,t)=>{switch(e[0]){case"Q":{const r=t||Ou;return[Ou.prefix,r.decode(`${Ou.prefix}${e}`)]}case Ou.prefix:{const r=t||Ou;return[Ou.prefix,r.decode(e)]}case Bu.prefix:{const r=t||Bu;return[Bu.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},Nu=(e,t,r)=>{const{prefix:n}=r;if(n!==Ou.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const i=t.get(n);if(null==i){const i=r.encode(e).slice(1);return t.set(n,i),i}return i},Uu=(e,t,r)=>{const{prefix:n}=r,i=t.get(n);if(null==i){const i=r.encode(e);return t.set(n,i),i}return i},Hu=112,zu=18,Fu=(e,t,r)=>{const n=vu(e),i=n+vu(t),o=new Uint8Array(i+r.byteLength);return wu(e,o,0),wu(t,o,n),o.set(r,i),o},qu=Symbol.for("@ipld/js-cid/CID"),$u={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e&&e["/"]!==e.bytes)return null;const t=ju.asCID(e);if(!t)return null;const r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new $s(qs.tag,42),new $s(qs.bytes,r)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}},Ku={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};Ku.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return ju.decode(e.subarray(1))};const Vu="dag-cbor",Wu=113,Gu=e=>{return t=e,r=$u,r=Object.assign({},Wa,r),tu(t,Ga,r);var t,r},Yu=e=>function(e,t){if(!(e instanceof Uint8Array))throw new Error("CBOR decode error: data to decode must be a Uint8Array");const r=(t=Object.assign({},ru,t)).tokenizer||new nu(e,t),n=su(r,t);if(n===iu)throw new Error("CBOR decode error: did not find any content to decode");if(n===ou)throw new Error("CBOR decode error: got unexpected break");if(!r.done())throw new Error("CBOR decode error: too many terminals, data makes no sense");return n}(e,Ku);__webpack_require__(1362);var Ju=__webpack_require__(6155);__webpack_require__(942),new Uint8Array(0);const Zu=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};var Xu=Math.pow(2,31),Qu=Math.pow(2,7),eh=Math.pow(2,14),th=Math.pow(2,21),rh=Math.pow(2,28),nh=Math.pow(2,35),ih=Math.pow(2,42),oh=Math.pow(2,49),sh=Math.pow(2,56),ah=Math.pow(2,63);const uh=function e(t,r,n){r=r||[];for(var i=n=n||0;t>=Xu;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r},hh=function(e){return e<Qu?1:e<eh?2:e<th?3:e<rh?4:e<nh?5:e<ih?6:e<oh?7:e<sh?8:e<ah?9:10},fh=(e,t,r=0)=>(uh(e,t,r),t),ch=e=>hh(e),lh=(e,t)=>{const r=t.byteLength,n=ch(e),i=n+ch(r),o=new Uint8Array(i+r);return fh(e,o,0),fh(r,o,n),o.set(t,i),new dh(e,r,t,o)};class dh{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}const ph=({name:e,code:t,encode:r})=>new yh(e,t,r);class yh{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?lh(this.code,t):t.then((e=>lh(this.code,e)))}throw Error("Unknown type, must be binary type")}}const mh=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),gh=ph({name:"sha2-256",code:18,encode:mh("SHA-256")}),bh=ph({name:"sha2-512",code:19,encode:mh("SHA-512")}),wh=new Uint8Array(0);var vh=Math.pow(2,31),_h=Math.pow(2,7),Eh=Math.pow(2,14),Sh=Math.pow(2,21),Mh=Math.pow(2,28),Ah=Math.pow(2,35),kh=Math.pow(2,42),xh=Math.pow(2,49),Th=Math.pow(2,56),Ph=Math.pow(2,63);const Ih=function e(t,r,n){r=r||[];for(var i=n=n||0;t>=vh;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r},Rh=function(e){return e<_h?1:e<Eh?2:e<Sh?3:e<Mh?4:e<Ah?5:e<kh?6:e<xh?7:e<Th?8:e<Ph?9:10},Oh=(e,t,r=0)=>(Ih(e,t,r),t),Bh=e=>Rh(e),Ch=(e,t)=>{const r=t.byteLength,n=Bh(e),i=n+Bh(r),o=new Uint8Array(i+r);return Oh(e,o,0),Oh(r,o,n),o.set(t,i),new Lh(e,r,t,o)};class Lh{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}const jh=({name:e,code:t,encode:r})=>new Dh(e,t,r);class Dh{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Ch(this.code,t):t.then((e=>Ch(this.code,e)))}throw Error("Unknown type, must be binary type")}}const Nh=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=i}var a=e.length,u=e.charAt(0),h=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function c(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*h+1>>>0,s=new Uint8Array(o);e[t];){var f=r[e.charCodeAt(t)];if(255===f)return;for(var c=0,l=o-1;(0!==f||c<i)&&-1!==l;l--,c++)f+=a*s[l]>>>0,s[l]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=c,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===s[d];)d++;for(var p=new Uint8Array(n+(o-d)),y=n;d!==o;)p[y++]=s[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*f+1>>>0,h=new Uint8Array(s);i!==o;){for(var c=t[i],l=0,d=s-1;(0!==c||l<n)&&-1!==d;d--,l++)c+=256*h[d]>>>0,h[d]=c%a>>>0,c=c/a>>>0;if(0!==c)throw new Error("Non-zero carry");n=l,i++}for(var p=s-n;p!==s&&0===h[p];)p++;for(var y=u.repeat(r);p<s;++p)y+=e.charAt(h[p]);return y},decodeUnsafe:c,decode:function(e){var r=c(e);if(r)return r;throw new Error(`Non-${t} character`)}}};class Uh{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Hh{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return Fh(this,e)}}class zh{constructor(e){this.decoders=e}or(e){return Fh(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Fh=(e,t)=>new zh({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class qh{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new Uh(e,t,r),this.decoder=new Hh(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const $h=({name:e,prefix:t,encode:r,decode:n})=>new qh(e,t,r,n),Kh=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=Nh(r,t);return $h({prefix:e,name:t,encode:n,decode:e=>(e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")})(i(e))})},Vh=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>$h({prefix:t,name:e,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],i=(1<<r)-1;let o="",s=0,a=0;for(let n=0;n<e.length;++n)for(a=a<<8|e[n],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o})(e,n,r),decode:t=>((e,t,r,n)=>{const i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*r/8|0);let a=0,u=0,h=0;for(let t=0;t<o;++t){const o=i[e[t]];if(void 0===o)throw new SyntaxError(`Non-${n} character`);u=u<<r|o,a+=r,a>=8&&(a-=8,s[h++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,n,r,e)});Kh({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Kh({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Vh({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Vh({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Vh({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Vh({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Vh({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Vh({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Vh({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Vh({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Vh({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),new WeakMap,Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");var Wh=__webpack_require__(469);jh({name:"murmur3-32",code:35,encode:e=>function(e){const t=new Array(4);for(let r=0;r<4;r++)t[r]=255&e,e>>=8;return new Uint8Array(t)}(Wh.x86.hash32(e))}),jh({name:"murmur3-128",code:34,encode:e=>(e=>{const t=e.match(/../g);return t?new Uint8Array(t.map((e=>parseInt(e,16)))):wh})(Wh.x64.hash128(e))}),__webpack_require__(3228);var Gh=__webpack_require__(2100);const Yh=Gh.Reader,Jh=Gh.Writer,Zh=Gh.util,Xh=Gh.roots["ipfs-unixfs"]||(Gh.roots["ipfs-unixfs"]={});Xh.Data=(()=>{function e(e){if(this.blocksizes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.Type=0,e.prototype.Data=Zh.newBuffer([]),e.prototype.filesize=Zh.Long?Zh.Long.fromBits(0,0,!0):0,e.prototype.blocksizes=Zh.emptyArray,e.prototype.hashType=Zh.Long?Zh.Long.fromBits(0,0,!0):0,e.prototype.fanout=Zh.Long?Zh.Long.fromBits(0,0,!0):0,e.prototype.mode=0,e.prototype.mtime=null,e.encode=function(e,t){if(t||(t=Jh.create()),t.uint32(8).int32(e.Type),null!=e.Data&&Object.hasOwnProperty.call(e,"Data")&&t.uint32(18).bytes(e.Data),null!=e.filesize&&Object.hasOwnProperty.call(e,"filesize")&&t.uint32(24).uint64(e.filesize),null!=e.blocksizes&&e.blocksizes.length)for(var r=0;r<e.blocksizes.length;++r)t.uint32(32).uint64(e.blocksizes[r]);return null!=e.hashType&&Object.hasOwnProperty.call(e,"hashType")&&t.uint32(40).uint64(e.hashType),null!=e.fanout&&Object.hasOwnProperty.call(e,"fanout")&&t.uint32(48).uint64(e.fanout),null!=e.mode&&Object.hasOwnProperty.call(e,"mode")&&t.uint32(56).uint32(e.mode),null!=e.mtime&&Object.hasOwnProperty.call(e,"mtime")&&Xh.UnixTime.encode(e.mtime,t.uint32(66).fork()).ldelim(),t},e.decode=function(e,t){e instanceof Yh||(e=Yh.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Xh.Data;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Type=e.int32();break;case 2:n.Data=e.bytes();break;case 3:n.filesize=e.uint64();break;case 4:if(n.blocksizes&&n.blocksizes.length||(n.blocksizes=[]),2==(7&i))for(var o=e.uint32()+e.pos;e.pos<o;)n.blocksizes.push(e.uint64());else n.blocksizes.push(e.uint64());break;case 5:n.hashType=e.uint64();break;case 6:n.fanout=e.uint64();break;case 7:n.mode=e.uint32();break;case 8:n.mtime=Xh.UnixTime.decode(e,e.uint32());break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Type"))throw Zh.ProtocolError("missing required 'Type'",{instance:n});return n},e.fromObject=function(e){if(e instanceof Xh.Data)return e;var t=new Xh.Data;switch(e.Type){case"Raw":case 0:t.Type=0;break;case"Directory":case 1:t.Type=1;break;case"File":case 2:t.Type=2;break;case"Metadata":case 3:t.Type=3;break;case"Symlink":case 4:t.Type=4;break;case"HAMTShard":case 5:t.Type=5}if(null!=e.Data&&("string"==typeof e.Data?Zh.base64.decode(e.Data,t.Data=Zh.newBuffer(Zh.base64.length(e.Data)),0):e.Data.length&&(t.Data=e.Data)),null!=e.filesize&&(Zh.Long?(t.filesize=Zh.Long.fromValue(e.filesize)).unsigned=!0:"string"==typeof e.filesize?t.filesize=parseInt(e.filesize,10):"number"==typeof e.filesize?t.filesize=e.filesize:"object"==typeof e.filesize&&(t.filesize=new Zh.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0))),e.blocksizes){if(!Array.isArray(e.blocksizes))throw TypeError(".Data.blocksizes: array expected");t.blocksizes=[];for(var r=0;r<e.blocksizes.length;++r)Zh.Long?(t.blocksizes[r]=Zh.Long.fromValue(e.blocksizes[r])).unsigned=!0:"string"==typeof e.blocksizes[r]?t.blocksizes[r]=parseInt(e.blocksizes[r],10):"number"==typeof e.blocksizes[r]?t.blocksizes[r]=e.blocksizes[r]:"object"==typeof e.blocksizes[r]&&(t.blocksizes[r]=new Zh.LongBits(e.blocksizes[r].low>>>0,e.blocksizes[r].high>>>0).toNumber(!0))}if(null!=e.hashType&&(Zh.Long?(t.hashType=Zh.Long.fromValue(e.hashType)).unsigned=!0:"string"==typeof e.hashType?t.hashType=parseInt(e.hashType,10):"number"==typeof e.hashType?t.hashType=e.hashType:"object"==typeof e.hashType&&(t.hashType=new Zh.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0))),null!=e.fanout&&(Zh.Long?(t.fanout=Zh.Long.fromValue(e.fanout)).unsigned=!0:"string"==typeof e.fanout?t.fanout=parseInt(e.fanout,10):"number"==typeof e.fanout?t.fanout=e.fanout:"object"==typeof e.fanout&&(t.fanout=new Zh.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0))),null!=e.mode&&(t.mode=e.mode>>>0),null!=e.mtime){if("object"!=typeof e.mtime)throw TypeError(".Data.mtime: object expected");t.mtime=Xh.UnixTime.fromObject(e.mtime)}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.blocksizes=[]),t.defaults){if(r.Type=t.enums===String?"Raw":0,t.bytes===String?r.Data="":(r.Data=[],t.bytes!==Array&&(r.Data=Zh.newBuffer(r.Data))),Zh.Long){var n=new Zh.Long(0,0,!0);r.filesize=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.filesize=t.longs===String?"0":0;Zh.Long?(n=new Zh.Long(0,0,!0),r.hashType=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.hashType=t.longs===String?"0":0,Zh.Long?(n=new Zh.Long(0,0,!0),r.fanout=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.fanout=t.longs===String?"0":0,r.mode=0,r.mtime=null}if(null!=e.Type&&e.hasOwnProperty("Type")&&(r.Type=t.enums===String?Xh.Data.DataType[e.Type]:e.Type),null!=e.Data&&e.hasOwnProperty("Data")&&(r.Data=t.bytes===String?Zh.base64.encode(e.Data,0,e.Data.length):t.bytes===Array?Array.prototype.slice.call(e.Data):e.Data),null!=e.filesize&&e.hasOwnProperty("filesize")&&("number"==typeof e.filesize?r.filesize=t.longs===String?String(e.filesize):e.filesize:r.filesize=t.longs===String?Zh.Long.prototype.toString.call(e.filesize):t.longs===Number?new Zh.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0):e.filesize),e.blocksizes&&e.blocksizes.length){r.blocksizes=[];for(var i=0;i<e.blocksizes.length;++i)"number"==typeof e.blocksizes[i]?r.blocksizes[i]=t.longs===String?String(e.blocksizes[i]):e.blocksizes[i]:r.blocksizes[i]=t.longs===String?Zh.Long.prototype.toString.call(e.blocksizes[i]):t.longs===Number?new Zh.LongBits(e.blocksizes[i].low>>>0,e.blocksizes[i].high>>>0).toNumber(!0):e.blocksizes[i]}return null!=e.hashType&&e.hasOwnProperty("hashType")&&("number"==typeof e.hashType?r.hashType=t.longs===String?String(e.hashType):e.hashType:r.hashType=t.longs===String?Zh.Long.prototype.toString.call(e.hashType):t.longs===Number?new Zh.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0):e.hashType),null!=e.fanout&&e.hasOwnProperty("fanout")&&("number"==typeof e.fanout?r.fanout=t.longs===String?String(e.fanout):e.fanout:r.fanout=t.longs===String?Zh.Long.prototype.toString.call(e.fanout):t.longs===Number?new Zh.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0):e.fanout),null!=e.mode&&e.hasOwnProperty("mode")&&(r.mode=e.mode),null!=e.mtime&&e.hasOwnProperty("mtime")&&(r.mtime=Xh.UnixTime.toObject(e.mtime,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Gh.util.toJSONOptions)},e.DataType=function(){const e={},t=Object.create(e);return t[e[0]="Raw"]=0,t[e[1]="Directory"]=1,t[e[2]="File"]=2,t[e[3]="Metadata"]=3,t[e[4]="Symlink"]=4,t[e[5]="HAMTShard"]=5,t}(),e})(),Xh.UnixTime=(()=>{function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.Seconds=Zh.Long?Zh.Long.fromBits(0,0,!1):0,e.prototype.FractionalNanoseconds=0,e.encode=function(e,t){return t||(t=Jh.create()),t.uint32(8).int64(e.Seconds),null!=e.FractionalNanoseconds&&Object.hasOwnProperty.call(e,"FractionalNanoseconds")&&t.uint32(21).fixed32(e.FractionalNanoseconds),t},e.decode=function(e,t){e instanceof Yh||(e=Yh.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Xh.UnixTime;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Seconds=e.int64();break;case 2:n.FractionalNanoseconds=e.fixed32();break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Seconds"))throw Zh.ProtocolError("missing required 'Seconds'",{instance:n});return n},e.fromObject=function(e){if(e instanceof Xh.UnixTime)return e;var t=new Xh.UnixTime;return null!=e.Seconds&&(Zh.Long?(t.Seconds=Zh.Long.fromValue(e.Seconds)).unsigned=!1:"string"==typeof e.Seconds?t.Seconds=parseInt(e.Seconds,10):"number"==typeof e.Seconds?t.Seconds=e.Seconds:"object"==typeof e.Seconds&&(t.Seconds=new Zh.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber())),null!=e.FractionalNanoseconds&&(t.FractionalNanoseconds=e.FractionalNanoseconds>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(Zh.Long){var n=new Zh.Long(0,0,!1);r.Seconds=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.Seconds=t.longs===String?"0":0;r.FractionalNanoseconds=0}return null!=e.Seconds&&e.hasOwnProperty("Seconds")&&("number"==typeof e.Seconds?r.Seconds=t.longs===String?String(e.Seconds):e.Seconds:r.Seconds=t.longs===String?Zh.Long.prototype.toString.call(e.Seconds):t.longs===Number?new Zh.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber():e.Seconds),null!=e.FractionalNanoseconds&&e.hasOwnProperty("FractionalNanoseconds")&&(r.FractionalNanoseconds=e.FractionalNanoseconds),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Gh.util.toJSONOptions)},e})(),Xh.Metadata=(()=>{function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.MimeType="",e.encode=function(e,t){return t||(t=Jh.create()),null!=e.MimeType&&Object.hasOwnProperty.call(e,"MimeType")&&t.uint32(10).string(e.MimeType),t},e.decode=function(e,t){e instanceof Yh||(e=Yh.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Xh.Metadata;e.pos<r;){var i=e.uint32();i>>>3==1?n.MimeType=e.string():e.skipType(7&i)}return n},e.fromObject=function(e){if(e instanceof Xh.Metadata)return e;var t=new Xh.Metadata;return null!=e.MimeType&&(t.MimeType=String(e.MimeType)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.MimeType=""),null!=e.MimeType&&e.hasOwnProperty("MimeType")&&(r.MimeType=e.MimeType),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Gh.util.toJSONOptions)},e})(),parseInt("0644",8),parseInt("0755",8);const Qh=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=i}var a=e.length,u=e.charAt(0),h=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function c(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*h+1>>>0,s=new Uint8Array(o);e[t];){var f=r[e.charCodeAt(t)];if(255===f)return;for(var c=0,l=o-1;(0!==f||c<i)&&-1!==l;l--,c++)f+=a*s[l]>>>0,s[l]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=c,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===s[d];)d++;for(var p=new Uint8Array(n+(o-d)),y=n;d!==o;)p[y++]=s[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*f+1>>>0,h=new Uint8Array(s);i!==o;){for(var c=t[i],l=0,d=s-1;(0!==c||l<n)&&-1!==d;d--,l++)c+=256*h[d]>>>0,h[d]=c%a>>>0,c=c/a>>>0;if(0!==c)throw new Error("Non-zero carry");n=l,i++}for(var p=s-n;p!==s&&0===h[p];)p++;for(var y=u.repeat(r);p<s;++p)y+=e.charAt(h[p]);return y},decodeUnsafe:c,decode:function(e){var r=c(e);if(r)return r;throw new Error(`Non-${t} character`)}}};class ef{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class tf{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return nf(this,e)}}class rf{constructor(e){this.decoders=e}or(e){return nf(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const nf=(e,t)=>new rf({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class of{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new ef(e,t,r),this.decoder=new tf(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const sf=({name:e,prefix:t,encode:r,decode:n})=>new of(e,t,r,n),af=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=Qh(r,t);return sf({prefix:e,name:t,encode:n,decode:e=>Zu(i(e))})},uf=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>sf({prefix:t,name:e,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],i=(1<<r)-1;let o="",s=0,a=0;for(let n=0;n<e.length;++n)for(a=a<<8|e[n],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o})(e,n,r),decode:t=>((e,t,r,n)=>{const i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*r/8|0);let a=0,u=0,h=0;for(let t=0;t<o;++t){const o=i[e[t]];if(void 0===o)throw new SyntaxError(`Non-${n} character`);u=u<<r|o,a+=r,a>=8&&(a-=8,s[h++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,n,r,e)}),hf=af({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ff=af({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),cf=uf({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),lf=uf({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),df=uf({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),pf=uf({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),yf=uf({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),mf=uf({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),gf=uf({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),bf=uf({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),wf=uf({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});new WeakMap,Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID"),Math.pow(2,31),Math.pow(2,7),Math.pow(2,14),Math.pow(2,21),Math.pow(2,28),Math.pow(2,35),Math.pow(2,42),Math.pow(2,49),Math.pow(2,56),Math.pow(2,63),new Uint8Array(0);const vf=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=i}var a=e.length,u=e.charAt(0),h=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function c(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*h+1>>>0,s=new Uint8Array(o);e[t];){var f=r[e.charCodeAt(t)];if(255===f)return;for(var c=0,l=o-1;(0!==f||c<i)&&-1!==l;l--,c++)f+=a*s[l]>>>0,s[l]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=c,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===s[d];)d++;for(var p=new Uint8Array(n+(o-d)),y=n;d!==o;)p[y++]=s[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*f+1>>>0,h=new Uint8Array(s);i!==o;){for(var c=t[i],l=0,d=s-1;(0!==c||l<n)&&-1!==d;d--,l++)c+=256*h[d]>>>0,h[d]=c%a>>>0,c=c/a>>>0;if(0!==c)throw new Error("Non-zero carry");n=l,i++}for(var p=s-n;p!==s&&0===h[p];)p++;for(var y=u.repeat(r);p<s;++p)y+=e.charAt(h[p]);return y},decodeUnsafe:c,decode:function(e){var r=c(e);if(r)return r;throw new Error(`Non-${t} character`)}}};class _f{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Ef{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return Mf(this,e)}}class Sf{constructor(e){this.decoders=e}or(e){return Mf(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Mf=(e,t)=>new Sf({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Af{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new _f(e,t,r),this.decoder=new Ef(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const kf=({name:e,prefix:t,encode:r,decode:n})=>new Af(e,t,r,n),xf=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=vf(r,t);return kf({prefix:e,name:t,encode:n,decode:e=>(e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")})(i(e))})},Tf=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>kf({prefix:t,name:e,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],i=(1<<r)-1;let o="",s=0,a=0;for(let n=0;n<e.length;++n)for(a=a<<8|e[n],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o})(e,n,r),decode:t=>((e,t,r,n)=>{const i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*r/8|0);let a=0,u=0,h=0;for(let t=0;t<o;++t){const o=i[e[t]];if(void 0===o)throw new SyntaxError(`Non-${n} character`);u=u<<r|o,a+=r,a>=8&&(a-=8,s[h++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,n,r,e)});xf({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),xf({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Tf({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Tf({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Tf({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Tf({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Tf({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Tf({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Tf({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Tf({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Tf({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),new WeakMap,Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID"),new TextDecoder,new TextEncoder,new TextEncoder,__webpack_require__(6715);const Pf="raw",If=85,Rf=e=>Zu(e),Of=e=>Zu(e);Symbol.for("@achingbrain/uint8arraylist"),Symbol.iterator,__webpack_require__(3060);const Bf=sf({prefix:"\0",name:"identity",encode:e=>{return t=e,(new TextDecoder).decode(t);var t},decode:e=>(e=>(new TextEncoder).encode(e))(e)}),Cf=uf({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Lf=uf({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),jf=af({prefix:"9",name:"base10",alphabet:"0123456789"}),Df=uf({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Nf=uf({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Uf=af({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Hf=af({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),zf=uf({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Ff=uf({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),qf=uf({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),$f=uf({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Kf=Array.from(""),Vf=Kf.reduce(((e,t,r)=>(e[r]=t,e)),[]),Wf=Kf.reduce(((e,t,r)=>(e[t.codePointAt(0)]=r,e)),[]),Gf=sf({prefix:"",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+Vf[t]),"")},decode:function(e){const t=[];for(const r of e){const e=Wf[r.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}}),Yf=Zu,Jf={code:0,name:"identity",encode:Yf,digest:e=>lh(0,Yf(e))},Zf=new TextEncoder,Xf=new TextDecoder,Qf="json",ec=512,tc=e=>Zf.encode(JSON.stringify(e)),rc=e=>JSON.parse(Xf.decode(e));function nc(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}nc("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),nc("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{const t=function(e=0){return null!=globalThis.Buffer?.allocUnsafe?function(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}));__webpack_require__(544);const ic=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=i}var a=e.length,u=e.charAt(0),h=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function c(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*h+1>>>0,s=new Uint8Array(o);e[t];){var f=r[e.charCodeAt(t)];if(255===f)return;for(var c=0,l=o-1;(0!==f||c<i)&&-1!==l;l--,c++)f+=a*s[l]>>>0,s[l]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=c,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===s[d];)d++;for(var p=new Uint8Array(n+(o-d)),y=n;d!==o;)p[y++]=s[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*f+1>>>0,h=new Uint8Array(s);i!==o;){for(var c=t[i],l=0,d=s-1;(0!==c||l<n)&&-1!==d;d--,l++)c+=256*h[d]>>>0,h[d]=c%a>>>0,c=c/a>>>0;if(0!==c)throw new Error("Non-zero carry");n=l,i++}for(var p=s-n;p!==s&&0===h[p];)p++;for(var y=u.repeat(r);p<s;++p)y+=e.charAt(h[p]);return y},decodeUnsafe:c,decode:function(e){var r=c(e);if(r)return r;throw new Error(`Non-${t} character`)}}},oc=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class sc{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class ac{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return hc(this,e)}}class uc{constructor(e){this.decoders=e}or(e){return hc(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const hc=(e,t)=>new uc({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class fc{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new sc(e,t,r),this.decoder=new ac(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const cc=({name:e,prefix:t,encode:r,decode:n})=>new fc(e,t,r,n),lc=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=ic(r,t);return cc({prefix:e,name:t,encode:n,decode:e=>oc(i(e))})},dc=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>cc({prefix:t,name:e,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],i=(1<<r)-1;let o="",s=0,a=0;for(let n=0;n<e.length;++n)for(a=a<<8|e[n],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o})(e,n,r),decode:t=>((e,t,r,n)=>{const i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*r/8|0);let a=0,u=0,h=0;for(let t=0;t<o;++t){const o=i[e[t]];if(void 0===o)throw new SyntaxError(`Non-${n} character`);u=u<<r|o,a+=r,a>=8&&(a-=8,s[h++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,n,r,e)}),pc=cc({prefix:"\0",name:"identity",encode:e=>{return t=e,(new TextDecoder).decode(t);var t},decode:e=>(e=>(new TextEncoder).encode(e))(e)}),yc=dc({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),mc=dc({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),gc=lc({prefix:"9",name:"base10",alphabet:"0123456789"}),bc=dc({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),wc=dc({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),vc=dc({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),_c=dc({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Ec=dc({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Sc=dc({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Mc=dc({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Ac=dc({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),kc=dc({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),xc=dc({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Tc=dc({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Pc=lc({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Ic=lc({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Rc=lc({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Oc=lc({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Bc=dc({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Cc=dc({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Lc=dc({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),jc=dc({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Dc=Array.from(""),Nc=Dc.reduce(((e,t,r)=>(e[r]=t,e)),[]),Uc=Dc.reduce(((e,t,r)=>(e[t.codePointAt(0)]=r,e)),[]),Hc=cc({prefix:"",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+Nc[t]),"")},decode:function(e){const t=[];for(const r of e){const e=Uc[r.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}});var zc=Math.pow(2,31),Fc=Math.pow(2,7),qc=Math.pow(2,14),$c=Math.pow(2,21),Kc=Math.pow(2,28),Vc=Math.pow(2,35),Wc=Math.pow(2,42),Gc=Math.pow(2,49),Yc=Math.pow(2,56),Jc=Math.pow(2,63);const Zc=function e(t,r,n){r=r||[];for(var i=n=n||0;t>=zc;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r},Xc=function(e){return e<Fc?1:e<qc?2:e<$c?3:e<Kc?4:e<Vc?5:e<Wc?6:e<Gc?7:e<Yc?8:e<Jc?9:10},Qc=(e,t,r=0)=>(Zc(e,t,r),t),el=e=>Xc(e),tl=(e,t)=>{const r=t.byteLength,n=el(e),i=n+el(r),o=new Uint8Array(i+r);return Qc(e,o,0),Qc(r,o,n),o.set(t,i),new rl(e,r,t,o)};class rl{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}const nl=({name:e,code:t,encode:r})=>new il(e,t,r);class il{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?tl(this.code,t):t.then((e=>tl(this.code,e)))}throw Error("Unknown type, must be binary type")}}const ol=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),sl=nl({name:"sha2-256",code:18,encode:ol("SHA-256")}),al=nl({name:"sha2-512",code:19,encode:ol("SHA-512")}),ul=oc,hl={code:0,name:"identity",encode:ul,digest:e=>tl(0,ul(e))},fl="raw",cl=85,ll=e=>oc(e),dl=e=>oc(e),pl=new TextEncoder,yl=new TextDecoder,ml="json",gl=512,bl=e=>pl.encode(JSON.stringify(e)),wl=e=>JSON.parse(yl.decode(e));new WeakMap,Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");function vl(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}vl("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),vl("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{const t=function(e=0){return null!=globalThis.Buffer?.allocUnsafe?function(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}));__webpack_require__(9885),Ju.sha256.code,Ju.sha256,new TextEncoder;const _l=JSON.parse('["vault.blockcore.net","dapp.blockcore.net","explorer.blockcore.net","nostr.blockcore.net","notes.blockcore.net","metadata.nostr.com","damus.io","swaps.blockcore.net","swaps.coinvault.io","swaps.seniorblockchain.io","market.blockcore.net","hub.freeplatform.city"]'),El=JSON.parse('["google.com","microsoft.com","msn.com"]');class Sl{static verify(e){let t=this.cache.find((t=>t.domain===e)),r=null;return t?r=t.verify:(r=_l.indexOf(e)>-1||!(El.indexOf(e)>-1)&&void 0,this.cache.push({domain:e,verify:r})),r}}Sl.allow=_l,Sl.deny=El,Sl.cache=[];var Ml=__webpack_require__(9006);class Al{constructor(e,t,r,n,i,o,s,a){this.settingStore=e,this.walletStore=t,this.addressStore=r,this.addressIndexedStore=n,this.transactionStore=i,this.addressManager=o,this.accountStateStore=s,this.accountHistoryStore=a,this.limit=20,this.finalized=500,this.confirmed=1,this.watch=6,this.maxWatch=500,this.minWatchCount=20,this.batchSize=50,this.webRequest=new Hs}async calculateBalance(){const e=this.walletStore.all(),t=this.addressStore.all(),r=this.transactionStore.all(),n=this.addressIndexedStore.all();for(let o=0;o<e.length;o++){const s=e[o].accounts;for(let e=0;e<s.length;e++){const o=s[e],a=this.addressManager.getNetwork(o.networkType);if("quick"===o.mode){let e=0;const t=this.accountStateStore.getAllAddresses(o.identifier);n.filter((e=>t.indexOf(e.address)>-1)).map((t=>e+=t.balance)),this.accountHistoryStore.set(o.identifier,{history:[],unspent:[],balance:e,unconfirmed:0}),await this.accountHistoryStore.save()}else{const e=this.accountStateStore.getAllAddresses(o.identifier),n=t.filter((t=>e.indexOf(t.address)>-1)).flatMap((e=>e.transactions));var i=Array.from(new Set(n));let s=r.filter((e=>i.indexOf(e.transactionHash)>-1));s=s.sort(((e,t)=>{let r=e.blockIndex,n=t.blockIndex;return 0==r&&(r=9007199254740991),0==n&&(n=9007199254740991),r<n?1:r>n?-1:0}));let u=s.map((t=>{const r={};r.blockIndex=t.blockIndex,r.unconfirmed=t.unconfirmed,r.finalized=t.finalized,r.transactionHash=t.transactionHash,r.timestamp=t.details.timestamp,r.isCoinstake=t.details.isCoinstake,r.isCoinbase=t.details.isCoinbase,r.fee=t.details.fee;const n=t.details.outputs.filter((t=>-1===e.indexOf(t.address))),i=t.details.outputs.filter((t=>e.indexOf(t.address)>-1)),o=t.details.inputs.filter((t=>-1===e.indexOf(t.inputAddress))),s=t.details.inputs.filter((t=>e.indexOf(t.inputAddress)>-1));if(a.sidechains){const e=[...t.details.outputs.map((e=>e.address)),...t.details.inputs.map((e=>e.inputAddress))],n=a.sidechains.map((e=>e.peg.address));e.some((e=>n.indexOf(e)>=0))&&(r.isSidechain=!0)}if(0==n.length&&0==o.length)r.entryType="consolidated",r.calculatedAddress=i.map((e=>e.address)).join(";");else{if(0==s.length){r.entryType="receive";let e=0;const t=i.map((e=>e.balance));t.length>0&&(e=t.reduce(((e,t)=>e+t))),r.calculatedValue=e,r.calculatedAddress=i.map((e=>e.address)).join(";")}else{r.entryType="send";let e=0;const t=n.map((e=>e.balance));t.length>0&&(e=t.reduce(((e,t)=>e+t))),r.calculatedValue=e,r.calculatedAddress=n.map((e=>e.address)).join(";")}r.isCoinbase?r.entryType="mine":r.isCoinstake&&(r.entryType="stake"),2==t.details.outputs.length&&("OP_CALLCONTRACT"==t.details.outputs[0].outputType&&(r.hasContract=!0),"OP_CREATECONTRACT"==t.details.outputs[0].outputType&&(r.hasContract=!0),"OP_INTERNALCONTRACTTRANSFER"==t.details.outputs[0].outputType&&(r.hasContract=!0),"OP_CALLCONTRACT"==t.details.outputs[1].outputType&&(r.hasContract=!0),"OP_CREATECONTRACT"==t.details.outputs[1].outputType&&(r.hasContract=!0),"OP_INTERNALCONTRACTTRANSFER"==t.details.outputs[1].outputType&&(r.hasContract=!0))}return r})),h=[];for(let t=s.length-1;t>=0;t--){const r=s[t],n=r.details.outputs.filter((t=>e.indexOf(t.address)>-1));for(let e=0;e<n.length;e++){const t=n[e];let i=s.filter((e=>e.details.inputs.some((e=>e.inputAddress==t.address&&e.inputIndex==t.index&&e.inputTransactionId==r.transactionHash))));if(0===i.length){const e=this.transactionStore.get(r.transactionHash);h.push({address:t.address,balance:t.balance,index:t.index,transactionHash:r.transactionHash,unconfirmed:r.unconfirmed,hex:e.hex})}}}let f=0;const c=h.filter((e=>!e.unconfirmed));c.length>0&&(f=c.reduce(((e,t)=>e+t.balance),0));let l=0;const d=h.filter((e=>e.unconfirmed));d.length>0&&(l=d.reduce(((e,t)=>e+t.balance),0)),this.accountHistoryStore.set(o.identifier,{history:u,unspent:h,balance:f,unconfirmed:l}),await this.accountHistoryStore.save()}}}}async process(e){let t=!1;const r=this.settingStore.get();await this.walletStore.load(),await this.accountStateStore.load();const n=this.walletStore.getWallets();let i=!1;if(0==n.flatMap((e=>e.accounts)).length)return{changes:!1,completed:!0};let o=n.flatMap((e=>e.accounts)).filter(((e,t,r)=>r.map((e=>e.networkType)).indexOf(e.networkType)==t));if(o=o.filter((e=>"IDENTITY"!=e.networkType)),0==o.length)return{cancelled:!0,completed:!0};let s=!1;for(let e=0;e<o.length;e++){const t=this.addressManager.networkLoader.getServer(o[e].networkType,r.server,r.indexer);null!=t&&""!=t&&(s=!0)}if(!s)return console.warn("There are no indexers for the current accounts that are online."),{cancelled:!0,completed:!0};for(let o=0;o<n.length;o++){if(this.runState.cancel)return{cancelled:!0};const s=n[o];if(0==s.accounts.length)return{changes:!1,completed:!0};for(let n=0;n<s.accounts.length;n++){if(this.runState.cancel)return{cancelled:!0};const o=(new Date).toISOString(),a=s.accounts[n],u=this.accountStateStore.get(a.identifier);if(!u){console.error(`CRITICAL ERROR: There are no account state for ${a.name} (${a.identifier})`);continue}const h=this.addressManager.getNetwork(a.networkType),f=this.addressManager.networkLoader.getServer(h.id,r.server,r.indexer);if(null==f||""==f)continue;u.lastScan=o;let c=!1;if("identity"!=h.type){if("quick"===a.mode){if(e&&0==e.byAccountId(a.identifier).length)continue;for(let e=0;e<u.receive.length;e++){if(this.runState.cancel)return{cancelled:!0};const r=u.receive[e];let n=this.addressIndexedStore.get(r.address);n?n.balance=0:n={address:r.address,offset:0};const i=await this.processAddressIndexed(f,n);if(i.completed||(c=!0),i.changes&&(t=!0,this.addressIndexedStore.set(r.address,n),await this.addressIndexedStore.save()),e+1>=u.receive.length&&n.totalReceivedCount>0){const e=this.addressManager.getAddress(a,0,r.index+1);u.receive.push(e),t=!0}}for(let e=0;e<u.change.length;e++){if(this.runState.cancel)return{cancelled:!0};const r=u.change[e];let n=this.addressIndexedStore.get(r.address);n||(n={address:r.address,offset:0});const i=await this.processAddressIndexed(f,n);if(i.completed||(c=!0),i.changes&&(t=!0,this.addressIndexedStore.set(r.address,n),await this.addressIndexedStore.save()),e+1>=u.change.length&&n.totalReceivedCount>0){const e=this.addressManager.getAddress(a,1,r.index+1);u.change.push(e),t=!0}}}else if(e){if(!u.completedScan){t=!1;continue}const r=e.byAccountId(a.identifier);for(let n=0;n<r.length;n++){if(this.runState.cancel)return{cancelled:!0};const i=r[n];i.count=i.count+1,e.set(i.address,i);let o=this.addressStore.get(i.address);o||(o={address:i.address,offset:0,transactions:[]});const s=await this.processAddress(f,o);if(s.completed||(c=!0),s.changes&&(t=!0,this.addressStore.set(i.address,o),await this.addressStore.save()),i.count>=this.maxWatch)console.log("Stopping to watch (max watch reached):",i),e.remove(i.address);else if(i.count>=this.minWatchCount&&(console.log("minWatchCount reached, validate against latest tx now:",this.minWatchCount),o.transactions.length>0)){const t=o.transactions[o.transactions.length-1],r=this.transactionStore.get(t),n=r.confirmations<=this.watch;console.log("transaction.confirmations in watching:",r.confirmations),n||(console.log("Stopping to watch:",i),e.remove(i.address))}}if(!0===h.singleAddress||!0===a.singleAddress){const e=u.receive[0];let r=this.addressStore.get(e.address);r||(r={address:e.address,offset:0,transactions:[]});const n=await this.processAddress(f,r);n.completed||(c=!0),n.changes&&(t=!0,this.addressStore.set(e.address,r),await this.addressStore.save())}const n=u.receive[u.receive.length-1];let i=this.addressStore.get(n.address);i||(i={address:n.address,offset:0,transactions:[]});const o=await this.processAddress(f,i);if(o.completed||(c=!0),o.changes&&(t=!0,this.addressStore.set(n.address,i),await this.addressStore.save(),e.set(n.address,{address:n.address,accountId:a.identifier,count:0}),i.transactions.length>0)){const e=this.addressManager.getAddress(a,0,n.index+1);u.receive.push(e),t=!0}if(0===u.change.length){const e=this.addressManager.getAddress(a,1,0);u.change.push(e),t=!0}const s=u.change[u.change.length-1];let l=this.addressStore.get(s.address);l||(l={address:s.address,offset:0,transactions:[]});const d=await this.processAddress(f,l);if(d.completed||(c=!0),d.changes&&(t=!0,this.addressStore.set(s.address,l),await this.addressStore.save(),e.set(s.address,{address:s.address,accountId:a.identifier,count:0}),l.transactions.length>0)){const e=this.addressManager.getAddress(a,1,s.index+1);u.change.push(e),t=!0}await e.save()}else{for(let e=0;e<u.receive.length;e++){if(this.runState.cancel)return{cancelled:!0};const r=u.receive[e];let n=this.addressStore.get(r.address);n||(n={address:r.address,offset:0,transactions:[]});const i=await this.processAddress(f,n);if(i.completed||(c=!0),i.changes&&(t=!0,this.addressStore.set(r.address,n),await this.addressStore.save()),e+1>=u.receive.length&&n.transactions.length>0){const e=this.addressManager.getAddress(a,0,r.index+1);u.receive.push(e),t=!0}}for(let e=0;e<u.change.length;e++){if(this.runState.cancel)return{cancelled:!0};const r=u.change[e];let n=this.addressStore.get(r.address);n||(n={address:r.address,offset:0,transactions:[]});const i=await this.processAddress(f,n);if(i.completed||(c=!0),i.changes&&(t=!0,this.addressStore.set(r.address,n),await this.addressStore.save()),e+1>=u.change.length&&n.transactions.length>0){const e=this.addressManager.getAddress(a,1,r.index+1);u.change.push(e),t=!0}}}await this.transactionStore.save(),u.completedScan=!c,c&&(i=!0)}else console.log("identity .. ignore!")}await this.accountStateStore.save()}return{changes:t,completed:!i,cancelled:!1}}parseLinkHeader(e){const t=e.split(", "),r={first:null,last:null,previous:null,next:null};return t.forEach((e=>{const t=e.substring(e.indexOf('rel="')+5).replace('"',""),n=e.substring(e.indexOf("<")+1,e.indexOf(">"));r[t]=n})),r}async getTransactionInfo(e,t){const r=`${t}/api/query/transaction/${e}`;return(await this.webRequest.fetch(r)).json()}async getTransactionHex(e,t){const r=`${t}/api/query/transaction/${e}/hex`;return(await this.webRequest.fetch(r)).text()}async processAddress(e,t){let r=!1,n=!1,i=0;try{let o=`/api/query/address/${t.address}/transactions?offset=${t.offset}&limit=${this.limit}`;(new Date).toISOString();const s=e.slice();for(;null!=o;){const e=`${s}${o}`,a=await this.webRequest.fetch(e),u=await a.json(),h=this.parseLinkHeader(a.headers.get("link")),f=Number(a.headers.get("pagination-offset"));if(t.offset=f,i+=this.limit,a.ok)for(let e=0;e<u.length;e++){r=!0;const n=u[e],i=n.transactionHash,o=t.transactions.indexOf(i);n.details=await this.getTransactionInfo(i,s),n.confirmations=n.details.confirmations,-1==o&&t.transactions.push(i),n.unconfirmed=n.confirmations<this.confirmed,n.finalized=n.confirmations>=this.finalized,n.finalized&&(t.offset=f+(e+1)),this.transactionStore.set(i,n),await this.transactionStore.save()}null!=h.next&&i>this.batchSize?(n=!1,o=null):(n=!0,o=h.next)}}catch(e){console.log("Failed to query indexer!!"),console.error(e),n=!0}return{changes:r,completed:n}}async processAddressIndexed(e,t){try{const r=`${e.slice()}/api/query/address/${t.address}`,n=await this.webRequest.fetch(r),i=await n.json();return t=Object.assign(t,i),{changes:!0,completed:!0}}catch(e){console.log("Failed to query indexer!!22"),console.error(e)}return{changes:!1,completed:!1}}}class kl extends $r{constructor(){super("state")}defaultItem(){return{}}}var xl=__webpack_require__(8764).Buffer;const Tl="function"==typeof btoa,Pl="function"==typeof xl,Il=("function"==typeof TextDecoder&&new TextDecoder,"function"==typeof TextEncoder&&new TextEncoder,Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")),Rl=((e=>{let t={};e.forEach(((e,r)=>t[e]=r))})(Il),String.fromCharCode.bind(String)),Ol=("function"==typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),e=>e.replace(/=/g,"").replace(/[+\/]/g,(e=>"+"==e?"-":"_"))),Bl=Tl?e=>btoa(e):Pl?e=>xl.from(e,"binary").toString("base64"):e=>{let t,r,n,i,o="";const s=e.length%3;for(let s=0;s<e.length;){if((r=e.charCodeAt(s++))>255||(n=e.charCodeAt(s++))>255||(i=e.charCodeAt(s++))>255)throw new TypeError("invalid character found");t=r<<16|n<<8|i,o+=Il[t>>18&63]+Il[t>>12&63]+Il[t>>6&63]+Il[63&t]}return s?o.slice(0,s-3)+"===".substring(s):o},Cl=Pl?e=>xl.from(e).toString("base64"):e=>{let t=[];for(let r=0,n=e.length;r<n;r+=4096)t.push(Rl.apply(null,e.subarray(r,r+4096)));return Bl(t.join(""))},Ll=(e,t=!1)=>t?Ol(Cl(e)):Cl(e),jl=new TextEncoder;new TextDecoder;class Dl{constructor(){}getAddressByNetwork(e,t,r){if(44==r){const{address:r}=_r.payments.p2pkh({pubkey:e,network:t});return r}if(49==r)throw Error(`The address purpose ${r} is currently not supported.`);if(84==r){const{address:r}=_r.payments.p2wpkh({pubkey:e,network:t});return r}if(340==r)return this.getIdentifier(e);throw Error(`The address purpose ${r} is currently not supported.`)}convertToBech32(e,t){const r=this.ensureSchnorrPublicKey(e),n=hr.toWords(r);return hr.encode(t,n)}convertFromBech32(e){const t=hr.decode(e);return hr.fromWords(t.words)}getIdentifier(e){return 33==e.length?this.schnorrPublicKeyToHex(this.convertEdcsaPublicKeyToSchnorr(e)):this.schnorrPublicKeyToHex(e)}convertEdcsaPublicKeyToSchnorr(e){if(33!=e.length)throw Error("The public key must be compressed EDCSA public key of length 33.");return e.slice(1)}ensureSchnorrPublicKey(e){return 33==e.length?e.slice(1):e}schnorrPublicKeyToHex(e){return Dt.bytesToHex(e)}arrayToHex(e){return Dt.bytesToHex(e)}hexToArray(e){return Dt.hexToBytes(e)}getAddressByNetworkp2wsh(e,t){const{address:r}=_r.payments.p2wsh({pubkey:e.publicKey,network:t});return r}getAddressByNetworkp2pkh(e,t){const{address:r}=_r.payments.p2pkh({pubkey:e.publicKey,network:t});return r}getAddressByNetworkp2pkhFromBuffer(e,t){const{address:r}=_r.payments.p2pkh({pubkey:e,network:t});return r}getAddressByNetworkp2wpkh(e,t){const{address:r}=_r.payments.p2wpkh({pubkey:e.publicKey,network:t});return r}getPasswordKey(e){return window.crypto.subtle.importKey("raw",jl.encode(e),"PBKDF2",!1,["deriveKey"])}deriveKey(e,t,r){return window.crypto.subtle.deriveKey({name:"PBKDF2",salt:t,iterations:25e4,hash:"SHA-256"},e,{name:"AES-GCM",length:256},!1,r)}async encryptData(e,t){try{const r=window.crypto.getRandomValues(new Uint8Array(16)),n=window.crypto.getRandomValues(new Uint8Array(12)),i=await this.getPasswordKey(t),o=await this.deriveKey(i,r,["encrypt"]),s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},o,jl.encode(e)),a=new Uint8Array(s);let u=new Uint8Array(r.byteLength+n.byteLength+a.byteLength);return u.set(r,0),u.set(n,r.byteLength),u.set(a,r.byteLength+n.byteLength),Ll(u)}catch(e){return console.error(e),""}}getSigner(e){return jn(e.privateKey)}async getKeyPairFromNode(e){return jn(e.privateKey)}}var Nl=__webpack_require__(8764).Buffer;__webpack_require__(9669).default;const Ul=1e5;class Hl{constructor(e){this.sharedManager=e,this.crypto=new Dl,this.webRequest=new Hs}stop(){this.watcherState&&(this.watcherState.cancel=!0),this.intervalRef&&(globalThis.clearTimeout(this.intervalRef),this.intervalRef=null),this.onStopped&&this.onStopped.call(null)}async getWalletAndAccounts(e){const t={},r=await this.sharedManager.getWallet(e);if(!r)return null;t.wallet={id:r.id,name:r.name},t.accounts=[];for(var n=0;n<r.accounts.length;n++){const i=r.accounts[n],o=await this.getAccount(e,i.identifier),s={icon:o.account.icon,name:o.account.name,id:o.account.identifier,network:o.account.network,networkType:o.account.networkType,purpose:o.account.purpose,purposeAddress:o.account.purposeAddress,type:o.account.type,history:o.accountHistory,state:o.accountState,networkDefinition:o.network};t.accounts.push(s)}return t}async getDerivedKeyFromWalletPath(e,t,r){await this.sharedManager.loadPrivateKeys();const n=this.sharedManager.getPrivateKey(e);if(!n)throw Error("Error - Wallet may be locked");const i=Nl.from(n,"base64"),o=await this.sharedManager.getWallet(e),s=this.sharedManager.getAccount(o,t),a=this.sharedManager.getNetwork(s.networkType);return{network:a,node:br.fromMasterSeed(i,a.bip32).derive(`m/3'/${s.network}'/${r}`)}}async getAccount(e,t){const r=await this.sharedManager.getWallet(e),n=this.sharedManager.getAccount(r,t),i=this.sharedManager.getNetwork(n.networkType),o=new Qr;await o.load();var s=o.get(n.identifier);const a=new Jr;return await a.load(),{network:i,account:n,accountState:s,accountHistory:a.get(n.identifier)}}async isKeyUnlocked(e){return await this.sharedManager.loadPrivateKeys(),!!this.sharedManager.getPrivateKey(e)}async getKey(e,t,r,n=null){await this.sharedManager.loadPrivateKeys(n);const i=this.sharedManager.getPrivateKey(e);if(!i)return{network:null,node:null};const o=Nl.from(i,"base64"),s=await this.sharedManager.getWallet(e),a=this.sharedManager.getAccount(s,t),u=this.sharedManager.getNetwork(a.networkType),h=br.fromMasterSeed(o,u.bip32);return a.prv?{node:{privateKey:a.prv},network:u}:{network:u,node:h.derive(`m/${a.purpose}'/${a.network}'/${a.index}'/${r}`)}}async getMasterSeedBase64(e){return this.sharedManager.getPrivateKey(e)}async updateNetworkStatus(e){const t=new Yr;await t.load();const r=new Wr;await r.load();let n=t.all().flatMap((e=>e.accounts));0==n.length&&(n=En.getDefaultAccounts(e));const i=new kl;await i.load();const o=new Vr;await o.load(),this.sharedManager.networkLoader.store=o,this.sharedManager.networkLoader.stateStore=i,await this.updateAll(n,this.sharedManager.networkLoader,r)}async updateAll(e,t,r){const n=e.filter(((e,t,r)=>r.map((e=>e.networkType)).indexOf(e.networkType)==t)),i=r.get();await t.nameserverService.loadServices(i.server);for(let r=0;r<n.length;r++){const n=e[r],o=t.getNetwork(n.networkType),s=t.getServers(o.id,i.server,i.indexer)||[];if(null==s&&"identity"!=n.type){console.warn(`Invalid configuration of servers. There are no servers registered for network of type ${o.id}.`);continue}let a=[];for(let e=0;e<s.length;e++){let t="https://"+s[e].domain;-1==t.indexOf("//")&&(t="https://"+t);let r,i=t.substring(t.indexOf("//")+2);try{const e=await this.webRequest.fetchWithTimeout(`${t}/api/stats`,{timeout:3e3});if(e.ok){const o=await e.json();r=o.error?{domain:i,url:t,blockSyncHeight:-1,networkType:n.networkType,availability:wr.Error,status:"Error: "+o.error,relayFee:10}:o.blockchain.blocks-o.syncBlockIndex>5?{domain:i,url:t,blockSyncHeight:o.syncBlockIndex,networkType:n.networkType,availability:wr.Syncing,status:"Syncing / Progress: "+o.progress,relayFee:o.network?.relayFee*Ul}:{domain:i,url:t,blockSyncHeight:o.syncBlockIndex,networkType:n.networkType,availability:wr.Online,status:"Online / Progress: "+o.progress,relayFee:o.network?.relayFee*Ul}}else r={domain:i,url:t,blockSyncHeight:-1,networkType:n.networkType,availability:wr.Error,status:"Error: "+e.status,relayFee:10}}catch(e){console.log("Error on Network Status Service:",e),r=e.response?{domain:i,url:t,blockSyncHeight:-1,networkType:n.networkType,availability:wr.Error,status:"Error",relayFee:10}:e.request?{domain:i,url:t,blockSyncHeight:-1,networkType:n.networkType,availability:wr.Offline,status:"Offline",relayFee:10}:{domain:i,url:t,blockSyncHeight:-1,networkType:n.networkType,availability:wr.Unknown,status:"Error:"+e.message,relayFee:10}}a.push(r)}await t.update(o.id,a)}}async runWatcher(e){this.watcherState=e;const t=new Wr;await t.load();const r=new Yr;await r.load();const n=new Kr;await n.load();const i=new Xr;await i.load();const o=new Gr;await o.load();const s=new Jr;await s.load();const a=new Zr;await a.load();const u=new Qr;await u.load();const h=new Vr;await h.load();const f=new kl;await f.load(),this.sharedManager.networkLoader.store=h,this.sharedManager.networkLoader.stateStore=f;const c=new Sr(this.sharedManager.networkLoader),l=new Al(t,r,n,i,o,c,u,s);l.runState=this.watcherState;const d={executions:0,wait:4};var p=async()=>{if(d.executions++,this.watcherState.cancel)return;await this.sharedManager.networkLoader.stateStore.load();const e=await l.process(a);await this.sharedManager.networkLoader.stateStore.save(),e.cancelled||(e.changes&&await l.calculateBalance(),this.onUpdates&&this.onUpdates.call(null,e),d.wait=2**d.executions*d.wait,d.wait>3e4&&(d.wait=3e4),this.intervalRef=globalThis.setTimeout(p,d.wait))};this.intervalRef=globalThis.setTimeout((async()=>{await p()}),0)}async runIndexer(){const e=new Wr;await e.load();const t=new Yr;await t.load();const r=new Kr;await r.load();const n=new Xr;await n.load();const i=new Gr;await i.load();const o=new Jr;await o.load();const s=new Qr;await s.load();const a=new Vr;await a.load();const u=new kl;await u.load(),this.sharedManager.networkLoader.store=a,this.sharedManager.networkLoader.stateStore=u;const h=new Sr(this.sharedManager.networkLoader),f=new Al(e,t,r,n,i,h,s,o);f.runState={};let c={completed:!1};for(;!c.completed;){try{await this.sharedManager.networkLoader.stateStore.load(),c=await f.process(null),await this.sharedManager.networkLoader.stateStore.save()}catch(e){throw console.error("Failure during indexer processing.",e),e}c.changes;try{await f.calculateBalance()}catch(e){console.error("Failure during calculate balance.",e)}this.onUpdates&&this.onUpdates.call(null,c)}}}class zl extends qr{constructor(){super("permissionexecution")}}class Fl extends qr{constructor(){super("permission")}static permissionKey(e){return`${e.app}|${e.action}|${e.walletId}|${e.accountId}|${e.key}`}}var ql=__webpack_require__(3150);new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const $l=new Error("request for lock canceled");class Kl{constructor(e,t=$l){this._value=e,this._cancelError=t,this._weightedQueues=[],this._weightedWaiters=[]}acquire(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise(((t,r)=>{this._weightedQueues[e-1]||(this._weightedQueues[e-1]=[]),this._weightedQueues[e-1].push({resolve:t,reject:r}),this._dispatch()}))}runExclusive(e,t=1){return r=this,n=void 0,o=function*(){const[r,n]=yield this.acquire(t);try{return yield e(r)}finally{n()}},new((i=void 0)||(i=Promise))((function(e,t){function s(e){try{u(o.next(e))}catch(e){t(e)}}function a(e){try{u(o.throw(e))}catch(e){t(e)}}function u(t){var r;t.done?e(t.value):(r=t.value,r instanceof i?r:new i((function(e){e(r)}))).then(s,a)}u((o=o.apply(r,n||[])).next())}));var r,n,i,o}waitForUnlock(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise((t=>{this._weightedWaiters[e-1]||(this._weightedWaiters[e-1]=[]),this._weightedWaiters[e-1].push(t),this._dispatch()}))}isLocked(){return this._value<=0}getValue(){return this._value}setValue(e){this._value=e,this._dispatch()}release(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);this._value+=e,this._dispatch()}cancel(){this._weightedQueues.forEach((e=>e.forEach((e=>e.reject(this._cancelError))))),this._weightedQueues=[]}_dispatch(){var e;for(let t=this._value;t>0;t--){const r=null===(e=this._weightedQueues[t-1])||void 0===e?void 0:e.shift();if(!r)continue;const n=this._value,i=t;this._value-=t,t=this._value+1,r.resolve([n,this._newReleaser(i)])}this._drainUnlockWaiters()}_newReleaser(e){let t=!1;return()=>{t||(t=!0,this.release(e))}}_drainUnlockWaiters(){for(let e=this._value;e>0;e--)this._weightedWaiters[e-1]&&(this._weightedWaiters[e-1].forEach((e=>e())),this._weightedWaiters[e-1]=[])}}let Vl,Wl,Gl,Yl,Jl,Zl=new class{constructor(e){this._semaphore=new Kl(1,e)}acquire(){return e=this,t=void 0,n=function*(){const[,e]=yield this._semaphore.acquire();return e},new((r=void 0)||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}));var e,t,r,n}runExclusive(e){return this._semaphore.runExclusive((()=>e()))}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}},Xl=()=>{},Ql=new class{constructor(){this.store=new Fl,this.storeExecutions=new zl}get(e){return this.store.get(e)}async refresh(){await this.store.load(),await this.storeExecutions.load();const e=this.store.all();for(let r=0;r<e.length;r++){var t=!1;const n=e[r];for(let e in n.permissions){const r=n.permissions[e];for(let e=0;e<r.length;e++){const n=r[e];"expirable"===n.type&&n.created<Date.now()/1e3-300&&(await this.removeExecution(n),r.splice(e,1),t=!0)}}t&&(this.store.set(n.app,n),await this.store.save())}return e}createPermission(e){return{app:e.app,action:e.type,type:e.permission,created:Math.round(Date.now()/1e3),walletId:e.walletId,accountId:e.accountId,keyId:e.keyId,key:e.key}}async increaseExecution(e){if(!e)return-1;const t=Fl.permissionKey(e);let r=this.storeExecutions.get(t);return r||(r={key:t,executions:0}),++r.executions,this.storeExecutions.set(t,r),await this.storeExecutions.save(),r.executions}async resetExecution(e){const t=Fl.permissionKey(e);let r=this.storeExecutions.get(t);r||(r={key:t,executions:0}),r.executions=0,this.storeExecutions.set(t,r),await this.storeExecutions.save()}async removeExecution(e){const t=Fl.permissionKey(e);this.storeExecutions.remove(t),await this.storeExecutions.save()}findPermissionIndexInSet(e,t,r,n,i){const o=e.permissions[t];let s=-1;return o?(s=n&&i||n?o.findIndex((e=>e.walletId==r&&e.accountId==n&&e.keyId==i)):o.findIndex((e=>e.walletId==r)),s):s}findPermissionIndexInSetByKey(e,t,r){const n=e.permissions[t];return n?n.findIndex((e=>e.key==r)):-1}findPermission(e,t,r,n,i){let o=this.store.get(e);const s=this.findPermissionIndexInSet(o,t,r,n,i);return-1==s?null:o.permissions[t][s]}findPermissionByKey(e,t,r){let n=this.store.get(e);if(!n)return null;const i=this.findPermissionIndexInSetByKey(n,t,r);return-1==i?null:n.permissions[t][i]}findPermissions(e,t){let r=this.store.get(e);return r?r.permissions[t]:[]}async persistPermission(e){let t=this.store.get(e.app);if(t){for(let e in t.permissions)console.log(e);let r=t.permissions[e.action];null!=r&&null!=r||(r=[],t.permissions[e.action]=r);const n=this.findPermissionIndexInSet(t,e.action,e.walletId,e.accountId,e.keyId);n>-1?r[n]=e:r.push(e)}else t={app:e.app,permissions:{[e.action]:[e]}};this.store.set(e.app,t),await this.store.save()}},ed=!1,td=new class{constructor(e,t){this.store=e,this.stateStore=t,this.networks=[],this.loaded=!1,this.createNetworks(),this.nameserverService=new Us}getNetworks(e){return 0==e.length?this.networks:this.networks.filter((t=>e.includes(t.id)))}getNetwork(e){return this.networks.find((t=>t.id==e))}getAllNetworks(){return this.networks}createNetworks(){this.networks=En.getNetworks()}generateRandomNumber(e,t){return Math.floor(Math.random()*(t-e+1))+e}getServer(e,t,r){const n=this.stateStore.get();n.activeNetworks||(n.activeNetworks=[]);let i=n.activeNetworks.find((t=>t.networkType==e));if(i||(i={networkType:e,domain:"",url:""},n.activeNetworks.push(i),this.stateStore.save()),"custom"==t){const t=r.replace("{id}",e.toLowerCase());return i.domain=t.substring(t.indexOf("//")+2),i.url=t,t}{const t=this.store.get(e);if(t){const e=t.filter((e=>e.availability===wr.Online));if(0==e.length)return i.domain="",i.url="",null;const r=e.find((e=>e.domain==i.domain));if(r)return r.url;{const t=e.map((e=>e.url)),r=t[this.generateRandomNumber(0,t.length-1)];return i.domain=r.substring(r.indexOf("//")+2),i.url=r,r}}return i.domain="",i.url="",null}}getServers(e,t,r){return"custom"==t?[{domain:r.replace("{id}",e.toLowerCase()),symbol:e,service:"Indexer",ttl:20,online:!0}]:this.nameserverService.getGroups().get(e)}async update(e,t){this.store.set(e,t),await this.store.save(),await this.stateStore.load()}},rd=new class{constructor(){this.isExtension=globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.tabs}async getManifest(){if(this.isExtension)return chrome.runtime.getManifest();{const e=await fetch("/manifest.webmanifest",{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"});return await e.json()}}},nd=new class{constructor(e,t){this.runtime=e,this.events=t}createMessage(e,t,r="background"){return{id:qo(),type:e,data:t,ext:"blockcore",source:"tabs",target:r}}createResponse(e,t){const r={...e};return r.data=t,r}send(e){this.runtime.isExtension?chrome.runtime.sendMessage(e):this.events.publish(e.type,e)}}(rd,new class{constructor(){this.eventBus=new Ts}createMessage(e,t,r="tabs"){return{id:Cs(),type:e,data:t,source:"browser",target:r}}publish(e,t){if(!e.trim().length)throw new Error("key must be defined.");const r=new Ls(e,t);this.eventBus.next({key:e,data:t,metadata:r})}subscribe(e){return this.eventBus.asObservable().pipe((t=t=>this.keyMatch(t.key,e),Is((function(e,r){var n=0;e.subscribe(Rs(r,(function(e){return t.call(undefined,e,n++)&&r.next(e)})))}))),Bs((e=>e.metadata)));var t}subscribeAll(){return this.eventBus.asObservable().pipe(Bs((e=>e.metadata)))}keyMatch(e,t){const r=e.split(":"),n=t.split(":"),i=r.length,o=n.length,s=Math.max(i,o);for(let e=0;e<s;e++){const t=r[e],i=n[e];if("**"===i&&void 0!==t)return!0;if("*"!==(a=i)&&a!==t)return!1}var a;return!0}}),id=new class{constructor(){}async load(){this.dwn||(this.dwn=await Ml.uD.create({}))}},od=new class{constructor(e,t,r,n){this.storage=e,this.store=t,this.networkLoader=r,this.message=n,this.keys=new Map,this.allNetworks=this.networkLoader.getAllNetworks()}getPrivateKey(e){return this.keys.get(e)}unlocked(e){return null!=this.keys.get(e)}async getWallet(e){return await this.store.load(),this.store.get(e)}getAccount(e,t){return e.accounts.find((e=>e.identifier==t))}getNetwork(e){return this.allNetworks.find((t=>t.id==e))}async loadPrivateKeys(e=null){if(e)this.keys=e.keys;else{let e=await this.storage.get("keys",!1);null!=e&&Object.keys(e).length>0?this.keys=new Map(Object.entries(e)):this.keys=new Map}}async checkLockTimeout(){if(this.storage.runtime.isExtension){const e=globalThis.chrome.storage,{active:t,timeout:r}=await chrome.storage.local.get(["active","timeout"]);if(t){const n=new Date(t);if(new Date((new Date).valueOf()-r)>n)return await e.session.remove(["keys"]),this.message.send(this.message.createMessage("timeout",{},"background")),!0}else await e.session.remove(["keys"]),console.log("There are no active value, session storage is cleared.");return!1}{const{active:e}=JSON.parse(globalThis.localStorage.getItem("active")),{timeout:t}=JSON.parse(globalThis.localStorage.getItem("timeout"));if(e){const r=new Date(e);if(new Date((new Date).valueOf()-t)>r)return globalThis.sessionStorage.removeItem("keys"),this.message.send(this.message.createMessage("timeout",{},"background")),!0}else globalThis.sessionStorage.removeItem("keys");return!1}}}(new class{constructor(e){this.runtime=e}async set(e,t,r){if(this.runtime.isExtension)if(r)await globalThis.chrome.storage.local.set({[e]:t});else{const r=globalThis.chrome.storage;await r.session.set({[e]:t})}else r?globalThis.localStorage.setItem(e,JSON.stringify({[e]:t})):globalThis.sessionStorage.setItem(e,JSON.stringify({[e]:t}))}async get(e,t){if(this.runtime.isExtension){if(t){let{keys:t}=await globalThis.chrome.storage.local.get([e]);return t}{const t=globalThis.chrome.storage;let{keys:r}=await t.session.get([e]);return r}}if(t){const t=globalThis.localStorage.getItem(e);return null==t?null:JSON.parse(t)[e]}{const t=globalThis.sessionStorage.getItem(e);return null==t?null:JSON.parse(t)[e]}}}(rd),new Yr,td,nd);async function sd(e){if("request"!==e.type)return null;const t=e.request.method,r=e.request.params[0];let n=Math.random().toString().slice(4);null==Gl&&(Gl=new Hl(od));const i=new Fo;i.id=e.id,i.id2=n,i.handler=class{static getAction(e,t){switch(e){case"signMessage":return new Zn(t);case"signPsbt":return new gi(t);case"payment":return new Wn(t);case"payment.sign":return new Yn(t);case"did.supportedMethods":return new Vn(t);case"did.request":return new Kn(t);case"vc.request":return new wi(t);case"accountbalance":return new vi(t);case"wallets":return new _i(t);case"nostr.publickey":return new Si(t);case"nostr.signevent":return new Co(t);case"nostr.getrelays":return new Lo(t);case"nostr.encrypt":return new jo(t);case"nostr.decrypt":return new Do(t);case"transaction.send":return new No(t);case"atomicswaps.key":return new Uo(t);case"atomicswaps.secret":return new Ho(t);case"atomicswaps.send":return new zo(t);default:throw Error(`Action not supported: ${e}.`)}}}.getAction(t,Gl),i.message=e;const o=await i.handler.prepare(i);i.content=o.content;let s=null;if(o.consent){if(await Ql.refresh(),r?.key)s=Ql.findPermissionByKey(e.app,t,r.key);else{let r=Ql.findPermissions(e.app,t);r?.length>0&&(s=r[0])}if(s)e.walletId&&e.accountId;else try{s=await ad(i)}catch(e){return console.error("Permission not accepted: ",e),{error:{message:`Insufficient permissions, required "${t}".`}}}}if(Yl){const e=JSON.stringify(Yl);return Yl=void 0,JSON.parse(e)}try{const e=s;if(e){const t=await Gl.isKeyUnlocked(e.walletId);if(e&&o.consent&&!t){const t=JSON.parse(JSON.stringify(i));t.message.request.method="wallet.unlock",t.message.request.params=[{walletId:e.walletId}],await async function(e){try{await ad(e)}catch(e){console.error("Permission not accepted: ",e)}}(t)}}const t=await i.handler.execute(i,e),r=await Ql.increaseExecution(s);return o.consent&&(t.notification=`Blockcore Wallet: ${s.action} (${r})`),t}catch(e){return{error:{message:e.message,stack:e.stack}}}}async function ad(e){Xl=await Zl.acquire(),console.log("ActionState:",e);var t={id:e.message.id,app:e.message.app,action:e.message.request.method,content:JSON.stringify(e.content),params:JSON.stringify(e.message.request.params),verify:e.message.verify};let r=new URLSearchParams(t);return new Promise(((e,t)=>{Vl={resolve:e,reject:t},ql.windows.create({url:`${ql.runtime.getURL("index.html")}?${r.toString()}`,type:"popup",width:628,height:800})}))}ql.runtime.onMessage.addListener((async(e,t)=>{await zr.Instance.open();let r=Sl.verify(e.app);if(0!=r)return e.verify=r,e.prompt?(e.promptResponse&&(Yl=e.promptResponse),function(e,t){const r=Ql.createPermission(e);switch(e.permission){case"forever":case"connect":case"expirable":Ql.persistPermission(r),Vl?.resolve?.(r);break;case"once":Vl?.resolve?.(r);break;case"no":Vl?.reject?.()}Vl=null,Xl(),t&&ql.windows.remove(t.tab.windowId)}(e,t)):"provider"==e.source?sd(e):void("tabs"==e.source&&("keep-alive"===e.type||("index"===e.type?await fd():"watch"===e.type?await dd():"data:get"===e.type?await ld(e):"network"===e.type?(await ud(),await fd()):"activated"===e.type?await hd():"broadcast"===e.type&&(Yl=e.response.response,Vl&&(Vl?.resolve?.(),Vl=null,Xl())))));console.warn("Request is not allowed on this domain.")})),ql.runtime.onMessageExternal.addListener((async(e,t)=>{if(0==Sl.verify(e.app))return void console.warn("Request is not allowed on this domain.");console.log("BACKGROUND:EXTERNAL:MSG:",e);let r=new URL(t.url).host;return e.app=r,sd(e)})),ql.windows.onRemoved.addListener((function(e){Vl&&(Vl?.reject?.(),Vl=null,Xl())})),ql.runtime.onStartup.addListener((async()=>{console.log("Extension: onStartup")})),chrome.runtime.onSuspend.addListener((()=>{console.log("Extension: onSuspend.")})),chrome.runtime.onConnect.addListener((e=>{console.log("onConnect:",e)})),chrome.runtime.onInstalled.addListener((async({reason:e})=>{await zr.Instance.open(),await id.load(),chrome.alarms.get("periodic",(e=>{e||chrome.alarms.create("periodic",{periodInMinutes:1})})),chrome.alarms.get("index",(e=>{e||chrome.alarms.create("index",{periodInMinutes:10})})),"install"===e?(chrome.tabs.create({url:"index.html"}),await hd(),await fd()):"update"===e&&(await hd(),await fd())})),chrome.alarms.onAlarm.addListener((async e=>{await zr.Instance.open(),"periodic"===e.name?await od.checkLockTimeout():"index"===e.name&&await fd()}));const ud=async()=>{await Gl.updateNetworkStatus("blockcore"),chrome.runtime.sendMessage({type:"network-updated",data:{source:"network-status-watcher"},ext:"blockcore",source:"background",target:"tabs",host:location.host},(function(e){}))},hd=async()=>{Jl&&(globalThis.clearTimeout(Jl),Jl=null),null==Gl&&(Gl=new Hl(od));var e=async()=>{await ud(),Jl=globalThis.setTimeout(e,45e3)};await e()},fd=async()=>{ed||(ed=!0,await cd(),ed=!1,await dd())},cd=async()=>{Wl&&(Wl.onStopped=()=>{},Wl.stop(),Wl=null);let e=new Hl(od);e.onUpdates=e=>{e.changes?chrome.runtime.sendMessage({type:"indexed",data:{source:"indexer-on-schedule"},ext:"blockcore",source:"background",target:"tabs",host:location.host},(function(e){})):chrome.runtime.sendMessage({type:"updated",data:{source:"indexer-on-schedule"},ext:"blockcore",source:"background",target:"tabs",host:location.host},(function(e){}))},await e.runIndexer(),e=null},ld=async e=>{const t=e.data.did;console.log("Get data for DID: ",t),console.log(e)},dd=async()=>{if(!ed)if(null!=Wl)Wl.stop();else{Wl=new Hl(od),Wl.onStopped=()=>{Wl=null,dd()},Wl.onUpdates=e=>{e.changes?chrome.runtime.sendMessage({type:"indexed",data:{source:"watcher"},ext:"blockcore",source:"background",target:"tabs",host:location.host},(function(e){})):chrome.runtime.sendMessage({type:"updated",data:{source:"watcher"},ext:"blockcore",source:"background",target:"tabs",host:location.host},(function(e){}))};let e={};await Wl.runWatcher(e)}}})()})();